var Ky=Object.defineProperty;var Jy=(t,e,n)=>e in t?Ky(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var an=(t,e,n)=>(Jy(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function tu(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function nu(t){if(ge(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=rt(r)?Qy(r):nu(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(rt(t))return t;if(qe(t))return t}}const Gy=/;(?![^(]*\))/g,Yy=/:([^]+)/,Xy=/\/\*.*?\*\//gs;function Qy(t){const e={};return t.replace(Xy,"").split(Gy).forEach(n=>{if(n){const r=n.split(Yy);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function cl(t){let e="";if(rt(t))e=t;else if(ge(t))for(let n=0;n<t.length;n++){const r=cl(t[n]);r&&(e+=r+" ")}else if(qe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Zy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eb=tu(Zy);function pp(t){return!!t||t===""}const ii=t=>rt(t)?t:t==null?"":ge(t)||qe(t)&&(t.toString===bp||!ye(t.toString))?JSON.stringify(t,mp,2):String(t),mp=(t,e)=>e&&e.__v_isRef?mp(t,e.value):si(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:gp(e)?{[`Set(${e.size})`]:[...e.values()]}:qe(e)&&!ge(e)&&!vp(e)?String(e):e,ze={},oi=[],en=()=>{},tb=()=>!1,nb=/^on[^a-z]/,ul=t=>nb.test(t),ru=t=>t.startsWith("onUpdate:"),vt=Object.assign,iu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},rb=Object.prototype.hasOwnProperty,Ee=(t,e)=>rb.call(t,e),ge=Array.isArray,si=t=>fl(t)==="[object Map]",gp=t=>fl(t)==="[object Set]",ye=t=>typeof t=="function",rt=t=>typeof t=="string",ou=t=>typeof t=="symbol",qe=t=>t!==null&&typeof t=="object",yp=t=>qe(t)&&ye(t.then)&&ye(t.catch),bp=Object.prototype.toString,fl=t=>bp.call(t),ib=t=>fl(t).slice(8,-1),vp=t=>fl(t)==="[object Object]",su=t=>rt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,us=tu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hl=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ob=/-(\w)/g,En=hl(t=>t.replace(ob,(e,n)=>n?n.toUpperCase():"")),sb=/\B([A-Z])/g,Pi=hl(t=>t.replace(sb,"-$1").toLowerCase()),Lo=hl(t=>t.charAt(0).toUpperCase()+t.slice(1)),zl=hl(t=>t?`on${Lo(t)}`:""),ao=(t,e)=>!Object.is(t,e),ql=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ms=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},lb=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let kf;const ab=()=>kf||(kf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let Ot;class wp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ot,!e&&Ot&&(this.index=(Ot.scopes||(Ot.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ot;try{return Ot=this,e()}finally{Ot=n}}}on(){Ot=this}off(){Ot=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function xp(t){return new wp(t)}function cb(t,e=Ot){e&&e.active&&e.effects.push(t)}function kp(){return Ot}function ub(t){Ot&&Ot.cleanups.push(t)}const lu=t=>{const e=new Set(t);return e.w=0,e.n=0,e},_p=t=>(t.w&ar)>0,Sp=t=>(t.n&ar)>0,fb=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ar},hb=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];_p(i)&&!Sp(i)?i.delete(t):e[n++]=i,i.w&=~ar,i.n&=~ar}e.length=n}},Ds=new WeakMap;let Ki=0,ar=1;const Ca=30;let Kt;const Pr=Symbol(""),Ea=Symbol("");class au{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,cb(this,r)}run(){if(!this.active)return this.fn();let e=Kt,n=or;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Kt,Kt=this,or=!0,ar=1<<++Ki,Ki<=Ca?fb(this):_f(this),this.fn()}finally{Ki<=Ca&&hb(this),ar=1<<--Ki,Kt=this.parent,or=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Kt===this?this.deferStop=!0:this.active&&(_f(this),this.onStop&&this.onStop(),this.active=!1)}}function _f(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let or=!0;const Cp=[];function Mi(){Cp.push(or),or=!1}function Di(){const t=Cp.pop();or=t===void 0?!0:t}function Et(t,e,n){if(or&&Kt){let r=Ds.get(t);r||Ds.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=lu()),Ep(i)}}function Ep(t,e){let n=!1;Ki<=Ca?Sp(t)||(t.n|=ar,n=!_p(t)):n=!t.has(Kt),n&&(t.add(Kt),Kt.deps.push(t))}function Bn(t,e,n,r,i,o){const s=Ds.get(t);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(n==="length"&&ge(t)){const a=Number(r);s.forEach((c,u)=>{(u==="length"||u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(s.get(n)),e){case"add":ge(t)?su(n)&&l.push(s.get("length")):(l.push(s.get(Pr)),si(t)&&l.push(s.get(Ea)));break;case"delete":ge(t)||(l.push(s.get(Pr)),si(t)&&l.push(s.get(Ea)));break;case"set":si(t)&&l.push(s.get(Pr));break}if(l.length===1)l[0]&&Aa(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Aa(lu(a))}}function Aa(t,e){const n=ge(t)?t:[...t];for(const r of n)r.computed&&Sf(r);for(const r of n)r.computed||Sf(r)}function Sf(t,e){(t!==Kt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function db(t,e){var n;return(n=Ds.get(t))===null||n===void 0?void 0:n.get(e)}const pb=tu("__proto__,__v_isRef,__isVue"),Ap=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ou)),mb=cu(),gb=cu(!1,!0),yb=cu(!0),Cf=bb();function bb(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ce(this);for(let o=0,s=this.length;o<s;o++)Et(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ce)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Mi();const r=Ce(this)[e].apply(this,n);return Di(),r}}),t}function vb(t){const e=Ce(this);return Et(e,"has",t),e.hasOwnProperty(t)}function cu(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?Ib:Pp:e?Rp:Lp).get(r))return r;const s=ge(r);if(!t){if(s&&Ee(Cf,i))return Reflect.get(Cf,i,o);if(i==="hasOwnProperty")return vb}const l=Reflect.get(r,i,o);return(ou(i)?Ap.has(i):pb(i))||(t||Et(r,"get",i),e)?l:Ie(l)?s&&su(i)?l:l.value:qe(l)?t?Mp(l):Jt(l):l}}const wb=Op(),xb=Op(!0);function Op(t=!1){return function(n,r,i,o){let s=n[r];if(pi(s)&&Ie(s)&&!Ie(i))return!1;if(!t&&(!Is(i)&&!pi(i)&&(s=Ce(s),i=Ce(i)),!ge(n)&&Ie(s)&&!Ie(i)))return s.value=i,!0;const l=ge(n)&&su(r)?Number(r)<n.length:Ee(n,r),a=Reflect.set(n,r,i,o);return n===Ce(o)&&(l?ao(i,s)&&Bn(n,"set",r,i):Bn(n,"add",r,i)),a}}function kb(t,e){const n=Ee(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Bn(t,"delete",e,void 0),r}function _b(t,e){const n=Reflect.has(t,e);return(!ou(e)||!Ap.has(e))&&Et(t,"has",e),n}function Sb(t){return Et(t,"iterate",ge(t)?"length":Pr),Reflect.ownKeys(t)}const Tp={get:mb,set:wb,deleteProperty:kb,has:_b,ownKeys:Sb},Cb={get:yb,set(t,e){return!0},deleteProperty(t,e){return!0}},Eb=vt({},Tp,{get:gb,set:xb}),uu=t=>t,dl=t=>Reflect.getPrototypeOf(t);function Ho(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ce(t),o=Ce(e);n||(e!==o&&Et(i,"get",e),Et(i,"get",o));const{has:s}=dl(i),l=r?uu:n?du:co;if(s.call(i,e))return l(t.get(e));if(s.call(i,o))return l(t.get(o));t!==i&&t.get(e)}function Vo(t,e=!1){const n=this.__v_raw,r=Ce(n),i=Ce(t);return e||(t!==i&&Et(r,"has",t),Et(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Uo(t,e=!1){return t=t.__v_raw,!e&&Et(Ce(t),"iterate",Pr),Reflect.get(t,"size",t)}function Ef(t){t=Ce(t);const e=Ce(this);return dl(e).has.call(e,t)||(e.add(t),Bn(e,"add",t,t)),this}function Af(t,e){e=Ce(e);const n=Ce(this),{has:r,get:i}=dl(n);let o=r.call(n,t);o||(t=Ce(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?ao(e,s)&&Bn(n,"set",t,e):Bn(n,"add",t,e),this}function Of(t){const e=Ce(this),{has:n,get:r}=dl(e);let i=n.call(e,t);i||(t=Ce(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Bn(e,"delete",t,void 0),o}function Tf(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&Bn(t,"clear",void 0,void 0),n}function zo(t,e){return function(r,i){const o=this,s=o.__v_raw,l=Ce(s),a=e?uu:t?du:co;return!t&&Et(l,"iterate",Pr),s.forEach((c,u)=>r.call(i,a(c),a(u),o))}}function qo(t,e,n){return function(...r){const i=this.__v_raw,o=Ce(i),s=si(o),l=t==="entries"||t===Symbol.iterator&&s,a=t==="keys"&&s,c=i[t](...r),u=n?uu:e?du:co;return!e&&Et(o,"iterate",a?Ea:Pr),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:l?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function qn(t){return function(...e){return t==="delete"?!1:this}}function Ab(){const t={get(o){return Ho(this,o)},get size(){return Uo(this)},has:Vo,add:Ef,set:Af,delete:Of,clear:Tf,forEach:zo(!1,!1)},e={get(o){return Ho(this,o,!1,!0)},get size(){return Uo(this)},has:Vo,add:Ef,set:Af,delete:Of,clear:Tf,forEach:zo(!1,!0)},n={get(o){return Ho(this,o,!0)},get size(){return Uo(this,!0)},has(o){return Vo.call(this,o,!0)},add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear"),forEach:zo(!0,!1)},r={get(o){return Ho(this,o,!0,!0)},get size(){return Uo(this,!0)},has(o){return Vo.call(this,o,!0)},add:qn("add"),set:qn("set"),delete:qn("delete"),clear:qn("clear"),forEach:zo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=qo(o,!1,!1),n[o]=qo(o,!0,!1),e[o]=qo(o,!1,!0),r[o]=qo(o,!0,!0)}),[t,n,e,r]}const[Ob,Tb,Lb,Rb]=Ab();function fu(t,e){const n=e?t?Rb:Lb:t?Tb:Ob;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ee(n,i)&&i in r?n:r,i,o)}const Pb={get:fu(!1,!1)},Mb={get:fu(!1,!0)},Db={get:fu(!0,!1)},Lp=new WeakMap,Rp=new WeakMap,Pp=new WeakMap,Ib=new WeakMap;function $b(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bb(t){return t.__v_skip||!Object.isExtensible(t)?0:$b(ib(t))}function Jt(t){return pi(t)?t:hu(t,!1,Tp,Pb,Lp)}function Nb(t){return hu(t,!1,Eb,Mb,Rp)}function Mp(t){return hu(t,!0,Cb,Db,Pp)}function hu(t,e,n,r,i){if(!qe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=Bb(t);if(s===0)return t;const l=new Proxy(t,s===2?r:n);return i.set(t,l),l}function jt(t){return pi(t)?jt(t.__v_raw):!!(t&&t.__v_isReactive)}function pi(t){return!!(t&&t.__v_isReadonly)}function Is(t){return!!(t&&t.__v_isShallow)}function Dp(t){return jt(t)||pi(t)}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function $r(t){return Ms(t,"__v_skip",!0),t}const co=t=>qe(t)?Jt(t):t,du=t=>qe(t)?Mp(t):t;function Ip(t){or&&Kt&&(t=Ce(t),Ep(t.dep||(t.dep=lu())))}function pu(t,e){t=Ce(t);const n=t.dep;n&&Aa(n)}function Ie(t){return!!(t&&t.__v_isRef===!0)}function Ke(t){return $p(t,!1)}function jb(t){return $p(t,!0)}function $p(t,e){return Ie(t)?t:new Fb(t,e)}class Fb{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ce(e),this._value=n?e:co(e)}get value(){return Ip(this),this._value}set value(e){const n=this.__v_isShallow||Is(e)||pi(e);e=n?e:Ce(e),ao(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:co(e),pu(this))}}function Wo(t){pu(t)}function je(t){return Ie(t)?t.value:t}const Hb={get:(t,e,n)=>je(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ie(i)&&!Ie(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Bp(t){return jt(t)?t:new Proxy(t,Hb)}function Vb(t){const e=ge(t)?new Array(t.length):{};for(const n in t)e[n]=Np(t,n);return e}class Ub{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return db(Ce(this._object),this._key)}}function Np(t,e,n){const r=t[e];return Ie(r)?r:new Ub(t,e,n)}var jp;class zb{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[jp]=!1,this._dirty=!0,this.effect=new au(e,()=>{this._dirty||(this._dirty=!0,pu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ce(this);return Ip(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}jp="__v_isReadonly";function qb(t,e,n=!1){let r,i;const o=ye(t);return o?(r=t,i=en):(r=t.get,i=t.set),new zb(r,i,o||!i,n)}function sr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){pl(o,e,n)}return i}function tn(t,e,n,r){if(ye(t)){const o=sr(t,e,n,r);return o&&yp(o)&&o.catch(s=>{pl(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(tn(t[o],e,n,r));return i}function pl(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,l=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,s,l)===!1)return}o=o.parent}const a=e.appContext.config.errorHandler;if(a){sr(a,null,10,[t,s,l]);return}}Wb(t,n,i,r)}function Wb(t,e,n,r=!0){console.error(t)}let uo=!1,Oa=!1;const dt=[];let yn=0;const li=[];let Rn=null,Cr=0;const Fp=Promise.resolve();let mu=null;function ml(t){const e=mu||Fp;return t?e.then(this?t.bind(this):t):e}function Kb(t){let e=yn+1,n=dt.length;for(;e<n;){const r=e+n>>>1;fo(dt[r])<t?e=r+1:n=r}return e}function gu(t){(!dt.length||!dt.includes(t,uo&&t.allowRecurse?yn+1:yn))&&(t.id==null?dt.push(t):dt.splice(Kb(t.id),0,t),Hp())}function Hp(){!uo&&!Oa&&(Oa=!0,mu=Fp.then(Up))}function Jb(t){const e=dt.indexOf(t);e>yn&&dt.splice(e,1)}function Gb(t){ge(t)?li.push(...t):(!Rn||!Rn.includes(t,t.allowRecurse?Cr+1:Cr))&&li.push(t),Hp()}function Lf(t,e=uo?yn+1:0){for(;e<dt.length;e++){const n=dt[e];n&&n.pre&&(dt.splice(e,1),e--,n())}}function Vp(t){if(li.length){const e=[...new Set(li)];if(li.length=0,Rn){Rn.push(...e);return}for(Rn=e,Rn.sort((n,r)=>fo(n)-fo(r)),Cr=0;Cr<Rn.length;Cr++)Rn[Cr]();Rn=null,Cr=0}}const fo=t=>t.id==null?1/0:t.id,Yb=(t,e)=>{const n=fo(t)-fo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Up(t){Oa=!1,uo=!0,dt.sort(Yb);const e=en;try{for(yn=0;yn<dt.length;yn++){const n=dt[yn];n&&n.active!==!1&&sr(n,null,14)}}finally{yn=0,dt.length=0,Vp(),uo=!1,mu=null,(dt.length||li.length)&&Up()}}function Xb(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ze;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:h,trim:f}=r[u]||ze;f&&(i=n.map(d=>rt(d)?d.trim():d)),h&&(i=n.map(lb))}let l,a=r[l=zl(e)]||r[l=zl(En(e))];!a&&o&&(a=r[l=zl(Pi(e))]),a&&tn(a,t,6,i);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,tn(c,t,6,i)}}function zp(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},l=!1;if(!ye(t)){const a=c=>{const u=zp(c,e,!0);u&&(l=!0,vt(s,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!o&&!l?(qe(t)&&r.set(t,null),null):(ge(o)?o.forEach(a=>s[a]=null):vt(s,o),qe(t)&&r.set(t,s),s)}function gl(t,e){return!t||!ul(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ee(t,e[0].toLowerCase()+e.slice(1))||Ee(t,Pi(e))||Ee(t,e))}let It=null,yl=null;function $s(t){const e=It;return It=t,yl=t&&t.type.__scopeId||null,e}function Ro(t){yl=t}function Po(){yl=null}function vn(t,e=It,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&jf(-1);const o=$s(e);let s;try{s=t(...i)}finally{$s(o),r._d&&jf(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Wl(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:a,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:b}=t;let g,m;const x=$s(t);try{if(n.shapeFlag&4){const w=i||r;g=mn(u.call(w,w,h,o,d,f,p)),m=a}else{const w=e;g=mn(w.length>1?w(o,{attrs:a,slots:l,emit:c}):w(o,null)),m=e.props?a:Qb(a)}}catch(w){to.length=0,pl(w,t,1),g=Se(Nr)}let y=g;if(m&&b!==!1){const w=Object.keys(m),{shapeFlag:v}=y;w.length&&v&7&&(s&&w.some(ru)&&(m=Zb(m,s)),y=mi(y,m))}return n.dirs&&(y=mi(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),g=y,$s(x),g}const Qb=t=>{let e;for(const n in t)(n==="class"||n==="style"||ul(n))&&((e||(e={}))[n]=t[n]);return e},Zb=(t,e)=>{const n={};for(const r in t)(!ru(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function ev(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:l,patchFlag:a}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?Rf(r,s,c):!!s;if(a&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(s[f]!==r[f]&&!gl(c,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?Rf(r,s,c):!0:!!s;return!1}function Rf(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!gl(n,o))return!0}return!1}function tv({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const nv=t=>t.__isSuspense;function rv(t,e){e&&e.pendingBranch?ge(t)?e.effects.push(...t):e.effects.push(t):Gb(t)}function Zi(t,e){if(Xe){let n=Xe.provides;const r=Xe.parent&&Xe.parent.provides;r===n&&(n=Xe.provides=Object.create(r)),n[t]=e}}function ft(t,e,n=!1){const r=Xe||It;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ye(e)?e.call(r.proxy):e}}function Yn(t,e){return yu(t,null,e)}const Ko={};function Ft(t,e,n){return yu(t,e,n)}function yu(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=ze){const l=kp()===(Xe==null?void 0:Xe.scope)?Xe:null;let a,c=!1,u=!1;if(Ie(t)?(a=()=>t.value,c=Is(t)):jt(t)?(a=()=>t,r=!0):ge(t)?(u=!0,c=t.some(y=>jt(y)||Is(y)),a=()=>t.map(y=>{if(Ie(y))return y.value;if(jt(y))return ti(y);if(ye(y))return sr(y,l,2)})):ye(t)?e?a=()=>sr(t,l,2):a=()=>{if(!(l&&l.isUnmounted))return h&&h(),tn(t,l,3,[f])}:a=en,e&&r){const y=a;a=()=>ti(y())}let h,f=y=>{h=m.onStop=()=>{sr(y,l,4)}},d;if(po)if(f=en,e?n&&tn(e,l,3,[a(),u?[]:void 0,f]):a(),i==="sync"){const y=Jv();d=y.__watcherHandles||(y.__watcherHandles=[])}else return en;let p=u?new Array(t.length).fill(Ko):Ko;const b=()=>{if(m.active)if(e){const y=m.run();(r||c||(u?y.some((w,v)=>ao(w,p[v])):ao(y,p)))&&(h&&h(),tn(e,l,3,[y,p===Ko?void 0:u&&p[0]===Ko?[]:p,f]),p=y)}else m.run()};b.allowRecurse=!!e;let g;i==="sync"?g=b:i==="post"?g=()=>St(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),g=()=>gu(b));const m=new au(a,g);e?n?b():p=m.run():i==="post"?St(m.run.bind(m),l&&l.suspense):m.run();const x=()=>{m.stop(),l&&l.scope&&iu(l.scope.effects,m)};return d&&d.push(x),x}function iv(t,e,n){const r=this.proxy,i=rt(t)?t.includes(".")?qp(r,t):()=>r[t]:t.bind(r,r);let o;ye(e)?o=e:(o=e.handler,n=e);const s=Xe;gi(this);const l=yu(i,o.bind(r),n);return s?gi(s):Dr(),l}function qp(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function ti(t,e){if(!qe(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ie(t))ti(t.value,e);else if(ge(t))for(let n=0;n<t.length;n++)ti(t[n],e);else if(gp(t)||si(t))t.forEach(n=>{ti(n,e)});else if(vp(t))for(const n in t)ti(t[n],e);return t}function kt(t){return ye(t)?{setup:t,name:t.name}:t}const fs=t=>!!t.type.__asyncLoader,Wp=t=>t.type.__isKeepAlive;function ov(t,e){Kp(t,"a",e)}function sv(t,e){Kp(t,"da",e)}function Kp(t,e,n=Xe){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(bl(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Wp(i.parent.vnode)&&lv(r,e,n,i),i=i.parent}}function lv(t,e,n,r){const i=bl(e,t,r,!0);Jp(()=>{iu(r[e],i)},n)}function bl(t,e,n=Xe,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;Mi(),gi(n);const l=tn(e,n,t,s);return Dr(),Di(),l});return r?i.unshift(o):i.push(o),o}}const Hn=t=>(e,n=Xe)=>(!po||t==="sp")&&bl(t,(...r)=>e(...r),n),av=Hn("bm"),bu=Hn("m"),cv=Hn("bu"),uv=Hn("u"),vu=Hn("bum"),Jp=Hn("um"),fv=Hn("sp"),hv=Hn("rtg"),dv=Hn("rtc");function pv(t,e=Xe){bl("ec",t,e)}function wr(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let a=l.dir[r];a&&(Mi(),tn(a,n,8,[t.el,l,t,e]),Di())}}const Gp="components";function Br(t,e){return gv(Gp,t,!0,e)||t}const mv=Symbol();function gv(t,e,n=!0,r=!1){const i=It||Xe;if(i){const o=i.type;if(t===Gp){const l=qv(o,!1);if(l&&(l===e||l===En(e)||l===Lo(En(e))))return o}const s=Pf(i[t]||o[t],e)||Pf(i.appContext[t],e);return!s&&r?o:s}}function Pf(t,e){return t&&(t[e]||t[En(e)]||t[Lo(En(e))])}function Yp(t,e,n,r){let i;const o=n&&n[r];if(ge(t)||rt(t)){i=new Array(t.length);for(let s=0,l=t.length;s<l;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(qe(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o&&o[l]));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const c=s[l];i[l]=e(t[c],c,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}const Ta=t=>t?am(t)?Cu(t)||t.proxy:Ta(t.parent):null,eo=vt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ta(t.parent),$root:t=>Ta(t.root),$emit:t=>t.emit,$options:t=>wu(t),$forceUpdate:t=>t.f||(t.f=()=>gu(t.update)),$nextTick:t=>t.n||(t.n=ml.bind(t.proxy)),$watch:t=>iv.bind(t)}),Kl=(t,e)=>t!==ze&&!t.__isScriptSetup&&Ee(t,e),yv={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(Kl(r,e))return s[e]=1,r[e];if(i!==ze&&Ee(i,e))return s[e]=2,i[e];if((c=t.propsOptions[0])&&Ee(c,e))return s[e]=3,o[e];if(n!==ze&&Ee(n,e))return s[e]=4,n[e];La&&(s[e]=0)}}const u=eo[e];let h,f;if(u)return e==="$attrs"&&Et(t,"get",e),u(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==ze&&Ee(n,e))return s[e]=4,n[e];if(f=a.config.globalProperties,Ee(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return Kl(i,e)?(i[e]=n,!0):r!==ze&&Ee(r,e)?(r[e]=n,!0):Ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||t!==ze&&Ee(t,s)||Kl(e,s)||(l=o[0])&&Ee(l,s)||Ee(r,s)||Ee(eo,s)||Ee(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ee(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let La=!0;function bv(t){const e=wu(t),n=t.proxy,r=t.ctx;La=!1,e.beforeCreate&&Mf(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:l,provide:a,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:b,deactivated:g,beforeDestroy:m,beforeUnmount:x,destroyed:y,unmounted:w,render:v,renderTracked:_,renderTriggered:S,errorCaptured:C,serverPrefetch:T,expose:P,inheritAttrs:E,components:k,directives:L,filters:R}=e;if(c&&vv(c,r,null,t.appContext.config.unwrapInjectedRef),s)for(const M in s){const I=s[M];ye(I)&&(r[M]=I.bind(n))}if(i){const M=i.call(n,n);qe(M)&&(t.data=Jt(M))}if(La=!0,o)for(const M in o){const I=o[M],B=ye(I)?I.bind(n,n):ye(I.get)?I.get.bind(n,n):en,W=!ye(I)&&ye(I.set)?I.set.bind(n):en,ne=De({get:B,set:W});Object.defineProperty(r,M,{enumerable:!0,configurable:!0,get:()=>ne.value,set:oe=>ne.value=oe})}if(l)for(const M in l)Xp(l[M],r,n,M);if(a){const M=ye(a)?a.call(n):a;Reflect.ownKeys(M).forEach(I=>{Zi(I,M[I])})}u&&Mf(u,t,"c");function O(M,I){ge(I)?I.forEach(B=>M(B.bind(n))):I&&M(I.bind(n))}if(O(av,h),O(bu,f),O(cv,d),O(uv,p),O(ov,b),O(sv,g),O(pv,C),O(dv,_),O(hv,S),O(vu,x),O(Jp,w),O(fv,T),ge(P))if(P.length){const M=t.exposed||(t.exposed={});P.forEach(I=>{Object.defineProperty(M,I,{get:()=>n[I],set:B=>n[I]=B})})}else t.exposed||(t.exposed={});v&&t.render===en&&(t.render=v),E!=null&&(t.inheritAttrs=E),k&&(t.components=k),L&&(t.directives=L)}function vv(t,e,n=en,r=!1){ge(t)&&(t=Ra(t));for(const i in t){const o=t[i];let s;qe(o)?"default"in o?s=ft(o.from||i,o.default,!0):s=ft(o.from||i):s=ft(o),Ie(s)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[i]=s}}function Mf(t,e,n){tn(ge(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Xp(t,e,n,r){const i=r.includes(".")?qp(n,r):()=>n[r];if(rt(t)){const o=e[t];ye(o)&&Ft(i,o)}else if(ye(t))Ft(i,t.bind(n));else if(qe(t))if(ge(t))t.forEach(o=>Xp(o,e,n,r));else{const o=ye(t.handler)?t.handler.bind(n):e[t.handler];ye(o)&&Ft(i,o,t)}}function wu(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let a;return l?a=l:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(c=>Bs(a,c,s,!0)),Bs(a,e,s)),qe(e)&&o.set(e,a),a}function Bs(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Bs(t,o,n,!0),i&&i.forEach(s=>Bs(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const l=wv[s]||n&&n[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const wv={data:Df,props:Sr,emits:Sr,methods:Sr,computed:Sr,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:Sr,directives:Sr,watch:kv,provide:Df,inject:xv};function Df(t,e){return e?t?function(){return vt(ye(t)?t.call(this,this):t,ye(e)?e.call(this,this):e)}:e:t}function xv(t,e){return Sr(Ra(t),Ra(e))}function Ra(t){if(ge(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function mt(t,e){return t?[...new Set([].concat(t,e))]:e}function Sr(t,e){return t?vt(vt(Object.create(null),t),e):e}function kv(t,e){if(!t)return e;if(!e)return t;const n=vt(Object.create(null),t);for(const r in e)n[r]=mt(t[r],e[r]);return n}function _v(t,e,n,r=!1){const i={},o={};Ms(o,wl,1),t.propsDefaults=Object.create(null),Qp(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:Nb(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function Sv(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,l=Ce(i),[a]=t.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(gl(t.emitsOptions,f))continue;const d=e[f];if(a)if(Ee(o,f))d!==o[f]&&(o[f]=d,c=!0);else{const p=En(f);i[p]=Pa(a,l,p,d,t,!1)}else d!==o[f]&&(o[f]=d,c=!0)}}}else{Qp(t,e,i,o)&&(c=!0);let u;for(const h in l)(!e||!Ee(e,h)&&((u=Pi(h))===h||!Ee(e,u)))&&(a?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=Pa(a,l,h,void 0,t,!0)):delete i[h]);if(o!==l)for(const h in o)(!e||!Ee(e,h))&&(delete o[h],c=!0)}c&&Bn(t,"set","$attrs")}function Qp(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,l;if(e)for(let a in e){if(us(a))continue;const c=e[a];let u;i&&Ee(i,u=En(a))?!o||!o.includes(u)?n[u]=c:(l||(l={}))[u]=c:gl(t.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,s=!0)}if(o){const a=Ce(n),c=l||ze;for(let u=0;u<o.length;u++){const h=o[u];n[h]=Pa(i,a,h,c[h],t,!Ee(c,h))}}return s}function Pa(t,e,n,r,i,o){const s=t[n];if(s!=null){const l=Ee(s,"default");if(l&&r===void 0){const a=s.default;if(s.type!==Function&&ye(a)){const{propsDefaults:c}=i;n in c?r=c[n]:(gi(i),r=c[n]=a.call(null,e),Dr())}else r=a}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===Pi(n))&&(r=!0))}return r}function Zp(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},l=[];let a=!1;if(!ye(t)){const u=h=>{a=!0;const[f,d]=Zp(h,e,!0);vt(s,f),d&&l.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!a)return qe(t)&&r.set(t,oi),oi;if(ge(o))for(let u=0;u<o.length;u++){const h=En(o[u]);If(h)&&(s[h]=ze)}else if(o)for(const u in o){const h=En(u);if(If(h)){const f=o[u],d=s[h]=ge(f)||ye(f)?{type:f}:Object.assign({},f);if(d){const p=Nf(Boolean,d.type),b=Nf(String,d.type);d[0]=p>-1,d[1]=b<0||p<b,(p>-1||Ee(d,"default"))&&l.push(h)}}}const c=[s,l];return qe(t)&&r.set(t,c),c}function If(t){return t[0]!=="$"}function $f(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Bf(t,e){return $f(t)===$f(e)}function Nf(t,e){return ge(e)?e.findIndex(n=>Bf(n,t)):ye(e)&&Bf(e,t)?0:-1}const em=t=>t[0]==="_"||t==="$stable",xu=t=>ge(t)?t.map(mn):[mn(t)],Cv=(t,e,n)=>{if(e._n)return e;const r=vn((...i)=>xu(e(...i)),n);return r._c=!1,r},tm=(t,e,n)=>{const r=t._ctx;for(const i in t){if(em(i))continue;const o=t[i];if(ye(o))e[i]=Cv(i,o,r);else if(o!=null){const s=xu(o);e[i]=()=>s}}},nm=(t,e)=>{const n=xu(e);t.slots.default=()=>n},Ev=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ce(e),Ms(e,"_",n)):tm(e,t.slots={})}else t.slots={},e&&nm(t,e);Ms(t.slots,wl,1)},Av=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=ze;if(r.shapeFlag&32){const l=e._;l?n&&l===1?o=!1:(vt(i,e),!n&&l===1&&delete i._):(o=!e.$stable,tm(e,i)),s=e}else e&&(nm(t,e),s={default:1});if(o)for(const l in i)!em(l)&&!(l in s)&&delete i[l]};function rm(){return{app:null,config:{isNativeTag:tb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ov=0;function Tv(t,e){return function(r,i=null){ye(r)||(r=Object.assign({},r)),i!=null&&!qe(i)&&(i=null);const o=rm(),s=new Set;let l=!1;const a=o.app={_uid:Ov++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Gv,get config(){return o.config},set config(c){},use(c,...u){return s.has(c)||(c&&ye(c.install)?(s.add(c),c.install(a,...u)):ye(c)&&(s.add(c),c(a,...u))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,u){return u?(o.components[c]=u,a):o.components[c]},directive(c,u){return u?(o.directives[c]=u,a):o.directives[c]},mount(c,u,h){if(!l){const f=Se(r,i);return f.appContext=o,u&&e?e(f,c):t(f,c,h),l=!0,a._container=c,c.__vue_app__=a,Cu(f.component)||f.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,u){return o.provides[c]=u,a}};return a}}function Ma(t,e,n,r,i=!1){if(ge(t)){t.forEach((f,d)=>Ma(f,e&&(ge(e)?e[d]:e),n,r,i));return}if(fs(r)&&!i)return;const o=r.shapeFlag&4?Cu(r.component)||r.component.proxy:r.el,s=i?null:o,{i:l,r:a}=t,c=e&&e.r,u=l.refs===ze?l.refs={}:l.refs,h=l.setupState;if(c!=null&&c!==a&&(rt(c)?(u[c]=null,Ee(h,c)&&(h[c]=null)):Ie(c)&&(c.value=null)),ye(a))sr(a,l,12,[s,u]);else{const f=rt(a),d=Ie(a);if(f||d){const p=()=>{if(t.f){const b=f?Ee(h,a)?h[a]:u[a]:a.value;i?ge(b)&&iu(b,o):ge(b)?b.includes(o)||b.push(o):f?(u[a]=[o],Ee(h,a)&&(h[a]=u[a])):(a.value=[o],t.k&&(u[t.k]=a.value))}else f?(u[a]=s,Ee(h,a)&&(h[a]=s)):d&&(a.value=s,t.k&&(u[t.k]=s))};s?(p.id=-1,St(p,n)):p()}}}const St=rv;function Lv(t){return Rv(t)}function Rv(t,e){const n=ab();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:a,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=en,insertStaticContent:p}=t,b=(D,$,F,z=null,K=null,Q=null,re=!1,X=null,te=!!$.dynamicChildren)=>{if(D===$)return;D&&!ji(D,$)&&(z=G(D),oe(D,K,Q,!0),D=null),$.patchFlag===-2&&(te=!1,$.dynamicChildren=null);const{type:J,ref:ue,shapeFlag:le}=$;switch(J){case vl:g(D,$,F,z);break;case Nr:m(D,$,F,z);break;case Jl:D==null&&x($,F,z,re);break;case Lt:k(D,$,F,z,K,Q,re,X,te);break;default:le&1?v(D,$,F,z,K,Q,re,X,te):le&6?L(D,$,F,z,K,Q,re,X,te):(le&64||le&128)&&J.process(D,$,F,z,K,Q,re,X,te,he)}ue!=null&&K&&Ma(ue,D&&D.ref,Q,$||D,!$)},g=(D,$,F,z)=>{if(D==null)r($.el=l($.children),F,z);else{const K=$.el=D.el;$.children!==D.children&&c(K,$.children)}},m=(D,$,F,z)=>{D==null?r($.el=a($.children||""),F,z):$.el=D.el},x=(D,$,F,z)=>{[D.el,D.anchor]=p(D.children,$,F,z,D.el,D.anchor)},y=({el:D,anchor:$},F,z)=>{let K;for(;D&&D!==$;)K=f(D),r(D,F,z),D=K;r($,F,z)},w=({el:D,anchor:$})=>{let F;for(;D&&D!==$;)F=f(D),i(D),D=F;i($)},v=(D,$,F,z,K,Q,re,X,te)=>{re=re||$.type==="svg",D==null?_($,F,z,K,Q,re,X,te):T(D,$,K,Q,re,X,te)},_=(D,$,F,z,K,Q,re,X)=>{let te,J;const{type:ue,props:le,shapeFlag:fe,transition:me,dirs:_e}=D;if(te=D.el=s(D.type,Q,le&&le.is,le),fe&8?u(te,D.children):fe&16&&C(D.children,te,null,z,K,Q&&ue!=="foreignObject",re,X),_e&&wr(D,null,z,"created"),S(te,D,D.scopeId,re,z),le){for(const Me in le)Me!=="value"&&!us(Me)&&o(te,Me,null,le[Me],Q,D.children,z,K,Y);"value"in le&&o(te,"value",null,le.value),(J=le.onVnodeBeforeMount)&&cn(J,z,D)}_e&&wr(D,null,z,"beforeMount");const $e=(!K||K&&!K.pendingBranch)&&me&&!me.persisted;$e&&me.beforeEnter(te),r(te,$,F),((J=le&&le.onVnodeMounted)||$e||_e)&&St(()=>{J&&cn(J,z,D),$e&&me.enter(te),_e&&wr(D,null,z,"mounted")},K)},S=(D,$,F,z,K)=>{if(F&&d(D,F),z)for(let Q=0;Q<z.length;Q++)d(D,z[Q]);if(K){let Q=K.subTree;if($===Q){const re=K.vnode;S(D,re,re.scopeId,re.slotScopeIds,K.parent)}}},C=(D,$,F,z,K,Q,re,X,te=0)=>{for(let J=te;J<D.length;J++){const ue=D[J]=X?Xn(D[J]):mn(D[J]);b(null,ue,$,F,z,K,Q,re,X)}},T=(D,$,F,z,K,Q,re)=>{const X=$.el=D.el;let{patchFlag:te,dynamicChildren:J,dirs:ue}=$;te|=D.patchFlag&16;const le=D.props||ze,fe=$.props||ze;let me;F&&xr(F,!1),(me=fe.onVnodeBeforeUpdate)&&cn(me,F,$,D),ue&&wr($,D,F,"beforeUpdate"),F&&xr(F,!0);const _e=K&&$.type!=="foreignObject";if(J?P(D.dynamicChildren,J,X,F,z,_e,Q):re||I(D,$,X,null,F,z,_e,Q,!1),te>0){if(te&16)E(X,$,le,fe,F,z,K);else if(te&2&&le.class!==fe.class&&o(X,"class",null,fe.class,K),te&4&&o(X,"style",le.style,fe.style,K),te&8){const $e=$.dynamicProps;for(let Me=0;Me<$e.length;Me++){const Qe=$e[Me],zt=le[Qe],Jr=fe[Qe];(Jr!==zt||Qe==="value")&&o(X,Qe,zt,Jr,K,D.children,F,z,Y)}}te&1&&D.children!==$.children&&u(X,$.children)}else!re&&J==null&&E(X,$,le,fe,F,z,K);((me=fe.onVnodeUpdated)||ue)&&St(()=>{me&&cn(me,F,$,D),ue&&wr($,D,F,"updated")},z)},P=(D,$,F,z,K,Q,re)=>{for(let X=0;X<$.length;X++){const te=D[X],J=$[X],ue=te.el&&(te.type===Lt||!ji(te,J)||te.shapeFlag&70)?h(te.el):F;b(te,J,ue,null,z,K,Q,re,!0)}},E=(D,$,F,z,K,Q,re)=>{if(F!==z){if(F!==ze)for(const X in F)!us(X)&&!(X in z)&&o(D,X,F[X],null,re,$.children,K,Q,Y);for(const X in z){if(us(X))continue;const te=z[X],J=F[X];te!==J&&X!=="value"&&o(D,X,J,te,re,$.children,K,Q,Y)}"value"in z&&o(D,"value",F.value,z.value)}},k=(D,$,F,z,K,Q,re,X,te)=>{const J=$.el=D?D.el:l(""),ue=$.anchor=D?D.anchor:l("");let{patchFlag:le,dynamicChildren:fe,slotScopeIds:me}=$;me&&(X=X?X.concat(me):me),D==null?(r(J,F,z),r(ue,F,z),C($.children,F,ue,K,Q,re,X,te)):le>0&&le&64&&fe&&D.dynamicChildren?(P(D.dynamicChildren,fe,F,K,Q,re,X),($.key!=null||K&&$===K.subTree)&&im(D,$,!0)):I(D,$,F,ue,K,Q,re,X,te)},L=(D,$,F,z,K,Q,re,X,te)=>{$.slotScopeIds=X,D==null?$.shapeFlag&512?K.ctx.activate($,F,z,re,te):R($,F,z,K,Q,re,te):A(D,$,te)},R=(D,$,F,z,K,Q,re)=>{const X=D.component=Fv(D,z,K);if(Wp(D)&&(X.ctx.renderer=he),Hv(X),X.asyncDep){if(K&&K.registerDep(X,O),!D.el){const te=X.subTree=Se(Nr);m(null,te,$,F)}return}O(X,D,$,F,K,Q,re)},A=(D,$,F)=>{const z=$.component=D.component;if(ev(D,$,F))if(z.asyncDep&&!z.asyncResolved){M(z,$,F);return}else z.next=$,Jb(z.update),z.update();else $.el=D.el,z.vnode=$},O=(D,$,F,z,K,Q,re)=>{const X=()=>{if(D.isMounted){let{next:ue,bu:le,u:fe,parent:me,vnode:_e}=D,$e=ue,Me;xr(D,!1),ue?(ue.el=_e.el,M(D,ue,re)):ue=_e,le&&ql(le),(Me=ue.props&&ue.props.onVnodeBeforeUpdate)&&cn(Me,me,ue,_e),xr(D,!0);const Qe=Wl(D),zt=D.subTree;D.subTree=Qe,b(zt,Qe,h(zt.el),G(zt),D,K,Q),ue.el=Qe.el,$e===null&&tv(D,Qe.el),fe&&St(fe,K),(Me=ue.props&&ue.props.onVnodeUpdated)&&St(()=>cn(Me,me,ue,_e),K)}else{let ue;const{el:le,props:fe}=$,{bm:me,m:_e,parent:$e}=D,Me=fs($);if(xr(D,!1),me&&ql(me),!Me&&(ue=fe&&fe.onVnodeBeforeMount)&&cn(ue,$e,$),xr(D,!0),le&&ce){const Qe=()=>{D.subTree=Wl(D),ce(le,D.subTree,D,K,null)};Me?$.type.__asyncLoader().then(()=>!D.isUnmounted&&Qe()):Qe()}else{const Qe=D.subTree=Wl(D);b(null,Qe,F,z,D,K,Q),$.el=Qe.el}if(_e&&St(_e,K),!Me&&(ue=fe&&fe.onVnodeMounted)){const Qe=$;St(()=>cn(ue,$e,Qe),K)}($.shapeFlag&256||$e&&fs($e.vnode)&&$e.vnode.shapeFlag&256)&&D.a&&St(D.a,K),D.isMounted=!0,$=F=z=null}},te=D.effect=new au(X,()=>gu(J),D.scope),J=D.update=()=>te.run();J.id=D.uid,xr(D,!0),J()},M=(D,$,F)=>{$.component=D;const z=D.vnode.props;D.vnode=$,D.next=null,Sv(D,$.props,z,F),Av(D,$.children,F),Mi(),Lf(),Di()},I=(D,$,F,z,K,Q,re,X,te=!1)=>{const J=D&&D.children,ue=D?D.shapeFlag:0,le=$.children,{patchFlag:fe,shapeFlag:me}=$;if(fe>0){if(fe&128){W(J,le,F,z,K,Q,re,X,te);return}else if(fe&256){B(J,le,F,z,K,Q,re,X,te);return}}me&8?(ue&16&&Y(J,K,Q),le!==J&&u(F,le)):ue&16?me&16?W(J,le,F,z,K,Q,re,X,te):Y(J,K,Q,!0):(ue&8&&u(F,""),me&16&&C(le,F,z,K,Q,re,X,te))},B=(D,$,F,z,K,Q,re,X,te)=>{D=D||oi,$=$||oi;const J=D.length,ue=$.length,le=Math.min(J,ue);let fe;for(fe=0;fe<le;fe++){const me=$[fe]=te?Xn($[fe]):mn($[fe]);b(D[fe],me,F,null,K,Q,re,X,te)}J>ue?Y(D,K,Q,!0,!1,le):C($,F,z,K,Q,re,X,te,le)},W=(D,$,F,z,K,Q,re,X,te)=>{let J=0;const ue=$.length;let le=D.length-1,fe=ue-1;for(;J<=le&&J<=fe;){const me=D[J],_e=$[J]=te?Xn($[J]):mn($[J]);if(ji(me,_e))b(me,_e,F,null,K,Q,re,X,te);else break;J++}for(;J<=le&&J<=fe;){const me=D[le],_e=$[fe]=te?Xn($[fe]):mn($[fe]);if(ji(me,_e))b(me,_e,F,null,K,Q,re,X,te);else break;le--,fe--}if(J>le){if(J<=fe){const me=fe+1,_e=me<ue?$[me].el:z;for(;J<=fe;)b(null,$[J]=te?Xn($[J]):mn($[J]),F,_e,K,Q,re,X,te),J++}}else if(J>fe)for(;J<=le;)oe(D[J],K,Q,!0),J++;else{const me=J,_e=J,$e=new Map;for(J=_e;J<=fe;J++){const At=$[J]=te?Xn($[J]):mn($[J]);At.key!=null&&$e.set(At.key,J)}let Me,Qe=0;const zt=fe-_e+1;let Jr=!1,vf=0;const Ni=new Array(zt);for(J=0;J<zt;J++)Ni[J]=0;for(J=me;J<=le;J++){const At=D[J];if(Qe>=zt){oe(At,K,Q,!0);continue}let ln;if(At.key!=null)ln=$e.get(At.key);else for(Me=_e;Me<=fe;Me++)if(Ni[Me-_e]===0&&ji(At,$[Me])){ln=Me;break}ln===void 0?oe(At,K,Q,!0):(Ni[ln-_e]=J+1,ln>=vf?vf=ln:Jr=!0,b(At,$[ln],F,null,K,Q,re,X,te),Qe++)}const wf=Jr?Pv(Ni):oi;for(Me=wf.length-1,J=zt-1;J>=0;J--){const At=_e+J,ln=$[At],xf=At+1<ue?$[At+1].el:z;Ni[J]===0?b(null,ln,F,xf,K,Q,re,X,te):Jr&&(Me<0||J!==wf[Me]?ne(ln,F,xf,2):Me--)}}},ne=(D,$,F,z,K=null)=>{const{el:Q,type:re,transition:X,children:te,shapeFlag:J}=D;if(J&6){ne(D.component.subTree,$,F,z);return}if(J&128){D.suspense.move($,F,z);return}if(J&64){re.move(D,$,F,he);return}if(re===Lt){r(Q,$,F);for(let le=0;le<te.length;le++)ne(te[le],$,F,z);r(D.anchor,$,F);return}if(re===Jl){y(D,$,F);return}if(z!==2&&J&1&&X)if(z===0)X.beforeEnter(Q),r(Q,$,F),St(()=>X.enter(Q),K);else{const{leave:le,delayLeave:fe,afterLeave:me}=X,_e=()=>r(Q,$,F),$e=()=>{le(Q,()=>{_e(),me&&me()})};fe?fe(Q,_e,$e):$e()}else r(Q,$,F)},oe=(D,$,F,z=!1,K=!1)=>{const{type:Q,props:re,ref:X,children:te,dynamicChildren:J,shapeFlag:ue,patchFlag:le,dirs:fe}=D;if(X!=null&&Ma(X,null,F,D,!0),ue&256){$.ctx.deactivate(D);return}const me=ue&1&&fe,_e=!fs(D);let $e;if(_e&&($e=re&&re.onVnodeBeforeUnmount)&&cn($e,$,D),ue&6)H(D.component,F,z);else{if(ue&128){D.suspense.unmount(F,z);return}me&&wr(D,null,$,"beforeUnmount"),ue&64?D.type.remove(D,$,F,K,he,z):J&&(Q!==Lt||le>0&&le&64)?Y(J,$,F,!1,!0):(Q===Lt&&le&384||!K&&ue&16)&&Y(te,$,F),z&&xe(D)}(_e&&($e=re&&re.onVnodeUnmounted)||me)&&St(()=>{$e&&cn($e,$,D),me&&wr(D,null,$,"unmounted")},F)},xe=D=>{const{type:$,el:F,anchor:z,transition:K}=D;if($===Lt){se(F,z);return}if($===Jl){w(D);return}const Q=()=>{i(F),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(D.shapeFlag&1&&K&&!K.persisted){const{leave:re,delayLeave:X}=K,te=()=>re(F,Q);X?X(D.el,Q,te):te()}else Q()},se=(D,$)=>{let F;for(;D!==$;)F=f(D),i(D),D=F;i($)},H=(D,$,F)=>{const{bum:z,scope:K,update:Q,subTree:re,um:X}=D;z&&ql(z),K.stop(),Q&&(Q.active=!1,oe(re,D,$,F)),X&&St(X,$),St(()=>{D.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},Y=(D,$,F,z=!1,K=!1,Q=0)=>{for(let re=Q;re<D.length;re++)oe(D[re],$,F,z,K)},G=D=>D.shapeFlag&6?G(D.component.subTree):D.shapeFlag&128?D.suspense.next():f(D.anchor||D.el),ie=(D,$,F)=>{D==null?$._vnode&&oe($._vnode,null,null,!0):b($._vnode||null,D,$,null,null,null,F),Lf(),Vp(),$._vnode=D},he={p:b,um:oe,m:ne,r:xe,mt:R,mc:C,pc:I,pbc:P,n:G,o:t};let pe,ce;return e&&([pe,ce]=e(he)),{render:ie,hydrate:pe,createApp:Tv(ie,pe)}}function xr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function im(t,e,n=!1){const r=t.children,i=e.children;if(ge(r)&&ge(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=Xn(i[o]),l.el=s.el),n||im(s,l)),l.type===vl&&(l.el=s.el)}}function Pv(t){const e=t.slice(),n=[0];let r,i,o,s,l;const a=t.length;for(r=0;r<a;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,t[n[l]]<c?o=l+1:s=l;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const Mv=t=>t.__isTeleport,Lt=Symbol(void 0),vl=Symbol(void 0),Nr=Symbol(void 0),Jl=Symbol(void 0),to=[];let Gt=null;function st(t=!1){to.push(Gt=t?null:[])}function Dv(){to.pop(),Gt=to[to.length-1]||null}let ho=1;function jf(t){ho+=t}function om(t){return t.dynamicChildren=ho>0?Gt||oi:null,Dv(),ho>0&&Gt&&Gt.push(t),t}function wt(t,e,n,r,i,o){return om(Le(t,e,n,r,i,o,!0))}function ku(t,e,n,r,i){return om(Se(t,e,n,r,i,!0))}function Da(t){return t?t.__v_isVNode===!0:!1}function ji(t,e){return t.type===e.type&&t.key===e.key}const wl="__vInternal",sm=({key:t})=>t??null,hs=({ref:t,ref_key:e,ref_for:n})=>t!=null?rt(t)||Ie(t)||ye(t)?{i:It,r:t,k:e,f:!!n}:t:null;function Le(t,e=null,n=null,r=0,i=null,o=t===Lt?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sm(e),ref:e&&hs(e),scopeId:yl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:It};return l?(_u(a,n),o&128&&t.normalize(a)):n&&(a.shapeFlag|=rt(n)?8:16),ho>0&&!s&&Gt&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Gt.push(a),a}const Se=Iv;function Iv(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===mv)&&(t=Nr),Da(t)){const l=mi(t,e,!0);return n&&_u(l,n),ho>0&&!o&&Gt&&(l.shapeFlag&6?Gt[Gt.indexOf(t)]=l:Gt.push(l)),l.patchFlag|=-2,l}if(Wv(t)&&(t=t.__vccOpts),e){e=$v(e);let{class:l,style:a}=e;l&&!rt(l)&&(e.class=cl(l)),qe(a)&&(Dp(a)&&!ge(a)&&(a=vt({},a)),e.style=nu(a))}const s=rt(t)?1:nv(t)?128:Mv(t)?64:qe(t)?4:ye(t)?2:0;return Le(t,e,n,r,i,s,o,!0)}function $v(t){return t?Dp(t)||wl in t?vt({},t):t:null}function mi(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,l=e?Bv(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&sm(l),ref:e&&e.ref?n&&i?ge(i)?i.concat(hs(e)):[i,hs(e)]:hs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Lt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mi(t.ssContent),ssFallback:t.ssFallback&&mi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Mr(t=" ",e=0){return Se(vl,null,t,e)}function lm(t="",e=!1){return e?(st(),ku(Nr,null,t)):Se(Nr,null,t)}function mn(t){return t==null||typeof t=="boolean"?Se(Nr):ge(t)?Se(Lt,null,t.slice()):typeof t=="object"?Xn(t):Se(vl,null,String(t))}function Xn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mi(t)}function _u(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ge(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),_u(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(wl in e)?e._ctx=It:i===3&&It&&(It.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ye(e)?(e={default:e,_ctx:It},n=32):(e=String(e),r&64?(n=16,e=[Mr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Bv(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=cl([e.class,r.class]));else if(i==="style")e.style=nu([e.style,r.style]);else if(ul(i)){const o=e[i],s=r[i];s&&o!==s&&!(ge(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function cn(t,e,n,r=null){tn(t,e,7,[n,r])}const Nv=rm();let jv=0;function Fv(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Nv,o={uid:jv++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new wp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zp(r,i),emitsOptions:zp(r,i),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:r.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Xb.bind(null,o),t.ce&&t.ce(o),o}let Xe=null;const Su=()=>Xe||It,gi=t=>{Xe=t,t.scope.on()},Dr=()=>{Xe&&Xe.scope.off(),Xe=null};function am(t){return t.vnode.shapeFlag&4}let po=!1;function Hv(t,e=!1){po=e;const{props:n,children:r}=t.vnode,i=am(t);_v(t,n,i,e),Ev(t,r);const o=i?Vv(t,e):void 0;return po=!1,o}function Vv(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=$r(new Proxy(t.ctx,yv));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?zv(t):null;gi(t),Mi();const o=sr(r,t,0,[t.props,i]);if(Di(),Dr(),yp(o)){if(o.then(Dr,Dr),e)return o.then(s=>{Ff(t,s,e)}).catch(s=>{pl(s,t,0)});t.asyncDep=o}else Ff(t,o,e)}else cm(t,e)}function Ff(t,e,n){ye(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qe(e)&&(t.setupState=Bp(e)),cm(t,n)}let Hf;function cm(t,e,n){const r=t.type;if(!t.render){if(!e&&Hf&&!r.render){const i=r.template||wu(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:l,compilerOptions:a}=r,c=vt(vt({isCustomElement:o,delimiters:l},s),a);r.render=Hf(i,c)}}t.render=r.render||en}gi(t),Mi(),bv(t),Di(),Dr()}function Uv(t){return new Proxy(t.attrs,{get(e,n){return Et(t,"get","$attrs"),e[n]}})}function zv(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=Uv(t))},slots:t.slots,emit:t.emit,expose:e}}function Cu(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Bp($r(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in eo)return eo[n](t)},has(e,n){return n in e||n in eo}}))}function qv(t,e=!0){return ye(t)?t.displayName||t.name:t.name||e&&t.__name}function Wv(t){return ye(t)&&"__vccOpts"in t}const De=(t,e)=>qb(t,e,po);function jr(t,e,n){const r=arguments.length;return r===2?qe(e)&&!ge(e)?Da(e)?Se(t,null,[e]):Se(t,e):Se(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Da(n)&&(n=[n]),Se(t,e,n))}const Kv=Symbol(""),Jv=()=>ft(Kv),Gv="3.2.47",Yv="http://www.w3.org/2000/svg",Er=typeof document<"u"?document:null,Vf=Er&&Er.createElement("template"),Xv={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Er.createElementNS(Yv,t):Er.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Er.createTextNode(t),createComment:t=>Er.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Er.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Vf.innerHTML=r?`<svg>${t}</svg>`:t;const l=Vf.content;if(r){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Qv(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Zv(t,e,n){const r=t.style,i=rt(n);if(n&&!i){if(e&&!rt(e))for(const o in e)n[o]==null&&Ia(r,o,"");for(const o in n)Ia(r,o,n[o])}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const Uf=/\s*!important$/;function Ia(t,e,n){if(ge(n))n.forEach(r=>Ia(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=e1(t,e);Uf.test(n)?t.setProperty(Pi(r),n.replace(Uf,""),"important"):t[r]=n}}const zf=["Webkit","Moz","ms"],Gl={};function e1(t,e){const n=Gl[e];if(n)return n;let r=En(e);if(r!=="filter"&&r in t)return Gl[e]=r;r=Lo(r);for(let i=0;i<zf.length;i++){const o=zf[i]+r;if(o in t)return Gl[e]=o}return e}const qf="http://www.w3.org/1999/xlink";function t1(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(qf,e.slice(6,e.length)):t.setAttributeNS(qf,e,n);else{const o=eb(e);n==null||o&&!pp(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function n1(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const a=n??"";(t.value!==a||t.tagName==="OPTION")&&(t.value=a),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=pp(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function r1(t,e,n,r){t.addEventListener(e,n,r)}function i1(t,e,n,r){t.removeEventListener(e,n,r)}function o1(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[l,a]=s1(e);if(r){const c=o[e]=c1(r,i);r1(t,l,c,a)}else s&&(i1(t,l,s,a),o[e]=void 0)}}const Wf=/(?:Once|Passive|Capture)$/;function s1(t){let e;if(Wf.test(t)){e={};let r;for(;r=t.match(Wf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Pi(t.slice(2)),e]}let Yl=0;const l1=Promise.resolve(),a1=()=>Yl||(l1.then(()=>Yl=0),Yl=Date.now());function c1(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;tn(u1(r,n.value),e,5,[r])};return n.value=t,n.attached=a1(),n}function u1(t,e){if(ge(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Kf=/^on[a-z]/,f1=(t,e,n,r,i=!1,o,s,l,a)=>{e==="class"?Qv(t,r,i):e==="style"?Zv(t,n,r):ul(e)?ru(e)||o1(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):h1(t,e,r,i))?n1(t,e,r,o,s,l,a):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),t1(t,e,r,i))};function h1(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Kf.test(e)&&ye(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Kf.test(e)&&rt(n)?!1:e in t}const d1=vt({patchProp:f1},Xv);let Jf;function p1(){return Jf||(Jf=Lv(d1))}const m1=(...t)=>{const e=p1().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=g1(r);if(!i)return;const o=e._component;!ye(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function g1(t){return rt(t)?document.querySelector(t):t}var y1=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let um;const xl=t=>um=t,fm=Symbol();function $a(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var no;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(no||(no={}));function b1(){const t=xp(!0),e=t.run(()=>Ke({}));let n=[],r=[];const i=$r({install(o){xl(i),i._a=o,o.provide(fm,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!y1?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const hm=()=>{};function Gf(t,e,n,r=hm){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&kp()&&ub(i),i}function Gr(t,...e){t.slice().forEach(n=>{n(...e)})}function Ba(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];$a(i)&&$a(r)&&t.hasOwnProperty(n)&&!Ie(r)&&!jt(r)?t[n]=Ba(i,r):t[n]=r}return t}const v1=Symbol();function w1(t){return!$a(t)||!t.hasOwnProperty(v1)}const{assign:Gn}=Object;function x1(t){return!!(Ie(t)&&t.effect)}function k1(t,e,n,r){const{state:i,actions:o,getters:s}=e,l=n.state.value[t];let a;function c(){l||(n.state.value[t]=i?i():{});const u=Vb(n.state.value[t]);return Gn(u,o,Object.keys(s||{}).reduce((h,f)=>(h[f]=$r(De(()=>{xl(n);const d=n._s.get(t);return s[f].call(d,d)})),h),{}))}return a=dm(t,c,e,n,r,!0),a}function dm(t,e,n={},r,i,o){let s;const l=Gn({actions:{}},n),a={deep:!0};let c,u,h=$r([]),f=$r([]),d;const p=r.state.value[t];!o&&!p&&(r.state.value[t]={}),Ke({});let b;function g(S){let C;c=u=!1,typeof S=="function"?(S(r.state.value[t]),C={type:no.patchFunction,storeId:t,events:d}):(Ba(r.state.value[t],S),C={type:no.patchObject,payload:S,storeId:t,events:d});const T=b=Symbol();ml().then(()=>{b===T&&(c=!0)}),u=!0,Gr(h,C,r.state.value[t])}const m=o?function(){const{state:C}=n,T=C?C():{};this.$patch(P=>{Gn(P,T)})}:hm;function x(){s.stop(),h=[],f=[],r._s.delete(t)}function y(S,C){return function(){xl(r);const T=Array.from(arguments),P=[],E=[];function k(A){P.push(A)}function L(A){E.push(A)}Gr(f,{args:T,name:S,store:v,after:k,onError:L});let R;try{R=C.apply(this&&this.$id===t?this:v,T)}catch(A){throw Gr(E,A),A}return R instanceof Promise?R.then(A=>(Gr(P,A),A)).catch(A=>(Gr(E,A),Promise.reject(A))):(Gr(P,R),R)}}const w={_p:r,$id:t,$onAction:Gf.bind(null,f),$patch:g,$reset:m,$subscribe(S,C={}){const T=Gf(h,S,C.detached,()=>P()),P=s.run(()=>Ft(()=>r.state.value[t],E=>{(C.flush==="sync"?u:c)&&S({storeId:t,type:no.direct,events:d},E)},Gn({},a,C)));return T},$dispose:x},v=Jt(w);r._s.set(t,v);const _=r._e.run(()=>(s=xp(),s.run(()=>e())));for(const S in _){const C=_[S];if(Ie(C)&&!x1(C)||jt(C))o||(p&&w1(C)&&(Ie(C)?C.value=p[S]:Ba(C,p[S])),r.state.value[t][S]=C);else if(typeof C=="function"){const T=y(S,C);_[S]=T,l.actions[S]=C}}return Gn(v,_),Gn(Ce(v),_),Object.defineProperty(v,"$state",{get:()=>r.state.value[t],set:S=>{g(C=>{Gn(C,S)})}}),r._p.forEach(S=>{Gn(v,s.run(()=>S({store:v,app:r._a,pinia:r,options:l})))}),p&&o&&n.hydrate&&n.hydrate(v.$state,p),c=!0,u=!0,v}function pm(t,e,n){let r,i;const o=typeof e=="function";typeof t=="string"?(r=t,i=o?n:e):(i=t,r=t.id);function s(l,a){const c=Su();return l=l||c&&ft(fm,null),l&&xl(l),l=um,l._s.has(r)||(o?dm(r,e,i,l):k1(r,i,l)),l._s.get(r)}return s.$id=r,s}const mm=["__key","__init","__shim","__original","__index","__prevKey"];function Ii(){return Math.random().toString(36).substring(2,15)}function _1(t,e){const n=t instanceof Set?t:new Set(t);return e&&e.forEach(r=>n.add(r)),[...n]}function be(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ht(t,e,n=!0,r=["__key"]){if(t===e)return!0;if(typeof e=="object"&&typeof t=="object"){if(t instanceof Map||t instanceof Set||t instanceof Date||t===null||e===null||Object.keys(t).length!==Object.keys(e).length)return!1;for(const i of r)if((i in t||i in e)&&t[i]!==e[i])return!1;for(const i in t)if(!(i in e)||t[i]!==e[i]&&!n||n&&!Ht(t[i],e[i],n,r))return!1;return!0}return!1}function mo(t){const e=typeof t;if(e==="number")return!1;if(t===void 0)return!0;if(e==="string")return t==="";if(e==="object"){if(t===null)return!0;for(const n in t)return!1;return!(t instanceof RegExp||t instanceof Date)}return!1}function S1(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function C1(t){const e=`^${S1(t)}$`,n={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[0-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"},r=Object.keys(n);return new RegExp(r.reduce((i,o)=>i.replace(o,n[o]),e))}function Na(t){return Object.prototype.toString.call(t)==="[object Object]"}function ja(t){return Na(t)||Array.isArray(t)}function Fr(t){if(Na(t)===!1||t.__FKNode__||t.__POJO__===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Na(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}function Hr(t,e,n=!1,r=!1){if(e===null)return null;const i={};if(typeof e=="string")return e;for(const o in t)if(be(e,o)&&(e[o]!==void 0||!r)){if(n&&Array.isArray(t[o])&&Array.isArray(e[o])){i[o]=t[o].concat(e[o]);continue}if(e[o]===void 0)continue;Fr(t[o])&&Fr(e[o])?i[o]=Hr(t[o],e[o],n,r):i[o]=e[o]}else i[o]=t[o];for(const o in e)!be(i,o)&&e[o]!==void 0&&(i[o]=e[o]);return i}function E1(t){if(t[0]!=='"'&&t[0]!=="'"||t[0]!==t[t.length-1])return!1;const e=t[0];for(let n=1;n<t.length;n++)if(t[n]===e&&(n===1||t[n-1]!=="\\")&&n!==t.length-1)return!1;return!0}function A1(t){if(!t.length)return"";let e="",n="";for(let r=0;r<t.length;r++){const i=t.charAt(r);(i!=="\\"||n==="\\")&&(e+=i),n=i}return e}function Yr(...t){return t.reduce((e,n)=>{const{value:r,name:i,modelValue:o,config:s,plugins:l,...a}=n;return Object.assign(e,a)},{})}function O1(t){const e=[];let n="",r=0,i="",o="";for(let s=0;s<t.length;s++){const l=t.charAt(s);l===i&&o!=="\\"?i="":(l==="'"||l==='"')&&!i&&o!=="\\"?i=l:l==="("&&!i?r++:l===")"&&!i&&r--,l===","&&!i&&r===0?(e.push(n),n=""):(l!==" "||i)&&(n+=l),o=l}return n&&e.push(n),e}function Yf(t,e){const n={},r=e.filter(o=>o instanceof RegExp),i=new Set(e);for(const o in t)!i.has(o)&&!r.some(s=>s.test(o))&&(n[o]=t[o]);return n}function Xf(t,e){const n={},r=e.filter(i=>i instanceof RegExp);return e.forEach(i=>{i instanceof RegExp||(n[i]=t[i])}),Object.keys(t).forEach(i=>{r.some(o=>o.test(i))&&(n[i]=t[i])}),n}function ai(t){return t.replace(/-([a-z0-9])/gi,(e,n)=>n.toUpperCase())}function gm(t){return t.replace(/([a-z0-9])([A-Z])/g,(e,n,r)=>n+"-"+r.toLowerCase()).replace(" ","-").toLowerCase()}function Qf(t,e=mm){if(t!==null&&typeof t=="object"){let n;if(Array.isArray(t)?n=[...t]:Fr(t)&&(n={...t}),n)return L1(t,n,e),n}return t}function yi(t,e=mm){if(t===null||t instanceof RegExp||t instanceof Date||t instanceof Map||t instanceof Set||typeof File=="function"&&t instanceof File)return t;let n;Array.isArray(t)?n=t.map(r=>typeof r=="object"?yi(r,e):r):n=Object.keys(t).reduce((r,i)=>(r[i]=typeof t[i]=="object"?yi(t[i],e):t[i],r),{});for(const r of e)r in t&&Object.defineProperty(n,r,{enumerable:!1,value:t[r]});return n}function Yt(t){return typeof t=="object"?yi(t):t}function T1(t,e){if(!t||typeof t!="object")return null;const n=e.split(".");let r=t;for(const i in n){const o=n[i];if(be(r,o)&&(r=r[o]),+i===n.length-1)return r;if(!r||typeof r!="object")return null}return null}function Xt(t){return t!==void 0&&t!=="false"&&t!==!1?!0:void 0}function go(t){return Object.isFrozen(t)?t:Object.defineProperty(t,"__init",{enumerable:!1,value:!0})}function Eu(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function L1(t,e,n){for(const r of n)r in t&&Object.defineProperty(e,r,{enumerable:!1,value:t[r]});return e}function Au(){const t=[];let e=0;const n=i=>t.push(i),r=i=>{const o=t[e];return typeof o=="function"?o(i,s=>(e++,r(s===void 0?i:s))):(e=0,i)};return n.dispatch=r,n.unshift=i=>t.unshift(i),n.remove=i=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)},n}function ym(){const t=new Map,e=new Map;let n;const r=(i,o)=>{if(n){n.set(o.name,[i,o]);return}t.has(o.name)&&t.get(o.name).forEach(s=>{(o.origin===i||s.modifiers.includes("deep"))&&s.listener(o)}),o.bubble&&i.bubble(o)};return r.on=(i,o)=>{const[s,...l]=i.split("."),a=o.receipt||Ii(),c={modifiers:l,event:s,listener:o,receipt:a};return t.has(s)?t.get(s).push(c):t.set(s,[c]),e.has(a)?e.get(a).push(s):e.set(a,[s]),a},r.off=i=>{var o;e.has(i)&&((o=e.get(i))===null||o===void 0||o.forEach(s=>{const l=t.get(s);Array.isArray(l)&&t.set(s,l.filter(a=>a.receipt!==i))}),e.delete(i))},r.pause=i=>{n||(n=new Map),i&&i.walk(o=>o._e.pause())},r.play=i=>{if(!n)return;const o=n;n=void 0,o.forEach(([s,l])=>r(s,l)),i&&i.walk(s=>s._e.play())},r}function R1(t,e,n,r,i=!0){return e._e(t,{payload:r,name:n,bubble:i,origin:t}),t}function P1(t,e,n){return Do(t.parent)&&t.parent._e(t.parent,n),t}function M1(t,e,n,r){return e._e.on(n,r)}function D1(t,e,n){return e._e.off(n),t}const Ou=Au();Ou((t,e)=>(t.message||(t.message=`E${t.code}`),e(t)));const Tu=Au();Tu((t,e)=>{t.message||(t.message=`W${t.code}`);const n=e(t);return console&&typeof console.warn=="function"&&console.warn(n.message),n});function qr(t,e={}){Tu.dispatch({code:t,data:e})}function Dt(t,e={}){throw Error(Ou.dispatch({code:t,data:e}).message)}function nn(t,e){const n={blocking:!1,key:Ii(),meta:{},type:"state",visible:!0,...t};return e&&n.value&&n.meta.localize!==!1&&(n.value=e.t(n),n.meta.locale=e.config.locale),n}const Zf={apply:F1,set:$1,remove:bm,filter:N1,reduce:j1,release:U1,touch:B1};function I1(t=!1){const e={};let n,r=t,i=[];const o=new Map;let s;const l=new Proxy(e,{get(...a){const[c,u]=a;return u==="buffer"?r:u==="_b"?i:u==="_m"?o:u==="_r"?s:be(Zf,u)?Zf[u].bind(null,e,l,n):Reflect.get(...a)},set(a,c,u){return c==="_n"?(n=u,s==="__n"&&vm(n,l),!0):c==="_b"?(i=u,!0):c==="buffer"?(r=u,!0):c==="_r"?(s=u,!0):(Dt(101,n),!1)}});return l}function $1(t,e,n,r){if(e.buffer)return e._b.push([[r]]),e;if(t[r.key]!==r){if(typeof r.value=="string"&&r.meta.localize!==!1){const o=r.value;r.value=n.t(r),r.value!==o&&(r.meta.locale=n.props.locale)}const i=`message-${be(t,r.key)?"updated":"added"}`;t[r.key]=Object.freeze(n.hook.message.dispatch(r)),n.emit(i,r)}return e}function B1(t,e){for(const n in t){const r={...t[n]};e.set(r)}}function bm(t,e,n,r){if(be(t,r)){const i=t[r];delete t[r],n.emit("message-removed",i)}return e.buffer===!0&&(e._b=e._b.filter(i=>(i[0]=i[0].filter(o=>o.key!==r),i[1]||i[0].length))),e}function N1(t,e,n,r,i){for(const o in t){const s=t[o];(!i||s.type===i)&&!r(s)&&bm(t,e,n,o)}}function j1(t,e,n,r,i){for(const o in t){const s=t[o];i=r(i,s)}return i}function F1(t,e,n,r,i){if(Array.isArray(r)){if(e.buffer){e._b.push([r,i]);return}const o=new Set(r.map(s=>(e.set(s),s.key)));typeof i=="string"?e.filter(s=>s.type!==i||o.has(s.key)):typeof i=="function"&&e.filter(s=>!i(s)||o.has(s.key))}else for(const o in r){const s=n.at(o);s?s.store.apply(r[o],i):V1(n,e,o,r[o],i)}}function H1(t,...e){const n=`${t.name}-set`,r=i=>nn({key:Eu(i),type:"error",value:i,meta:{source:n,autoClear:!0}});return e.filter(i=>!!i).map(i=>{if(typeof i=="string"&&(i=[i]),Array.isArray(i))return i.map(o=>r(o));{const o={};for(const s in i)Array.isArray(i[s])?o[s]=i[s].map(l=>r(l)):o[s]=[r(i[s])];return o}})}function V1(t,e,n,r,i){var o;const s=e._m;s.has(n)||s.set(n,[]),e._r||(e._r=vm(t,e)),(o=s.get(n))===null||o===void 0||o.push([r,i])}function vm(t,e){return t.on("child.deep",({payload:n})=>{e._m.forEach((r,i)=>{t.at(i)===n&&(r.forEach(([o,s])=>{n.store.apply(o,s)}),e._m.delete(i))}),e._m.size===0&&e._r&&(t.off(e._r),e._r=void 0)})}function U1(t,e){e.buffer=!1,e._b.forEach(([n,r])=>e.apply(n,r)),e._b=[]}function z1(){const t={};let e;return{count:(...n)=>q1(e,t,...n),init(n){e=n,n.on("message-added.deep",eh(t,1)),n.on("message-removed.deep",eh(t,-1))},merge:n=>th(e,t,n),settled(n){return be(t,n)?t[n].promise:Promise.resolve()},unmerge:n=>th(e,t,n,!0),value(n){return be(t,n)?t[n].count:0}}}function q1(t,e,n,r,i=0){if(r=W1(r||n),!be(e,n)){const o={condition:r,count:0,name:n,node:t,promise:Promise.resolve(),resolve:()=>{}};e[n]=o,i=t.store.reduce((s,l)=>s+o.condition(l)*1,i),t.each(s=>{s.ledger.count(o.name,o.condition),i+=s.ledger.value(o.name)})}return wm(e[n],i).promise}function W1(t){return typeof t=="function"?t:e=>e.type===t}function wm(t,e){const n=t.count,r=t.count+e;return t.count=r,n===0&&r!==0?(t.node.emit(`unsettled:${t.name}`,t.count,!1),t.promise=new Promise(i=>t.resolve=i)):n!==0&&r===0&&(t.node.emit(`settled:${t.name}`,t.count,!1),t.resolve()),t.node.emit(`count:${t.name}`,t.count,!1),t}function eh(t,e){return n=>{for(const r in t){const i=t[r];i.condition(n.payload)&&wm(i,e)}}}function th(t,e,n,r=!1){for(const i in e){const o=e[i].condition;r||n.ledger.count(i,o);const s=n.ledger.value(i)*(r?-1:1);if(t)do t.ledger.count(i,o,s),t=t.parent;while(t)}}const Lu=new Map,ds=new Map,Ru=ym(),K1=[];function J1(t){t.props.id&&(Lu.set(t.props.id,t),ds.set(t,t.props.id),Ru(t,{payload:t,name:t.props.id,bubble:!1,origin:t}))}function G1(t){if(ds.has(t)){const e=ds.get(t);ds.delete(t),Lu.delete(e),Ru(t,{payload:null,name:e,bubble:!1,origin:t})}}function Mo(t){return Lu.get(t)}function Y1(t,e){K1.push(Ru.on(t,e))}function Fa(t,e,n){let r=!0;return e in t.config._t?r=!1:t.emit(`config:${e}`,n,!1),e in t.props||(t.emit("prop",{prop:e,value:n}),t.emit(`prop:${e}`,n)),r}function X1(t={}){const e=new Set,n={...t,_add:i=>e.add(i),_rm:i=>e.delete(i)};return new Proxy(n,{set(i,o,s,l){return typeof o=="string"&&e.forEach(a=>Fa(a,o,s)),Reflect.set(i,o,s,l)}})}function xm(t){const e=document.getElementById(t);if(e instanceof HTMLFormElement){const n=new Event("submit",{cancelable:!0,bubbles:!0});e.dispatchEvent(n);return}qr(151,t)}function Q1(t){const e=n=>{for(const r in n.store){const i=n.store[r];i.type==="error"||i.type==="ui"&&r==="incomplete"?n.store.remove(r):i.type==="state"&&n.store.set({...i,value:!1})}};e(t),t.walk(e)}function km(t,e){const n=typeof t=="string"?Mo(t):t;if(n){const r=o=>Yt(o.props.initial)||(o.type==="group"?{}:o.type==="list"?[]:void 0);n._e.pause(n),n.input(Yt(e)||r(n),!1),n.walk(o=>o.input(r(o),!1));const i=r(n);return n.input(typeof i=="object"?Yt(e)||go(i):i,!1),n._e.play(n),Q1(n),n.emit("reset",n),n}qr(152,t)}const Z1={delimiter:".",delay:0,locale:"en",rootClasses:t=>({[`formkit-${gm(t)}`]:!0})},_m=Symbol("index"),Ha=Symbol("removed"),Va=Symbol("moved"),Sm=Symbol("inserted");function ew(t){return t.type==="list"&&Array.isArray(t._value)}function Do(t){return t&&typeof t=="object"&&t.__FKNode__===!0}const ps=(t,e,n)=>{Dt(102,[t,n])},tw={_c:Oe(kw,ps,!1),add:Oe(pw),addProps:Oe(dw),address:Oe(Sw,ps,!1),at:Oe(Cw),bubble:Oe(P1),clearErrors:Oe(Mw),calm:Oe(uw),config:Oe(!1),define:Oe(hw),disturb:Oe(cw),destroy:Oe(fw),hydrate:Oe(aw),index:Oe(xw,ww,!1),input:Oe(Em),each:Oe(yw),emit:Oe(R1),find:Oe(Aw),on:Oe(M1),off:Oe(D1),parent:Oe(!1,mw),plugins:Oe(!1),remove:Oe(gw),root:Oe(Tw,ps,!1),reset:Oe(Pw),resetConfig:Oe(vw),setErrors:Oe(Tm),submit:Oe(Rw),t:Oe(Lw),use:Oe(Pu),name:Oe(_w,!1,!1),walk:Oe(bw)};function nw(){return new Map(Object.entries(tw))}function Oe(t,e,n=!0){return{get:t?(r,i)=>n?(...o)=>t(r,i,...o):t(r,i):!1,set:e!==void 0?e:ps.bind(null)}}function rw(){const t=new Map;return new Proxy(t,{get(e,n){return t.has(n)||t.set(n,Au()),t.get(n)}})}let iw=0,ow=0;function sw(t){var e,n;return((e=t.parent)===null||e===void 0?void 0:e.type)==="list"?_m:t.name||`${((n=t.props)===null||n===void 0?void 0:n.type)||"input"}_${++iw}`}function Cm(t){return t.type==="group"?go(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)?t.value:{}):t.type==="list"?go(Array.isArray(t.value)?t.value:[]):t.value}function Em(t,e,n,r=!0){return e._value=lw(t,t.hook.input.dispatch(n)),t.emit("input",e._value),e.isSettled&&t.disturb(),r?(e._tmo&&clearTimeout(e._tmo),e._tmo=setTimeout(Ns,t.props.delay,t,e)):Ns(t,e),e.settled}function lw(t,e){switch(t.type){case"input":break;case"group":(!e||typeof e!="object")&&Dt(107,[t,e]);break;case"list":Array.isArray(e)||Dt(108,[t,e]);break}return e}function Ns(t,e,n=!0,r=!0){e._value=e.value=t.hook.commit.dispatch(e._value),t.type!=="input"&&r&&t.hydrate(),t.emit("commit",e.value),n&&t.calm()}function Am(t,{name:e,value:n,from:r}){if(!Object.isFrozen(t._value)){if(ew(t)){const i=n===Ha?[]:n===Va&&typeof r=="number"?t._value.splice(r,1):[n];t._value.splice(e,n===Va||r===Sm?0:1,...i);return}n!==Ha?t._value[e]=n:delete t._value[e]}}function aw(t,e){const n=e._value;return e.children.forEach(r=>{if(typeof n=="object")if(r.name in n){const i=r.type!=="input"||n[r.name]&&typeof n[r.name]=="object"?go(n[r.name]):n[r.name];r.input(i,!1)}else(t.type!=="list"||typeof r.name=="number")&&Am(e,{name:r.name,value:r.value}),n.__init||(r.type==="group"?r.input({},!1):r.type==="list"?r.input([],!1):r.input(void 0,!1))}),t}function cw(t,e){var n;return e._d<=0&&(e.isSettled=!1,t.emit("settled",!1,!1),e.settled=new Promise(r=>{e._resolve=r}),t.parent&&((n=t.parent)===null||n===void 0||n.disturb())),e._d++,t}function uw(t,e,n){var r;if(n!==void 0&&t.type!=="input")return Am(e,n),Ns(t,e,!0,!1);e._d>0&&e._d--,e._d===0&&(e.isSettled=!0,t.emit("settled",!0,!1),t.parent&&((r=t.parent)===null||r===void 0||r.calm({name:t.name,value:e.value})),e._resolve&&e._resolve(e.value))}function fw(t,e){t.emit("destroying",t),t.store.filter(()=>!1),t.parent&&(t.parent.emit("childRemoved",t),t.parent.remove(t)),G1(t),e._value=e.value=void 0,t.emit("destroyed",t)}function hw(t,e,n){e.type=n.type,e.props.definition=yi(n),e.value=e._value=Cm({type:t.type,value:e.value}),n.forceTypeProp&&(t.props.type&&(t.props.originalType=t.props.type),e.props.type=n.forceTypeProp),n.family&&(e.props.family=n.family),n.features&&n.features.forEach(r=>r(t)),n.props&&t.addProps(n.props),t.emit("defined",n)}function dw(t,e,n){var r;if(t.props.attrs){const i={...t.props.attrs};t.props._emit=!1;for(const s in i){const l=ai(s);n.includes(l)&&(t.props[l]=i[s],delete i[s])}const o=Yt(e._value);t.props.initial=t.type!=="input"?go(o):o,t.props._emit=!0,t.props.attrs=i,t.props.definition&&(t.props.definition.props=[...((r=t.props.definition)===null||r===void 0?void 0:r.props)||[],...n])}return t.emit("added-props",n),t}function pw(t,e,n,r){if(t.type==="input"&&Dt(100,t),n.parent&&n.parent!==t&&n.parent.remove(n),e.children.includes(n)||(r!==void 0&&t.type==="list"?(e.children.splice(r,0,n),Array.isArray(t.value)&&t.value.length<e.children.length&&t.disturb().calm({name:r,value:n.value,from:Sm})):e.children.push(n),n.isSettled||t.disturb()),n.parent!==t){if(n.parent=t,n.parent!==t)return t.remove(n),n.parent.add(n),t}else n.use(t.plugins);return Ns(t,e,!1),t.ledger.merge(n),t.emit("child",n),t}function mw(t,e,n,r){return Do(r)?(t.parent&&t.parent!==r&&t.parent.remove(t),e.parent=r,t.resetConfig(),r.children.includes(t)?t.use(r.plugins):r.add(t),!0):r===null?(e.parent=null,!0):!1}function gw(t,e,n){const r=e.children.indexOf(n);if(r!==-1){n.isSettled&&t.disturb(),e.children.splice(r,1);let i=Xt(n.props.preserve),o=n.parent;for(;i===void 0&&o;)i=Xt(o.props.preserve),o=o.parent;i?t.calm():t.calm({name:t.type==="list"?r:n.name,value:Ha}),n.parent=null,n.config._rmn=n}return t.ledger.unmerge(n),t}function yw(t,e,n){e.children.forEach(r=>n(r))}function bw(t,e,n,r=!1){e.children.forEach(i=>{(n(i)!==!1||!r)&&i.walk(n,r)})}function vw(t,e){const n=t.parent||void 0;e.config=Om(t.config._t,n),t.walk(r=>r.resetConfig())}function Pu(t,e,n,r=!0,i=!0){return Array.isArray(n)||n instanceof Set?(n.forEach(o=>Pu(t,e,o)),t):(e.plugins.has(n)||(i&&typeof n.library=="function"&&n.library(t),r&&n(t)!==!1&&(e.plugins.add(n),t.children.forEach(o=>o.use(n)))),t)}function ww(t,e,n,r){if(Do(t.parent)){const i=t.parent.children,o=r>=i.length?i.length-1:r<0?0:r,s=i.indexOf(t);return s===-1?!1:(i.splice(s,1),i.splice(o,0,t),t.parent.children=i,t.parent.type==="list"&&t.parent.disturb().calm({name:o,value:Va,from:s}),!0)}return!1}function xw(t){if(t.parent){const e=[...t.parent.children].indexOf(t);return e===-1?t.parent.children.length:e}return-1}function kw(t,e){return e}function _w(t,e){var n;return((n=t.parent)===null||n===void 0?void 0:n.type)==="list"?t.index:e.name!==_m?e.name:t.index}function Sw(t,e){return e.parent?e.parent.address.concat([t.name]):[t.name]}function Cw(t,e,n){const r=typeof n=="string"?n.split(t.config.delimiter):n;if(!r.length)return;const i=r[0];let o=t.parent;for(o||(String(r[0])===String(t.name)&&r.shift(),o=t),i==="$parent"&&r.shift();o&&r.length;){const s=r.shift();switch(s){case"$root":o=t.root;break;case"$parent":o=o.parent;break;case"$self":o=t;break;default:o=o.children.find(l=>String(l.name)===String(s))||Ew(o,s)}}return o||void 0}function Ew(t,e){const n=String(e).match(/^(find)\((.*)\)$/);if(n){const[,r,i]=n,o=i.split(",").map(s=>s.trim());switch(r){case"find":return t.find(o[0],o[1]);default:return}}}function Aw(t,e,n,r){return Ow(t,n,r)}function Ow(t,e,n="name"){const r=typeof n=="string"?o=>o[n]==e:n,i=[t];for(;i.length;){const o=i.shift();if(r(o,e))return o;i.push(...o.children)}}function Tw(t){let e=t;for(;e.parent;)e=e.parent;return e}function Om(t={},e){let n;return new Proxy(t,{get(...r){const i=r[1];if(i==="_t")return t;const o=Reflect.get(...r);if(o!==void 0)return o;if(e){const s=e.config[i];if(s!==void 0)return s}if(t.rootConfig&&typeof i=="string"){const s=t.rootConfig[i];if(s!==void 0)return s}return i==="delay"&&(n==null?void 0:n.type)==="input"?20:Z1[i]},set(...r){const i=r[1],o=r[2];if(i==="_n")return n=o,t.rootConfig&&t.rootConfig._add(n),!0;if(i==="_rmn")return t.rootConfig&&t.rootConfig._rm(n),n=void 0,!0;if(!Ht(t[i],o,!1)){const s=Reflect.set(...r);return n&&(n.emit(`config:${i}`,o,!1),Fa(n,i,o),n.walk(l=>Fa(l,i,o),!0)),s}return!0}})}function Lw(t,e,n,r="ui"){const i=typeof n=="string"?{key:n,value:n,type:r}:n,o=t.hook.text.dispatch(i);return t.emit("text",o,!1),o.value}function Rw(t){const e=t.name;do{if(t.props.isForm===!0)break;t.parent||Dt(106,e),t=t.parent}while(t);t.props.id&&xm(t.props.id)}function Pw(t,e,n){return km(t,n)}function Tm(t,e,n,r){const i=`${t.name}-set`,o=t.hook.setErrors.dispatch({localErrors:n,childErrors:r});return H1(t,o.localErrors,o.childErrors).forEach(s=>{t.store.apply(s,l=>l.meta.source===i)}),t}function Mw(t,e,n=!0,r){return Tm(t,e,[]),n&&(r=r||`${t.name}-set`,t.walk(i=>{i.store.filter(o=>!(o.type==="error"&&o.meta&&o.meta.source===r))})),t}function Dw(t){return be(t.props,"id")||(t.props.id=`input_${ow++}`),t}function Iw(t){const e={initial:typeof t=="object"?Yt(t):t};let n,r=!0;return new Proxy(e,{get(...i){const[o,s]=i;if(be(e,s))return Reflect.get(...i);if(n&&typeof s=="string"&&n.config[s]!==void 0)return n.config[s]},set(i,o,s,l){if(o==="_n")return n=s,!0;if(o==="_emit")return r=s,!0;const{prop:a,value:c}=n.hook.prop.dispatch({prop:o,value:s});if(!Ht(e[a],c,!1)||typeof c=="object"){const u=Reflect.set(i,a,c,l);return r&&(n.emit("prop",{prop:a,value:c}),typeof a=="string"&&n.emit(`prop:${a}`,c)),u}return!0}})}function $w(t,e){if(t.props.definition)return t.define(t.props.definition);for(const n of e){if(t.props.definition)return;typeof n.library=="function"&&n.library(t)}}function Bw(t){const e=Cm(t),n=Om(t.config||{},t.parent);return{_d:0,_e:ym(),_resolve:!1,_tmo:!1,_value:e,children:_1(t.children||[]),config:n,hook:rw(),isCreated:!1,isSettled:!0,ledger:z1(),name:sw(t),parent:t.parent||null,plugins:new Set,props:Iw(e),settled:Promise.resolve(e),store:I1(!0),traps:nw(),type:t.type||"input",value:e}}function Nw(t,e){var n;if(t.ledger.init(t.store._n=t.props._n=t.config._n=t),t.props._emit=!1,e.props&&Object.assign(t.props,e.props),t.props._emit=!0,$w(t,new Set([...e.plugins||[],...t.parent?t.parent.plugins:[]])),e.plugins)for(const r of e.plugins)Pu(t,t._c,r,!0,!1);return Dw(t),t.each(r=>t.add(r)),t.parent&&t.parent.add(t,e.index),t.type==="input"&&t.children.length&&Dt(100,t),Em(t,t._c,t._value,!1),t.store.release(),!((n=e.props)===null||n===void 0)&&n.id&&J1(t),t.emit("created",t),t.isCreated=!0,t}function jw(t){const e=t||{},n=Bw(e),r=new Proxy(n,{get(...i){const[,o]=i;if(o==="__FKNode__")return!0;const s=n.traps.get(o);return s&&s.get?s.get(r,n):Reflect.get(...i)},set(...i){const[,o,s]=i,l=n.traps.get(o);return l&&l.set?l.set(r,n,o,s):Reflect.set(...i)}});return Nw(r,e)}function Ua(t){return typeof t!="string"&&be(t,"$el")}function za(t){return typeof t!="string"&&be(t,"$cmp")}function Zr(t){return!t||typeof t=="string"?!1:be(t,"if")&&be(t,"then")}function Fw(t){return typeof t!="string"&&"$formkit"in t}function Hw(t){if(typeof t=="string")return{$el:"text",children:t};if(Fw(t)){const{$formkit:e,for:n,if:r,children:i,bind:o,...s}=t;return Object.assign({$cmp:"FormKit",props:{...s,type:e}},r?{if:r}:{},n?{for:n}:{},i?{children:i}:{},o?{bind:o}:{})}return t}function qt(t){let e;const n=new Set,r=function(g,m){return typeof g=="function"?g(m):g},i=[{"&&":(b,g,m)=>r(b,m)&&r(g,m),"||":(b,g,m)=>r(b,m)||r(g,m)},{"===":(b,g,m)=>r(b,m)===r(g,m),"!==":(b,g,m)=>r(b,m)!==r(g,m),"==":(b,g,m)=>r(b,m)==r(g,m),"!=":(b,g,m)=>r(b,m)!=r(g,m),">=":(b,g,m)=>r(b,m)>=r(g,m),"<=":(b,g,m)=>r(b,m)<=r(g,m),">":(b,g,m)=>r(b,m)>r(g,m),"<":(b,g,m)=>r(b,m)<r(g,m)},{"+":(b,g,m)=>r(b,m)+r(g,m),"-":(b,g,m)=>r(b,m)-r(g,m)},{"*":(b,g,m)=>r(b,m)*r(g,m),"/":(b,g,m)=>r(b,m)/r(g,m),"%":(b,g,m)=>r(b,m)%r(g,m)}],o=i.reduce((b,g)=>b.concat(Object.keys(g)),[]),s=new Set(o.map(b=>b.charAt(0)));function l(b,g,m,x){const y=b.filter(w=>w.startsWith(g));return y.length?y.find(w=>x.length>=m+w.length&&x.substring(m,m+w.length)===w?w:!1):!1}function a(b,g,m=1){let x=m?g.substring(b+1).trim():g.substring(0,b).trim();if(!x.length)return-1;if(!m){const w=x.split("").reverse(),v=w.findIndex(_=>s.has(_));x=w.slice(v).join("")}const y=x[0];return i.findIndex(w=>{const v=Object.keys(w);return!!l(v,y,0,x)})}function c(b,g){let m="";const x=g.length;let y=0;for(let w=b;w<x;w++){const v=g.charAt(w);if(v==="(")y++;else if(v===")")y--;else if(y===0&&v===" ")continue;if(y===0&&l(o,v,w,g))return[m,w-1];m+=v}return[m,g.length-1]}function u(b,g=0){const m=i[g],x=b.length,y=Object.keys(m);let w=0,v=!1,_=null,S="",C=null,T,P="",E="",k="",L="",R=0;const A=(O,M)=>{O?k+=M:S+=M};for(let O=0;O<x;O++)if(P=E,E=b.charAt(O),(E==="'"||E==='"')&&P!=="\\"&&(w===0&&!v||w&&!L)){w?L=E:v=E,A(w,E);continue}else if(v&&(E!==v||P==="\\")||L&&(E!==L||P==="\\")){A(w,E);continue}else if(v===E){v=!1,A(w,E);continue}else if(L===E){L=!1,A(w,E);continue}else{if(E===" ")continue;if(E==="(")w===0?R=O:k+=E,w++;else if(E===")")if(w--,w===0){const M=typeof S=="string"&&S.startsWith("$")?S:void 0,I=M&&b.charAt(O+1)===".";let B="";I&&([B,O]=c(O+2,b));const W=_?g:a(R,b,0),ne=a(O,b);W===-1&&ne===-1?S=h(k,-1,M,B):_&&(W>=ne||ne===-1)&&g===W?(C=_.bind(null,h(k,-1,M,B)),_=null,S=""):ne>W&&g===ne?S=h(k,-1,M,B):S+=`(${k})${I?`.${B}`:""}`,k=""}else k+=E;else if(w===0&&(T=l(y,E,O,b))){O===0&&Dt(103,[T,b]),O+=T.length-1,O===b.length-1&&Dt(104,[T,b]),_?S&&(C=_.bind(null,h(S,g)),_=m[T].bind(null,C),S=""):C?(_=m[T].bind(null,h(C,g)),C=null):(_=m[T].bind(null,h(S,g)),S="");continue}else A(w,E)}return S&&_&&(_=_.bind(null,h(S,g))),_=!_&&C?C:_,!_&&S&&(_=(O,M)=>typeof O=="function"?O(M):O,_=_.bind(null,h(S,g))),!_&&!S&&Dt(105,b),_}function h(b,g,m,x){if(m){const y=h(m,i.length);let w,v=x?qt(`$${x}`):!1;if(typeof y=="function"){const _=O1(String(b)).map(S=>h(S,-1));return S=>{const C=y(S);return typeof C!="function"?(qr(150,m),C):(w=C(..._.map(T=>typeof T=="function"?T(S):T)),v&&(v=v.provide(T=>{const P=e(T);return T.reduce((k,L)=>{if(L===x||(x==null?void 0:x.startsWith(`${L}(`))){const A=T1(w,L);k[L]=()=>A}else k[L]=P[L];return k},{})})),v?v():w)}}}else if(typeof b=="string"){if(b==="true")return!0;if(b==="false")return!1;if(b==="undefined")return;if(E1(b))return A1(b.substring(1,b.length-1));if(!isNaN(+b))return Number(b);if(g<i.length-1)return u(b,g+1);if(b.startsWith("$")){const y=b.substring(1);return n.add(y),function(v){return y in v?v[y]():void 0}}return b}return b}const f=u(t.startsWith("$:")?t.substring(2):t),d=Array.from(n);function p(b){return e=b,Object.assign(f.bind(null,b(d)),{provide:p})}return Object.assign(f,{provide:p})}function ms(t,e,n){return n?typeof n=="string"?n.split(" ").reduce((i,o)=>Object.assign(i,{[o]:!0}),{}):typeof n=="function"?ms(t,e,n(e,t)):n:{}}function Vw(t,e,...n){const r=n.reduce((i,o)=>{if(!o)return Xl(i);const{$reset:s,...l}=o;return Xl(s?l:Object.assign(i,l))},{});return Object.keys(t.hook.classes.dispatch({property:e,classes:r}).classes).filter(i=>r[i]).join(" ")||null}function Xl(t){const e="$remove:";let n=!1;const r=Object.keys(t).filter(i=>(t[i]&&i.startsWith(e)&&(n=!0),t[i]));return r.length>1&&n&&r.filter(o=>o.startsWith(e)).map(o=>{const s=o.substring(e.length);t[s]=!1,t[o]=!1}),t}function Uw(t,e,n){const r=Mo(t);r?r.setErrors(e,n):qr(651,t)}function zw(t,e=!0){const n=Mo(t);n?n.clearErrors(e):qr(652,t)}const js="0.16.4";function qw(...t){const e=t.reduce((r,i)=>Hr(r,i),{}),n=()=>{};return n.library=function(r){const i=ai(r.props.type);be(e,i)&&r.define(e[i])},n}function Ww(t){let e=1;return Array.isArray(t)?t.map(n=>typeof n=="string"||typeof n=="number"?{label:String(n),value:String(n)}:(typeof n=="object"&&"value"in n&&typeof n.value!="string"&&Object.assign(n,{value:`__mask_${e++}`,__original:n.value}),n)):Object.keys(t).map(n=>({label:t[n],value:n}))}function bi(t,e){if(Array.isArray(t)){for(const n of t)if(e==n.value)return"__original"in n?n.__original:n.value}return e}function vi(t,e){return t===null&&e===void 0||t===void 0&&e===null?!1:t==e?!0:Fr(t)&&Fr(e)?Ht(t,e):!1}function Mu(t){t.hook.prop((e,n)=>(e.prop==="options"&&(typeof e.value=="function"?(t.props.optionsLoader=e.value,e.value=[]):e.value=Ww(e.value)),n(e)))}const Wr=ke("outer",()=>({$el:"div",attrs:{key:"$id","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-disabled":"$disabled || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}}),!0),cr=ke("inner","div"),Io=ke("wrapper","div"),kl=ke("label",()=>({$el:"label",if:"$label",attrs:{for:"$id"}})),gr=ke("messages",()=>({$el:"ul",if:"$defaultMessagePlacement && $fns.length($messages)"})),yr=ke("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),Nn=ke("prefix",null),jn=ke("suffix",null),Fn=ke("help",()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}})),Lm=ke("fieldset",()=>({$el:"fieldset",attrs:{id:"$id","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Fs=ke("decorator",()=>({$el:"span",attrs:{"aria-hidden":"true"}})),Hs=ke("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",name:"$node.props.altName || $node.name",disabled:"$option.attrs.disabled || $disabled",onInput:"$handlers.toggleChecked",checked:"$fns.eq($_value, $onValue)",onBlur:"$handlers.blur",value:"$: true",id:"$id","aria-describedby":{if:"$options.length",then:{if:"$option.help",then:'$: "help-" + $option.attrs.id',else:void 0},else:{if:"$help",then:'$: "help-" + $id',else:void 0}}}})),Rm=ke("legend",()=>({$el:"legend",if:"$label"})),Pm=ke("option",()=>({$el:"li",for:["option","$options"],attrs:{"data-disabled":"$option.attrs.disabled || $disabled"}})),Mm=ke("options","ul"),Vs=ke("wrapper",()=>({$el:"label",attrs:{"data-disabled":{if:"$options.length",then:void 0,else:"$disabled || undefined"},"data-checked":{if:"$options == undefined",then:"$fns.eq($_value, $onValue) || undefined",else:"$fns.isChecked($option.value) || undefined"}}})),Dm=ke("optionHelp",()=>({$el:"div",if:"$option.help",attrs:{id:'$: "help-" + $option.attrs.id'}})),Us=ke("label","span"),Kw=ke("input",()=>({$el:"button",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",id:"$id"}})),Jw=ke("default",null),Gw=ke("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"file",disabled:"$disabled",name:"$node.name",onChange:"$handlers.files",onBlur:"$handlers.blur",id:"$id","aria-describedby":"$describedBy"}})),Yw=ke("fileItem",()=>({$el:"li",for:["file","$value"]})),Xw=ke("fileList",()=>({$el:"ul",if:"$value.length",attrs:{"data-has-multiple":{if:"$value.length > 1",then:"true"}}})),Qw=ke("fileName",()=>({$el:"span",attrs:{class:"$classes.fileName"}})),nh=ke("fileRemove",()=>({$el:"button",attrs:{onClick:"$handlers.resetFiles"}})),Zw=ke("noFiles",()=>({$el:"span",if:"$value.length == 0"})),ex=ke("form",()=>({$el:"form",bind:"$attrs",attrs:{id:"$id",name:"$node.name",onSubmit:"$handlers.submit","data-loading":"$state.loading || undefined"}}),!0),tx=ke("actions",()=>({$el:"div",if:"$actions"})),nx=ke("submit",()=>({$cmp:"FormKit",bind:"$submitAttrs",props:{type:"submit",disabled:"$disabled",label:"$submitLabel"}})),Im=ke("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy"}})),$m=ke("wrapper",null,!0),rx=ke("input",()=>({$el:"select",bind:"$attrs",attrs:{id:"$id","data-placeholder":"$fns.showPlaceholder($_value, $placeholder)",disabled:"$disabled",class:"$classes.input",name:"$node.name",onChange:"$handlers.onChange",onInput:"$handlers.selectInput",onBlur:"$handlers.blur","aria-describedby":"$describedBy"}})),ix=ke("option",()=>({$el:"option",for:["option","$options"],bind:"$option.attrs",attrs:{class:"$classes.option",value:"$option.value",selected:"$fns.isSelected($option)"}})),ox=()=>({$el:null,if:"$options.length",for:["option","$options"],children:"$slots.option"}),sx=ke("input",()=>({$el:"textarea",bind:"$attrs",attrs:{disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy"},children:"$initialValue"})),ot=(t,e)=>ke(`${t}Icon`,()=>{const n=`_raw${t.charAt(0).toUpperCase()}${t.slice(1)}Icon`;return{if:`$${t}Icon && $${n}`,$el:`${e||"span"}`,attrs:{class:`$classes.${t}Icon + " formkit-icon"`,innerHTML:`$${n}`,onClick:`$handlers.iconClick(${t})`,for:{if:`${e==="label"}`,then:"$id"}}}})();function Bm(t){return function(e,n){return e.prop==="options"&&Array.isArray(e.value)&&(e.value=e.value.map(r=>{var i;return!((i=r.attrs)===null||i===void 0)&&i.id?r:Hr(r,{attrs:{id:`${t.name}-option-${Eu(String(r.value))}`}})}),t.props.type==="checkbox"&&!Array.isArray(t.value)&&(t.isCreated?t.input([],!1):t.on("created",()=>{Array.isArray(t.value)||t.input([],!1)}))),n(e)}}function lx(t,e){const n=e.target;if(n instanceof HTMLInputElement){const r=Array.isArray(t.props.options)?bi(t.props.options,n.value):n.value;Array.isArray(t.props.options)&&t.props.options.length?Array.isArray(t._value)?t._value.some(i=>vi(r,i))?t.input(t._value.filter(i=>!vi(r,i))):t.input([...t._value,r]):t.input([r]):n.checked?t.input(t.props.onValue):t.input(t.props.offValue)}}function ax(t,e){var n,r;return(n=t.context)===null||n===void 0||n.value,(r=t.context)===null||r===void 0||r._value,Array.isArray(t._value)?t._value.some(i=>vi(bi(t.props.options,e),i)):!1}function cx(t){t.on("created",()=>{var e,n;!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.toggleChecked=lx.bind(null,t)),!((n=t.context)===null||n===void 0)&&n.fns&&(t.context.fns.isChecked=ax.bind(null,t)),be(t.props,"onValue")||(t.props.onValue=!0),be(t.props,"offValue")||(t.props.offValue=!1)}),t.hook.prop(Bm(t))}function _l(t){t.on("created",()=>{t.props.disabled=Xt(t.props.disabled)}),t.hook.prop(({prop:e,value:n},r)=>(n=e==="disabled"?Xt(n):n,r({prop:e,value:n}))),t.on("prop:disabled",({payload:e})=>{t.config.disabled=Xt(e)}),t.on("created",()=>{t.config.disabled=Xt(t.props.disabled)})}function gs(t,e){return n=>{n.store.set(nn({key:t,type:"ui",value:e||t,meta:{localize:!0,i18nArgs:[n]}}))}}const rh=typeof window<"u";function Nm(t){t.target instanceof HTMLElement&&t.target.hasAttribute("data-file-hover")&&t.target.removeAttribute("data-file-hover")}function ih(t,e){e.target instanceof HTMLInputElement?t==="dragover"&&e.target.setAttribute("data-file-hover","true"):e.preventDefault(),t==="drop"&&Nm(e)}function ux(t){gs("noFiles","Select file")(t),gs("removeAll","Remove all")(t),gs("remove")(t),rh&&(window._FormKit_File_Drop||(window.addEventListener("dragover",ih.bind(null,"dragover")),window.addEventListener("drop",ih.bind(null,"drop")),window.addEventListener("dragleave",Nm),window._FormKit_File_Drop=!0)),t.hook.input((e,n)=>n(Array.isArray(e)?e:[])),t.on("created",()=>{Array.isArray(t.value)||t.input([],!1),t.context&&(t.context.handlers.resetFiles=e=>{if(e.preventDefault(),t.input([]),t.props.id&&rh){const n=document.getElementById(t.props.id);n&&(n.value="")}},t.context.handlers.files=e=>{var n,r;const i=[];if(e.target instanceof HTMLInputElement&&e.target.files){for(let o=0;o<e.target.files.length;o++){let s;(s=e.target.files.item(o))&&i.push({name:s.name,file:s})}t.input(i)}t.context&&(t.context.files=i),typeof((n=t.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&((r=t.props.attrs)===null||r===void 0||r.onChange(e))})})}async function fx(t,e){e.preventDefault(),await t.settled;const n=r=>r.store.set(nn({key:"submitted",value:!0,visible:!1}));if(t.walk(n),n(t),typeof t.props.onSubmitRaw=="function"&&t.props.onSubmitRaw(e,t),t.ledger.value("blocking"))typeof t.props.onSubmitInvalid=="function"&&t.props.onSubmitInvalid(t),t.props.incompleteMessage!==!1&&t.store.set(nn({blocking:!1,key:"incomplete",meta:{localize:t.props.incompleteMessage===void 0,i18nArgs:[{node:t}],showAsMessage:!0},type:"ui",value:t.props.incompleteMessage||"Form incomplete."}));else if(typeof t.props.onSubmit=="function"){const r=t.props.onSubmit(t.hook.submit.dispatch(yi(t.value)),t);if(r instanceof Promise){const i=t.props.disabled===void 0&&t.props.submitBehavior!=="live";i&&(t.props.disabled=!0),t.store.set(nn({key:"loading",value:!0,visible:!1})),await r,i&&(t.props.disabled=!1),t.store.remove("loading")}}else e.target instanceof HTMLFormElement&&e.target.submit()}function hx(t){t.props.isForm=!0,t.on("created",()=>{var e;!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.submit=fx.bind(null,t)),be(t.props,"actions")||(t.props.actions=!0)}),t.on("settled:blocking",()=>t.store.remove("incomplete"))}function dx(t){t.props.ignore===void 0&&(t.props.ignore=!0,t.parent=null)}function px(t){t.on("created",()=>{t.context&&(t.context.initialValue=t.value||"")})}function mx(t,e){e.target instanceof HTMLInputElement&&t.input(bi(t.props.options,e.target.value))}function gx(t,e){var n,r;return(n=t.context)===null||n===void 0||n.value,(r=t.context)===null||r===void 0||r._value,vi(bi(t.props.options,e),t._value)}function yx(t){t.on("created",()=>{var e,n;Array.isArray(t.props.options)||qr(350,t),!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.toggleChecked=mx.bind(null,t)),!((n=t.context)===null||n===void 0)&&n.fns&&(t.context.fns.isChecked=gx.bind(null,t))}),t.hook.prop(Bm(t))}function bx(t,e){t.context&&t.context.value;const n="__original"in e?e.__original:e.value;function r(){return!t.props.options.some(i=>("__original"in i?i.__original:i.value)===null)}return Array.isArray(t._value)?t._value.some(i=>vi(i,n)):(t._value===void 0||t._value===null&&r())&&e.attrs&&e.attrs["data-is-placeholder"]?!0:vi(n,t._value)}async function vx(t,e){var n;typeof((n=t.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&(await new Promise(r=>setTimeout(r,0)),await t.settled,t.props.attrs.onChange(e))}function wx(t,e){const n=e.target,r=n.hasAttribute("multiple")?Array.from(n.selectedOptions).map(i=>bi(t.props.options,i.value)):bi(t.props.options,n.value);t.input(r)}function oh(t,e){return t.some(n=>n.attrs&&n.attrs["data-is-placeholder"])?t:[{label:e,value:"",attrs:{hidden:!0,disabled:!0,"data-is-placeholder":"true"}},...t]}function xx(t){t.on("created",()=>{var e,n,r;const i=Xt((e=t.props.attrs)===null||e===void 0?void 0:e.multiple);!i&&t.props.placeholder&&Array.isArray(t.props.options)&&(t.hook.prop(({prop:o,value:s},l)=>(o==="options"&&(s=oh(s,t.props.placeholder)),l({prop:o,value:s}))),t.props.options=oh(t.props.options,t.props.placeholder)),i?t.value===void 0&&t.input([],!1):t.context&&!t.context.options&&(t.props.attrs=Object.assign({},t.props.attrs,{value:t._value}),t.on("input",({payload:o})=>{t.props.attrs=Object.assign({},t.props.attrs,{value:o})})),!((n=t.context)===null||n===void 0)&&n.handlers&&(t.context.handlers.selectInput=wx.bind(null,t),t.context.handlers.onChange=vx.bind(null,t)),!((r=t.context)===null||r===void 0)&&r.fns&&(t.context.fns.isSelected=bx.bind(null,t),t.context.fns.showPlaceholder=(o,s)=>{if(!Array.isArray(t.props.options))return!1;const l=t.props.options.some(a=>{if(a.attrs&&"data-is-placeholder"in a.attrs)return!1;const c="__original"in a?a.__original:a.value;return Ht(o,c)});return s&&!l?!0:void 0})}),t.hook.input((e,n)=>{var r,i,o;return!t.props.placeholder&&e===void 0&&Array.isArray((r=t.props)===null||r===void 0?void 0:r.options)&&t.props.options.length&&!Xt((o=(i=t.props)===null||i===void 0?void 0:i.attrs)===null||o===void 0?void 0:o.multiple)&&(e="__original"in t.props.options[0]?t.props.options[0].__original:t.props.options[0].value),n(e)})}function ci(t,e){return n=>{n.props[`${t}Icon`]===void 0&&(n.props[`${t}Icon`]=`default:${e}`)}}function zs(t){return typeof t=="object"&&("$el"in t||"$cmp"in t||"$formkit"in t)}function qa(t){return!!(Zr(t)&&t.if&&t.if.startsWith("$slots.")&&typeof t.then=="string"&&t.then.startsWith("$slots.")&&"else"in t)}function Ji(t,e={}){return typeof t=="string"?zs(e)||typeof e=="string"?e:t:Array.isArray(t)?zs(e)?e:t:Hr(t,e)}function ke(t,e,n=!1){return(...r)=>{const i=o=>{const s=!e||typeof e=="string"?{$el:e}:e();return(Ua(s)||za(s))&&(s.meta||(s.meta={section:t}),r.length&&!s.children&&(s.children=[...r.map(l=>typeof l=="string"?l:l(o))]),Ua(s)&&(s.attrs={class:`$classes.${t}`,...s.attrs||{}})),{if:`$slots.${t}`,then:`$slots.${t}`,else:t in o?Ji(s,o[t]):s}};return i._s=t,n?jm(i):i}}function jm(t){return e=>[t(e)]}function Qt(t,e,n){const r=i=>{const o=e(i);if(n||zs(o)&&"if"in o||qa(o)){const s={if:t,then:o};return n&&(s.else=n(i)),s}else qa(o)?Object.assign(o.else,{if:t}):zs(o)&&Object.assign(o,{if:t});return o};return r._s=Ii(),r}function ys(t,e){const n=r=>{const i=t({});return qa(i)?(Array.isArray(i.else)||(i.else=Ji(Ji(i.else,e),t._s?r[t._s]:{})),i):Ji(Ji(i,e),t._s?r[t._s]:{})};return n._s=t._s,n}function kx(t){return jm(t)}const sh={schema:Wr(gr(yr("$message.value")),Io(Kw(ot("prefix"),Nn(),Jw("$label || $ui.submit.value"),jn(),ot("suffix"))),Fn("$help")),type:"input",family:"button",props:[],features:[gs("submit"),dx]},_x={schema:Wr(Qt("$options == undefined",Vs(cr(Nn(),Hs(),Fs(ot("decorator")),jn()),ys(Us("$label"),{if:"$label"})),Lm(Rm("$label"),Fn("$help"),Mm(Pm(Vs(cr(Nn(),ys(Hs(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Fs(ot("decorator")),jn()),ys(Us("$option.label"),{if:"$option.label"})),Dm("$option.help"))))),Qt("$options == undefined && $help",Fn("$help")),gr(yr("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[Mu,cx,ci("decorator","checkboxDecorator")]},Sx={schema:Wr(Io(kl("$label"),cr(ot("prefix","label"),Nn(),Gw(),Xw(Yw(ot("fileItem"),Qw("$file.name"),Qt("$value.length === 1",nh(ot("fileRemove"),"$ui.remove.value")))),Qt("$value.length > 1",nh("$ui.removeAll.value")),Zw(ot("noFiles"),"$ui.noFiles.value"),jn(),ot("suffix"))),Fn("$help"),gr(yr("$message.value"))),type:"input",family:"text",props:[],features:[ux,ci("fileItem","fileItem"),ci("fileRemove","fileRemove"),ci("noFiles","noFiles")]},Cx={schema:ex("$slots.default",gr(yr("$message.value")),tx(nx())),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],features:[hx,_l]},Ex={schema:$m("$slots.default"),type:"group",props:[],features:[_l]},Ax={schema:kx(Im()),type:"input",props:[],features:[]},Ox={schema:$m("$slots.default"),type:"list",props:[],features:[_l]},Tx={schema:Wr(Qt("$options == undefined",Vs(cr(Nn(),Hs(),Fs(ot("decorator")),jn()),Qt("$label",Us("$label"))),Lm(Rm("$label"),Fn("$help"),Mm(Pm(Vs(cr(Nn(),ys(Hs(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Fs(ot("decorator")),jn()),Qt("$option.label",Us("$option.label"))),Dm("$option.help"))))),Qt("$options === undefined && $help",Fn("$help")),gr(yr("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[_l,Mu,yx,ci("decorator","radioDecorator")]},Lx={schema:Wr(Io(kl("$label"),cr(ot("prefix"),Nn(),rx(Qt("$slots.default",()=>"$slots.default",Qt("$slots.option",ox,ix("$option.label")))),Qt("$attrs.multiple !== undefined",()=>"",ot("select")),jn(),ot("suffix"))),Fn("$help"),gr(yr("$message.value"))),type:"input",props:["options","placeholder","optionsLoader"],features:[Mu,xx,ci("select","select")]},Rx={schema:Wr(Io(kl("$label"),cr(ot("prefix","label"),Nn(),sx(),jn(),ot("suffix"))),Fn("$help"),gr(yr("$message.value"))),type:"input",props:[],features:[px]},_t={schema:Wr(Io(kl("$label"),cr(ot("prefix","label"),Nn(),Im(),jn(),ot("suffix"))),Fn("$help"),gr(yr("$message.value"))),type:"input",family:"text",props:[],features:[]};var Px=Object.freeze({__proto__:null,button:sh,submit:sh,checkbox:_x,file:Sx,form:Cx,group:Ex,hidden:Ax,list:Ox,radio:Tx,select:Lx,textarea:Rx,text:_t,color:_t,date:_t,datetimeLocal:_t,email:_t,month:_t,number:_t,password:_t,search:_t,tel:_t,time:_t,url:_t,week:_t,range:_t});const Fm=function({value:e}){return["yes","on","1",1,!0,"true"].includes(e)};Fm.skipEmpty=!1;const Mx=function({value:t},e=!1){const n=Date.parse(e||new Date),r=Date.parse(String(t));return isNaN(r)?!1:r>n},Dx=function({value:t},e="default"){const n={default:/^[a-zA-Z---]+$/,latin:/^[a-zA-Z]+$/},r=be(n,e)?e:"default";return n[r].test(String(t))},Ix=function({value:t},e="default"){const n={default:/^[a-zA-Z--- ]+$/,latin:/^[a-zA-Z ]+$/},r=be(n,e)?e:"default";return n[r].test(String(t))},$x=function({value:t},e="default"){const n={default:/^[a-zA-Z0-9---]+$/,latin:/^[a-zA-Z0-9]+$/},r=be(n,e)?e:"default";return n[r].test(String(t))},Bx=function({value:t},e=!1){const n=Date.parse(e||new Date),r=Date.parse(String(t));return isNaN(r)?!1:r<n},Nx=function({value:e},n,r){if(!isNaN(e)&&!isNaN(n)&&!isNaN(r)){const i=1*e;n=Number(n),r=Number(r);const[o,s]=n<=r?[n,r]:[r,n];return i>=1*o&&i<=1*s}return!1},lh=/(_confirm(?:ed)?)$/,jx=function(e,n,r="loose"){var i;n||(n=lh.test(e.name)?e.name.replace(lh,""):`${e.name}_confirm`);const o=(i=e.at(n))===null||i===void 0?void 0:i.value;return r==="strict"?e.value===o:e.value==o},Fx=function({value:e},n,r){n=n instanceof Date?n.getTime():Date.parse(n),r=r instanceof Date?r.getTime():Date.parse(r);const i=e instanceof Date?e.getTime():Date.parse(String(e));if(n&&!r)r=n,n=Date.now();else if(!n||!i)return!1;return i>=n&&i<=r},Hx=function({value:e},n){return n&&typeof n=="string"?C1(n).test(String(e)):!isNaN(Date.parse(String(e)))},Vx=function({value:e}){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e))},Ux=function({value:e},...n){return typeof e=="string"&&n.length?n.some(r=>e.endsWith(r)):typeof e=="string"&&n.length===0},zx=function({value:e},...n){return n.some(r=>typeof r=="object"?Ht(r,e):r==e)},qx=function({value:e},n=0,r=1/0){n=parseInt(n),r=isNaN(parseInt(r))?1/0:parseInt(r);const i=n<=r?n:r,o=r>=n?r:n;if(typeof e=="string"||Array.isArray(e))return e.length>=i&&e.length<=o;if(e&&typeof e=="object"){const s=Object.keys(e).length;return s>=i&&s<=o}return!1},Wx=function({value:e},...n){return n.some(r=>(typeof r=="string"&&r.substr(0,1)==="/"&&r.substr(-1)==="/"&&(r=new RegExp(r.substr(1,r.length-2))),r instanceof RegExp?r.test(String(e)):r===e))},Kx=function({value:e},n=10){return Array.isArray(e)?e.length<=n:Number(e)<=Number(n)},Jx=function({value:e},n=1){return Array.isArray(e)?e.length>=n:Number(e)>=Number(n)},Gx=function({value:e},...n){return!n.some(r=>typeof r=="object"?Ht(r,e):r===e)},Yx=function({value:e}){return!isNaN(e)},Hm=function({value:e},n="default"){return n==="trim"&&typeof e=="string"?!mo(e.trim()):!mo(e)};Hm.skipEmpty=!1;const Xx=function({value:e},...n){return typeof e=="string"&&n.length?n.some(r=>e.startsWith(r)):typeof e=="string"&&n.length===0},Qx=function({value:e},...n){try{const r=n.length?n:["http:","https:"],i=new URL(String(e));return r.includes(i.protocol)}catch{return!1}},Zx=Object.freeze(Object.defineProperty({__proto__:null,accepted:Fm,alpha:Dx,alpha_spaces:Ix,alphanumeric:$x,between:Nx,confirm:jx,date_after:Mx,date_before:Bx,date_between:Fx,date_format:Hx,email:Vx,ends_with:Ux,is:zx,length:qx,matches:Wx,max:Kx,min:Jx,not:Gx,number:Yx,required:Hm,starts_with:Xx,url:Qx},Symbol.toStringTag,{value:"Module"})),Vm=new WeakSet;function yo(t,e){const n=e||Object.assign(new Map,{active:!1}),r=new Map,i=function(u){var h;n.active&&(n.has(t)||n.set(t,new Set),(h=n.get(t))===null||h===void 0||h.add(u))},o=function(u){return new Proxy(u,{get(...h){return typeof h[1]=="string"&&i(`prop:${h[1]}`),Reflect.get(...h)}})},s=function(u){return new Proxy(u,{get(...h){return h[1]==="value"?f=>(i(`count:${f}`),u.value(f)):Reflect.get(...h)}})},l=function(u,h){return Do(u)?yo(u,n):(h==="value"&&i("commit"),h==="props"?o(u):h==="ledger"?s(u):u)},{proxy:a,revoke:c}=Proxy.revocable(t,{get(...u){switch(u[1]){case"_node":return t;case"deps":return n;case"watch":return(f,d)=>qm(a,f,d);case"observe":return()=>{const f=new Map(n);return n.clear(),n.active=!0,f};case"stopObserve":return()=>{const f=new Map(n);return n.active=!1,f};case"receipts":return r;case"kill":return()=>{zm(r),Vm.add(u[2]),c()}}const h=Reflect.get(...u);return typeof h=="function"?(...f)=>{const d=h(...f);return l(d,u[1])}:l(h,u[1])}});return a}function Um(t,[e,n],r){e.forEach((i,o)=>{i.forEach(s=>{var l;t.receipts.has(o)||t.receipts.set(o,{}),t.receipts.set(o,Object.assign((l=t.receipts.get(o))!==null&&l!==void 0?l:{},{[s]:o.on(s,r)}))})}),n.forEach((i,o)=>{i.forEach(s=>{if(t.receipts.has(o)){const l=t.receipts.get(o);l&&be(l,s)&&(o.off(l[s]),delete l[s],t.receipts.set(o,l))}})})}function zm(t){t.forEach((e,n)=>{for(const r in e)n.off(e[r])})}function qm(t,e,n){const r=s=>{const l=t.stopObserve();Um(t,Wm(i,l),()=>qm(t,e,n)),n&&n(s)},i=new Map(t.deps);t.observe();const o=e(t);o instanceof Promise?o.then(s=>r(s)):r(o)}function Wm(t,e){const n=new Map,r=new Map;return e.forEach((i,o)=>{if(!t.has(o))n.set(o,i);else{const s=new Set,l=t.get(o);i.forEach(a=>!(l!=null&&l.has(a))&&s.add(a)),n.set(o,s)}}),t.forEach((i,o)=>{if(!e.has(o))r.set(o,i);else{const s=new Set,l=e.get(o);i.forEach(a=>!(l!=null&&l.has(a))&&s.add(a)),r.set(o,s)}}),[n,r]}function Km(t){return Vm.has(t)}const ah=nn({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function ek(t={}){return function(n){let r=Yt(n.props.validationRules||{}),i={...t,...r},o=yo(n);const s={input:Ii(),rerun:null,isPassing:!0};let l=Yt(n.props.validation);n.on("prop:validation",({payload:c})=>a(c,i)),n.on("prop:validationRules",({payload:c})=>a(l,c));function a(c,u){var h;Ht(Object.keys(r||{}),Object.keys(u||{}))&&Ht(l,c)||(r=Yt(u),l=Yt(c),i={...t,...r},zm(o.receipts),(h=n.props.parsedRules)===null||h===void 0||h.forEach(f=>{var d;f.messageObserver=(d=f.messageObserver)===null||d===void 0?void 0:d.kill()}),n.store.filter(()=>!1,"validation"),n.props.parsedRules=uh(c,i),o.kill(),o=yo(n),Wa(o,n.props.parsedRules,s))}n.props.parsedRules=uh(l,i),Wa(o,n.props.parsedRules,s)}}function Wa(t,e,n){Km(t)||(n.input=Ii(),n.isPassing=!0,t.store.filter(r=>!r.meta.removeImmediately,"validation"),e.forEach(r=>r.debounce&&clearTimeout(r.timer)),e.length&&(t.store.set(ah),Ka(0,e,t,n,!1,()=>{t.store.remove(ah.key)})))}function Ka(t,e,n,r,i,o){const s=e[t];if(!s)return o();const l=r.input;s.state=null;function a(c,u){r.isPassing=r.isPassing&&!!u,s.queued=!1;const h=n.stopObserve();Um(n,Wm(s.deps,h),()=>{s.queued=!0,r.rerun&&clearTimeout(r.rerun),r.rerun=setTimeout(Wa,0,n,e,r)}),s.deps=h,r.input===l&&(s.state=u,u===!1?rk(n,s,i||c):nk(n,s),e.length>t+1?Ka(t+1,e,n,r,i||c,o):o())}(!mo(n.value)||!s.skipEmpty)&&(r.isPassing||s.force)?s.queued?tk(s,n,c=>{c instanceof Promise?c.then(u=>a(!0,u)):a(!1,c)}):Ka(t+1,e,n,r,i,o):mo(n.value)&&s.skipEmpty&&r.isPassing?(n.observe(),n.value,a(!1,r.isPassing)):a(!1,null)}function tk(t,e,n){t.debounce?t.timer=setTimeout(()=>{e.observe(),n(t.rule(e,...t.args))},t.debounce):(e.observe(),n(t.rule(e,...t.args)))}function nk(t,e){const n=`rule_${e.name}`;e.messageObserver&&(e.messageObserver=e.messageObserver.kill()),be(t.store,n)&&t.store.remove(n)}function rk(t,e,n){Km(t)||(e.messageObserver||(e.messageObserver=yo(t._node)),e.messageObserver.watch(r=>ok(r,e),r=>{const i=ik(t,e,r),o=nn({blocking:e.blocking,key:`rule_${e.name}`,meta:{messageKey:e.name,removeImmediately:n,localize:!i,i18nArgs:r},type:"validation",value:i||"This field is not valid."});t.store.set(o)}))}function ik(t,e,n){const r=t.props.validationMessages&&be(t.props.validationMessages,e.name)?t.props.validationMessages[e.name]:void 0;return typeof r=="function"?r(...n):r}function ok(t,e){return[{node:t,name:sk(t),args:e.args}]}function sk(t){return typeof t.props.validationLabel=="function"?t.props.validationLabel(t):t.props.validationLabel||t.props.label||t.props.name||String(t.name)}const Jm="(?:[\\*+?()0-9]+)",Gm="[a-zA-Z][a-zA-Z0-9_]+",lk=new RegExp(`^(${Jm}?${Gm})(?:\\:(.*)+)?$`,"i"),ak=new RegExp(`^(${Jm})(${Gm})$`,"i"),ck=/([\*+?]+)?(\(\d+\))([\*+?]+)?/,ch=/\(\d+\)/,uk={blocking:!0,debounce:0,force:!1,skipEmpty:!0,name:""};function uh(t,e){return t?(typeof t=="string"?fk(t):yi(t)).reduce((r,i)=>{let o=i.shift();const s={};if(typeof o=="string"){const[l,a]=dk(o);be(e,l)&&(o=e[l],Object.assign(s,a))}return typeof o=="function"&&r.push({rule:o,args:i,timer:0,state:null,queued:!0,deps:new Map,...uk,...pk(s,o)}),r},[]):[]}function fk(t){return t.split("|").reduce((e,n)=>{const r=hk(n);return r&&e.push(r),e},[])}function hk(t){const e=t.trim();if(e){const n=e.match(lk);if(n&&typeof n[1]=="string"){const r=n[1].trim(),i=n[2]&&typeof n[2]=="string"?n[2].split(",").map(o=>o.trim()):[];return[r,...i]}}return!1}function dk(t){const e=t.match(ak);if(!e)return[t,{name:t}];const n={"*":{force:!0},"+":{skipEmpty:!1},"?":{blocking:!1}},[,r,i]=e,o=ch.test(r)?r.match(ck)||[]:[,r];return[i,[o[1],o[2],o[3]].reduce((s,l)=>(l&&(ch.test(l)?s.debounce=parseInt(l.substr(1,l.length-1)):l.split("").forEach(a=>be(n,a)&&Object.assign(s,n[a]))),s),{name:i})]}function pk(t,e){return t.name||(t.name=e.ruleName||e.name),["skipEmpty","force","debounce","blocking"].reduce((n,r)=>(be(e,r)&&!be(n,r)&&Object.assign(n,{[r]:e[r]}),n),t)}function Ue(t){return t[0].toUpperCase()+t.substr(1)}function fh(t,e="or"){return t.reduce((n,r,i)=>(n+=r,i<=t.length-2&&t.length>2&&(n+=", "),i===t.length-2&&(n+=`${t.length===2?" ":""}${e} `),n),"")}function Jo(t){const e=typeof t=="string"?new Date(Date.parse(t)):t;return e instanceof Date?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeZone:"UTC"}).format(e):"(unknown)"}function mk(t,e){return Number(t)>=Number(e)?[e,t]:[t,e]}const gk={add:"Add",remove:"Remove",removeAll:"Remove all",incomplete:"Sorry, not all fields are filled out correctly.",submit:"Submit",noFiles:"No file chosen",moveUp:"Move up",moveDown:"Move down",isLoading:"Loading...",loadMore:"Load more",next:"Next",prev:"Previous",addAllValues:"Add all values",addSelectedValues:"Add selected values",removeAllValues:"Remove all values",removeSelectedValues:"Remove selected values",chooseDate:"Choose date",changeDate:"Change date",invalidDate:"The selected date is invalid."},yk={accepted({name:t}){return`Please accept the ${t}.`},date_after({name:t,args:e}){return Array.isArray(e)&&e.length?`${Ue(t)} must be after ${Jo(e[0])}.`:`${Ue(t)} must be in the future.`},alpha({name:t}){return`${Ue(t)} can only contain alphabetical characters.`},alphanumeric({name:t}){return`${Ue(t)} can only contain letters and numbers.`},alpha_spaces({name:t}){return`${Ue(t)} can only contain letters and spaces.`},date_before({name:t,args:e}){return Array.isArray(e)&&e.length?`${Ue(t)} must be before ${Jo(e[0])}.`:`${Ue(t)} must be in the past.`},between({name:t,args:e}){if(isNaN(e[0])||isNaN(e[1]))return"This field was configured incorrectly and cant be submitted.";const[n,r]=mk(e[0],e[1]);return`${Ue(t)} must be between ${n} and ${r}.`},confirm({name:t}){return`${Ue(t)} does not match.`},date_format({name:t,args:e}){return Array.isArray(e)&&e.length?`${Ue(t)} is not a valid date, please use the format ${e[0]}`:"This field was configured incorrectly and cant be submitted"},date_between({name:t,args:e}){return`${Ue(t)} must be between ${Jo(e[0])} and ${Jo(e[1])}`},email:"Please enter a valid email address.",ends_with({name:t,args:e}){return`${Ue(t)} doesnt end with ${fh(e)}.`},is({name:t}){return`${Ue(t)} is not an allowed value.`},length({name:t,args:[e=0,n=1/0]}){const r=Number(e)<=Number(n)?e:n,i=Number(n)>=Number(e)?n:e;return r==1&&i===1/0?`${Ue(t)} must be at least one character.`:r==0&&i?`${Ue(t)} must be less than or equal to ${i} characters.`:r===i?`${Ue(t)} should be ${i} characters long.`:r&&i===1/0?`${Ue(t)} must be greater than or equal to ${r} characters.`:`${Ue(t)} must be between ${r} and ${i} characters.`},matches({name:t}){return`${Ue(t)} is not an allowed value.`},max({name:t,node:{value:e},args:n}){return Array.isArray(e)?`Cannot have more than ${n[0]} ${t}.`:`${Ue(t)} must be less than or equal to ${n[0]}.`},mime({name:t,args:e}){return e[0]?`${Ue(t)} must be of the type: ${e[0]}`:"No file formats allowed."},min({name:t,node:{value:e},args:n}){return Array.isArray(e)?`Cannot have fewer than ${n[0]} ${t}.`:`Must be at least ${n[0]} ${t} .`},not({name:t,node:{value:e}}){return`${e} is not an allowed ${t}.`},number({name:t}){return`${Ue(t)} must be a number.`},required({name:t}){return`${Ue(t)} is required.`},starts_with({name:t,args:e}){return`${Ue(t)} doesnt start with ${fh(e)}.`},url(){return"Please enter a valid URL."}};var bk=Object.freeze({__proto__:null,ui:gk,validation:yk});function vk(t){return function(n){let r=hh(n.config.locale,t),i=r?t[r]:{};n.on("prop:locale",({payload:o})=>{r=hh(o,t),i=r?t[r]:{},n.store.touch()}),n.on("prop:label",()=>n.store.touch()),n.on("prop:validationLabel",()=>n.store.touch()),n.hook.text((o,s)=>{var l,a;const c=((l=o.meta)===null||l===void 0?void 0:l.messageKey)||o.key;if(be(i,o.type)&&be(i[o.type],c)){const u=i[o.type][c];typeof u=="function"?o.value=Array.isArray((a=o.meta)===null||a===void 0?void 0:a.i18nArgs)?u(...o.meta.i18nArgs):u(o):o.value=u}return s(o)})}}function hh(t,e){if(be(e,t))return t;const[n]=t.split("-");if(be(e,n))return n;for(const r in e)return r;return!1}let Zt,un=null,qs,Ym=!1,Gi=!1;const wk=new Promise(t=>{qs=()=>{Ym=!0,t()}}),Dn=typeof window<"u"&&typeof fetch<"u";Zt=Dn?getComputedStyle(document.documentElement):void 0;const ni={},Ql={};function xk(t,e,n,r){e&&Object.assign(ni,e),Dn&&!Gi&&(Zt!=null&&Zt.getPropertyValue("--formkit-theme"))?(qs(),Gi=!0):t&&!Gi&&Dn?kk(t):!Gi&&Dn&&qs();const i=function(s){var l,a;s.addProps(["iconLoader","iconLoaderUrl"]),s.props.iconHandler=ro(!((l=s.props)===null||l===void 0)&&l.iconLoader?s.props.iconLoader:r,!((a=s.props)===null||a===void 0)&&a.iconLoaderUrl?s.props.iconLoaderUrl:n),Ck(s,s.props.iconHandler),s.on("created",()=>{var c;!((c=s==null?void 0:s.context)===null||c===void 0)&&c.handlers&&(s.context.handlers.iconClick=u=>{const h=`on${u.charAt(0).toUpperCase()}${u.slice(1)}IconClick`,f=s.props[h];if(f&&typeof f=="function")return d=>f(s,d)})})};return i.iconHandler=ro(r,n),i}function kk(t){if(!(!t||!Dn||typeof getComputedStyle!="function")&&(Gi=!0,un=document.getElementById("formkit-theme"),t&&Dn&&(!(Zt!=null&&Zt.getPropertyValue("--formkit-theme"))&&!un||un!=null&&un.getAttribute("data-theme")&&(un==null?void 0:un.getAttribute("data-theme"))!==t))){const n=`https://cdn.jsdelivr.net/npm/@formkit/themes@${js.startsWith("__")?"latest":js}/dist/${t}/theme.css`,r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.id="formkit-theme",r.setAttribute("data-theme",t),r.onload=()=>{Zt=getComputedStyle(document.documentElement),qs()},document.head.appendChild(r),r.href=n,un&&un.remove()}}function ro(t,e){return n=>{if(typeof n=="boolean")return;if(n.startsWith("<svg"))return n;if(typeof n!="string")return;const r=n.startsWith("default:");n=r?n.split(":")[1]:n;const i=n in ni;let o;if(i)return ni[n];if(!Ql[n]){if(o=_k(n),o=Dn&&typeof o>"u"?Promise.resolve(o):o,o instanceof Promise)Ql[n]=o.then(s=>!s&&typeof n=="string"&&!r?o=typeof t=="function"?t(n):Sk(n,e):s).then(s=>(typeof n=="string"&&(ni[r?`default:${n}`:n]=s),s));else if(typeof o=="string")return ni[r?`default:${n}`:n]=o,o}return Ql[n]}}function _k(t){if(Dn)return Ym?dh(t):wk.then(()=>dh(t))}function dh(t){const e=Zt==null?void 0:Zt.getPropertyValue(`--fk-icon-${t}`);if(e){const n=atob(e);if(n.startsWith("<svg"))return ni[t]=n,n}}function Sk(t,e){const n=js.startsWith("__")?"latest":js,r=typeof e=="function"?e(t):`https://cdn.jsdelivr.net/npm/@formkit/icons@${n}/dist/icons/${t}.svg`;if(Dn)return fetch(`${r}`).then(async i=>{const o=await i.text();if(o.startsWith("<svg"))return o}).catch(i=>{console.error(i)})}function Ck(t,e){const n=/^[a-zA-Z-]+(?:-icon|Icon)$/;Object.keys(t.props).filter(i=>n.test(i)).forEach(i=>Ek(t,e,i))}function Ek(t,e,n){const r=t.props[n],i=e(r),o=`_raw${n.charAt(0).toUpperCase()}${n.slice(1)}`,s=`on${n.charAt(0).toUpperCase()}${n.slice(1)}Click`;if(t.addProps([o,s]),t.on(`prop:${n}`,Ak),i instanceof Promise)return i.then(l=>{t.props[o]=l});t.props[o]=i}function Ak(t){var e;const n=t.origin,r=t.payload,i=(e=n==null?void 0:n.props)===null||e===void 0?void 0:e.iconHandler,o=t.name.split(":")[1],s=`_raw${o.charAt(0).toUpperCase()}${o.slice(1)}`;if(i&&typeof i=="function"){const l=i(r);if(l instanceof Promise)return l.then(a=>{n.props[s]=a});n.props[s]=l}}let Du=!1;const ph={100:({data:t})=>`Only groups, lists, and forms can have children (${t.name}).`,101:({data:t})=>`You cannot directly modify the store (${t.name}). See: https://formkit.com/advanced/core#message-store`,102:({data:[t,e]})=>`You cannot directly assign node.${e} (${t.name})`,103:({data:[t]})=>`Schema expressions cannot start with an operator (${t})`,104:({data:[t,e]})=>`Schema expressions cannot end with an operator (${t} in "${e}")`,105:({data:t})=>`Invalid schema expression: ${t}`,106:({data:t})=>`Cannot submit because (${t}) is not in a form.`,107:({data:[t,e]})=>`Cannot set ${t.name} to non object value: ${e}`,108:({data:[t,e]})=>`Cannot set ${t.name} to non array value: ${e}`,300:({data:[t]})=>`Cannot set behavior prop to overscroll (on ${t.name} input) when options prop is a function.`,600:({data:t})=>`Unknown input type${typeof t.props.type=="string"?' "'+t.props.type+'"':""} ("${t.name}")`,601:({data:t})=>`Input definition${typeof t.props.type=="string"?' "'+t.props.type+'"':""} is missing a schema or component property (${t.name}).`},mh={150:({data:t})=>`Schema function "${t}()" is not a valid function.`,151:({data:t})=>`No form element with id: ${t}`,152:({data:t})=>`No input element with id: ${t}`,350:({data:t})=>`Invalid options prop for radio input (${t.name}). See https://formkit.com/inputs/radio`,650:'Schema "$get()" must use the id of an input to access.',651:({data:t})=>`Cannot setErrors() on "${t}" because no such id exists.`,652:({data:t})=>`Cannot clearErrors() on "${t}" because no such id exists.`,800:({data:t})=>`${t} is deprecated.`},Ok=(t,e)=>{if(t.code in ph){const n=ph[t.code];t.message=typeof n=="function"?n(t):n}return e(t)};Du||Ou(Ok);const Tk=(t,e)=>{if(t.code in mh){const n=mh[t.code];t.message=typeof n=="function"?n(t):n}return e(t)};Du||Tu(Tk);Du=!0;const Zl={};let gt;const Ar=new Map,Lk="__raw__",Rk=/[a-zA-Z0-9\-][cC]lass$/;function Pk(t,e){const n=Ke(null);if(t==="get"){const i={};return n.value=Mk.bind(null,i),n}const r=t.split(".");return Yn(()=>{n.value=Iu(Ie(e)?e.value:e,r)}),n}function Iu(t,e){if(Array.isArray(t)){for(const i of t){const o=i!==!1&&Iu(i,e);if(o!==void 0)return o}return}let n,r=t;for(const i in e){const o=e[i];if(typeof r!="object"||r===null){n=void 0;break}const s=r[o];if(Number(i)===e.length-1&&s!==void 0){n=typeof s=="function"?s.bind(r):s;break}r=s}return n}function Mk(t,e){if(typeof e!="string")return qr(650);if(e in t||(t[e]=Ke(void 0)),t[e].value===void 0){t[e].value=null;const n=Mo(e);n&&(t[e].value=n.context),Y1(e,({payload:r})=>{t[e].value=Do(r)?r.context:r})}return t[e].value}function gh(t,e){function n(h,f){const d=u(qt(f.if),{if:!0}),p=a(h,f.then),b=f.else?a(h,f.else):null;return[d,p,b]}function r(h,f){var d,p;const b=u(qt(h.if));let g=()=>f,m=()=>f;return typeof h.then=="object"?m=i(h.then,void 0):typeof h.then=="string"&&(!((d=h.then)===null||d===void 0)&&d.startsWith("$"))?m=u(qt(h.then)):m=()=>h.then,be(h,"else")&&(typeof h.else=="object"?g=i(h.else):typeof h.else=="string"&&(!((p=h.else)===null||p===void 0)&&p.startsWith("$"))?g=u(qt(h.else)):g=()=>h.else),()=>b()?m():g()}function i(h,f,d={}){const p=new Set(Object.keys(h||{})),b=f?u(qt(f)):()=>({}),g=[m=>{const x=b();for(const y in x)p.has(y)||(m[y]=x[y])}];if(h){if(Zr(h))return r(h,d);for(let m in h){const x=h[m];let y;const w=typeof x=="string";m.startsWith(Lk)?(m=m.substring(7),y=()=>x):w&&x.startsWith("$")&&x.length>1&&!(x.startsWith("$reset")&&Rk.test(m))?y=u(qt(x)):typeof x=="object"&&Zr(x)?y=r(x,void 0):typeof x=="object"&&Fr(x)?y=i(x):y=()=>x,g.push(v=>{v[m]=y()})}}return()=>{const m=Array.isArray(h)?[]:{};return g.forEach(x=>x(m)),m}}function o(h,f){let d=null,p=()=>null,b=!1,g=null,m=null,x=null,y=!1;const w=Hw(f);if(Ua(w)?(d=w.$el,p=w.$el!=="text"?i(w.attrs,w.bind):()=>null):za(w)?(typeof w.$cmp=="string"?be(h,w.$cmp)?d=h[w.$cmp]:(d=w.$cmp,y=!0):d=w.$cmp,p=i(w.props,w.bind)):Zr(w)&&([b,g,m]=n(h,w)),!Zr(w)&&"if"in w?b=u(qt(w.if)):!Zr(w)&&d===null&&(b=()=>!0),"children"in w&&w.children)if(typeof w.children=="string")if(w.children.startsWith("$slots."))d=d==="text"?"slot":d,g=u(qt(w.children));else if(w.children.startsWith("$")&&w.children.length>1){const v=u(qt(w.children));g=()=>String(v())}else g=()=>String(w.children);else if(Array.isArray(w.children))g=a(h,w.children);else{const[v,_,S]=n(h,w.children);g=C=>v&&v()?_&&_(C):S&&S(C)}if(za(w))if(g){const v=g;g=_=>({default(S,C){var T,P,E,k;const L=gt;C&&(gt=C),S&&((T=Ar.get(gt))===null||T===void 0||T.unshift(S)),_&&((P=Ar.get(gt))===null||P===void 0||P.unshift(_));const R=v(_);return S&&((E=Ar.get(gt))===null||E===void 0||E.shift()),_&&((k=Ar.get(gt))===null||k===void 0||k.shift()),gt=L,R}}),g.slot=!0}else g=()=>({});if("for"in w&&w.for){const v=w.for.length===3?w.for[2]:w.for[1];x=[typeof v=="string"&&v.startsWith("$")?u(qt(v)):()=>v,w.for[0],w.for.length===3?String(w.for[1]):null]}return[b,d,p,g,m,x,y]}function s(h,f){const d=h(f),p=gt;return Object.keys(d).reduce((b,g)=>{const m=d&&d[g];return b[g]=x=>m&&m(x,p)||null,b},{})}function l(h,f){const[d,p,b,g,m,x,y]=o(h,f);let w=v=>{if(d&&p===null&&g)return d()?g(v):m&&m(v);if(p&&(!d||d())){if(p==="text"&&g)return Mr(String(g()));if(p==="slot"&&g)return g(v);const _=y?Br(p):p,S=g!=null&&g.slot?s(g,v):null;return jr(_,b(),S||(g?g(v):[]))}return typeof m=="function"?m(v):m};if(x){const v=w,[_,S,C]=x;w=()=>{const T=_(),P=isNaN(T)?T:Array(Number(T)).fill(0).map((R,A)=>A),E=[];if(typeof P!="object")return null;const k=Ar.get(gt)||[],L=Array.isArray(P);for(const R in P){if(L&&R in Array.prototype)continue;const A=Object.defineProperty({...k.reduce((O,M)=>O.__idata?{...O,...M}:M,{}),[S]:P[R],...C!==null?{[C]:L?Number(R):R}:{}},"__idata",{enumerable:!1,value:!0});k.unshift(A),E.push(v.bind(null,A)()),k.shift()}return E}}return w}function a(h,f){if(Array.isArray(f)){const p=f.map(l.bind(null,h));return b=>p.map(g=>g(b))}const d=l(h,f);return p=>d(p)}const c=[];function u(h,f={}){const d={};return c.push((p,b)=>{d[b]=h.provide(g=>p(g,f))}),()=>d[gt]()}return function(f,d){const p=JSON.stringify(e),[b,g]=be(Zl,p)?Zl[p]:[a(t,e),c];return Zl[p]=[b,g],g.forEach(m=>{m(f,d)}),()=>(gt=d,b())}}function Xm(t,e){const n=Ar.get(gt)||[];let r;return n.length&&(r=Iu(n,t.split("."))),r===void 0?e:r}function Dk(t,e){return new Proxy(t,{get(...n){let r;const i=n[1];if(typeof i=="string"){const o=gt;gt=e,r=Xm(i,void 0),gt=o}return r!==void 0?r:Reflect.get(...n)}})}function yh(t,e,n){return t((r,i={})=>r.reduce((o,s)=>{if(s.startsWith("slots.")){const l=s.substring(6),a=()=>e.slots&&be(e.slots,l)&&typeof e.slots[l]=="function";if(i.if)o[s]=a;else if(e.slots){const c=Dk(e,n);o[s]=()=>a()?e.slots[l](c):null}}else{const l=Pk(s,e);o[s]=()=>Xm(s,l.value)}return o},{}),n)}let bh=0;const $u=kt({name:"FormKitSchema",props:{schema:{type:[Array,Object],required:!0},data:{type:Object,default:()=>({})},library:{type:Object,default:()=>({})}},setup(t,e){const n=Su();let r=Symbol(String(bh++));Ar.set(r,[]);let i=gh(t.library,t.schema),o,s;return Ft(()=>t.schema,(l,a)=>{var c;r=Symbol(String(bh++)),i=gh(t.library,t.schema),o=yh(i,s,r),l===a&&((c=n==null?void 0:n.proxy)===null||c===void 0?void 0:c.$forceUpdate)()},{deep:!0}),Yn(()=>{s=Object.assign(Jt(t.data),{slots:e.slots}),o=yh(i,s,r)}),()=>o()}}),Ik={config:{type:Object,default:{}},classes:{type:Object,required:!1},delay:{type:Number,required:!1},errors:{type:Array,default:[]},inputErrors:{type:Object,default:()=>({})},index:{type:Number,required:!1},id:{type:String,required:!1},modelValue:{required:!1},name:{type:String,required:!1},parent:{type:Object,required:!1},plugins:{type:Array,default:[]},sectionsSchema:{type:Object,default:{}},type:{type:[String,Object],default:"text"},validation:{type:[String,Array],required:!1},validationMessages:{type:Object,required:!1},validationRules:{type:Object,required:!1},validationLabel:{type:[String,Function],required:!1}},$k=Ik,Ws=Symbol("FormKitParent"),Tr=kt({props:$k,emits:{input:(t,e)=>!0,inputRaw:(t,e)=>!0,"update:modelValue":t=>!0,node:t=>!!t,submit:(t,e)=>!0,submitRaw:(t,e)=>!0,submitInvalid:t=>!0},inheritAttrs:!1,setup(t,e){const n=zk(t,e);if(n.props.definition||Dt(600,n),n.props.definition.component)return()=>{var s;return jr((s=n.props.definition)===null||s===void 0?void 0:s.component,{context:n.context},{...e.slots})};const r=Ke([]),i=()=>{var s,l;const a=(l=(s=n.props)===null||s===void 0?void 0:s.definition)===null||l===void 0?void 0:l.schema;a||Dt(601,n),r.value=typeof a=="function"?a({...t.sectionsSchema}):a};i(),n.on("schema",i),e.emit("node",n);const o=n.props.definition.library;return e.expose({node:n}),()=>jr($u,{schema:r.value,data:n.context,library:o},{...e.slots})}});function Bk(t,e){return t.component(e.alias||"FormKit",Tr).component(e.schemaAlias||"FormKitSchema",$u),{get:Mo,setLocale:n=>{var r;!((r=e.config)===null||r===void 0)&&r.rootConfig&&(e.config.rootConfig.locale=n)},clearErrors:zw,setErrors:Uw,submit:xm,reset:km}}const Bu=Symbol.for("FormKitOptions"),Nk=Symbol.for("FormKitConfig"),jk={install(t,e){const n=Object.assign({alias:"FormKit",schemaAlias:"FormKitSchema"},typeof e=="function"?e():e),r=X1(n.config||{});n.config={rootConfig:r},t.config.globalProperties.$formkit=Bk(t,n),t.provide(Bu,n),t.provide(Nk,r)}},Ja=Symbol();function Fk(t,e){const n={},r=s=>{for(const l of s)l.__str in n&&n[l.__str](),n[l.__str]=Ft(Vk.bind(null,t,l),o.bind(null,l),{deep:!1})},o=Hk(t,e,r,s=>{if(s.length)for(const l in n)`${l}`.startsWith(`${s.__str}.`)&&(n[l](),delete n[l])});r(Nu(t))}function Hk(t,e,n,r){return i=>{const o=Qm(t,i);o!==Ja&&(i.__deep&&r(i),typeof o=="object"&&n(Nu(o,[i],...i)),e(i,o,t))}}function Vk(t,e){const n=Qm(t,e);return n&&typeof n=="object"?Object.keys(n):n}function Qm(t,e){if(Ie(t)){if(e.length===0)return t.value;t=t.value}return e.reduce((n,r)=>n===Ja?n:n===null||typeof n!="object"?Ja:n[r],t)}function Nu(t,e=[],...n){if(t===null)return e;if(!n.length){const r=Object.defineProperty([],"__str",{value:""});if(t=Ie(t)?t.value:t,t&&typeof t=="object")Object.defineProperty(r,"__deep",{value:!0}),e.push(r);else return[r]}if(t===null||typeof t!="object")return e;for(const r in t){const i=n.concat(r);Object.defineProperty(i,"__str",{value:i.join(".")});const o=t[r];Fr(o)||Array.isArray(o)?(e.push(Object.defineProperty(i,"__deep",{value:!0})),e=e.concat(Nu(o,[],...i))):e.push(i)}return e}function bs(t){return t===null||typeof t!="object"||(jt(t)?t=Ce(t):Ie(t)&&(t=jt(t.value)?bs(t.value):t.value)),t}const ea=["help","label","ignore","disabled","preserve",/^preserve(-e|E)rrors/,/^[a-z]+(?:-visibility|Visibility|-behavior|Behavior)$/,/^[a-zA-Z-]+(?:-class|Class)$/,"prefixIcon","suffixIcon",/^[a-zA-Z-]+(?:-icon|Icon)$/];function vh(t,e){e.classes&&Object.keys(e.classes).forEach(n=>{typeof n=="string"&&(t.props[`_${n}Class`]=e.classes[n],ja(e.classes[n])&&n==="inner"&&Object.values(e.classes[n]))})}function Uk(t){return t?["Submit","SubmitRaw","SubmitInvalid"].reduce((n,r)=>{const i=`on${r}`;return i in t&&typeof t[i]=="function"&&(n[i]=t[i]),n},{}):{}}function zk(t,e,n={}){var r;const i=Object.assign({},ft(Bu)||{},n),o=Su(),s=Uk(o==null?void 0:o.vnode.props),l="modelValue"in((r=o==null?void 0:o.vnode.props)!==null&&r!==void 0?r:{}),a=t.modelValue!==void 0?t.modelValue:Yt(e.attrs.value);function c(){const v={...Yr(t),...s},_=Yf(Yr(e.attrs),ea);_.key||(_.key=Ii()),v.attrs=_;const S=Xf(Yr(e.attrs),ea);for(const T in S)v[ai(T)]=S[T];const C={props:{}};return vh(C,t),Object.assign(v,C.props),typeof v.type!="string"&&(v.definition=v.type,delete v.type),v}const u=c(),h=u.ignore?null:t.parent||ft(Ws,null),f=jw(Hr(i||{},{name:t.name||void 0,value:a,parent:h,plugins:(i.plugins||[]).concat(t.plugins),config:t.config,props:u,index:t.index},!1,!0));f.props.definition||Dt(600,f);const d=Ke(new Set(f.props.definition.props||[]));f.on("added-props",({payload:v})=>{Array.isArray(v)&&v.forEach(_=>d.value.add(_))});const p=De(()=>ea.concat([...d.value]).reduce((v,_)=>(typeof _=="string"?(v.push(ai(_)),v.push(gm(_))):v.push(_),v),[]));Yn(()=>vh(f,t));const b=Yr(t);for(const v in b)Ft(()=>t[v],()=>{t[v]!==void 0&&(f.props[v]=t[v])});const g=new Set,m=Yr(e.attrs);Yn(()=>{x(Xf(m,p.value))});function x(v){g.forEach(_=>{_(),g.delete(_)});for(const _ in v){const S=ai(_);g.add(Ft(()=>e.attrs[_],()=>{f.props[S]=e.attrs[_]}))}}if(Yn(()=>{const v=Yf(Yr(e.attrs),p.value);"multiple"in v&&(v.multiple=Xt(v.multiple)),f.props.attrs=Object.assign({},f.props.attrs||{},v)}),Yn(()=>{const v=t.errors.map(_=>nn({key:Eu(_),type:"error",value:_,meta:{source:"prop"}}));f.store.apply(v,_=>_.type==="error"&&_.meta.source==="prop")}),f.type!=="input"){const v=`${f.name}-prop`;Yn(()=>{const _=Object.keys(t.inputErrors);_.length||f.clearErrors(!0,v);const S=_.reduce((C,T)=>{let P=t.inputErrors[T];return typeof P=="string"&&(P=[P]),Array.isArray(P)&&(C[T]=P.map(E=>nn({key:E,type:"error",value:E,meta:{source:v}}))),C},{});f.store.apply(S,C=>C.type==="error"&&C.meta.source===v)})}Yn(()=>Object.assign(f.config,t.config)),f.type!=="input"&&Zi(Ws,f);let y;const w=new WeakSet;return f.on("modelUpdated",()=>{var v,_;if(e.emit("inputRaw",(v=f.context)===null||v===void 0?void 0:v.value,f),clearTimeout(y),y=setTimeout(e.emit,20,"input",(_=f.context)===null||_===void 0?void 0:_.value,f),l&&f.context){const S=bs(f.context.value);ja(S)&&bs(t.modelValue)!==S&&w.add(S),e.emit("update:modelValue",S)}}),l&&(Fk(Np(t,"modelValue"),(v,_)=>{var S;const C=bs(_);if(ja(C)&&w.has(C))return w.delete(C);v.length?(S=f.at(v))===null||S===void 0||S.input(_,!1):f.input(_,!1)}),f.value!==a&&f.emit("modelUpdated")),vu(()=>f.destroy()),f}const qk=ke("messages",()=>({$el:"ul",if:"$fns.length($messages)"}),!0),Wk=ke("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),Kk=qk(Wk("$message.value"));kt({props:{node:{type:Object,required:!1},sectionsSchema:{type:Object,default:{}},defaultPosition:{type:[String,Boolean],default:!1}},setup(t,e){const n=De(()=>t.node||ft(Ws,void 0));Ft(n,()=>{var o;!((o=n.value)===null||o===void 0)&&o.context&&!Xt(t.defaultPosition)&&(n.value.context.defaultMessagePlacement=!1)},{immediate:!0});const r=Kk(t.sectionsSchema||{}),i=De(()=>{var o,s,l,a,c,u;return{messages:((s=(o=n.value)===null||o===void 0?void 0:o.context)===null||s===void 0?void 0:s.messages)||{},fns:((a=(l=n.value)===null||l===void 0?void 0:l.context)===null||a===void 0?void 0:a.fns)||{},classes:((u=(c=n.value)===null||c===void 0?void 0:c.context)===null||u===void 0?void 0:u.classes)||{}}});return()=>{var o;return!((o=n.value)===null||o===void 0)&&o.context?jr($u,{schema:r,data:i.value},{...e.slots}):null}}});const Jk=function(e){e.ledger.count("blocking",S=>S.blocking);const n=Ke(!e.ledger.value("blocking"));e.ledger.count("errors",S=>S.type==="error");const r=Ke(!!e.ledger.value("errors"));let i=!1;ml(()=>{i=!0});const o=Jt(e.store.reduce((S,C)=>(C.visible&&(S[C.key]=C),S),{})),s=Ke(e.props.validationVisibility||"blur");e.on("prop:validationVisibility",({payload:S})=>{s.value=S});const l=Ke(s.value==="live"),a=De(()=>{if(x.state.submitted)return!0;if(!l.value&&!x.state.settled)return!1;switch(s.value){case"live":return!0;case"blur":return x.state.blurred;case"dirty":return x.state.dirty;default:return!1}}),c=De(()=>u.value?n.value&&!r.value:x.state.dirty&&!mo(x.value)),u=Ke(Array.isArray(e.props.parsedRules)&&e.props.parsedRules.length>0);e.on("prop:parsedRules",({payload:S})=>{u.value=Array.isArray(S)&&S.length>0});const h=De(()=>{const S={};for(const C in o){const T=o[C];(T.type!=="validation"||a.value)&&(S[C]=T)}return S}),f=Jt(e.store.reduce((S,C)=>(C.type==="ui"&&C.visible&&(S[C.key]=C),S),{})),d=Jt({}),p=new Proxy(d,{get(...S){const[C,T]=S;let P=Reflect.get(...S);return!P&&typeof T=="string"&&!be(C,T)&&!T.startsWith("__v")&&yo(e).watch(k=>{const L=typeof k.config.rootClasses=="function"?k.config.rootClasses(T,k):{},R=k.config.classes?ms(T,k,k.config.classes[T]):{},A=ms(T,k,k.props[`_${T}Class`]),O=ms(T,k,k.props[`${T}Class`]);P=Vw(k,T,L,R,A,O),C[T]=P??""}),P}}),b=De(()=>{const S=[];x.help&&S.push(`help-${e.props.id}`);for(const C in h.value)S.push(`${e.props.id}-${C}`);return S.length?S.join(" "):void 0}),g=Ke(e.value),m=Ke(e.value),x=Jt({_value:m,attrs:e.props.attrs,disabled:e.props.disabled,describedBy:b,fns:{length:S=>Object.keys(S).length,number:S=>Number(S),string:S=>String(S),json:S=>JSON.stringify(S),eq:Ht},handlers:{blur:S=>{e.store.set(nn({key:"blurred",visible:!1,value:!0})),typeof e.props.attrs.onBlur=="function"&&e.props.attrs.onBlur(S)},touch:()=>{var S;const C=x.dirtyBehavior==="compare";if(!((S=e.store.dirty)===null||S===void 0)&&S.value&&!C)return;const T=!Ht(e.props._init,e._value);!T&&!C||e.store.set(nn({key:"dirty",visible:!1,value:T}))},DOMInput:S=>{e.input(S.target.value),e.emit("dom-input-event",S)}},help:e.props.help,id:e.props.id,label:e.props.label,messages:h,node:$r(e),options:e.props.options,defaultMessagePlacement:!0,state:{blurred:!1,complete:c,dirty:!1,submitted:!1,settled:e.isSettled,valid:n,errors:r,rules:u,validationVisible:a},type:e.props.type,family:e.props.family,ui:f,value:g,classes:p});e.on("created",()=>{Ht(x.value,e.value)||(m.value=e.value,g.value=e.value,Wo(g),Wo(m)),(async()=>(await e.settled,e.props._init=Yt(e.value)))()}),e.on("settled",({payload:S})=>{x.state.settled=S});function y(S){S.forEach(C=>{C=ai(C),!be(x,C)&&be(e.props,C)&&(x[C]=e.props[C]),e.on(`prop:${C}`,({payload:T})=>{x[C]=T})})}y((()=>{const S=["help","label","disabled","options","type","attrs","preserve","preserveErrors","id","dirtyBehavior"],C=/^[a-zA-Z-]+(?:-icon|Icon)$/,T=Object.keys(e.props).filter(P=>C.test(P));return S.concat(T)})());function v(S){S.props&&y(S.props)}e.props.definition&&v(e.props.definition),e.on("added-props",({payload:S})=>y(S)),e.on("input",({payload:S})=>{e.type!=="input"&&!Ie(S)&&!jt(S)?m.value=Qf(S):(m.value=S,Wo(m))}),e.on("commit",({payload:S})=>{e.type!=="input"&&!Ie(S)&&!jt(S)?g.value=m.value=Qf(S):(g.value=m.value=S,Wo(g)),e.emit("modelUpdated"),(!x.state.dirty||x.dirtyBehavior==="compare")&&e.isCreated&&i&&x.handlers.touch(),c&&e.type==="input"&&r.value&&!Xt(e.props.preserveErrors)&&e.store.filter(C=>{var T;return!(C.type==="error"&&((T=C.meta)===null||T===void 0?void 0:T.autoClear)===!0)})});const _=async S=>{S.type==="ui"&&S.visible&&!S.meta.showAsMessage?f[S.key]=S:S.visible?o[S.key]=S:S.type==="state"&&(x.state[S.key]=!!S.value)};e.on("message-added",S=>_(S.payload)),e.on("message-updated",S=>_(S.payload)),e.on("message-removed",({payload:S})=>{delete f[S.key],delete o[S.key],delete x.state[S.key]}),e.on("settled:blocking",()=>{n.value=!0}),e.on("unsettled:blocking",()=>{n.value=!1}),e.on("settled:errors",()=>{r.value=!1}),e.on("unsettled:errors",()=>{r.value=!0}),Ft(a,S=>{S&&(l.value=!0)}),e.context=x,e.emit("context",e,!1)},Gk=(t={})=>{const{rules:e={},locales:n={},inputs:r={},messages:i={},locale:o=void 0,theme:s=void 0,iconLoaderUrl:l=void 0,iconLoader:a=void 0,icons:c={},...u}=t,h=ek({...Zx,...e||{}}),f=vk(Hr({en:bk,...n||{}},i)),d=qw(Px,r),p=xk(s,c,l,a);return Hr({plugins:[d,p,Jk,f,h],...o?{config:{locale:o}}:{}},u||{},!0)};kt({name:"FormKitIcon",props:{icon:{type:String,default:""},iconLoader:{type:Function,default:null},iconLoaderUrl:{type:Function,default:null}},setup(t){var e,n;const r=Ke(void 0),i=ft(Bu,{}),o=ft(Ws,null);let s;function l(){if(!s||typeof s!="function")return;const a=s(t.icon);a instanceof Promise?a.then(c=>{r.value=c}):r.value=a}if(t.iconLoader&&typeof t.iconLoader=="function")s=ro(t.iconLoader);else if(o&&(!((e=o.props)===null||e===void 0)&&e.iconLoader))s=ro(o.props.iconLoader);else if(t.iconLoaderUrl&&typeof t.iconLoaderUrl=="function")s=ro(s,t.iconLoaderUrl);else{const a=(n=i==null?void 0:i.plugins)===null||n===void 0?void 0:n.find(c=>typeof c.iconHandler=="function");a&&(s=a.iconHandler)}return Ft(()=>t.icon,()=>{l()},{immediate:!0}),()=>t.icon&&r.value?jr("span",{class:"formkit-icon",innerHTML:r.value}):null}});const Vn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Yk={},Xk=Le("a",{href:"/",class:"brand"},"Vaunt",-1),Qk={class:"nav-links"};function Zk(t,e){const n=Br("router-link");return st(),wt("nav",null,[Xk,Le("div",Qk,[Se(n,{to:"/admin"},{default:vn(()=>[Mr("Articles")]),_:1})])])}const e_=Vn(Yk,[["render",Zk]]),t_=kt({__name:"App",setup(t){return(e,n)=>{const r=Br("router-view");return st(),wt(Lt,null,[Se(e_),Le("main",null,[Se(r)])],64)}}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const ei=typeof window<"u";function n_(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Pe=Object.assign;function ta(t,e){const n={};for(const r in e){const i=e[r];n[r]=rn(i)?i.map(t):t(i)}return n}const io=()=>{},rn=Array.isArray,r_=/\/$/,i_=t=>t.replace(r_,"");function na(t,e,n="/"){let r,i={},o="",s="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=e.slice(0,a),o=e.slice(a+1,l>-1?l:e.length),i=t(o)),l>-1&&(r=r||e.slice(0,l),s=e.slice(l,e.length)),r=a_(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function o_(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function wh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function s_(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&wi(e.matched[r],n.matched[i])&&Zm(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function wi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Zm(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!l_(t[n],e[n]))return!1;return!0}function l_(t,e){return rn(t)?xh(t,e):rn(e)?xh(e,t):t===e}function xh(t,e){return rn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function a_(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var bo;(function(t){t.pop="pop",t.push="push"})(bo||(bo={}));var oo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oo||(oo={}));function c_(t){if(!t)if(ei){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),i_(t)}const u_=/^[^#]+#/;function f_(t,e){return t.replace(u_,"#")+e}function h_(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Sl=()=>({left:window.pageXOffset,top:window.pageYOffset});function d_(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=h_(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function kh(t,e){return(history.state?history.state.position-e:-1)+t}const Ga=new Map;function p_(t,e){Ga.set(t,e)}function m_(t){const e=Ga.get(t);return Ga.delete(t),e}let g_=()=>location.protocol+"//"+location.host;function eg(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let l=i.includes(t.slice(o))?t.slice(o).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),wh(a,"")}return wh(n,t)+r+i}function y_(t,e,n,r){let i=[],o=[],s=null;const l=({state:f})=>{const d=eg(t,location),p=n.value,b=e.value;let g=0;if(f){if(n.value=d,e.value=f,s&&s===p){s=null;return}g=b?f.position-b.position:0}else r(d);i.forEach(m=>{m(n.value,p,{delta:g,type:bo.pop,direction:g?g>0?oo.forward:oo.back:oo.unknown})})};function a(){s=n.value}function c(f){i.push(f);const d=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return o.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(Pe({},f.state,{scroll:Sl()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:a,listen:c,destroy:h}}function _h(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Sl():null}}function b_(t){const{history:e,location:n}=window,r={value:eg(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(a,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+a:g_()+t+a;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function s(a,c){const u=Pe({},e.state,_h(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});o(a,u,!0),r.value=a}function l(a,c){const u=Pe({},i.value,e.state,{forward:a,scroll:Sl()});o(u.current,u,!0);const h=Pe({},_h(r.value,a,null),{position:u.position+1},c);o(a,h,!1),r.value=a}return{location:r,state:i,push:l,replace:s}}function v_(t){t=c_(t);const e=b_(t),n=y_(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=Pe({location:"",base:t,go:r,createHref:f_.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function w_(t){return typeof t=="string"||t&&typeof t=="object"}function tg(t){return typeof t=="string"||typeof t=="symbol"}const Wn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ng=Symbol("");var Sh;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Sh||(Sh={}));function xi(t,e){return Pe(new Error,{type:t,[ng]:!0},e)}function Ln(t,e){return t instanceof Error&&ng in t&&(e==null||!!(t.type&e))}const Ch="[^/]+?",x_={sensitive:!1,strict:!1,start:!0,end:!0},k_=/[.+*?^${}()[\]/\\]/g;function __(t,e){const n=Pe({},x_,e),r=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(k_,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:b,optional:g,regexp:m}=f;o.push({name:p,repeatable:b,optional:g});const x=m||Ch;if(x!==Ch){d+=10;try{new RegExp(`(${x})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${x}): `+w.message)}}let y=b?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;h||(y=g&&c.length<2?`(?:/${y})`:"/"+y),g&&(y+="?"),i+=y,d+=20,g&&(d+=-8),b&&(d+=-20),x===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(s),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=o[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function a(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:b,optional:g}=d,m=p in c?c[p]:"";if(rn(m)&&!b)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const x=rn(m)?m.join("/"):m;if(!x)if(g)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=x}}return u||"/"}return{re:s,score:r,keys:o,parse:l,stringify:a}}function S_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function C_(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=S_(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Eh(r))return 1;if(Eh(i))return-1}return i.length-r.length}function Eh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const E_={type:0,value:""},A_=/[a-zA-Z0-9_]/;function O_(t){if(!t)return[[]];if(t==="/")return[[E_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let l=0,a,c="",u="";function h(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(c&&h(),s()):a===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:a==="("?n=2:A_.test(a)?f():(h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}function T_(t,e,n){const r=__(O_(t.path),n),i=Pe(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function L_(t,e){const n=[],r=new Map;e=Th({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function o(u,h,f){const d=!f,p=R_(u);p.aliasOf=f&&f.record;const b=Th(e,u),g=[p];if("alias"in u){const y=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of y)g.push(Pe({},p,{components:f?f.record.components:p.components,path:w,aliasOf:f?f.record:p}))}let m,x;for(const y of g){const{path:w}=y;if(h&&w[0]!=="/"){const v=h.record.path,_=v[v.length-1]==="/"?"":"/";y.path=h.record.path+(w&&_+w)}if(m=T_(y,h,b),f?f.alias.push(m):(x=x||m,x!==m&&x.alias.push(m),d&&u.name&&!Oh(m)&&s(u.name)),p.children){const v=p.children;for(let _=0;_<v.length;_++)o(v[_],m,f&&f.children[_])}f=f||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&a(m)}return x?()=>{s(x)}:io}function s(u){if(tg(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(s),h.alias.forEach(s))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function l(){return n}function a(u){let h=0;for(;h<n.length&&C_(u,n[h])>=0&&(u.record.path!==n[h].record.path||!rg(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Oh(u)&&r.set(u.record.name,u)}function c(u,h){let f,d={},p,b;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw xi(1,{location:u});b=f.record.name,d=Pe(Ah(h.params,f.keys.filter(x=>!x.optional).map(x=>x.name)),u.params&&Ah(u.params,f.keys.map(x=>x.name))),p=f.stringify(d)}else if("path"in u)p=u.path,f=n.find(x=>x.re.test(p)),f&&(d=f.parse(p),b=f.record.name);else{if(f=h.name?r.get(h.name):n.find(x=>x.re.test(h.path)),!f)throw xi(1,{location:u,currentLocation:h});b=f.record.name,d=Pe({},h.params,u.params),p=f.stringify(d)}const g=[];let m=f;for(;m;)g.unshift(m.record),m=m.parent;return{name:b,path:p,params:d,matched:g,meta:M_(g)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:l,getRecordMatcher:i}}function Ah(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function R_(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:P_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function P_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Oh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function M_(t){return t.reduce((e,n)=>Pe(e,n.meta),{})}function Th(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function rg(t,e){return e.children.some(n=>n===t||rg(t,n))}const ig=/#/g,D_=/&/g,I_=/\//g,$_=/=/g,B_=/\?/g,og=/\+/g,N_=/%5B/g,j_=/%5D/g,sg=/%5E/g,F_=/%60/g,lg=/%7B/g,H_=/%7C/g,ag=/%7D/g,V_=/%20/g;function ju(t){return encodeURI(""+t).replace(H_,"|").replace(N_,"[").replace(j_,"]")}function U_(t){return ju(t).replace(lg,"{").replace(ag,"}").replace(sg,"^")}function Ya(t){return ju(t).replace(og,"%2B").replace(V_,"+").replace(ig,"%23").replace(D_,"%26").replace(F_,"`").replace(lg,"{").replace(ag,"}").replace(sg,"^")}function z_(t){return Ya(t).replace($_,"%3D")}function q_(t){return ju(t).replace(ig,"%23").replace(B_,"%3F")}function W_(t){return t==null?"":q_(t).replace(I_,"%2F")}function Ks(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function K_(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(og," "),s=o.indexOf("="),l=Ks(s<0?o:o.slice(0,s)),a=s<0?null:Ks(o.slice(s+1));if(l in e){let c=e[l];rn(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function Lh(t){let e="";for(let n in t){const r=t[n];if(n=z_(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(rn(r)?r.map(o=>o&&Ya(o)):[r&&Ya(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function J_(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=rn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const G_=Symbol(""),Rh=Symbol(""),Cl=Symbol(""),Fu=Symbol(""),Xa=Symbol("");function Fi(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Qn(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const a=h=>{h===!1?l(xi(4,{from:n,to:e})):h instanceof Error?l(h):w_(h)?l(xi(2,{from:e,to:h})):(o&&r.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),s())},c=t.call(r&&r.instances[i],e,n,a);let u=Promise.resolve(c);t.length<3&&(u=u.then(a)),u.catch(h=>l(h))})}function ra(t,e,n,r){const i=[];for(const o of t)for(const s in o.components){let l=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(Y_(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Qn(c,n,r,o,s))}else{let a=l();i.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const u=n_(c)?c.default:c;o.components[s]=u;const f=(u.__vccOpts||u)[e];return f&&Qn(f,n,r,o,s)()}))}}return i}function Y_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Ph(t){const e=ft(Cl),n=ft(Fu),r=De(()=>e.resolve(je(t.to))),i=De(()=>{const{matched:a}=r.value,{length:c}=a,u=a[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(wi.bind(null,u));if(f>-1)return f;const d=Mh(a[c-2]);return c>1&&Mh(u)===d&&h[h.length-1].path!==d?h.findIndex(wi.bind(null,a[c-2])):f}),o=De(()=>i.value>-1&&eS(n.params,r.value.params)),s=De(()=>i.value>-1&&i.value===n.matched.length-1&&Zm(n.params,r.value.params));function l(a={}){return Z_(a)?e[je(t.replace)?"replace":"push"](je(t.to)).catch(io):Promise.resolve()}return{route:r,href:De(()=>r.value.href),isActive:o,isExactActive:s,navigate:l}}const X_=kt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ph,setup(t,{slots:e}){const n=Jt(Ph(t)),{options:r}=ft(Cl),i=De(()=>({[Dh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Dh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:jr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),Q_=X_;function Z_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function eS(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!rn(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function Mh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Dh=(t,e,n)=>t??e??n,tS=kt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ft(Xa),i=De(()=>t.route||r.value),o=ft(Rh,0),s=De(()=>{let c=je(o);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),l=De(()=>i.value.matched[s.value]);Zi(Rh,De(()=>s.value+1)),Zi(G_,l),Zi(Xa,i);const a=Ke();return Ft(()=>[a.value,l.value,t.name],([c,u,h],[f,d,p])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!wi(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,h=l.value,f=h&&h.components[u];if(!f)return Ih(n.default,{Component:f,route:c});const d=h.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,g=jr(f,Pe({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(h.instances[u]=null)},ref:a}));return Ih(n.default,{Component:g,route:c})||g}}});function Ih(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const nS=tS;function rS(t){const e=L_(t.routes,t),n=t.parseQuery||K_,r=t.stringifyQuery||Lh,i=t.history,o=Fi(),s=Fi(),l=Fi(),a=jb(Wn);let c=Wn;ei&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ta.bind(null,H=>""+H),h=ta.bind(null,W_),f=ta.bind(null,Ks);function d(H,Y){let G,ie;return tg(H)?(G=e.getRecordMatcher(H),ie=Y):ie=H,e.addRoute(ie,G)}function p(H){const Y=e.getRecordMatcher(H);Y&&e.removeRoute(Y)}function b(){return e.getRoutes().map(H=>H.record)}function g(H){return!!e.getRecordMatcher(H)}function m(H,Y){if(Y=Pe({},Y||a.value),typeof H=="string"){const D=na(n,H,Y.path),$=e.resolve({path:D.path},Y),F=i.createHref(D.fullPath);return Pe(D,$,{params:f($.params),hash:Ks(D.hash),redirectedFrom:void 0,href:F})}let G;if("path"in H)G=Pe({},H,{path:na(n,H.path,Y.path).path});else{const D=Pe({},H.params);for(const $ in D)D[$]==null&&delete D[$];G=Pe({},H,{params:h(H.params)}),Y.params=h(Y.params)}const ie=e.resolve(G,Y),he=H.hash||"";ie.params=u(f(ie.params));const pe=o_(r,Pe({},H,{hash:U_(he),path:ie.path})),ce=i.createHref(pe);return Pe({fullPath:pe,hash:he,query:r===Lh?J_(H.query):H.query||{}},ie,{redirectedFrom:void 0,href:ce})}function x(H){return typeof H=="string"?na(n,H,a.value.path):Pe({},H)}function y(H,Y){if(c!==H)return xi(8,{from:Y,to:H})}function w(H){return S(H)}function v(H){return w(Pe(x(H),{replace:!0}))}function _(H){const Y=H.matched[H.matched.length-1];if(Y&&Y.redirect){const{redirect:G}=Y;let ie=typeof G=="function"?G(H):G;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=x(ie):{path:ie},ie.params={}),Pe({query:H.query,hash:H.hash,params:"path"in ie?{}:H.params},ie)}}function S(H,Y){const G=c=m(H),ie=a.value,he=H.state,pe=H.force,ce=H.replace===!0,D=_(G);if(D)return S(Pe(x(D),{state:typeof D=="object"?Pe({},he,D.state):he,force:pe,replace:ce}),Y||G);const $=G;$.redirectedFrom=Y;let F;return!pe&&s_(r,ie,G)&&(F=xi(16,{to:$,from:ie}),W(ie,ie,!0,!1)),(F?Promise.resolve(F):T($,ie)).catch(z=>Ln(z)?Ln(z,2)?z:B(z):M(z,$,ie)).then(z=>{if(z){if(Ln(z,2))return S(Pe({replace:ce},x(z.to),{state:typeof z.to=="object"?Pe({},he,z.to.state):he,force:pe}),Y||$)}else z=E($,ie,!0,ce,he);return P($,ie,z),z})}function C(H,Y){const G=y(H,Y);return G?Promise.reject(G):Promise.resolve()}function T(H,Y){let G;const[ie,he,pe]=iS(H,Y);G=ra(ie.reverse(),"beforeRouteLeave",H,Y);for(const D of ie)D.leaveGuards.forEach($=>{G.push(Qn($,H,Y))});const ce=C.bind(null,H,Y);return G.push(ce),Xr(G).then(()=>{G=[];for(const D of o.list())G.push(Qn(D,H,Y));return G.push(ce),Xr(G)}).then(()=>{G=ra(he,"beforeRouteUpdate",H,Y);for(const D of he)D.updateGuards.forEach($=>{G.push(Qn($,H,Y))});return G.push(ce),Xr(G)}).then(()=>{G=[];for(const D of H.matched)if(D.beforeEnter&&!Y.matched.includes(D))if(rn(D.beforeEnter))for(const $ of D.beforeEnter)G.push(Qn($,H,Y));else G.push(Qn(D.beforeEnter,H,Y));return G.push(ce),Xr(G)}).then(()=>(H.matched.forEach(D=>D.enterCallbacks={}),G=ra(pe,"beforeRouteEnter",H,Y),G.push(ce),Xr(G))).then(()=>{G=[];for(const D of s.list())G.push(Qn(D,H,Y));return G.push(ce),Xr(G)}).catch(D=>Ln(D,8)?D:Promise.reject(D))}function P(H,Y,G){for(const ie of l.list())ie(H,Y,G)}function E(H,Y,G,ie,he){const pe=y(H,Y);if(pe)return pe;const ce=Y===Wn,D=ei?history.state:{};G&&(ie||ce?i.replace(H.fullPath,Pe({scroll:ce&&D&&D.scroll},he)):i.push(H.fullPath,he)),a.value=H,W(H,Y,G,ce),B()}let k;function L(){k||(k=i.listen((H,Y,G)=>{if(!se.listening)return;const ie=m(H),he=_(ie);if(he){S(Pe(he,{replace:!0}),ie).catch(io);return}c=ie;const pe=a.value;ei&&p_(kh(pe.fullPath,G.delta),Sl()),T(ie,pe).catch(ce=>Ln(ce,12)?ce:Ln(ce,2)?(S(ce.to,ie).then(D=>{Ln(D,20)&&!G.delta&&G.type===bo.pop&&i.go(-1,!1)}).catch(io),Promise.reject()):(G.delta&&i.go(-G.delta,!1),M(ce,ie,pe))).then(ce=>{ce=ce||E(ie,pe,!1),ce&&(G.delta&&!Ln(ce,8)?i.go(-G.delta,!1):G.type===bo.pop&&Ln(ce,20)&&i.go(-1,!1)),P(ie,pe,ce)}).catch(io)}))}let R=Fi(),A=Fi(),O;function M(H,Y,G){B(H);const ie=A.list();return ie.length?ie.forEach(he=>he(H,Y,G)):console.error(H),Promise.reject(H)}function I(){return O&&a.value!==Wn?Promise.resolve():new Promise((H,Y)=>{R.add([H,Y])})}function B(H){return O||(O=!H,L(),R.list().forEach(([Y,G])=>H?G(H):Y()),R.reset()),H}function W(H,Y,G,ie){const{scrollBehavior:he}=t;if(!ei||!he)return Promise.resolve();const pe=!G&&m_(kh(H.fullPath,0))||(ie||!G)&&history.state&&history.state.scroll||null;return ml().then(()=>he(H,Y,pe)).then(ce=>ce&&d_(ce)).catch(ce=>M(ce,H,Y))}const ne=H=>i.go(H);let oe;const xe=new Set,se={currentRoute:a,listening:!0,addRoute:d,removeRoute:p,hasRoute:g,getRoutes:b,resolve:m,options:t,push:w,replace:v,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:o.add,beforeResolve:s.add,afterEach:l.add,onError:A.add,isReady:I,install(H){const Y=this;H.component("RouterLink",Q_),H.component("RouterView",nS),H.config.globalProperties.$router=Y,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>je(a)}),ei&&!oe&&a.value===Wn&&(oe=!0,w(i.location).catch(he=>{}));const G={};for(const he in Wn)G[he]=De(()=>a.value[he]);H.provide(Cl,Y),H.provide(Fu,Jt(G)),H.provide(Xa,a);const ie=H.unmount;xe.add(H),H.unmount=function(){xe.delete(H),xe.size<1&&(c=Wn,k&&k(),k=null,a.value=Wn,oe=!1,O=!1),ie()}}};return se}function Xr(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function iS(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const l=e.matched[s];l&&(t.matched.find(c=>wi(c,l))?r.push(l):n.push(l));const a=t.matched[s];a&&(e.matched.find(c=>wi(c,a))||i.push(a))}return[n,r,i]}function cg(){return ft(Cl)}function ug(){return ft(Fu)}function fg(t,e){return function(){return t.apply(e,arguments)}}const{toString:hg}=Object.prototype,{getPrototypeOf:Hu}=Object,Vu=(t=>e=>{const n=hg.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Un=t=>(t=t.toLowerCase(),e=>Vu(e)===t),El=t=>e=>typeof e===t,{isArray:$i}=Array,vo=El("undefined");function oS(t){return t!==null&&!vo(t)&&t.constructor!==null&&!vo(t.constructor)&&ur(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const dg=Un("ArrayBuffer");function sS(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&dg(t.buffer),e}const lS=El("string"),ur=El("function"),pg=El("number"),Uu=t=>t!==null&&typeof t=="object",aS=t=>t===!0||t===!1,vs=t=>{if(Vu(t)!=="object")return!1;const e=Hu(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cS=Un("Date"),uS=Un("File"),fS=Un("Blob"),hS=Un("FileList"),dS=t=>Uu(t)&&ur(t.pipe),pS=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||hg.call(t)===e||ur(t.toString)&&t.toString()===e)},mS=Un("URLSearchParams"),gS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $o(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),$i(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let l;for(r=0;r<s;r++)l=o[r],e.call(null,t[l],l,t)}}function mg(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const gg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),yg=t=>!vo(t)&&t!==gg;function Qa(){const{caseless:t}=yg(this)&&this||{},e={},n=(r,i)=>{const o=t&&mg(e,i)||i;vs(e[o])&&vs(r)?e[o]=Qa(e[o],r):vs(r)?e[o]=Qa({},r):$i(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$o(arguments[r],n);return e}const yS=(t,e,n,{allOwnKeys:r}={})=>($o(e,(i,o)=>{n&&ur(i)?t[o]=fg(i,n):t[o]=i},{allOwnKeys:r}),t),bS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),vS=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},wS=(t,e,n,r)=>{let i,o,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&Hu(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},xS=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},kS=t=>{if(!t)return null;if($i(t))return t;let e=t.length;if(!pg(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_S=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Hu(Uint8Array)),SS=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},CS=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ES=Un("HTMLFormElement"),AS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),$h=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OS=Un("RegExp"),bg=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};$o(n,(i,o)=>{e(i,o,t)!==!1&&(r[o]=i)}),Object.defineProperties(t,r)},TS=t=>{bg(t,(e,n)=>{if(ur(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ur(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},LS=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return $i(t)?r(t):r(String(t).split(e)),n},RS=()=>{},PS=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ia="abcdefghijklmnopqrstuvwxyz",Bh="0123456789",vg={DIGIT:Bh,ALPHA:ia,ALPHA_DIGIT:ia+ia.toUpperCase()+Bh},MS=(t=16,e=vg.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function DS(t){return!!(t&&ur(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const IS=t=>{const e=new Array(10),n=(r,i)=>{if(Uu(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=$i(r)?[]:{};return $o(r,(s,l)=>{const a=n(s,i+1);!vo(a)&&(o[l]=a)}),e[i]=void 0,o}}return r};return n(t,0)},U={isArray:$i,isArrayBuffer:dg,isBuffer:oS,isFormData:pS,isArrayBufferView:sS,isString:lS,isNumber:pg,isBoolean:aS,isObject:Uu,isPlainObject:vs,isUndefined:vo,isDate:cS,isFile:uS,isBlob:fS,isRegExp:OS,isFunction:ur,isStream:dS,isURLSearchParams:mS,isTypedArray:_S,isFileList:hS,forEach:$o,merge:Qa,extend:yS,trim:gS,stripBOM:bS,inherits:vS,toFlatObject:wS,kindOf:Vu,kindOfTest:Un,endsWith:xS,toArray:kS,forEachEntry:SS,matchAll:CS,isHTMLForm:ES,hasOwnProperty:$h,hasOwnProp:$h,reduceDescriptors:bg,freezeMethods:TS,toObjectSet:LS,toCamelCase:AS,noop:RS,toFiniteNumber:PS,findKey:mg,global:gg,isContextDefined:yg,ALPHABET:vg,generateString:MS,isSpecCompliantForm:DS,toJSONObject:IS};function Ae(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}U.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wg=Ae.prototype,xg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xg[t]={value:t}});Object.defineProperties(Ae,xg);Object.defineProperty(wg,"isAxiosError",{value:!0});Ae.from=(t,e,n,r,i,o)=>{const s=Object.create(wg);return U.toFlatObject(t,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),Ae.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const $S=null;function Za(t){return U.isPlainObject(t)||U.isArray(t)}function kg(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function Nh(t,e,n){return t?t.concat(e).map(function(i,o){return i=kg(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function BS(t){return U.isArray(t)&&!t.some(Za)}const NS=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Al(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!U.isUndefined(g[b])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(U.isDate(p))return p.toISOString();if(!a&&U.isBlob(p))throw new Ae("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(p)||U.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,b,g){let m=p;if(p&&!g&&typeof p=="object"){if(U.endsWith(b,"{}"))b=r?b:b.slice(0,-2),p=JSON.stringify(p);else if(U.isArray(p)&&BS(p)||(U.isFileList(p)||U.endsWith(b,"[]"))&&(m=U.toArray(p)))return b=kg(b),m.forEach(function(y,w){!(U.isUndefined(y)||y===null)&&e.append(s===!0?Nh([b],w,o):s===null?b:b+"[]",c(y))}),!1}return Za(p)?!0:(e.append(Nh(g,b,o),c(p)),!1)}const h=[],f=Object.assign(NS,{defaultVisitor:u,convertValue:c,isVisitable:Za});function d(p,b){if(!U.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(p),U.forEach(p,function(m,x){(!(U.isUndefined(m)||m===null)&&i.call(e,m,U.isString(x)?x.trim():x,b,f))===!0&&d(m,b?b.concat(x):[x])}),h.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return d(t),e}function jh(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function zu(t,e){this._pairs=[],t&&Al(t,this,e)}const _g=zu.prototype;_g.append=function(e,n){this._pairs.push([e,n])};_g.toString=function(e){const n=e?function(r){return e.call(this,r,jh)}:jh;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function jS(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Sg(t,e,n){if(!e)return t;const r=n&&n.encode||jS,i=n&&n.serialize;let o;if(i?o=i(e,n):o=U.isURLSearchParams(e)?e.toString():new zu(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class FS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Fh=FS,Cg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HS=typeof URLSearchParams<"u"?URLSearchParams:zu,VS=typeof FormData<"u"?FormData:null,US=typeof Blob<"u"?Blob:null,zS=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),qS=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),wn={isBrowser:!0,classes:{URLSearchParams:HS,FormData:VS,Blob:US},isStandardBrowserEnv:zS,isStandardBrowserWebWorkerEnv:qS,protocols:["http","https","file","blob","url","data"]};function WS(t,e){return Al(t,new wn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return wn.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function KS(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function JS(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function Eg(t){function e(n,r,i,o){let s=n[o++];const l=Number.isFinite(+s),a=o>=n.length;return s=!s&&U.isArray(i)?i.length:s,a?(U.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!U.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&U.isArray(i[s])&&(i[s]=JS(i[s])),!l)}if(U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,i)=>{e(KS(r),i,n,0)}),n}return null}const GS={"Content-Type":void 0};function YS(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ol={transitional:Cg,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=U.isObject(e);if(o&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i&&i?JSON.stringify(Eg(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return WS(e,this.formSerializer).toString();if((l=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Al(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),YS(e)):e}],transformResponse:[function(e){const n=this.transitional||Ol.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&U.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?Ae.from(l,Ae.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wn.classes.FormData,Blob:wn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};U.forEach(["delete","get","head"],function(e){Ol.headers[e]={}});U.forEach(["post","put","patch"],function(e){Ol.headers[e]=U.merge(GS)});const qu=Ol,XS=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QS=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&XS[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Hh=Symbol("internals");function Hi(t){return t&&String(t).trim().toLowerCase()}function ws(t){return t===!1||t==null?t:U.isArray(t)?t.map(ws):String(t)}function ZS(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function eC(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function oa(t,e,n,r,i){if(U.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}function tC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function nC(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Tl{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(l,a,c){const u=Hi(a);if(!u)throw new Error("header name must be a non-empty string");const h=U.findKey(i,u);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||a]=ws(l))}const s=(l,a)=>U.forEach(l,(c,u)=>o(c,u,a));return U.isPlainObject(e)||e instanceof this.constructor?s(e,n):U.isString(e)&&(e=e.trim())&&!eC(e)?s(QS(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Hi(e),e){const r=U.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return ZS(i);if(U.isFunction(n))return n.call(this,i,r);if(U.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Hi(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||oa(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Hi(s),s){const l=U.findKey(r,s);l&&(!n||oa(r,r[l],l,n))&&(delete r[l],i=!0)}}return U.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||oa(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return U.forEach(this,(i,o)=>{const s=U.findKey(r,o);if(s){n[s]=ws(i),delete n[o];return}const l=e?tC(o):String(o).trim();l!==o&&delete n[o],n[l]=ws(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Hh]=this[Hh]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=Hi(s);r[l]||(nC(i,s),r[l]=!0)}return U.isArray(e)?e.forEach(o):o(e),this}}Tl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.freezeMethods(Tl.prototype);U.freezeMethods(Tl);const In=Tl;function sa(t,e){const n=this||qu,r=e||n,i=In.from(r.headers);let o=r.data;return U.forEach(t,function(l){o=l.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Ag(t){return!!(t&&t.__CANCEL__)}function Bo(t,e,n){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,n),this.name="CanceledError"}U.inherits(Bo,Ae,{__CANCEL__:!0});function rC(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const iC=wn.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,l){const a=[];a.push(n+"="+encodeURIComponent(r)),U.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),U.isString(o)&&a.push("path="+o),U.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function oC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sC(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Og(t,e){return t&&!oC(e)?sC(t,e):e}const lC=wn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const l=U.isString(s)?i(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function aC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cC(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=r[o];s||(s=c),n[i]=a,r[i]=c;let h=o,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const d=u&&c-u;return d?Math.round(f*1e3/d):void 0}}function Vh(t,e){let n=0;const r=cC(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-n,a=r(l),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&c?(s-o)/a:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const uC=typeof XMLHttpRequest<"u",fC=uC&&function(t){return new Promise(function(n,r){let i=t.data;const o=In.from(t.headers).normalize(),s=t.responseType;let l;function a(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}U.isFormData(i)&&(wn.isStandardBrowserEnv||wn.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(d+":"+p))}const u=Og(t.baseURL,t.url);c.open(t.method.toUpperCase(),Sg(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const d=In.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),b={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:t,request:c};rC(function(m){n(m),a()},function(m){r(m),a()},b),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new Ae("Request aborted",Ae.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Ae("Network Error",Ae.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||Cg;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new Ae(p,b.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,c)),c=null},wn.isStandardBrowserEnv){const d=(t.withCredentials||lC(u))&&t.xsrfCookieName&&iC.read(t.xsrfCookieName);d&&o.set(t.xsrfHeaderName,d)}i===void 0&&o.setContentType(null),"setRequestHeader"in c&&U.forEach(o.toJSON(),function(p,b){c.setRequestHeader(b,p)}),U.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Vh(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Vh(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=d=>{c&&(r(!d||d.type?new Bo(null,t,c):d),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const f=aC(u);if(f&&wn.protocols.indexOf(f)===-1){r(new Ae("Unsupported protocol "+f+":",Ae.ERR_BAD_REQUEST,t));return}c.send(i||null)})},xs={http:$S,xhr:fC};U.forEach(xs,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hC={getAdapter:t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=U.isString(n)?xs[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Ae(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(U.hasOwnProp(xs,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!U.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:xs};function la(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bo(null,t)}function Uh(t){return la(t),t.headers=In.from(t.headers),t.data=sa.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hC.getAdapter(t.adapter||qu.adapter)(t).then(function(r){return la(t),r.data=sa.call(t,t.transformResponse,r),r.headers=In.from(r.headers),r},function(r){return Ag(r)||(la(t),r&&r.response&&(r.response.data=sa.call(t,t.transformResponse,r.response),r.response.headers=In.from(r.response.headers))),Promise.reject(r)})}const zh=t=>t instanceof In?t.toJSON():t;function ki(t,e){e=e||{};const n={};function r(c,u,h){return U.isPlainObject(c)&&U.isPlainObject(u)?U.merge.call({caseless:h},c,u):U.isPlainObject(u)?U.merge({},u):U.isArray(u)?u.slice():u}function i(c,u,h){if(U.isUndefined(u)){if(!U.isUndefined(c))return r(void 0,c,h)}else return r(c,u,h)}function o(c,u){if(!U.isUndefined(u))return r(void 0,u)}function s(c,u){if(U.isUndefined(u)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,u)=>i(zh(c),zh(u),!0)};return U.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const h=a[u]||i,f=h(t[u],e[u],u);U.isUndefined(f)&&h!==l||(n[u]=f)}),n}const Tg="1.3.4",Wu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wu[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const qh={};Wu.transitional=function(e,n,r){function i(o,s){return"[Axios v"+Tg+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(e===!1)throw new Ae(i(s," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!qh[s]&&(qh[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,l):!0}};function dC(t,e,n){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const l=t[o],a=l===void 0||s(l,o,t);if(a!==!0)throw new Ae("option "+o+" must be "+a,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+o,Ae.ERR_BAD_OPTION)}}const ec={assertOptions:dC,validators:Wu},Kn=ec.validators;class Js{constructor(e){this.defaults=e,this.interceptors={request:new Fh,response:new Fh}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ki(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&ec.assertOptions(r,{silentJSONParsing:Kn.transitional(Kn.boolean),forcedJSONParsing:Kn.transitional(Kn.boolean),clarifyTimeoutError:Kn.transitional(Kn.boolean)},!1),i!==void 0&&ec.assertOptions(i,{encode:Kn.function,serialize:Kn.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=o&&U.merge(o.common,o[n.method]),s&&U.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=In.concat(s,o);const l=[];let a=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(a=a&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,h=0,f;if(!a){const p=[Uh.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,c),f=p.length,u=Promise.resolve(n);h<f;)u=u.then(p[h++],p[h++]);return u}f=l.length;let d=n;for(h=0;h<f;){const p=l[h++],b=l[h++];try{d=p(d)}catch(g){b.call(this,g);break}}try{u=Uh.call(this,d)}catch(p){return Promise.reject(p)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=ki(this.defaults,e);const n=Og(e.baseURL,e.url);return Sg(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],function(e){Js.prototype[e]=function(n,r){return this.request(ki(r||{},{method:e,url:n,data:(r||{}).data}))}});U.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,l){return this.request(ki(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Js.prototype[e]=n(),Js.prototype[e+"Form"]=n(!0)});const ks=Js;class Ku{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,l){r.reason||(r.reason=new Bo(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Ku(function(i){e=i}),cancel:e}}}const pC=Ku;function mC(t){return function(n){return t.apply(null,n)}}function gC(t){return U.isObject(t)&&t.isAxiosError===!0}const tc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tc).forEach(([t,e])=>{tc[e]=t});const yC=tc;function Lg(t){const e=new ks(t),n=fg(ks.prototype.request,e);return U.extend(n,ks.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Lg(ki(t,i))},n}const it=Lg(qu);it.Axios=ks;it.CanceledError=Bo;it.CancelToken=pC;it.isCancel=Ag;it.VERSION=Tg;it.toFormData=Al;it.AxiosError=Ae;it.Cancel=it.CanceledError;it.all=function(e){return Promise.all(e)};it.spread=mC;it.isAxiosError=gC;it.mergeConfig=ki;it.AxiosHeaders=In;it.formToJSON=t=>Eg(U.isHTMLForm(t)?new FormData(t):t);it.HttpStatusCode=yC;it.default=it;const Ju=it,Wt=Ju.create({baseURL:"http://127.0.0.1:8080/api/",withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}});Wt.defaults.withCredentials=!0;const _i=pm("article",{state:()=>({articles:[]}),actions:{async fetchData(){try{const t=await Wt.get("/articles");return this.articles=t.data,!0}catch{return!1}},get(t){return this.articles.find(e=>e.id==t)},async create(t){const e=new FormData;e.append("name",t.name),e.append("description",t.description);const n=`[{"id":"e_sTVYXqiN","type":"heading","data":{"text":"${t.name}","level":1}}]`;e.append("block_data",n),t.thumbnail.forEach(i=>{e.append("thumbnail-name",i.name),e.append("thumbnail",i.file)});const r=await Wt.post("/articles",e);return this.articles.push(r.data),r.data},async remove(t){await Wt.delete(`/articles/${t}`),this.articles=this.articles.filter(e=>e.id!=t)},async update(t,e){let n=this.get(t);if(n){const r=new FormData;r.append("name",e.name),r.append("description",e.description);let i="";return e.thumbnail.forEach(o=>{i=o.name,r.append("thumbnail-name",o.name),r.append("thumbnail",o.file)}),await Wt.put(`/articles/${t}`,r),n.name=e.name,n.description=e.description,i&&(n.image_src=`uploads/img/${i}`),!0}return!1},async publish(t){await new Promise(r=>setTimeout(r,300));const e=await Wt.get(`/publish?article=${t}`),n=new URL("http://127.0.0.1:8080/api/");window.open(n.origin+e.data,"_self")},async changeVisibility(t){const e=new FormData;let n=this.get(t).show;e.append("show",String(!n)),await Wt.put(`/articles/${t}`,e),this.get(t).show=!n}}}),bC=t=>(Ro("data-v-68104003"),t=t(),Po(),t),vC={class:"article-preview"},wC={class:"article-card"},xC={class:"description"},kC={class:"date"},_C=bC(()=>Le("div",{class:"category-pill"},"category",-1)),SC={class:"thumbnail"},CC=["src"],EC={class:"buttons-container"},AC=kt({__name:"ArticleThumbnail",props:{articleId:null},setup(t){const e=t,n=_i(),r=cg(),i=Ke(!1),o=De(()=>n.get(e.articleId)),s=["Jan","Feb","Mar","Apr","Jun","Jul","Aug","Sep","Oct","Nov","Dev"],l=De(()=>{let h=new Date(o.value.updated_at);return`${s[h.getMonth()]} ${h.getDate()}`}),a=De(()=>"http://127.0.0.1:8080/"+o.value.image_src);async function c(){if(window.confirm(`Are you sure you want to delete article "${o.value.name}"?`))try{await n.remove(o.value.id),r.push("/admin")}catch(h){console.log(h)}}async function u(){try{await n.publish(o.value.id)}catch{}finally{i.value=!0}}return(h,f)=>{const d=Br("FormKit"),p=Br("router-link");return st(),wt("div",vC,[Le("div",wC,[Le("h1",null,ii(je(o).name),1),Le("p",xC,ii(je(o).description),1),Le("p",kC,ii(je(l)),1),_C]),Le("div",SC,[Le("img",{alt:"thumbnail",src:je(a)},null,8,CC)]),Le("div",EC,[Se(d,{type:"button",onClick:u},{default:vn(()=>[Mr("Publish")]),_:1}),Se(p,{to:`/admin/edit/${je(o).id}`},{default:vn(()=>[Se(d,{type:"button"},{default:vn(()=>[Mr("Edit")]),_:1})]),_:1},8,["to"]),Se(d,{type:"button",onClick:c},{default:vn(()=>[Mr("Delete")]),_:1})])])}}});const OC=Vn(AC,[["__scopeId","data-v-68104003"]]),TC=t=>(Ro("data-v-e610ba34"),t=t(),Po(),t),LC={class:"home-container"},RC=TC(()=>Le("h1",null,"My Articles",-1)),PC={class:"utility-bar"},MC={class:"search"},DC={class:"articles"},IC=kt({__name:"Home",setup(t){const e=_i();return(n,r)=>{const i=Br("router-link");return st(),wt("div",LC,[RC,Le("div",PC,[Le("div",MC,[Se(je(Tr),{type:"search",placeholder:"Search ...","prefix-icon":"search"})]),Se(i,{to:"/admin/create"},{default:vn(()=>[Se(je(Tr),{type:"button","prefix-icon":"add"},{default:vn(()=>[Mr("Create")]),_:1})]),_:1})]),Le("section",DC,[(st(!0),wt(Lt,null,Yp(je(e).articles,o=>(st(),ku(OC,{"article-id":o.id},null,8,["article-id"]))),256))])])}}});const $C=Vn(IC,[["__scopeId","data-v-e610ba34"]]),BC=t=>(Ro("data-v-0b570bdd"),t=t(),Po(),t),NC={class:"create-article"},jC=BC(()=>Le("h1",null,"Create Article",-1)),FC={key:0,class:"error"},HC=kt({__name:"Create",setup(t){const e=_i(),n=cg(),r=Ke(""),i=Ke(!1),o=async s=>{r.value="";try{const l=await e.create(s);n.push(`/admin/edit/${l.id}`)}catch(l){r.value=l.response.data}finally{i.value=!0}};return(s,l)=>(st(),wt("div",NC,[jC,Se(je(Tr),{type:"form",style:{width:"25em"},onSubmit:o},{default:vn(()=>[Se(je(Tr),{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Article Name"}),Se(je(Tr),{type:"textarea",rows:"10",name:"description",id:"description",validation:"required",label:"Description",value:"Short article description..."}),Se(je(Tr),{type:"file",accept:".png, .jpg, .jpeg","file-item-icon":"fileImage","no-files-icon":"fileImage",label:"Thumbnail",name:"thumbnail",help:"Add a thumnbnail image"}),r.value?(st(),wt("p",FC,ii(r.value),1)):lm("",!0)]),_:1})]))}});const VC=Vn(HC,[["__scopeId","data-v-0b570bdd"]]),UC={};function zC(t,e){return st(),wt("h1",null,"404")}const qC=Vn(UC,[["render",zC]]),No=pm("block",{state:()=>({blocks:[],names:["heading","paragraph","image","linkTool","quote","embed","table","code"],icons:["h1","text","img","link","quote","embed","table","code"]}),actions:{async fetchData(t){try{const e=await Wt.get(`/blocks?article=${t}`);this.blocks=e.data;for(let n=0;n<this.blocks.length;n++)this.blocks[n].data=JSON.parse(this.blocks[n].data);return!0}catch{return!1}},async save(t){const e=[];for(let r=0;r<this.blocks.length;r++)e.push(Object.assign({},this.blocks[r])),e[r].data=JSON.stringify(e[r].data);const n=JSON.stringify(e);await Wt.post(`/blocks?article=${t}`,n)},async removeImage(t){const e=new FormData;e.append("image",t.split("/").pop()||""),e.append("article",window.location.pathname.split("/").pop()),await Wt.post("delete-image",e)}}}),WC={class:"block-icon"},KC=["src"],JC={class:"block-name"},GC=kt({__name:"Block",props:{block:null,active:{type:Boolean}},setup(t){const e=t,n=No(),r=De(()=>{if(e.block.type=="heading")return`/admin/svg/h${e.block.data.level}.svg`;let o=n.names.indexOf(e.block.type);return`/admin/svg/${n.icons[o]}.svg`}),i=De(()=>{let o=Lo(e.block.type);return o=="LinkTool"&&(o="Link"),o});return(o,s)=>(st(),wt("div",{class:cl(["block",{active:t.active}])},[Le("div",WC,[Le("img",{class:"block-icon",src:je(r)},null,8,KC)]),Le("p",JC,ii(je(i)),1)],2))}});const YC=Vn(GC,[["__scopeId","data-v-c5291a7e"]]),XC={class:"block-container"},QC=kt({__name:"BlocksContainer",setup(t){const e=No(),n=Ke(0),r=De(()=>e.blocks.slice(1));function i(){const s=document.querySelector(".ce-block--focused"),l=s.parentNode;n.value=Array.prototype.indexOf.call(l.children,s)}function o(s){const l=document.querySelectorAll(".ce-block"),a=document.querySelector(".ce-block--focused");a&&a.classList.remove("ce-block--focused"),l.item(s).classList.add("ce-block--focused"),document.querySelector(".document-container").scrollTo({behavior:"smooth",top:l.item(s).offsetTop}),n.value=s}return bu(()=>{document.getElementById("editor").addEventListener("click",i)}),vu(()=>{document.getElementById("editor").removeEventListener("click",i)}),(s,l)=>(st(),wt("div",XC,[(st(!0),wt(Lt,null,Yp(je(r),(a,c)=>(st(),ku(YC,{block:a,active:n.value==c,onClick:u=>o(c)},null,8,["block","active","onClick"]))),256))]))}});function On(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nc={},ZC={get exports(){return nc},set exports(t){nc=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=14)}([function(n,r,i){var o=i(5),s=i(6),l=i(7),a=i(9);n.exports=function(c,u){return o(c)||s(c,u)||l(c,u)||a()}},function(n,r){function i(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=i=function(s){return typeof s}:n.exports=i=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}n.exports=i},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r){function i(o,s,l){var a,c,u,h,f;function d(){var b=Date.now()-h;b<s&&b>=0?a=setTimeout(d,s-b):(a=null,l||(f=o.apply(u,c),u=c=null))}s==null&&(s=100);var p=function(){u=this,c=arguments,h=Date.now();var b=l&&!a;return a||(a=setTimeout(d,s)),b&&(f=o.apply(u,c),u=c=null),f};return p.clear=function(){a&&(clearTimeout(a),a=null)},p.flush=function(){a&&(f=o.apply(u,c),u=c=null,clearTimeout(a),a=null)},p}i.debounce=i,n.exports=i},function(n,r){n.exports=function(i){if(Array.isArray(i))return i}},function(n,r){n.exports=function(i,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var s=[],l=!0,a=!1,c=void 0;try{for(var u,h=i[Symbol.iterator]();!(l=(u=h.next()).done)&&(s.push(u.value),!o||s.length!==o);l=!0);}catch(f){a=!0,c=f}finally{try{l||h.return==null||h.return()}finally{if(a)throw c}}return s}}},function(n,r,i){var o=i(8);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){var o=i(11),s=i(12);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}y[w]=v}return y[w]}}(),a=[];function c(y){for(var w=-1,v=0;v<a.length;v++)if(a[v].identifier===y){w=v;break}return w}function u(y,w){for(var v={},_=[],S=0;S<y.length;S++){var C=y[S],T=w.base?C[0]+w.base:C[0],P=v[T]||0,E="".concat(T," ").concat(P);v[T]=P+1;var k=c(E),L={css:C[1],media:C[2],sourceMap:C[3]};k!==-1?(a[k].references++,a[k].updater(L)):a.push({identifier:E,updater:x(L,w),references:1}),_.push(E)}return _}function h(y){var w=document.createElement("style"),v=y.attributes||{};if(v.nonce===void 0){var _=i.nc;_&&(v.nonce=_)}if(Object.keys(v).forEach(function(C){w.setAttribute(C,v[C])}),typeof y.insert=="function")y.insert(w);else{var S=l(y.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(w)}return w}var f,d=(f=[],function(y,w){return f[y]=w,f.filter(Boolean).join(`
`)});function p(y,w,v,_){var S=v?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(y.styleSheet)y.styleSheet.cssText=d(w,S);else{var C=document.createTextNode(S),T=y.childNodes;T[w]&&y.removeChild(T[w]),T.length?y.insertBefore(C,T[w]):y.appendChild(C)}}function b(y,w,v){var _=v.css,S=v.media,C=v.sourceMap;if(S?y.setAttribute("media",S):y.removeAttribute("media"),C&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),y.styleSheet)y.styleSheet.cssText=_;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(_))}}var g=null,m=0;function x(y,w){var v,_,S;if(w.singleton){var C=m++;v=g||(g=h(w)),_=p.bind(null,v,C,!1),S=p.bind(null,v,C,!0)}else v=h(w),_=b.bind(null,v,w),S=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(v)};return _(y),function(T){if(T){if(T.css===y.css&&T.media===y.media&&T.sourceMap===y.sourceMap)return;_(y=T)}else S()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var v=u(y=y||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<v.length;S++){var C=c(v[S]);a[C].references--}for(var T=u(_,w),P=0;P<v.length;P++){var E=c(v[P]);a[E].references===0&&(a[E].updater(),a.splice(E,1))}v=T}}}},function(n,r,i){(r=i(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var h=c[1]||"",f=c[3];if(!f)return h;if(u&&typeof btoa=="function"){var d=(b=f,g=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(m," */")),p=f.sources.map(function(x){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(x," */")});return[h].concat(p).concat([d]).join(`
`)}var b,g,m;return[h].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var h=0;h<this.length;h++){var f=this[h][0];f!=null&&(u[f]=!0)}for(var d=0;d<l.length;d++){var p=[].concat(l[d]);c&&u[p[0]]||(a&&(p[2]?p[2]="".concat(a," and ").concat(p[2]):p[2]=a),s.push(p))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return b});var o=i(1),s=i.n(o),l=i(0),a=i.n(l),c=i(2),u=i.n(c),h=i(3),f=i.n(h),d={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(g){var m=a()(g,2),x=m[0],y=m[1];if(!y&&x)return x;var w={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return y=y.slice(1).split("&").map(function(v){var _=v.split("="),S=a()(_,2),C=S[0],T=S[1];return x||C!=="v"?w[C]?T==="LL"||T.startsWith("RDMM")||T.startsWith("FL")?null:"".concat(w[C],"=").concat(T):null:(x=T,null)}).filter(function(v){return!!v}),x+"?"+y.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(g){return g.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(g){return g.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(g){return g.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(g){return g.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(g){return g[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(g){return g.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},p=(i(10),i(4)),b=function(){function g(m){var x=m.data,y=m.api,w=m.readOnly;u()(this,g),this.api=y,this._data={},this.element=null,this.readOnly=w,this.data=x}return f()(g,[{key:"render",value:function(){var m=this;if(!this.data.service){var x=document.createElement("div");return this.element=x,x}var y=g.services[this.data.service].html,w=document.createElement("div"),v=document.createElement("div"),_=document.createElement("template"),S=this.createPreloader();w.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),v.classList.add(this.CSS.input,this.CSS.caption),w.appendChild(S),v.contentEditable=!this.readOnly,v.dataset.placeholder=this.api.i18n.t("Enter a caption"),v.innerHTML=this.data.caption||"",_.innerHTML=y,_.content.firstChild.setAttribute("src",this.data.embed),_.content.firstChild.classList.add(this.CSS.content);var C=this.embedIsReady(w);return w.appendChild(_.content.firstChild),w.appendChild(v),C.then(function(){w.classList.remove(m.CSS.containerLoading)}),this.element=w,w}},{key:"createPreloader",value:function(){var m=document.createElement("preloader"),x=document.createElement("div");return x.textContent=this.data.source,m.classList.add(this.CSS.preloader),x.classList.add(this.CSS.url),m.appendChild(x),m}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(m){var x=m.detail,y=x.key,w=x.data,v=g.services[y],_=v.regex,S=v.embedUrl,C=v.width,T=v.height,P=v.id,E=P===void 0?function(R){return R.shift()}:P,k=_.exec(w).slice(1),L=S.replace(/<%= remote_id %>/g,E(k));this.data={service:y,source:w,embed:L,width:C,height:T}}},{key:"embedIsReady",value:function(m){var x=null;return new Promise(function(y,w){(x=new MutationObserver(Object(p.debounce)(y,450))).observe(m,{childList:!0,subtree:!0})}).then(function(){x.disconnect()})}},{key:"data",set:function(m){if(!(m instanceof Object))throw Error("Embed Tool data should be object");var x=m.service,y=m.source,w=m.embed,v=m.width,_=m.height,S=m.caption,C=S===void 0?"":S;this._data={service:x||this.data.service,source:y||this.data.source,embed:w||this.data.embed,width:v||this.data.width,height:_||this.data.height,caption:C||this.data.caption||""};var T=this.element;T&&T.parentNode.replaceChild(this.render(),T)},get:function(){if(this.element){var m=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=m?m.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(m){var x=m.config,y=(x===void 0?{}:x).services,w=y===void 0?{}:y,v=Object.entries(d),_=Object.entries(w).filter(function(C){var T=a()(C,2),P=(T[0],T[1]);return typeof P=="boolean"&&P===!0}).map(function(C){return a()(C,1)[0]}),S=Object.entries(w).filter(function(C){var T=a()(C,2),P=(T[0],T[1]);return s()(P)==="object"}).filter(function(C){var T=a()(C,2),P=(T[0],T[1]);return g.checkServiceConfig(P)}).map(function(C){var T=a()(C,2),P=T[0],E=T[1];return[P,{regex:E.regex,embedUrl:E.embedUrl,html:E.html,height:E.height,width:E.width,id:E.id}]});_.length&&(v=v.filter(function(C){var T=a()(C,1)[0];return _.includes(T)})),v=v.concat(S),g.services=v.reduce(function(C,T){var P=a()(T,2),E=P[0],k=P[1];return E in C?(C[E]=Object.assign({},C[E],k),C):(C[E]=k,C)},{}),g.patterns=v.reduce(function(C,T){var P=a()(T,2),E=P[0],k=P[1];return C[E]=k.regex,C},{})}},{key:"checkServiceConfig",value:function(m){var x=m.regex,y=m.embedUrl,w=m.html,v=m.height,_=m.width,S=m.id,C=x&&x instanceof RegExp&&y&&typeof y=="string"&&w&&typeof w=="string";return C=(C=(C=C&&(S===void 0||S instanceof Function))&&(v===void 0||Number.isFinite(v)))&&(_===void 0||Number.isFinite(_))}},{key:"pasteConfig",get:function(){return{patterns:g.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),g}()}]).default})})(ZC);const eE=On(nc);var rc={},tE={get exports(){return rc},set exports(t){rc=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=18)}([function(n,r,i){n.exports=i(11)},function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r,i){var o=i(7),s=i(8),l=i(9),a=i(10);n.exports=function(c){return o(c)||s(c)||l(c)||a()}},function(n,r){function i(o,s,l,a,c,u,h){try{var f=o[u](h),d=f.value}catch(p){return void l(p)}f.done?s(d):Promise.resolve(d).then(a,c)}n.exports=function(o){return function(){var s=this,l=arguments;return new Promise(function(a,c){var u=o.apply(s,l);function h(d){i(u,a,c,h,f,"next",d)}function f(d){i(u,a,c,h,f,"throw",d)}h(void 0)})}}},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r,i){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var c=s[a]={i:a,l:!1,exports:{}};return o[a].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=o,l.c=s,l.d=function(a,c,u){l.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},l.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,c){if(1&c&&(a=l(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(l.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var h in a)l.d(u,h,function(f){return a[f]}.bind(null,h));return u},l.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(c,"a",c),c},l.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},l.p="",l(l.s=3)}([function(o,s){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}o.exports=l},function(o,s,l){(function(a){var c=l(2),u=setTimeout;function h(){}function f(y){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],x(y,this)}function d(y,w){for(;y._state===3;)y=y._value;y._state!==0?(y._handled=!0,f._immediateFn(function(){var v=y._state===1?w.onFulfilled:w.onRejected;if(v!==null){var _;try{_=v(y._value)}catch(S){return void b(w.promise,S)}p(w.promise,_)}else(y._state===1?p:b)(w.promise,y._value)})):y._deferreds.push(w)}function p(y,w){try{if(w===y)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var v=w.then;if(w instanceof f)return y._state=3,y._value=w,void g(y);if(typeof v=="function")return void x((_=v,S=w,function(){_.apply(S,arguments)}),y)}y._state=1,y._value=w,g(y)}catch(C){b(y,C)}var _,S}function b(y,w){y._state=2,y._value=w,g(y)}function g(y){y._state===2&&y._deferreds.length===0&&f._immediateFn(function(){y._handled||f._unhandledRejectionFn(y._value)});for(var w=0,v=y._deferreds.length;w<v;w++)d(y,y._deferreds[w]);y._deferreds=null}function m(y,w,v){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof w=="function"?w:null,this.promise=v}function x(y,w){var v=!1;try{y(function(_){v||(v=!0,p(w,_))},function(_){v||(v=!0,b(w,_))})}catch(_){if(v)return;v=!0,b(w,_)}}f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,w){var v=new this.constructor(h);return d(this,new m(y,w,v)),v},f.prototype.finally=c.a,f.all=function(y){return new f(function(w,v){if(!y||y.length===void 0)throw new TypeError("Promise.all accepts an array");var _=Array.prototype.slice.call(y);if(_.length===0)return w([]);var S=_.length;function C(P,E){try{if(E&&(typeof E=="object"||typeof E=="function")){var k=E.then;if(typeof k=="function")return void k.call(E,function(L){C(P,L)},v)}_[P]=E,--S==0&&w(_)}catch(L){v(L)}}for(var T=0;T<_.length;T++)C(T,_[T])})},f.resolve=function(y){return y&&typeof y=="object"&&y.constructor===f?y:new f(function(w){w(y)})},f.reject=function(y){return new f(function(w,v){v(y)})},f.race=function(y){return new f(function(w,v){for(var _=0,S=y.length;_<S;_++)y[_].then(w,v)})},f._immediateFn=typeof a=="function"&&function(y){a(y)}||function(y){u(y,0)},f._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},s.a=f}).call(this,l(5).setImmediate)},function(o,s,l){s.a=function(a){var c=this.constructor;return this.then(function(u){return c.resolve(a()).then(function(){return u})},function(u){return c.resolve(a()).then(function(){return c.reject(u)})})}},function(o,s,l){function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(m)}l(4);var c,u,h,f,d,p,b=l(8),g=(u=function(m){return new Promise(function(x,y){m=f(m),m=d(m);var w=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");w.open(m.method,m.url),w.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(m.headers).forEach(function(_){var S=m.headers[_];w.setRequestHeader(_,S)});var v=m.ratio;w.upload.addEventListener("progress",function(_){var S=Math.round(_.loaded/_.total*100),C=Math.ceil(S*v/100);m.progress(C)},!1),w.addEventListener("progress",function(_){var S=Math.round(_.loaded/_.total*100),C=Math.ceil(S*(100-v)/100)+v;m.progress(C)},!1),w.onreadystatechange=function(){if(w.readyState===4){var _=w.response;try{_=JSON.parse(_)}catch{}var S=b.parseHeaders(w.getAllResponseHeaders()),C={body:_,code:w.status,headers:S};w.status===200?x(C):y(C)}},w.send(m.data)})},h=function(m){return m.method="POST",u(m)},f=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m.url&&typeof m.url!="string")throw new Error("Url must be a string");if(m.url=m.url||"",m.method&&typeof m.method!="string")throw new Error("`method` must be a string or null");if(m.method=m.method?m.method.toUpperCase():"GET",m.headers&&a(m.headers)!=="object")throw new Error("`headers` must be an object or null");if(m.headers=m.headers||{},m.type&&(typeof m.type!="string"||!Object.values(c).includes(m.type)))throw new Error("`type` must be taken from module's contentType library");if(m.progress&&typeof m.progress!="function")throw new Error("`progress` must be a function or null");if(m.progress=m.progress||function(x){},m.beforeSend=m.beforeSend||function(x){},m.ratio&&typeof m.ratio!="number")throw new Error("`ratio` must be a number");if(m.ratio<0||m.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(m.ratio=m.ratio||90,m.accept&&typeof m.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(m.accept=m.accept||"*/*",m.multiple&&typeof m.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(m.multiple=m.multiple||!1,m.fieldName&&typeof m.fieldName!="string")throw new Error("`fieldName` must be a string");return m.fieldName=m.fieldName||"files",m},d=function(m){switch(m.method){case"GET":var x=p(m.data,c.URLENCODED);delete m.data,m.url=/\?/.test(m.url)?m.url+"&"+x:m.url+"?"+x;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var y=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(m);(b.isFormData(m.data)||b.isFormElement(m.data))&&(y=c.FORM),m.data=p(m.data,y),y!==g.contentType.FORM&&(m.headers["content-type"]=y)}return m},p=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return b.urlEncode(m);case c.JSON:return b.jsonEncode(m);case c.FORM:return b.formEncode(m);default:return m}},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(m){return m.method="GET",u(m)},post:h,transport:function(m){return m=f(m),b.selectFiles(m).then(function(x){for(var y=new FormData,w=0;w<x.length;w++)y.append(m.fieldName,x[w],x[w].name);return b.isObject(m.data)&&Object.keys(m.data).forEach(function(v){var _=m.data[v];y.append(v,_)}),m.beforeSend&&m.beforeSend(x),m.data=y,h(m)})},selectFiles:function(m){return delete(m=f(m)).beforeSend,b.selectFiles(m)}});o.exports=g},function(o,s,l){l.r(s);var a=l(1);window.Promise=window.Promise||a.a},function(o,s,l){(function(a){var c=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function h(f,d){this._id=f,this._clearFn=d}s.setTimeout=function(){return new h(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new h(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(f){f&&f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(f,d){clearTimeout(f._idleTimeoutId),f._idleTimeout=d},s.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},s._unrefActive=s.active=function(f){clearTimeout(f._idleTimeoutId);var d=f._idleTimeout;d>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},d))},l(6),s.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(o,s,l){(function(a,c){(function(u,h){if(!u.setImmediate){var f,d,p,b,g,m=1,x={},y=!1,w=u.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(u);v=v&&v.setTimeout?v:u,{}.toString.call(u.process)==="[object process]"?f=function(C){c.nextTick(function(){S(C)})}:function(){if(u.postMessage&&!u.importScripts){var C=!0,T=u.onmessage;return u.onmessage=function(){C=!1},u.postMessage("","*"),u.onmessage=T,C}}()?(b="setImmediate$"+Math.random()+"$",g=function(C){C.source===u&&typeof C.data=="string"&&C.data.indexOf(b)===0&&S(+C.data.slice(b.length))},u.addEventListener?u.addEventListener("message",g,!1):u.attachEvent("onmessage",g),f=function(C){u.postMessage(b+C,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(C){S(C.data)},f=function(C){p.port2.postMessage(C)}):w&&"onreadystatechange"in w.createElement("script")?(d=w.documentElement,f=function(C){var T=w.createElement("script");T.onreadystatechange=function(){S(C),T.onreadystatechange=null,d.removeChild(T),T=null},d.appendChild(T)}):f=function(C){setTimeout(S,0,C)},v.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var T=new Array(arguments.length-1),P=0;P<T.length;P++)T[P]=arguments[P+1];var E={callback:C,args:T};return x[m]=E,f(m),m++},v.clearImmediate=_}function _(C){delete x[C]}function S(C){if(y)setTimeout(S,0,C);else{var T=x[C];if(T){y=!0;try{(function(P){var E=P.callback,k=P.args;switch(k.length){case 0:E();break;case 1:E(k[0]);break;case 2:E(k[0],k[1]);break;case 3:E(k[0],k[1],k[2]);break;default:E.apply(void 0,k)}})(T)}finally{_(C),y=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,l(0),l(7))},function(o,s){var l,a,c=o.exports={};function u(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function f(v){if(l===setTimeout)return setTimeout(v,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout(v,0);try{return l(v,0)}catch{try{return l.call(null,v,0)}catch{return l.call(this,v,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:u}catch{l=u}try{a=typeof clearTimeout=="function"?clearTimeout:h}catch{a=h}})();var d,p=[],b=!1,g=-1;function m(){b&&d&&(b=!1,d.length?p=d.concat(p):g=-1,p.length&&x())}function x(){if(!b){var v=f(m);b=!0;for(var _=p.length;_;){for(d=p,p=[];++g<_;)d&&d[g].run();g=-1,_=p.length}d=null,b=!1,function(S){if(a===clearTimeout)return clearTimeout(S);if((a===h||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(S);try{a(S)}catch{try{return a.call(null,S)}catch{return a.call(this,S)}}}(v)}}function y(v,_){this.fun=v,this.array=_}function w(){}c.nextTick=function(v){var _=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)_[S-1]=arguments[S];p.push(new y(v,_)),p.length!==1||b||f(x)},y.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(v){return[]},c.binding=function(v){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(v){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(o,s,l){function a(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var c=l(9);o.exports=function(){function u(){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}var h,f;return h=u,(f=[{key:"urlEncode",value:function(d){return c(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var p=new FormData;return Object.keys(d).forEach(function(b){var g=d[b];p.append(b,g)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,b){var g=document.createElement("INPUT");g.type="file",d.multiple&&g.setAttribute("multiple","multiple"),d.accept&&g.setAttribute("accept",d.accept),g.style.display="none",document.body.appendChild(g),g.addEventListener("change",function(m){var x=m.target.files;p(x),document.body.removeChild(g)},!1),g.click()})}},{key:"parseHeaders",value:function(d){var p=d.trim().split(/[\r\n]+/),b={};return p.forEach(function(g){var m=g.split(": "),x=m.shift(),y=m.join(": ");x&&(b[x]=y)}),b}}])&&a(h,f),u}()},function(o,s){var l=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(c,u,h,f){return u=u||null,h=h||"&",f=f||null,c?function(d){for(var p=new Array,b=0;b<d.length;b++)d[b]&&p.push(d[b]);return p}(Object.keys(c).map(function(d){var p,b,g=d;if(f&&(g=f+"["+g+"]"),typeof c[d]=="object"&&c[d]!==null)p=a(c[d],null,h,g);else{u&&(b=g,g=!isNaN(parseFloat(b))&&isFinite(b)?u+Number(g):g);var m=c[d];m=(m=(m=(m=m===!0?"1":m)===!1?"0":m)===0?"0":m)||"",p=l(g)+"="+l(m)}return p})).join(h).replace(/[!'()*]/g,""):""};o.exports=a}])},function(n,r,i){var o=i(2);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,r){n.exports=function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}},function(n,r,i){var o=i(2);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(s):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){var o=function(s){var l=Object.prototype,a=l.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function d(A,O,M,I){var B=O&&O.prototype instanceof g?O:g,W=Object.create(B.prototype),ne=new k(I||[]);return W._invoke=function(oe,xe,se){var H="suspendedStart";return function(Y,G){if(H==="executing")throw new Error("Generator is already running");if(H==="completed"){if(Y==="throw")throw G;return R()}for(se.method=Y,se.arg=G;;){var ie=se.delegate;if(ie){var he=T(ie,se);if(he){if(he===b)continue;return he}}if(se.method==="next")se.sent=se._sent=se.arg;else if(se.method==="throw"){if(H==="suspendedStart")throw H="completed",se.arg;se.dispatchException(se.arg)}else se.method==="return"&&se.abrupt("return",se.arg);H="executing";var pe=p(oe,xe,se);if(pe.type==="normal"){if(H=se.done?"completed":"suspendedYield",pe.arg===b)continue;return{value:pe.arg,done:se.done}}pe.type==="throw"&&(H="completed",se.method="throw",se.arg=pe.arg)}}}(A,M,ne),W}function p(A,O,M){try{return{type:"normal",arg:A.call(O,M)}}catch(I){return{type:"throw",arg:I}}}s.wrap=d;var b={};function g(){}function m(){}function x(){}var y={};y[u]=function(){return this};var w=Object.getPrototypeOf,v=w&&w(w(L([])));v&&v!==l&&a.call(v,u)&&(y=v);var _=x.prototype=g.prototype=Object.create(y);function S(A){["next","throw","return"].forEach(function(O){A[O]=function(M){return this._invoke(O,M)}})}function C(A,O){var M;this._invoke=function(I,B){function W(){return new O(function(ne,oe){(function xe(se,H,Y,G){var ie=p(A[se],A,H);if(ie.type!=="throw"){var he=ie.arg,pe=he.value;return pe&&typeof pe=="object"&&a.call(pe,"__await")?O.resolve(pe.__await).then(function(ce){xe("next",ce,Y,G)},function(ce){xe("throw",ce,Y,G)}):O.resolve(pe).then(function(ce){he.value=ce,Y(he)},function(ce){return xe("throw",ce,Y,G)})}G(ie.arg)})(I,B,ne,oe)})}return M=M?M.then(W,W):W()}}function T(A,O){var M=A.iterator[O.method];if(M===void 0){if(O.delegate=null,O.method==="throw"){if(A.iterator.return&&(O.method="return",O.arg=void 0,T(A,O),O.method==="throw"))return b;O.method="throw",O.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var I=p(M,A.iterator,O.arg);if(I.type==="throw")return O.method="throw",O.arg=I.arg,O.delegate=null,b;var B=I.arg;return B?B.done?(O[A.resultName]=B.value,O.next=A.nextLoc,O.method!=="return"&&(O.method="next",O.arg=void 0),O.delegate=null,b):B:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,b)}function P(A){var O={tryLoc:A[0]};1 in A&&(O.catchLoc=A[1]),2 in A&&(O.finallyLoc=A[2],O.afterLoc=A[3]),this.tryEntries.push(O)}function E(A){var O=A.completion||{};O.type="normal",delete O.arg,A.completion=O}function k(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(P,this),this.reset(!0)}function L(A){if(A){var O=A[u];if(O)return O.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var M=-1,I=function B(){for(;++M<A.length;)if(a.call(A,M))return B.value=A[M],B.done=!1,B;return B.value=void 0,B.done=!0,B};return I.next=I}}return{next:R}}function R(){return{value:void 0,done:!0}}return m.prototype=_.constructor=x,x.constructor=m,x[f]=m.displayName="GeneratorFunction",s.isGeneratorFunction=function(A){var O=typeof A=="function"&&A.constructor;return!!O&&(O===m||(O.displayName||O.name)==="GeneratorFunction")},s.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,x):(A.__proto__=x,f in A||(A[f]="GeneratorFunction")),A.prototype=Object.create(_),A},s.awrap=function(A){return{__await:A}},S(C.prototype),C.prototype[h]=function(){return this},s.AsyncIterator=C,s.async=function(A,O,M,I,B){B===void 0&&(B=Promise);var W=new C(d(A,O,M,I),B);return s.isGeneratorFunction(O)?W:W.next().then(function(ne){return ne.done?ne.value:W.next()})},S(_),_[f]="Generator",_[u]=function(){return this},_.toString=function(){return"[object Generator]"},s.keys=function(A){var O=[];for(var M in A)O.push(M);return O.reverse(),function I(){for(;O.length;){var B=O.pop();if(B in A)return I.value=B,I.done=!1,I}return I.done=!0,I}},s.values=L,k.prototype={constructor:k,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!A)for(var O in this)O.charAt(0)==="t"&&a.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var O=this;function M(xe,se){return W.type="throw",W.arg=A,O.next=xe,se&&(O.method="next",O.arg=void 0),!!se}for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I],W=B.completion;if(B.tryLoc==="root")return M("end");if(B.tryLoc<=this.prev){var ne=a.call(B,"catchLoc"),oe=a.call(B,"finallyLoc");if(ne&&oe){if(this.prev<B.catchLoc)return M(B.catchLoc,!0);if(this.prev<B.finallyLoc)return M(B.finallyLoc)}else if(ne){if(this.prev<B.catchLoc)return M(B.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return M(B.finallyLoc)}}}},abrupt:function(A,O){for(var M=this.tryEntries.length-1;M>=0;--M){var I=this.tryEntries[M];if(I.tryLoc<=this.prev&&a.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var B=I;break}}B&&(A==="break"||A==="continue")&&B.tryLoc<=O&&O<=B.finallyLoc&&(B=null);var W=B?B.completion:{};return W.type=A,W.arg=O,B?(this.method="next",this.next=B.finallyLoc,b):this.complete(W)},complete:function(A,O){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&O&&(this.next=O),b},finish:function(A){for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O];if(M.finallyLoc===A)return this.complete(M.completion,M.afterLoc),E(M),b}},catch:function(A){for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O];if(M.tryLoc===A){var I=M.completion;if(I.type==="throw"){var B=I.arg;E(M)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(A,O,M){return this.delegate={iterator:L(A),resultName:O,nextLoc:M},this.method==="next"&&(this.arg=void 0),b}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,r,i){var o=i(13),s=i(14);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}y[w]=v}return y[w]}}(),a=[];function c(y){for(var w=-1,v=0;v<a.length;v++)if(a[v].identifier===y){w=v;break}return w}function u(y,w){for(var v={},_=[],S=0;S<y.length;S++){var C=y[S],T=w.base?C[0]+w.base:C[0],P=v[T]||0,E="".concat(T," ").concat(P);v[T]=P+1;var k=c(E),L={css:C[1],media:C[2],sourceMap:C[3]};k!==-1?(a[k].references++,a[k].updater(L)):a.push({identifier:E,updater:x(L,w),references:1}),_.push(E)}return _}function h(y){var w=document.createElement("style"),v=y.attributes||{};if(v.nonce===void 0){var _=i.nc;_&&(v.nonce=_)}if(Object.keys(v).forEach(function(C){w.setAttribute(C,v[C])}),typeof y.insert=="function")y.insert(w);else{var S=l(y.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(w)}return w}var f,d=(f=[],function(y,w){return f[y]=w,f.filter(Boolean).join(`
`)});function p(y,w,v,_){var S=v?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(y.styleSheet)y.styleSheet.cssText=d(w,S);else{var C=document.createTextNode(S),T=y.childNodes;T[w]&&y.removeChild(T[w]),T.length?y.insertBefore(C,T[w]):y.appendChild(C)}}function b(y,w,v){var _=v.css,S=v.media,C=v.sourceMap;if(S?y.setAttribute("media",S):y.removeAttribute("media"),C&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),y.styleSheet)y.styleSheet.cssText=_;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(_))}}var g=null,m=0;function x(y,w){var v,_,S;if(w.singleton){var C=m++;v=g||(g=h(w)),_=p.bind(null,v,C,!1),S=p.bind(null,v,C,!0)}else v=h(w),_=b.bind(null,v,w),S=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(v)};return _(y),function(T){if(T){if(T.css===y.css&&T.media===y.media&&T.sourceMap===y.sourceMap)return;_(y=T)}else S()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var v=u(y=y||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<v.length;S++){var C=c(v[S]);a[C].references--}for(var T=u(_,w),P=0;P<v.length;P++){var E=c(v[P]);a[E].references===0&&(a[E].updater(),a.splice(E,1))}v=T}}}},function(n,r,i){(r=i(15)(!1)).push([n.i,`.link-tool {
  position: relative;
}

  .link-tool__input {
    padding-left: 38px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .link-tool__input-holder {
      position: relative;
    }

  .link-tool__input-holder--error .link-tool__input {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
          background-color: #fff3f6;
          border-color: #f3e0e0;
          color: #a95a5a;
          box-shadow: inset 0 1px 3px 0 rgba(146, 62, 62, .05);
        }

  .link-tool__input[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }

  .link-tool__input[contentEditable=true][data-placeholder]:empty::before {
        opacity: 1;
      }

  .link-tool__input[contentEditable=true][data-placeholder]:empty:focus::before {
         opacity: 0;
       }

  .link-tool__progress {
    position: absolute;
    box-shadow: inset 0 1px 3px 0 rgba(102, 85, 107, 0.04);
    height: 100%;
    width: 0;
    background-color: #f4f5f7;
    z-index: -1;
  }

  .link-tool__progress--loading {
      -webkit-animation: progress 500ms ease-in;
      -webkit-animation-fill-mode: forwards;
    }

  .link-tool__progress--loaded {
      width: 100%;
    }

  .link-tool__content {
    display: block;
    padding: 25px;
    border-radius: 2px;
    box-shadow: 0 0 0 2px #fff;
    color: initial !important;
    text-decoration: none !important;
  }

  .link-tool__content::after {
      content: "";
      clear: both;
      display: table;
    }

  .link-tool__content--rendered {
      background: #fff;
      border: 1px solid rgba(201, 201, 204, 0.48);
      box-shadow: 0 1px 3px rgba(0,0,0, .1);
      border-radius: 6px;
      will-change: filter;
      animation: link-in 450ms 1 cubic-bezier(0.215, 0.61, 0.355, 1);
    }

  .link-tool__content--rendered:hover {
        box-shadow: 0 0 3px rgba(0,0,0, .16);
      }

  .link-tool__image {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    margin: 0 0 0 30px;
    width: 65px;
    height: 65px;
    border-radius: 3px;
    float: right;
  }

  .link-tool__title {
    font-size: 17px;
    font-weight: 600;
    line-height: 1.5em;
    margin: 0 0 10px 0;
  }

  .link-tool__title + .link-tool__anchor {
      margin-top: 25px;
    }

  .link-tool__description {
    margin: 0 0 20px 0;
    font-size: 15px;
    line-height: 1.55em;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .link-tool__anchor {
    display: block;
    font-size: 15px;
    line-height: 1em;
    color: #888 !important;
    border: 0 !important;
    padding: 0 !important;
  }

@keyframes link-in {
  from {
    filter: blur(5px);
  }

  to {
    filter: none;
  }
}

.codex-editor--narrow .link-tool__image {
  display: none;
}

@-webkit-keyframes progress {
  0% {
    width: 0;
  }
  100% {
    width: 85%;
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var h=c[1]||"",f=c[3];if(!f)return h;if(u&&typeof btoa=="function"){var d=(b=f,g=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(m," */")),p=f.sources.map(function(x){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(x," */")});return[h].concat(p).concat([d]).join(`
`)}var b,g,m;return[h].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var h=0;h<this.length;h++){var f=this[h][0];f!=null&&(u[f]=!0)}for(var d=0;d<l.length;d++){var p=[].concat(l[d]);c&&u[p[0]]||(a&&(p[2]?p[2]="".concat(a," and ").concat(p[2]):p[2]=a),s.push(p))}},s}},function(n,r,i){(function(o){(function(s){var l=function(){try{return!!Symbol.iterator}catch{return!1}}(),a=function(f){var d={next:function(){var p=f.shift();return{done:p===void 0,value:p}}};return l&&(d[Symbol.iterator]=function(){return d}),d},c=function(f){return encodeURIComponent(f).replace(/%20/g,"+")},u=function(f){return decodeURIComponent(String(f).replace(/\+/g," "))};(function(){try{var f=s.URLSearchParams;return new f("?a=1").toString()==="a=1"&&typeof f.prototype.set=="function"}catch{return!1}})()||function(){var f=function(p){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var b=typeof p;if(b!=="undefined")if(b==="string")p!==""&&this._fromString(p);else if(p instanceof f){var g=this;p.forEach(function(w,v){g.append(v,w)})}else{if(p===null||b!=="object")throw new TypeError("Unsupported input's type for URLSearchParams");if(Object.prototype.toString.call(p)==="[object Array]")for(var m=0;m<p.length;m++){var x=p[m];if(Object.prototype.toString.call(x)!=="[object Array]"&&x.length===2)throw new TypeError("Expected [string, any] as entry at index "+m+" of URLSearchParams's input");this.append(x[0],x[1])}else for(var y in p)p.hasOwnProperty(y)&&this.append(y,p[y])}},d=f.prototype;d.append=function(p,b){p in this._entries?this._entries[p].push(String(b)):this._entries[p]=[String(b)]},d.delete=function(p){delete this._entries[p]},d.get=function(p){return p in this._entries?this._entries[p][0]:null},d.getAll=function(p){return p in this._entries?this._entries[p].slice(0):[]},d.has=function(p){return p in this._entries},d.set=function(p,b){this._entries[p]=[String(b)]},d.forEach=function(p,b){var g;for(var m in this._entries)if(this._entries.hasOwnProperty(m)){g=this._entries[m];for(var x=0;x<g.length;x++)p.call(b,g[x],m,this)}},d.keys=function(){var p=[];return this.forEach(function(b,g){p.push(g)}),a(p)},d.values=function(){var p=[];return this.forEach(function(b){p.push(b)}),a(p)},d.entries=function(){var p=[];return this.forEach(function(b,g){p.push([g,b])}),a(p)},l&&(d[Symbol.iterator]=d.entries),d.toString=function(){var p=[];return this.forEach(function(b,g){p.push(c(g)+"="+c(b))}),p.join("&")},s.URLSearchParams=f}();var h=s.URLSearchParams.prototype;typeof h.sort!="function"&&(h.sort=function(){var f=this,d=[];this.forEach(function(b,g){d.push([g,b]),f._entries||f.delete(g)}),d.sort(function(b,g){return b[0]<g[0]?-1:b[0]>g[0]?1:0}),f._entries&&(f._entries={});for(var p=0;p<d.length;p++)this.append(d[p][0],d[p][1])}),typeof h._fromString!="function"&&Object.defineProperty(h,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(f){if(this._entries)this._entries={};else{var d=[];this.forEach(function(m,x){d.push(x)});for(var p=0;p<d.length;p++)this.delete(d[p])}var b,g=(f=f.replace(/^\?/,"")).split("&");for(p=0;p<g.length;p++)b=g[p].split("="),this.append(u(b[0]),b.length>1?u(b[1]):"")}})})(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:this),function(s){if(function(){try{var a=new s.URL("b","http://a");return a.pathname="c d",a.href==="http://a/c%20d"&&a.searchParams}catch{return!1}}()||function(){var a=s.URL,c=function(h,f){typeof h!="string"&&(h=String(h));var d,p=document;if(f&&(s.location===void 0||f!==s.location.href)){(d=(p=document.implementation.createHTMLDocument("")).createElement("base")).href=f,p.head.appendChild(d);try{if(d.href.indexOf(f)!==0)throw new Error(d.href)}catch(_){throw new Error("URL unable to set base "+f+" due to "+_)}}var b=p.createElement("a");b.href=h,d&&(p.body.appendChild(b),b.href=b.href);var g=p.createElement("input");if(g.type="url",g.value=h,b.protocol===":"||!/:/.test(b.href)||!g.checkValidity()&&!f)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:b});var m=new s.URLSearchParams(this.search),x=!0,y=!0,w=this;["append","delete","set"].forEach(function(_){var S=m[_];m[_]=function(){S.apply(m,arguments),x&&(y=!1,w.search=m.toString(),y=!0)}}),Object.defineProperty(this,"searchParams",{value:m,enumerable:!0});var v=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==v&&(v=this.search,y&&(x=!1,this.searchParams._fromString(this.search),x=!0))}})},u=c.prototype;["hash","host","hostname","port","protocol"].forEach(function(h){(function(f){Object.defineProperty(u,f,{get:function(){return this._anchorElement[f]},set:function(d){this._anchorElement[f]=d},enumerable:!0})})(h)}),Object.defineProperty(u,"search",{get:function(){return this._anchorElement.search},set:function(h){this._anchorElement.search=h,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(u,{toString:{get:function(){var h=this;return function(){return h.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(h){this._anchorElement.href=h,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(h){this._anchorElement.pathname=h},enumerable:!0},origin:{get:function(){var h={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],f=this._anchorElement.port!=h&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(f?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(h){},enumerable:!0},username:{get:function(){return""},set:function(h){},enumerable:!0}}),c.createObjectURL=function(h){return a.createObjectURL.apply(a,arguments)},c.revokeObjectURL=function(h){return a.revokeObjectURL.apply(a,arguments)},s.URL=c}(),s.location!==void 0&&!("origin"in s.location)){var l=function(){return s.location.protocol+"//"+s.location.hostname+(s.location.port?":"+s.location.port:"")};try{Object.defineProperty(s.location,"origin",{get:l,enumerable:!0})}catch{setInterval(function(){s.location.origin=l()},100)}}}(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:this)}).call(this,i(17))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){i.r(r),i.d(r,"default",function(){return m});var o=i(3),s=i.n(o),l=i(0),a=i.n(l),c=i(4),u=i.n(c),h=i(5),f=i.n(h),d=i(1),p=i.n(d),b=(i(12),i(16),i(6)),g=i.n(b),m=function(){function x(w){var v=w.data,_=w.config,S=w.api,C=w.readOnly;f()(this,x),this.api=S,this.readOnly=C,this.config={endpoint:_.endpoint||"",headers:_.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=v}var y;return p()(x,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>',title:"Link"}}},{key:"enableLineBreaks",get:function(){return!0}}]),p()(x,[{key:"render",value:function(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}},{key:"save",value:function(){return this.data}},{key:"validate",value:function(){return this.data.link.trim()!==""}},{key:"makeInputHolder",value:function(){var w=this,v=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",function(_){w.startFetching(_)}),this.nodes.input.addEventListener("keydown",function(_){var S=_.ctrlKey||_.metaKey;switch(_.keyCode){case 13:_.preventDefault(),_.stopPropagation(),w.startFetching(_);break;case 65:S&&w.selectLinkUrl(_)}})),v.appendChild(this.nodes.progress),v.appendChild(this.nodes.input),v}},{key:"startFetching",value:function(w){var v=this.nodes.input.textContent;w.type==="paste"&&(v=(w.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(v)}},{key:"removeErrorStyle",value:function(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}},{key:"selectLinkUrl",value:function(w){w.preventDefault(),w.stopPropagation();var v=window.getSelection(),_=new Range,S=v.anchorNode.parentNode.closest(".".concat(this.CSS.inputHolder)).querySelector(".".concat(this.CSS.inputEl));_.selectNodeContents(S),v.removeAllRanges(),v.addRange(_)}},{key:"prepareLinkPreview",value:function(){var w=this.make("a",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),w}},{key:"showLinkPreview",value:function(w){var v=w.image,_=w.title,S=w.description;this.nodes.container.appendChild(this.nodes.linkContent),v&&v.url&&(this.nodes.linkImage.style.backgroundImage="url("+v.url+")",this.nodes.linkContent.appendChild(this.nodes.linkImage)),_&&(this.nodes.linkTitle.textContent=_,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),S&&(this.nodes.linkDescription.textContent=S,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),this.nodes.linkContent.classList.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}},{key:"showProgress",value:function(){this.nodes.progress.classList.add(this.CSS.progressLoading)}},{key:"hideProgress",value:function(){var w=this;return new Promise(function(v){w.nodes.progress.classList.remove(w.CSS.progressLoading),w.nodes.progress.classList.add(w.CSS.progressLoaded),setTimeout(v,500)})}},{key:"applyErrorStyle",value:function(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}},{key:"fetchLinkData",value:(y=u()(a.a.mark(function w(v){var _,S;return a.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return this.showProgress(),this.data={link:v},C.prev=2,C.next=5,g.a.get({url:this.config.endpoint,headers:this.config.headers,data:{url:v}});case 5:_=C.sent,S=_.body,this.onFetch(S),C.next=13;break;case 10:C.prev=10,C.t0=C.catch(2),this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"));case 13:case"end":return C.stop()}},w,this,[[2,10]])})),function(w){return y.apply(this,arguments)})},{key:"onFetch",value:function(w){var v=this;if(w&&w.success){var _=w.meta,S=w.link||this.data.link;this.data={meta:_,link:S},_?this.hideProgress().then(function(){v.nodes.inputHolder.remove(),v.showLinkPreview(_)}):this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"))}else this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"))}},{key:"fetchingFailed",value:function(w){this.api.notifier.show({message:w,style:"error"}),this.applyErrorStyle()}},{key:"make",value:function(w){var v,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=document.createElement(w);Array.isArray(_)?(v=C.classList).add.apply(v,s()(_)):_&&C.classList.add(_);for(var T in S)C[T]=S[T];return C}},{key:"data",set:function(w){this._data=Object.assign({},{link:w.link||this._data.link,meta:w.meta||this._data.meta})},get:function(){return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}}]),x}()}]).default})})(tE);const nE=On(rc);var ic={},rE={get exports(){return ic},set exports(t){ic=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=4)}([function(n,r,i){var o=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}y[w]=v}return y[w]}}(),a=[];function c(y){for(var w=-1,v=0;v<a.length;v++)if(a[v].identifier===y){w=v;break}return w}function u(y,w){for(var v={},_=[],S=0;S<y.length;S++){var C=y[S],T=w.base?C[0]+w.base:C[0],P=v[T]||0,E="".concat(T," ").concat(P);v[T]=P+1;var k=c(E),L={css:C[1],media:C[2],sourceMap:C[3]};k!==-1?(a[k].references++,a[k].updater(L)):a.push({identifier:E,updater:x(L,w),references:1}),_.push(E)}return _}function h(y){var w=document.createElement("style"),v=y.attributes||{};if(v.nonce===void 0){var _=i.nc;_&&(v.nonce=_)}if(Object.keys(v).forEach(function(C){w.setAttribute(C,v[C])}),typeof y.insert=="function")y.insert(w);else{var S=l(y.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(w)}return w}var f,d=(f=[],function(y,w){return f[y]=w,f.filter(Boolean).join(`
`)});function p(y,w,v,_){var S=v?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(y.styleSheet)y.styleSheet.cssText=d(w,S);else{var C=document.createTextNode(S),T=y.childNodes;T[w]&&y.removeChild(T[w]),T.length?y.insertBefore(C,T[w]):y.appendChild(C)}}function b(y,w,v){var _=v.css,S=v.media,C=v.sourceMap;if(S?y.setAttribute("media",S):y.removeAttribute("media"),C&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),y.styleSheet)y.styleSheet.cssText=_;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(_))}}var g=null,m=0;function x(y,w){var v,_,S;if(w.singleton){var C=m++;v=g||(g=h(w)),_=p.bind(null,v,C,!1),S=p.bind(null,v,C,!0)}else v=h(w),_=b.bind(null,v,w),S=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(v)};return _(y),function(T){if(T){if(T.css===y.css&&T.media===y.media&&T.sourceMap===y.sourceMap)return;_(y=T)}else S()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var v=u(y=y||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<v.length;S++){var C=c(v[S]);a[C].references--}for(var T=u(_,w),P=0;P<v.length;P++){var E=c(v[P]);a[E].references===0&&(a[E].updater(),a.splice(E,1))}v=T}}}},function(n,r,i){(r=i(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var h=c[1]||"",f=c[3];if(!f)return h;if(u&&typeof btoa=="function"){var d=(b=f,g=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(m," */")),p=f.sources.map(function(x){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(x," */")});return[h].concat(p).concat([d]).join(`
`)}var b,g,m;return[h].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var h=0;h<this.length;h++){var f=this[h][0];f!=null&&(u[f]=!0)}for(var d=0;d<l.length;d++){var p=[].concat(l[d]);c&&u[p[0]]||(a&&(p[2]?p[2]="".concat(a," and ").concat(p[2]):p[2]=a),s.push(p))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return l}),i(0);function o(a,c){for(var u=0;u<c.length;u++){var h=c[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function s(a,c,u){return c&&o(a.prototype,c),u&&o(a,u),a}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var l=function(){function a(c){var u=c.data,h=c.config,f=c.api,d=c.readOnly;(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=f,this.readOnly=d,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=h.placeholder?h.placeholder:a.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=h.preserveBlank!==void 0&&h.preserveBlank,this.data=u}return s(a,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(a,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),a}()}]).default})})(rE);const iE=On(ic);var oc={},oE={get exports(){return oc},set exports(t){oc=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",h=a[3];if(!h)return u;if(c&&typeof btoa=="function"){var f=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),d=h.sources.map(function(b){return"/*# sourceURL="+h.sourceRoot+b+" */"});return[u].concat(d).concat([f]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var h=s[c];typeof h[0]=="number"&&a[h[0]]||(l&&!h[2]?h[2]=l:l&&(h[2]="("+h[2]+") and ("+l+")"),o.push(h))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(C){var T={};return function(P){if(typeof P=="function")return P();if(T[P]===void 0){var E=function(k){return document.querySelector(k)}.call(this,P);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}T[P]=E}return T[P]}}(),u=null,h=0,f=[],d=i(4);function p(C,T){for(var P=0;P<C.length;P++){var E=C[P],k=l[E.id];if(k){k.refs++;for(var L=0;L<k.parts.length;L++)k.parts[L](E.parts[L]);for(;L<E.parts.length;L++)k.parts.push(w(E.parts[L],T))}else{var R=[];for(L=0;L<E.parts.length;L++)R.push(w(E.parts[L],T));l[E.id]={id:E.id,refs:1,parts:R}}}}function b(C,T){for(var P=[],E={},k=0;k<C.length;k++){var L=C[k],R=T.base?L[0]+T.base:L[0],A={css:L[1],media:L[2],sourceMap:L[3]};E[R]?E[R].parts.push(A):P.push(E[R]={id:R,parts:[A]})}return P}function g(C,T){var P=c(C.insertInto);if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=f[f.length-1];if(C.insertAt==="top")E?E.nextSibling?P.insertBefore(T,E.nextSibling):P.appendChild(T):P.insertBefore(T,P.firstChild),f.push(T);else if(C.insertAt==="bottom")P.appendChild(T);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var k=c(C.insertInto+" "+C.insertAt.before);P.insertBefore(T,k)}}function m(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var T=f.indexOf(C);T>=0&&f.splice(T,1)}function x(C){var T=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),y(T,C.attrs),g(C,T),T}function y(C,T){Object.keys(T).forEach(function(P){C.setAttribute(P,T[P])})}function w(C,T){var P,E,k,L;if(T.transform&&C.css){if(!(L=T.transform(C.css)))return function(){};C.css=L}if(T.singleton){var R=h++;P=u||(u=x(T)),E=S.bind(null,P,R,!1),k=S.bind(null,P,R,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(P=function(A){var O=document.createElement("link");return A.attrs.type===void 0&&(A.attrs.type="text/css"),A.attrs.rel="stylesheet",y(O,A.attrs),g(A,O),O}(T),E=function(A,O,M){var I=M.css,B=M.sourceMap,W=O.convertToAbsoluteUrls===void 0&&B;(O.convertToAbsoluteUrls||W)&&(I=d(I)),B&&(I+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var ne=new Blob([I],{type:"text/css"}),oe=A.href;A.href=URL.createObjectURL(ne),oe&&URL.revokeObjectURL(oe)}.bind(null,P,T),k=function(){m(P),P.href&&URL.revokeObjectURL(P.href)}):(P=x(T),E=function(A,O){var M=O.css,I=O.media;if(I&&A.setAttribute("media",I),A.styleSheet)A.styleSheet.cssText=M;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(M))}}.bind(null,P),k=function(){m(P)});return E(C),function(A){if(A){if(A.css===C.css&&A.media===C.media&&A.sourceMap===C.sourceMap)return;E(C=A)}else k()}}n.exports=function(C,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=a()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var P=b(C,T);return p(P,T),function(E){for(var k=[],L=0;L<P.length;L++){var R=P[L];(A=l[R.id]).refs--,k.push(A)}for(E&&p(b(E,T),T),L=0;L<k.length;L++){var A;if((A=k[L]).refs===0){for(var O=0;O<A.parts.length;O++)A.parts[O]();delete l[A.id]}}}};var v,_=(v=[],function(C,T){return v[C]=T,v.filter(Boolean).join(`
`)});function S(C,T,P,E){var k=P?"":E.css;if(C.styleSheet)C.styleSheet.cssText=_(T,k);else{var L=document.createTextNode(k),R=C.childNodes;R[T]&&C.removeChild(R[T]),R.length?C.insertBefore(L,R[T]):C.appendChild(L)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,h=c.trim().replace(/^"(.*)"$/,function(f,d){return d}).replace(/^'(.*)'$/,function(f,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?a:(u=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:l+h.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(c){return function(u){if(Array.isArray(u)){for(var h=0,f=new Array(u.length);h<u.length;h++)f[h]=u[h];return f}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,u){for(var h=0;h<u.length;h++){var f=u[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}function l(c,u,h){return u&&s(c.prototype,u),h&&s(c,h),c}i.d(r,"default",function(){return a});var a=function(){function c(u){var h=u.data,f=u.config,d=u.api,p=u.readOnly;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,c);var b=c.ALIGNMENTS,g=c.DEFAULT_ALIGNMENT;this.api=d,this.readOnly=p,this.quotePlaceholder=f.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=f.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:h.text||"",caption:h.caption||"",alignment:Object.values(b).includes(h.alignment)&&h.alignment||f.defaultAlignment||g}}return l(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text,"  ").concat(u.caption):u.text}}}}]),l(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),h=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),f=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return h.dataset.placeholder=this.quotePlaceholder,f.dataset.placeholder=this.captionPlaceholder,u.appendChild(h),u.appendChild(f),u}},{key:"save",value:function(u){var h=u.querySelector(".".concat(this.CSS.text)),f=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:h.innerHTML,caption:f.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(h){return{icon:h.icon,label:u.api.i18n.t("Align ".concat((f=h.name,f[0].toUpperCase()+f.substr(1)))),onActivate:function(){return u._toggleTune(h.name)},isActive:u.data.alignment===h.name,closeOnActivate:!0};var f})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var h,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(u);Array.isArray(f)?(h=p.classList).add.apply(h,o(f)):f&&p.classList.add(f);for(var b in d)p[b]=d[b];return p}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(oE);const sE=On(oc);var sc={},lE={get exports(){return sc},set exports(t){sc=t}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=9)}([function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r,i){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var c=s[a]={i:a,l:!1,exports:{}};return o[a].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=o,l.c=s,l.d=function(a,c,u){l.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},l.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,c){if(1&c&&(a=l(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(l.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var h in a)l.d(u,h,function(f){return a[f]}.bind(null,h));return u},l.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(c,"a",c),c},l.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},l.p="",l(l.s=3)}([function(o,s){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}o.exports=l},function(o,s,l){(function(a){var c=l(2),u=setTimeout;function h(){}function f(y){if(!(this instanceof f))throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],x(y,this)}function d(y,w){for(;y._state===3;)y=y._value;y._state!==0?(y._handled=!0,f._immediateFn(function(){var v=y._state===1?w.onFulfilled:w.onRejected;if(v!==null){var _;try{_=v(y._value)}catch(S){return void b(w.promise,S)}p(w.promise,_)}else(y._state===1?p:b)(w.promise,y._value)})):y._deferreds.push(w)}function p(y,w){try{if(w===y)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var v=w.then;if(w instanceof f)return y._state=3,y._value=w,void g(y);if(typeof v=="function")return void x((_=v,S=w,function(){_.apply(S,arguments)}),y)}y._state=1,y._value=w,g(y)}catch(C){b(y,C)}var _,S}function b(y,w){y._state=2,y._value=w,g(y)}function g(y){y._state===2&&y._deferreds.length===0&&f._immediateFn(function(){y._handled||f._unhandledRejectionFn(y._value)});for(var w=0,v=y._deferreds.length;w<v;w++)d(y,y._deferreds[w]);y._deferreds=null}function m(y,w,v){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof w=="function"?w:null,this.promise=v}function x(y,w){var v=!1;try{y(function(_){v||(v=!0,p(w,_))},function(_){v||(v=!0,b(w,_))})}catch(_){if(v)return;v=!0,b(w,_)}}f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,w){var v=new this.constructor(h);return d(this,new m(y,w,v)),v},f.prototype.finally=c.a,f.all=function(y){return new f(function(w,v){if(!y||y.length===void 0)throw new TypeError("Promise.all accepts an array");var _=Array.prototype.slice.call(y);if(_.length===0)return w([]);var S=_.length;function C(P,E){try{if(E&&(typeof E=="object"||typeof E=="function")){var k=E.then;if(typeof k=="function")return void k.call(E,function(L){C(P,L)},v)}_[P]=E,--S==0&&w(_)}catch(L){v(L)}}for(var T=0;T<_.length;T++)C(T,_[T])})},f.resolve=function(y){return y&&typeof y=="object"&&y.constructor===f?y:new f(function(w){w(y)})},f.reject=function(y){return new f(function(w,v){v(y)})},f.race=function(y){return new f(function(w,v){for(var _=0,S=y.length;_<S;_++)y[_].then(w,v)})},f._immediateFn=typeof a=="function"&&function(y){a(y)}||function(y){u(y,0)},f._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},s.a=f}).call(this,l(5).setImmediate)},function(o,s,l){s.a=function(a){var c=this.constructor;return this.then(function(u){return c.resolve(a()).then(function(){return u})},function(u){return c.resolve(a()).then(function(){return c.reject(u)})})}},function(o,s,l){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(x)}l(4);var c,u,h,f,d,p,b,g=l(8),m=(u=function(x){return new Promise(function(y,w){x=f(x),(x=d(x)).beforeSend&&x.beforeSend();var v=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");v.open(x.method,x.url),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(x.headers).forEach(function(S){var C=x.headers[S];v.setRequestHeader(S,C)});var _=x.ratio;v.upload.addEventListener("progress",function(S){var C=Math.round(S.loaded/S.total*100),T=Math.ceil(C*_/100);x.progress(Math.min(T,100))},!1),v.addEventListener("progress",function(S){var C=Math.round(S.loaded/S.total*100),T=Math.ceil(C*(100-_)/100)+_;x.progress(Math.min(T,100))},!1),v.onreadystatechange=function(){if(v.readyState===4){var S=v.response;try{S=JSON.parse(S)}catch{}var C=g.parseHeaders(v.getAllResponseHeaders()),T={body:S,code:v.status,headers:C};b(v.status)?y(T):w(T)}},v.send(x.data)})},h=function(x){return x.method="POST",u(x)},f=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(x.url&&typeof x.url!="string")throw new Error("Url must be a string");if(x.url=x.url||"",x.method&&typeof x.method!="string")throw new Error("`method` must be a string or null");if(x.method=x.method?x.method.toUpperCase():"GET",x.headers&&a(x.headers)!=="object")throw new Error("`headers` must be an object or null");if(x.headers=x.headers||{},x.type&&(typeof x.type!="string"||!Object.values(c).includes(x.type)))throw new Error("`type` must be taken from module's contentType library");if(x.progress&&typeof x.progress!="function")throw new Error("`progress` must be a function or null");if(x.progress=x.progress||function(y){},x.beforeSend=x.beforeSend||function(y){},x.ratio&&typeof x.ratio!="number")throw new Error("`ratio` must be a number");if(x.ratio<0||x.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(x.ratio=x.ratio||90,x.accept&&typeof x.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(x.accept=x.accept||"*/*",x.multiple&&typeof x.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(x.multiple=x.multiple||!1,x.fieldName&&typeof x.fieldName!="string")throw new Error("`fieldName` must be a string");return x.fieldName=x.fieldName||"files",x},d=function(x){switch(x.method){case"GET":var y=p(x.data,c.URLENCODED);delete x.data,x.url=/\?/.test(x.url)?x.url+"&"+y:x.url+"?"+y;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var w=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(x);(g.isFormData(x.data)||g.isFormElement(x.data))&&(w=c.FORM),x.data=p(x.data,w),w!==m.contentType.FORM&&(x.headers["content-type"]=w)}return x},p=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return g.urlEncode(x);case c.JSON:return g.jsonEncode(x);case c.FORM:return g.formEncode(x);default:return x}},b=function(x){return x>=200&&x<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(x){return x.method="GET",u(x)},post:h,transport:function(x){return x=f(x),g.selectFiles(x).then(function(y){for(var w=new FormData,v=0;v<y.length;v++)w.append(x.fieldName,y[v],y[v].name);g.isObject(x.data)&&Object.keys(x.data).forEach(function(S){var C=x.data[S];w.append(S,C)});var _=x.beforeSend;return x.beforeSend=function(){return _(y)},x.data=w,h(x)})},selectFiles:function(x){return delete(x=f(x)).beforeSend,g.selectFiles(x)}});o.exports=m},function(o,s,l){l.r(s);var a=l(1);window.Promise=window.Promise||a.a},function(o,s,l){(function(a){var c=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function h(f,d){this._id=f,this._clearFn=d}s.setTimeout=function(){return new h(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new h(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(f){f&&f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(f,d){clearTimeout(f._idleTimeoutId),f._idleTimeout=d},s.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},s._unrefActive=s.active=function(f){clearTimeout(f._idleTimeoutId);var d=f._idleTimeout;d>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},d))},l(6),s.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(o,s,l){(function(a,c){(function(u,h){if(!u.setImmediate){var f,d,p,b,g,m=1,x={},y=!1,w=u.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(u);v=v&&v.setTimeout?v:u,{}.toString.call(u.process)==="[object process]"?f=function(C){c.nextTick(function(){S(C)})}:function(){if(u.postMessage&&!u.importScripts){var C=!0,T=u.onmessage;return u.onmessage=function(){C=!1},u.postMessage("","*"),u.onmessage=T,C}}()?(b="setImmediate$"+Math.random()+"$",g=function(C){C.source===u&&typeof C.data=="string"&&C.data.indexOf(b)===0&&S(+C.data.slice(b.length))},u.addEventListener?u.addEventListener("message",g,!1):u.attachEvent("onmessage",g),f=function(C){u.postMessage(b+C,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(C){S(C.data)},f=function(C){p.port2.postMessage(C)}):w&&"onreadystatechange"in w.createElement("script")?(d=w.documentElement,f=function(C){var T=w.createElement("script");T.onreadystatechange=function(){S(C),T.onreadystatechange=null,d.removeChild(T),T=null},d.appendChild(T)}):f=function(C){setTimeout(S,0,C)},v.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var T=new Array(arguments.length-1),P=0;P<T.length;P++)T[P]=arguments[P+1];var E={callback:C,args:T};return x[m]=E,f(m),m++},v.clearImmediate=_}function _(C){delete x[C]}function S(C){if(y)setTimeout(S,0,C);else{var T=x[C];if(T){y=!0;try{(function(P){var E=P.callback,k=P.args;switch(k.length){case 0:E();break;case 1:E(k[0]);break;case 2:E(k[0],k[1]);break;case 3:E(k[0],k[1],k[2]);break;default:E.apply(void 0,k)}})(T)}finally{_(C),y=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,l(0),l(7))},function(o,s){var l,a,c=o.exports={};function u(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function f(v){if(l===setTimeout)return setTimeout(v,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout(v,0);try{return l(v,0)}catch{try{return l.call(null,v,0)}catch{return l.call(this,v,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:u}catch{l=u}try{a=typeof clearTimeout=="function"?clearTimeout:h}catch{a=h}})();var d,p=[],b=!1,g=-1;function m(){b&&d&&(b=!1,d.length?p=d.concat(p):g=-1,p.length&&x())}function x(){if(!b){var v=f(m);b=!0;for(var _=p.length;_;){for(d=p,p=[];++g<_;)d&&d[g].run();g=-1,_=p.length}d=null,b=!1,function(S){if(a===clearTimeout)return clearTimeout(S);if((a===h||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(S);try{a(S)}catch{try{return a.call(null,S)}catch{return a.call(this,S)}}}(v)}}function y(v,_){this.fun=v,this.array=_}function w(){}c.nextTick=function(v){var _=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)_[S-1]=arguments[S];p.push(new y(v,_)),p.length!==1||b||f(x)},y.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(v){return[]},c.binding=function(v){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(v){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(o,s,l){function a(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var c=l(9);o.exports=function(){function u(){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}var h,f;return h=u,(f=[{key:"urlEncode",value:function(d){return c(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var p=new FormData;return Object.keys(d).forEach(function(b){var g=d[b];p.append(b,g)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,b){var g=document.createElement("INPUT");g.type="file",d.multiple&&g.setAttribute("multiple","multiple"),d.accept&&g.setAttribute("accept",d.accept),g.style.display="none",document.body.appendChild(g),g.addEventListener("change",function(m){var x=m.target.files;p(x),document.body.removeChild(g)},!1),g.click()})}},{key:"parseHeaders",value:function(d){var p=d.trim().split(/[\r\n]+/),b={};return p.forEach(function(g){var m=g.split(": "),x=m.shift(),y=m.join(": ");x&&(b[x]=y)}),b}}])&&a(h,f),u}()},function(o,s){var l=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(c,u,h,f){return u=u||null,h=h||"&",f=f||null,c?function(d){for(var p=new Array,b=0;b<d.length;b++)d[b]&&p.push(d[b]);return p}(Object.keys(c).map(function(d){var p,b,g=d;if(f&&(g=f+"["+g+"]"),typeof c[d]=="object"&&c[d]!==null)p=a(c[d],null,h,g);else{u&&(b=g,g=!isNaN(parseFloat(b))&&isFinite(b)?u+Number(g):g);var m=c[d];m=(m=(m=(m=m===!0?"1":m)===!1?"0":m)===0?"0":m)||"",p=l(g)+"="+l(m)}return p})).join(h).replace(/[!'()*]/g,""):""};o.exports=a}])},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r,i){n.exports=i(10)},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r,i){var o=i(4);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){function i(o,s,l,a,c,u,h){try{var f=o[u](h),d=f.value}catch(p){return void l(p)}f.done?s(d):Promise.resolve(d).then(a,c)}n.exports=function(o){return function(){var s=this,l=arguments;return new Promise(function(a,c){var u=o.apply(s,l);function h(d){i(u,a,c,h,f,"next",d)}function f(d){i(u,a,c,h,f,"throw",d)}h(void 0)})}}},function(n,r,i){var o=i(15),s=i(16),l=i(5),a=i(17);n.exports=function(c){return o(c)||s(c)||l(c)||a()}},function(n,r,i){var o=i(18),s=i(19),l=i(5),a=i(20);n.exports=function(c,u){return o(c)||s(c,u)||l(c,u)||a()}},function(n,r,i){n.exports=i(21)},function(n,r,i){var o=function(s){var l=Object.prototype,a=l.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",f=c.toStringTag||"@@toStringTag";function d(A,O,M,I){var B=O&&O.prototype instanceof g?O:g,W=Object.create(B.prototype),ne=new k(I||[]);return W._invoke=function(oe,xe,se){var H="suspendedStart";return function(Y,G){if(H==="executing")throw new Error("Generator is already running");if(H==="completed"){if(Y==="throw")throw G;return R()}for(se.method=Y,se.arg=G;;){var ie=se.delegate;if(ie){var he=T(ie,se);if(he){if(he===b)continue;return he}}if(se.method==="next")se.sent=se._sent=se.arg;else if(se.method==="throw"){if(H==="suspendedStart")throw H="completed",se.arg;se.dispatchException(se.arg)}else se.method==="return"&&se.abrupt("return",se.arg);H="executing";var pe=p(oe,xe,se);if(pe.type==="normal"){if(H=se.done?"completed":"suspendedYield",pe.arg===b)continue;return{value:pe.arg,done:se.done}}pe.type==="throw"&&(H="completed",se.method="throw",se.arg=pe.arg)}}}(A,M,ne),W}function p(A,O,M){try{return{type:"normal",arg:A.call(O,M)}}catch(I){return{type:"throw",arg:I}}}s.wrap=d;var b={};function g(){}function m(){}function x(){}var y={};y[u]=function(){return this};var w=Object.getPrototypeOf,v=w&&w(w(L([])));v&&v!==l&&a.call(v,u)&&(y=v);var _=x.prototype=g.prototype=Object.create(y);function S(A){["next","throw","return"].forEach(function(O){A[O]=function(M){return this._invoke(O,M)}})}function C(A,O){var M;this._invoke=function(I,B){function W(){return new O(function(ne,oe){(function xe(se,H,Y,G){var ie=p(A[se],A,H);if(ie.type!=="throw"){var he=ie.arg,pe=he.value;return pe&&typeof pe=="object"&&a.call(pe,"__await")?O.resolve(pe.__await).then(function(ce){xe("next",ce,Y,G)},function(ce){xe("throw",ce,Y,G)}):O.resolve(pe).then(function(ce){he.value=ce,Y(he)},function(ce){return xe("throw",ce,Y,G)})}G(ie.arg)})(I,B,ne,oe)})}return M=M?M.then(W,W):W()}}function T(A,O){var M=A.iterator[O.method];if(M===void 0){if(O.delegate=null,O.method==="throw"){if(A.iterator.return&&(O.method="return",O.arg=void 0,T(A,O),O.method==="throw"))return b;O.method="throw",O.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var I=p(M,A.iterator,O.arg);if(I.type==="throw")return O.method="throw",O.arg=I.arg,O.delegate=null,b;var B=I.arg;return B?B.done?(O[A.resultName]=B.value,O.next=A.nextLoc,O.method!=="return"&&(O.method="next",O.arg=void 0),O.delegate=null,b):B:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,b)}function P(A){var O={tryLoc:A[0]};1 in A&&(O.catchLoc=A[1]),2 in A&&(O.finallyLoc=A[2],O.afterLoc=A[3]),this.tryEntries.push(O)}function E(A){var O=A.completion||{};O.type="normal",delete O.arg,A.completion=O}function k(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(P,this),this.reset(!0)}function L(A){if(A){var O=A[u];if(O)return O.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var M=-1,I=function B(){for(;++M<A.length;)if(a.call(A,M))return B.value=A[M],B.done=!1,B;return B.value=void 0,B.done=!0,B};return I.next=I}}return{next:R}}function R(){return{value:void 0,done:!0}}return m.prototype=_.constructor=x,x.constructor=m,x[f]=m.displayName="GeneratorFunction",s.isGeneratorFunction=function(A){var O=typeof A=="function"&&A.constructor;return!!O&&(O===m||(O.displayName||O.name)==="GeneratorFunction")},s.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,x):(A.__proto__=x,f in A||(A[f]="GeneratorFunction")),A.prototype=Object.create(_),A},s.awrap=function(A){return{__await:A}},S(C.prototype),C.prototype[h]=function(){return this},s.AsyncIterator=C,s.async=function(A,O,M,I,B){B===void 0&&(B=Promise);var W=new C(d(A,O,M,I),B);return s.isGeneratorFunction(O)?W:W.next().then(function(ne){return ne.done?ne.value:W.next()})},S(_),_[f]="Generator",_[u]=function(){return this},_.toString=function(){return"[object Generator]"},s.keys=function(A){var O=[];for(var M in A)O.push(M);return O.reverse(),function I(){for(;O.length;){var B=O.pop();if(B in A)return I.value=B,I.done=!1,I}return I.done=!0,I}},s.values=L,k.prototype={constructor:k,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!A)for(var O in this)O.charAt(0)==="t"&&a.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var O=this;function M(xe,se){return W.type="throw",W.arg=A,O.next=xe,se&&(O.method="next",O.arg=void 0),!!se}for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I],W=B.completion;if(B.tryLoc==="root")return M("end");if(B.tryLoc<=this.prev){var ne=a.call(B,"catchLoc"),oe=a.call(B,"finallyLoc");if(ne&&oe){if(this.prev<B.catchLoc)return M(B.catchLoc,!0);if(this.prev<B.finallyLoc)return M(B.finallyLoc)}else if(ne){if(this.prev<B.catchLoc)return M(B.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return M(B.finallyLoc)}}}},abrupt:function(A,O){for(var M=this.tryEntries.length-1;M>=0;--M){var I=this.tryEntries[M];if(I.tryLoc<=this.prev&&a.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var B=I;break}}B&&(A==="break"||A==="continue")&&B.tryLoc<=O&&O<=B.finallyLoc&&(B=null);var W=B?B.completion:{};return W.type=A,W.arg=O,B?(this.method="next",this.next=B.finallyLoc,b):this.complete(W)},complete:function(A,O){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&O&&(this.next=O),b},finish:function(A){for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O];if(M.finallyLoc===A)return this.complete(M.completion,M.afterLoc),E(M),b}},catch:function(A){for(var O=this.tryEntries.length-1;O>=0;--O){var M=this.tryEntries[O];if(M.tryLoc===A){var I=M.completion;if(I.type==="throw"){var B=I.arg;E(M)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(A,O,M){return this.delegate={iterator:L(A),resultName:O,nextLoc:M},this.method==="next"&&(this.arg=void 0),b}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,r,i){var o=i(12),s=i(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1},a=(o(s,l),s.locals?s.locals:{});n.exports=a},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}y[w]=v}return y[w]}}(),a=[];function c(y){for(var w=-1,v=0;v<a.length;v++)if(a[v].identifier===y){w=v;break}return w}function u(y,w){for(var v={},_=[],S=0;S<y.length;S++){var C=y[S],T=w.base?C[0]+w.base:C[0],P=v[T]||0,E="".concat(T," ").concat(P);v[T]=P+1;var k=c(E),L={css:C[1],media:C[2],sourceMap:C[3]};k!==-1?(a[k].references++,a[k].updater(L)):a.push({identifier:E,updater:x(L,w),references:1}),_.push(E)}return _}function h(y){var w=document.createElement("style"),v=y.attributes||{};if(v.nonce===void 0){var _=i.nc;_&&(v.nonce=_)}if(Object.keys(v).forEach(function(C){w.setAttribute(C,v[C])}),typeof y.insert=="function")y.insert(w);else{var S=l(y.insert||"head");if(!S)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");S.appendChild(w)}return w}var f,d=(f=[],function(y,w){return f[y]=w,f.filter(Boolean).join(`
`)});function p(y,w,v,_){var S=v?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(y.styleSheet)y.styleSheet.cssText=d(w,S);else{var C=document.createTextNode(S),T=y.childNodes;T[w]&&y.removeChild(T[w]),T.length?y.insertBefore(C,T[w]):y.appendChild(C)}}function b(y,w,v){var _=v.css,S=v.media,C=v.sourceMap;if(S?y.setAttribute("media",S):y.removeAttribute("media"),C&&btoa&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(C))))," */")),y.styleSheet)y.styleSheet.cssText=_;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(_))}}var g=null,m=0;function x(y,w){var v,_,S;if(w.singleton){var C=m++;v=g||(g=h(w)),_=p.bind(null,v,C,!1),S=p.bind(null,v,C,!0)}else v=h(w),_=b.bind(null,v,w),S=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(v)};return _(y),function(T){if(T){if(T.css===y.css&&T.media===y.media&&T.sourceMap===y.sourceMap)return;_(y=T)}else S()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var v=u(y=y||[],w);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var S=0;S<v.length;S++){var C=c(v[S]);a[C].references--}for(var T=u(_,w),P=0;P<v.length;P++){var E=c(v[P]);a[E].references===0&&(a[E].updater(),a.splice(E,1))}v=T}}}},function(n,r,i){(r=i(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var h=c[1]||"",f=c[3];if(!f)return h;if(u&&typeof btoa=="function"){var d=(b=f,g=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(m," */")),p=f.sources.map(function(x){return"/*# sourceURL=".concat(f.sourceRoot||"").concat(x," */")});return[h].concat(p).concat([d]).join(`
`)}var b,g,m;return[h].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var h=0;h<this.length;h++){var f=this[h][0];f!=null&&(u[f]=!0)}for(var d=0;d<l.length;d++){var p=[].concat(l[d]);c&&u[p[0]]||(a&&(p[2]?p[2]="".concat(a," and ").concat(p[2]):p[2]=a),s.push(p))}},s}},function(n,r,i){var o=i(4);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,r){n.exports=function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(i){if(Array.isArray(i))return i}},function(n,r){n.exports=function(i,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var s=[],l=!0,a=!1,c=void 0;try{for(var u,h=i[Symbol.iterator]();!(l=(u=h.next()).done)&&(s.push(u.value),!o||s.length!==o);l=!0);}catch(f){a=!0,c=f}finally{try{l||h.return==null||h.return()}finally{if(a)throw c}}return s}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){i.r(r),i.d(r,"default",function(){return C});var o=i(3),s=i.n(o),l=i(6),a=i.n(l),c=i(2),u=i.n(c),h=i(0),f=i.n(h);i(11);const d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var p=i(7),b=i.n(p);function g(T){var P,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=document.createElement(T);Array.isArray(E)?(P=L.classList).add.apply(P,b()(E)):E&&L.classList.add(E);for(var R in k)L[R]=k[R];return L}var m=function(){function T(P){var E=P.api,k=P.config,L=P.onSelectFile,R=P.readOnly;u()(this,T),this.api=E,this.config=k,this.onSelectFile=L,this.readOnly=R,this.nodes={wrapper:g("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:g("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:g("div",this.CSS.imagePreloader),caption:g("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return f()(T,[{key:"render",value:function(P){return P.file&&Object.keys(P.file).length!==0?this.toggleStatus(T.status.UPLOADING):this.toggleStatus(T.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var P=this,E=g("div",[this.CSS.button]);return E.innerHTML=this.config.buttonContent||"".concat(d," ").concat(this.api.i18n.t("Select an Image")),E.addEventListener("click",function(){P.onSelectFile()}),E}},{key:"showPreloader",value:function(P){this.nodes.imagePreloader.style.backgroundImage="url(".concat(P,")"),this.toggleStatus(T.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(T.status.EMPTY)}},{key:"fillImage",value:function(P){var E=this,k=/\.mp4$/.test(P)?"VIDEO":"IMG",L={src:P},R="load";k==="VIDEO"&&(L.autoplay=!0,L.loop=!0,L.muted=!0,L.playsinline=!0,R="loadeddata"),this.nodes.imageEl=g(k,this.CSS.imageEl,L),this.nodes.imageEl.addEventListener(R,function(){E.toggleStatus(T.status.FILLED),E.nodes.imagePreloader&&(E.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(P){this.nodes.caption&&(this.nodes.caption.innerHTML=P)}},{key:"toggleStatus",value:function(P){for(var E in T.status)Object.prototype.hasOwnProperty.call(T.status,E)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(T.status[E]),P===T.status[E])}},{key:"applyTune",value:function(P,E){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(P),E)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),T}(),x=i(8),y=i.n(x),w=i(1),v=i.n(w);function _(T){return T&&typeof T.then=="function"}var S=function(){function T(P){var E=P.config,k=P.onUpload,L=P.onError;u()(this,T),this.config=E,this.onUpload=k,this.onError=L}return f()(T,[{key:"uploadSelectedFile",value:function(P){var E=this,k=P.onPreview,L=function(R){var A=new FileReader;A.readAsDataURL(R),A.onload=function(O){k(O.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?v.a.selectFiles({accept:this.config.types}).then(function(R){L(R[0]);var A=E.config.uploader.uploadByFile(R[0]);return _(A)||console.warn("Custom uploader method uploadByFile should return a Promise"),A}):v.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(R){L(R[0])},fieldName:this.config.field}).then(function(R){return R.body})).then(function(R){E.onUpload(R)}).catch(function(R){E.onError(R)})}},{key:"uploadByUrl",value:function(P){var E,k=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?_(E=this.config.uploader.uploadByUrl(P))||console.warn("Custom uploader method uploadByUrl should return a Promise"):E=v.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:P},this.config.additionalRequestData),type:v.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(L){return L.body}),E.then(function(L){k.onUpload(L)}).catch(function(L){k.onError(L)})}},{key:"uploadByFile",value:function(P,E){var k,L=this,R=E.onPreview,A=new FileReader;if(A.readAsDataURL(P),A.onload=function(M){R(M.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")_(k=this.config.uploader.uploadByFile(P))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var O=new FormData;O.append(this.config.field,P),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(M){var I=y()(M,2),B=I[0],W=I[1];O.append(B,W)}),k=v.a.post({url:this.config.endpoints.byFile,data:O,type:v.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(M){return M.body})}k.then(function(M){L.onUpload(M)}).catch(function(M){L.onError(M)})}}]),T}(),C=function(){function T(E){var k=this,L=E.data,R=E.config,A=E.api,O=E.readOnly;u()(this,T),this.api=A,this.readOnly=O,this.config={endpoints:R.endpoints||"",additionalRequestData:R.additionalRequestData||{},additionalRequestHeaders:R.additionalRequestHeaders||{},field:R.field||"image",types:R.types||"image/*",captionPlaceholder:this.api.i18n.t(R.captionPlaceholder||"Caption"),buttonContent:R.buttonContent||"",uploader:R.uploader||void 0,actions:R.actions||[]},this.uploader=new S({config:this.config,onUpload:function(M){return k.onUpload(M)},onError:function(M){return k.uploadingFailed(M)}}),this.ui=new m({api:A,config:this.config,onSelectFile:function(){k.uploader.uploadSelectedFile({onPreview:function(M){k.ui.showPreloader(M)}})},readOnly:O}),this._data={},this.data=L}var P;return f()(T,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:d,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),f()(T,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(E){return E.file&&E.file.url}},{key:"save",value:function(){var E=this.ui.nodes.caption;return this._data.caption=E.innerHTML,this.data}},{key:"renderSettings",value:function(){var E=this;return T.tunes.concat(this.config.actions).map(function(k){return{icon:k.icon,label:E.api.i18n.t(k.title),name:k.name,toggle:k.toggle,isActive:E.data[k.name],onActivate:function(){typeof k.action!="function"?E.tuneToggled(k.name):k.action(k.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(P=a()(s.a.mark(function E(k){var L,R,A,O,M;return s.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:I.t0=k.type,I.next=I.t0==="tag"?3:I.t0==="pattern"?15:I.t0==="file"?18:21;break;case 3:if(L=k.detail.data,!/^blob:/.test(L.src)){I.next=13;break}return I.next=7,fetch(L.src);case 7:return R=I.sent,I.next=10,R.blob();case 10:return A=I.sent,this.uploadFile(A),I.abrupt("break",21);case 13:return this.uploadUrl(L.src),I.abrupt("break",21);case 15:return O=k.detail.data,this.uploadUrl(O),I.abrupt("break",21);case 18:return M=k.detail.file,this.uploadFile(M),I.abrupt("break",21);case 21:case"end":return I.stop()}},E,this)})),function(E){return P.apply(this,arguments)})},{key:"onUpload",value:function(E){E.success&&E.file?this.image=E.file:this.uploadingFailed("incorrect response: "+JSON.stringify(E))}},{key:"uploadingFailed",value:function(E){console.log("Image Tool: uploading failed because of",E),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(E){this.setTune(E,!this._data[E])}},{key:"setTune",value:function(E,k){var L=this;this._data[E]=k,this.ui.applyTune(E,k),E==="stretched"&&Promise.resolve().then(function(){var R=L.api.blocks.getCurrentBlockIndex();L.api.blocks.stretchBlock(R,k)}).catch(function(R){console.error(R)})}},{key:"uploadFile",value:function(E){var k=this;this.uploader.uploadByFile(E,{onPreview:function(L){k.ui.showPreloader(L)}})}},{key:"uploadUrl",value:function(E){this.ui.showPreloader(E),this.uploader.uploadByUrl(E)}},{key:"data",set:function(E){var k=this;this.image=E.file,this._data.caption=E.caption||"",this.ui.fillCaption(this._data.caption),T.tunes.forEach(function(L){var R=L.name,A=E[R]!==void 0&&(E[R]===!0||E[R]==="true");k.setTune(R,A)})},get:function(){return this._data}},{key:"image",set:function(E){this._data.file=E||{},E&&E.url&&this.ui.fillImage(E.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),T}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(lE);const aE=On(sc);var lc={},cE={get exports(){return lc},set exports(t){lc=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",h=a[3];if(!h)return u;if(c&&typeof btoa=="function"){var f=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),d=h.sources.map(function(b){return"/*# sourceURL="+h.sourceRoot+b+" */"});return[u].concat(d).concat([f]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var h=s[c];typeof h[0]=="number"&&a[h[0]]||(l&&!h[2]?h[2]=l:l&&(h[2]="("+h[2]+") and ("+l+")"),o.push(h))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(E){return document.querySelector(E)},u=function(E){var k={};return function(L){if(typeof L=="function")return L();if(k[L]===void 0){var R=c.call(this,L);if(window.HTMLIFrameElement&&R instanceof window.HTMLIFrameElement)try{R=R.contentDocument.head}catch{R=null}k[L]=R}return k[L]}}(),h=null,f=0,d=[],p=i(4);function b(E,k){for(var L=0;L<E.length;L++){var R=E[L],A=l[R.id];if(A){A.refs++;for(var O=0;O<A.parts.length;O++)A.parts[O](R.parts[O]);for(;O<R.parts.length;O++)A.parts.push(v(R.parts[O],k))}else{var M=[];for(O=0;O<R.parts.length;O++)M.push(v(R.parts[O],k));l[R.id]={id:R.id,refs:1,parts:M}}}}function g(E,k){for(var L=[],R={},A=0;A<E.length;A++){var O=E[A],M=k.base?O[0]+k.base:O[0],I={css:O[1],media:O[2],sourceMap:O[3]};R[M]?R[M].parts.push(I):L.push(R[M]={id:M,parts:[I]})}return L}function m(E,k){var L=u(E.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=d[d.length-1];if(E.insertAt==="top")R?R.nextSibling?L.insertBefore(k,R.nextSibling):L.appendChild(k):L.insertBefore(k,L.firstChild),d.push(k);else if(E.insertAt==="bottom")L.appendChild(k);else{if(typeof E.insertAt!="object"||!E.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=u(E.insertInto+" "+E.insertAt.before);L.insertBefore(k,A)}}function x(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E);var k=d.indexOf(E);k>=0&&d.splice(k,1)}function y(E){var k=document.createElement("style");return E.attrs.type===void 0&&(E.attrs.type="text/css"),w(k,E.attrs),m(E,k),k}function w(E,k){Object.keys(k).forEach(function(L){E.setAttribute(L,k[L])})}function v(E,k){var L,R,A,O;if(k.transform&&E.css){if(!(O=k.transform(E.css)))return function(){};E.css=O}if(k.singleton){var M=f++;L=h||(h=y(k)),R=C.bind(null,L,M,!1),A=C.bind(null,L,M,!0)}else E.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(I){var B=document.createElement("link");return I.attrs.type===void 0&&(I.attrs.type="text/css"),I.attrs.rel="stylesheet",w(B,I.attrs),m(I,B),B}(k),R=P.bind(null,L,k),A=function(){x(L),L.href&&URL.revokeObjectURL(L.href)}):(L=y(k),R=T.bind(null,L),A=function(){x(L)});return R(E),function(I){if(I){if(I.css===E.css&&I.media===E.media&&I.sourceMap===E.sourceMap)return;R(E=I)}else A()}}n.exports=function(E,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=a()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var L=g(E,k);return b(L,k),function(R){for(var A=[],O=0;O<L.length;O++){var M=L[O];(I=l[M.id]).refs--,A.push(I)}for(R&&b(g(R,k),k),O=0;O<A.length;O++){var I;if((I=A[O]).refs===0){for(var B=0;B<I.parts.length;B++)I.parts[B]();delete l[I.id]}}}};var _,S=(_=[],function(E,k){return _[E]=k,_.filter(Boolean).join(`
`)});function C(E,k,L,R){var A=L?"":R.css;if(E.styleSheet)E.styleSheet.cssText=S(k,A);else{var O=document.createTextNode(A),M=E.childNodes;M[k]&&E.removeChild(M[k]),M.length?E.insertBefore(O,M[k]):E.appendChild(O)}}function T(E,k){var L=k.css,R=k.media;if(R&&E.setAttribute("media",R),E.styleSheet)E.styleSheet.cssText=L;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(L))}}function P(E,k,L){var R=L.css,A=L.sourceMap,O=k.convertToAbsoluteUrls===void 0&&A;(k.convertToAbsoluteUrls||O)&&(R=p(R)),A&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */");var M=new Blob([R],{type:"text/css"}),I=E.href;E.href=URL.createObjectURL(M),I&&URL.revokeObjectURL(I)}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,h=c.trim().replace(/^"(.*)"$/,function(f,d){return d}).replace(/^'(.*)'$/,function(f,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?a:(u=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:l+h.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i.d(r,"default",function(){return l}),i(0);function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function s(a,c){for(var u=0;u<c.length;u++){var h=c[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var l=function(){function a(f){var d=f.data,p=f.config,b=f.api,g=f.readOnly;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=b,this.readOnly=g,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=p,this._data=this.normalizeData(d),this._element=this.getTag()}var c,u,h;return c=a,h=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(f){var d={};return o(f)!=="object"&&(f={}),d.text=f.text||"",d.level=parseInt(f.level)||this.defaultLevel.number,d}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var f=this;return this.levels.map(function(d){return{icon:d.svg,label:f.api.i18n.t("Heading ".concat(d.number)),onActivate:function(){return f.setLevel(d.number)},closeOnActivate:!0,isActive:f.currentLevel.number===d.number}})}},{key:"setLevel",value:function(f){this.data={level:f,text:this.data.text}}},{key:"merge",value:function(f){var d={text:this.data.text+f.text,level:this.data.level};this.data=d}},{key:"validate",value:function(f){return f.text.trim()!==""}},{key:"save",value:function(f){return{text:f.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var f=document.createElement(this.currentLevel.tag);return f.innerHTML=this._data.text||"",f.classList.add(this._CSS.wrapper),f.contentEditable=this.readOnly?"false":"true",f.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),f}},{key:"onPaste",value:function(f){var d=f.detail.data,p=this.defaultLevel.number;switch(d.tagName){case"H1":p=1;break;case"H2":p=2;break;case"H3":p=3;break;case"H4":p=4;break;case"H5":p=5;break;case"H6":p=6}this._settings.levels&&(p=this._settings.levels.reduce(function(b,g){return Math.abs(g-p)<Math.abs(b-p)?g:b})),this.data={level:p,text:d.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(f){if(this._data=this.normalizeData(f),f.level!==void 0&&this._element.parentNode){var d=this.getTag();d.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(d,this._element),this._element=d}f.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var f=this,d=this.levels.find(function(p){return p.number===f._data.level});return d||(d=this.defaultLevel),d}},{key:"defaultLevel",get:function(){var f=this;if(this._settings.defaultLevel){var d=this.levels.find(function(p){return p.number===f._settings.defaultLevel});if(d)return d;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var f=this,d=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?d.filter(function(p){return f._settings.levels.includes(p.number)}):d}}])&&s(c.prototype,u),h&&s(c,h),a}()}]).default})})(cE);const uE=On(lc);var ac={},fE={get exports(){return ac},set exports(t){ac=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=6)}([function(n,r){n.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><rect width="18" height="18" fill="#F4F5F7" rx="2"></rect><circle cx="11.5" cy="6.5" r="1.5"></circle><circle cx="11.5" cy="11.5" r="1.5"></circle><circle cx="6.5" cy="6.5" r="1.5"></circle><circle cx="6.5" cy="11.5" r="1.5"></circle></svg>'},function(n,r,i){var o=i(2);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(3)(!1)).push([n.i,'.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4;}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border);}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative;}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color;}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px;}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border);}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal;}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity;}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translateX(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity;}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,0.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;padding:6px;display:none;will-change:opacity,transform;}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm);}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:rgba(0,0,0,.1);}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}',""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",h=a[3];if(!h)return u;if(c&&typeof btoa=="function"){var f=(p=h,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),d=h.sources.map(function(b){return"/*# sourceURL="+h.sourceRoot+b+" */"});return[u].concat(d).concat([f]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var h=s[c];typeof h[0]=="number"&&a[h[0]]||(l&&!h[2]?h[2]=l:l&&(h[2]="("+h[2]+") and ("+l+")"),o.push(h))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(E,k){return k?k.querySelector(E):document.querySelector(E)},u=function(E){var k={};return function(L,R){if(typeof L=="function")return L();if(k[L]===void 0){var A=c.call(this,L,R);if(window.HTMLIFrameElement&&A instanceof window.HTMLIFrameElement)try{A=A.contentDocument.head}catch{A=null}k[L]=A}return k[L]}}(),h=null,f=0,d=[],p=i(5);function b(E,k){for(var L=0;L<E.length;L++){var R=E[L],A=l[R.id];if(A){A.refs++;for(var O=0;O<A.parts.length;O++)A.parts[O](R.parts[O]);for(;O<R.parts.length;O++)A.parts.push(v(R.parts[O],k))}else{var M=[];for(O=0;O<R.parts.length;O++)M.push(v(R.parts[O],k));l[R.id]={id:R.id,refs:1,parts:M}}}}function g(E,k){for(var L=[],R={},A=0;A<E.length;A++){var O=E[A],M=k.base?O[0]+k.base:O[0],I={css:O[1],media:O[2],sourceMap:O[3]};R[M]?R[M].parts.push(I):L.push(R[M]={id:M,parts:[I]})}return L}function m(E,k){var L=u(E.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=d[d.length-1];if(E.insertAt==="top")R?R.nextSibling?L.insertBefore(k,R.nextSibling):L.appendChild(k):L.insertBefore(k,L.firstChild),d.push(k);else if(E.insertAt==="bottom")L.appendChild(k);else{if(typeof E.insertAt!="object"||!E.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=u(E.insertAt.before,L);L.insertBefore(k,A)}}function x(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E);var k=d.indexOf(E);k>=0&&d.splice(k,1)}function y(E){var k=document.createElement("style");if(E.attrs.type===void 0&&(E.attrs.type="text/css"),E.attrs.nonce===void 0){var L=function(){return i.nc}();L&&(E.attrs.nonce=L)}return w(k,E.attrs),m(E,k),k}function w(E,k){Object.keys(k).forEach(function(L){E.setAttribute(L,k[L])})}function v(E,k){var L,R,A,O;if(k.transform&&E.css){if(!(O=typeof k.transform=="function"?k.transform(E.css):k.transform.default(E.css)))return function(){};E.css=O}if(k.singleton){var M=f++;L=h||(h=y(k)),R=C.bind(null,L,M,!1),A=C.bind(null,L,M,!0)}else E.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(I){var B=document.createElement("link");return I.attrs.type===void 0&&(I.attrs.type="text/css"),I.attrs.rel="stylesheet",w(B,I.attrs),m(I,B),B}(k),R=P.bind(null,L,k),A=function(){x(L),L.href&&URL.revokeObjectURL(L.href)}):(L=y(k),R=T.bind(null,L),A=function(){x(L)});return R(E),function(I){if(I){if(I.css===E.css&&I.media===E.media&&I.sourceMap===E.sourceMap)return;R(E=I)}else A()}}n.exports=function(E,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=a()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var L=g(E,k);return b(L,k),function(R){for(var A=[],O=0;O<L.length;O++){var M=L[O];(I=l[M.id]).refs--,A.push(I)}for(R&&b(g(R,k),k),O=0;O<A.length;O++){var I;if((I=A[O]).refs===0){for(var B=0;B<I.parts.length;B++)I.parts[B]();delete l[I.id]}}}};var _,S=(_=[],function(E,k){return _[E]=k,_.filter(Boolean).join(`
`)});function C(E,k,L,R){var A=L?"":R.css;if(E.styleSheet)E.styleSheet.cssText=S(k,A);else{var O=document.createTextNode(A),M=E.childNodes;M[k]&&E.removeChild(M[k]),M.length?E.insertBefore(O,M[k]):E.appendChild(O)}}function T(E,k){var L=k.css,R=k.media;if(R&&E.setAttribute("media",R),E.styleSheet)E.styleSheet.cssText=L;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(L))}}function P(E,k,L){var R=L.css,A=L.sourceMap,O=k.convertToAbsoluteUrls===void 0&&A;(k.convertToAbsoluteUrls||O)&&(R=p(R)),A&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */");var M=new Blob([R],{type:"text/css"}),I=E.href;E.href=URL.createObjectURL(M),I&&URL.revokeObjectURL(I)}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,h=c.trim().replace(/^"(.*)"$/,function(f,d){return d}).replace(/^'(.*)'$/,function(f,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(h)?a:(u=h.indexOf("//")===0?h:h.indexOf("/")===0?s+h:l+h.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){function o(E,k,L={}){const R=document.createElement(E);Array.isArray(k)?R.classList.add(...k):k&&R.classList.add(k);for(const A in L)Object.prototype.hasOwnProperty.call(L,A)&&(R[A]=L[A]);return R}function s(E){const k=E.getBoundingClientRect();return{y1:Math.floor(k.top+window.pageYOffset),x1:Math.floor(k.left+window.pageXOffset),x2:Math.floor(k.right+window.pageXOffset),y2:Math.floor(k.bottom+window.pageYOffset)}}function l(E,k){const L=s(E),R=s(k);return{fromTopBorder:R.y1-L.y1,fromLeftBorder:R.x1-L.x1,fromRightBorder:L.x2-R.x2,fromBottomBorder:L.y2-R.y2}}function a(E,k){return k.parentNode.insertBefore(E,k)}function c(E,k=!0){const L=document.createRange(),R=window.getSelection();L.selectNodeContents(E),L.collapse(k),R.removeAllRanges(),R.addRange(L)}i.r(r);class u{constructor({items:k}){this.items=k,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=o("div",u.CSS.popover),this.items.forEach((k,L)=>{const R=o("div",u.CSS.item),A=o("div",u.CSS.itemIcon,{innerHTML:k.icon}),O=o("div",u.CSS.itemLabel,{textContent:k.label});R.dataset.index=L,R.appendChild(A),R.appendChild(O),this.wrapper.appendChild(R),this.itemEls.push(R)}),this.wrapper.addEventListener("click",k=>{this.popoverClicked(k)}),this.wrapper}popoverClicked(k){const L=k.target.closest("."+u.CSS.item);if(!L)return;const R=L.dataset.index,A=this.items[R];!A.confirmationRequired||this.hasConfirmationState(L)?A.onClick():this.setConfirmationState(L)}setConfirmationState(k){k.classList.add(u.CSS.itemConfirmState)}clearConfirmationState(k){k.classList.remove(u.CSS.itemConfirmState)}hasConfirmationState(k){return k.classList.contains(u.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(u.CSS.popoverOpened)}open(){this.items.forEach((k,L)=>{typeof k.hideIf=="function"&&this.itemEls[L].classList.toggle(u.CSS.itemHidden,k.hideIf())}),this.wrapper.classList.add(u.CSS.popoverOpened)}close(){this.wrapper.classList.remove(u.CSS.popoverOpened),this.itemEls.forEach(k=>{this.clearConfirmationState(k)})}}var h=i(0),f=i.n(h);class d{constructor({api:k,items:L,onOpen:R,onClose:A,cssModifier:O=""}){this.api=k,this.items=L,this.onOpen=R,this.onClose=A,this.cssModifier=O,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const k=o("div",[d.CSS.toolbox,this.cssModifier?`${d.CSS.toolbox}--${this.cssModifier}`:""]),L=this.createPopover(),R=this.createToggler();return k.appendChild(R),k.appendChild(L),k}createToggler(){const k=o("div",d.CSS.toggler,{innerHTML:f.a});return k.addEventListener("click",()=>{this.togglerClicked()}),k}createPopover(){return this.popover=new u({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(k){const L=k();Object.entries(L).forEach(([R,A])=>{this.wrapper.style[R]=A}),this.wrapper.classList.add(d.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(d.CSS.toolboxShowed)}}const p='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',g="tc-wrap",m="tc-wrap--readonly",x="tc-table",y="tc-row",w="tc-table--heading",v="tc-row--selected",_="tc-cell",S="tc-cell--selected",C="tc-add-row",T="tc-add-column";class P{constructor(k,L,R,A){this.readOnly=k,this.api=L,this.data=R,this.config=A,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=O=>{const M=O.target.closest("."+x)!==null,I=O.target.closest("."+g)===null;(M||I)&&this.hideToolboxes();const B=O.target.closest("."+C),W=O.target.closest("."+T);B&&B.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):W&&W.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",function(k,L){let R=0;return function(...A){const O=new Date().getTime();if(!(O-R<k))return R=O,L(...A)}}(150,k=>this.onMouseMoveInTable(k)),{passive:!0}),this.table.onkeypress=k=>this.onKeyPressListener(k),this.table.addEventListener("keydown",k=>this.onKeyDownListener(k)),this.table.addEventListener("focusin",k=>this.focusInTableListener(k))}createColumnToolbox(){return new d({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:p,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new d({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:p,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(k,L){return this.table.querySelectorAll(`.${y}:nth-child(${k}) .${_}`)[L-1]}getRow(k){return this.table.querySelector(`.${y}:nth-child(${k})`)}getRowByCell(k){return k.parentElement}getRowFirstCell(k){return k.querySelector(`.${_}:first-child`)}setCellContent(k,L,R){this.getCell(k,L).innerHTML=R}addColumn(k=-1,L=!1){let R=this.numberOfColumns;for(let A=1;A<=this.numberOfRows;A++){let O;const M=this.createCell();if(k>0&&k<=R?(O=this.getCell(A,k),a(M,O)):O=this.getRow(A).appendChild(M),A===1){const I=this.getCell(A,k>0?k:R+1);I&&L&&c(I)}}this.addHeadingAttrToFirstRow()}addRow(k=-1,L=!1){let R,A=o("div",y);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let O=this.numberOfColumns;k>0&&k<=this.numberOfRows?R=a(A,this.getRow(k)):R=this.table.appendChild(A),this.fillRow(R,O),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const M=this.getRowFirstCell(R);return M&&L&&c(M),R}deleteColumn(k){for(let L=1;L<=this.numberOfRows;L++){const R=this.getCell(L,k);if(!R)return;R.remove()}}deleteRow(k){this.getRow(k).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=o("div",g),this.table=o("div",x),this.readOnly&&this.wrapper.classList.add(m),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const k=o("div",T,{innerHTML:b}),L=o("div",C,{innerHTML:b});this.wrapper.appendChild(k),this.wrapper.appendChild(L)}}computeInitialSize(){const k=this.data&&this.data.content,L=Array.isArray(k),R=!!L&&k.length,A=L?k.length:void 0,O=R?k[0].length:void 0,M=Number.parseInt(this.config&&this.config.rows),I=Number.parseInt(this.config&&this.config.cols),B=!isNaN(M)&&M>0?M:void 0,W=!isNaN(I)&&I>0?I:void 0;return{rows:A||B||2,cols:O||W||2}}resize(){const{rows:k,cols:L}=this.computeInitialSize();for(let R=0;R<k;R++)this.addRow();for(let R=0;R<L;R++)this.addColumn()}fill(){const k=this.data;if(k&&k.content)for(let L=0;L<k.content.length;L++)for(let R=0;R<k.content[L].length;R++)this.setCellContent(L+1,R+1,k.content[L][R])}fillRow(k,L){for(let R=1;R<=L;R++){const A=this.createCell();k.appendChild(A)}}createCell(){return o("div",_,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${y}:first-child .${_}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(k){const{row:L,column:R}=this.getHoveredCell(k);this.hoveredColumn=R,this.hoveredRow=L,this.updateToolboxesPosition()}onKeyPressListener(k){if(k.key==="Enter"){if(k.shiftKey)return!0;this.moveCursorToNextRow()}return k.key!=="Enter"}onKeyDownListener(k){k.key==="Tab"&&k.stopPropagation()}focusInTableListener(k){const L=k.target,R=this.getRowByCell(L);this.focusedCell={row:Array.from(this.table.querySelectorAll("."+y)).indexOf(R)+1,column:Array.from(R.querySelectorAll("."+_)).indexOf(L)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:k,column:L}=this.focusedCell;return this.getCell(k,L)}updateToolboxesPosition(k=this.hoveredRow,L=this.hoveredColumn){this.isColumnMenuShowing||L>0&&L<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${L} - 1) * 2))`})),this.isRowMenuShowing||k>0&&k<=this.numberOfRows&&this.toolboxRow.show(()=>{const R=this.getRow(k),{fromTopBorder:A}=l(this.table,R),{height:O}=R.getBoundingClientRect();return{top:Math.ceil(A+O/2)+"px"}})}setHeadingsSetting(k){this.tunes.withHeadings=k,k?(this.table.classList.add(w),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(w),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let k=1;k<=this.numberOfColumns;k++){let L=this.getCell(1,k);L&&L.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let k=1;k<=this.numberOfColumns;k++){let L=this.getCell(1,k);L&&L.removeAttribute("heading")}}selectRow(k){const L=this.getRow(k);L&&(this.selectedRow=k,L.classList.add(v))}unselectRow(){if(this.selectedRow<=0)return;const k=this.table.querySelector("."+v);k&&k.classList.remove(v),this.selectedRow=0}selectColumn(k){for(let L=1;L<=this.numberOfRows;L++){const R=this.getCell(L,k);R&&R.classList.add(S)}this.selectedColumn=k}unselectColumn(){if(this.selectedColumn<=0)return;let k=this.table.querySelectorAll("."+S);Array.from(k).forEach(L=>{L.classList.remove(S)}),this.selectedColumn=0}getHoveredCell(k){let L=this.hoveredRow,R=this.hoveredColumn;const{width:A,height:O,x:M,y:I}=function(B,W){const ne=B.getBoundingClientRect(),{width:oe,height:xe,x:se,y:H}=ne,{clientX:Y,clientY:G}=W;return{width:oe,height:xe,x:Y-se,y:G-H}}(this.table,k);return M>=0&&(R=this.binSearch(this.numberOfColumns,B=>this.getCell(1,B),({fromLeftBorder:B})=>M<B,({fromRightBorder:B})=>M>A-B)),I>=0&&(L=this.binSearch(this.numberOfRows,B=>this.getCell(B,1),({fromTopBorder:B})=>I<B,({fromBottomBorder:B})=>I>O-B)),{row:L||this.hoveredRow,column:R||this.hoveredColumn}}binSearch(k,L,R,A){let O,M=0,I=k+1,B=0;for(;M<I-1&&B<10;){O=Math.ceil((M+I)/2);const W=L(O),ne=l(this.table,W);if(R(ne))I=O;else{if(!A(ne))break;M=O}B++}return O}getData(){const k=[];for(let L=1;L<=this.numberOfRows;L++){const R=this.table.querySelector(`.${y}:nth-child(${L})`),A=Array.from(R.querySelectorAll("."+_));A.every(O=>!O.textContent.trim())||k.push(A.map(O=>O.innerHTML))}return k}destroy(){document.removeEventListener("click",this.documentClicked)}}i(1),r.default=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:E,config:k,api:L,readOnly:R}){this.api=L,this.readOnly=R,this.config=k,this.data={withHeadings:this.getConfig("withHeadings",!1,E),content:E&&E.content?E.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new P(this.readOnly,this.api,this.data,this.config),this.container=o("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const E=this.table.getData();return{withHeadings:this.data.withHeadings,content:E}}destroy(){this.table.destroy()}getConfig(E,k,L){const R=this.data||L;return R?R[E]?R[E]:k:this.config&&this.config[E]?this.config[E]:k}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(E){const k=E.detail.data,L=k.querySelector(":scope > thead, tr:first-of-type th"),R=Array.from(k.querySelectorAll("tr")).map(A=>Array.from(A.querySelectorAll("th, td")).map(O=>O.innerHTML));this.data={withHeadings:L!==null,content:R},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}}]).default})})(fE);const hE=On(ac);var cc={},dE={get exports(){return cc},set exports(t){cc=t}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={424:(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var c=a(81),u=a.n(c),h=a(645),f=a.n(h)()(u());f.push([s.id,`.ce-block--drop-target .ce-block__content:before {
  content: "";
  position: absolute;
  top: 50%;
  left: -20px;
  margin-top: -1px;
  height: 8px;
  width: 8px;
  border: solid #a0a0a0;
  border-width: 1px 1px 0 0;
  -webkit-transform-origin: right;
  transform-origin: right;
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.ce-block--drop-target .ce-block__content:after {
  background: none;
}`,""]);const d=f},645:s=>{s.exports=function(l){var a=[];return a.toString=function(){return this.map(function(c){var u="",h=c[5]!==void 0;return c[4]&&(u+="@supports (".concat(c[4],") {")),c[2]&&(u+="@media ".concat(c[2]," {")),h&&(u+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),u+=l(c),h&&(u+="}"),c[2]&&(u+="}"),c[4]&&(u+="}"),u}).join("")},a.i=function(c,u,h,f,d){typeof c=="string"&&(c=[[null,c,void 0]]);var p={};if(h)for(var b=0;b<this.length;b++){var g=this[b][0];g!=null&&(p[g]=!0)}for(var m=0;m<c.length;m++){var x=[].concat(c[m]);h&&p[x[0]]||(d!==void 0&&(x[5]===void 0||(x[1]="@layer".concat(x[5].length>0?" ".concat(x[5]):""," {").concat(x[1],"}")),x[5]=d),u&&(x[2]&&(x[1]="@media ".concat(x[2]," {").concat(x[1],"}")),x[2]=u),f&&(x[4]?(x[1]="@supports (".concat(x[4],") {").concat(x[1],"}"),x[4]=f):x[4]="".concat(f)),a.push(x))}},a}},81:s=>{s.exports=function(l){return l[1]}},406:(s,l,a)=>{var c=a(424);typeof c=="string"&&(c=[[s.id,c,""]]),a(723)(c,{hmr:!0,transform:void 0,insertInto:void 0}),c.locals&&(s.exports=c.locals)},723:(s,l,a)=>{var c,u,h={},f=(c=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=c.apply(this,arguments)),u}),d=function(A){return document.querySelector(A)},p=function(A){var O={};return function(M){if(typeof M=="function")return M();if(O[M]===void 0){var I=d.call(this,M);if(window.HTMLIFrameElement&&I instanceof window.HTMLIFrameElement)try{I=I.contentDocument.head}catch{I=null}O[M]=I}return O[M]}}(),b=null,g=0,m=[],x=a(947);function y(A,O){for(var M=0;M<A.length;M++){var I=A[M],B=h[I.id];if(B){B.refs++;for(var W=0;W<B.parts.length;W++)B.parts[W](I.parts[W]);for(;W<I.parts.length;W++)B.parts.push(T(I.parts[W],O))}else{var ne=[];for(W=0;W<I.parts.length;W++)ne.push(T(I.parts[W],O));h[I.id]={id:I.id,refs:1,parts:ne}}}}function w(A,O){for(var M=[],I={},B=0;B<A.length;B++){var W=A[B],ne=O.base?W[0]+O.base:W[0],oe={css:W[1],media:W[2],sourceMap:W[3]};I[ne]?I[ne].parts.push(oe):M.push(I[ne]={id:ne,parts:[oe]})}return M}function v(A,O){var M=p(A.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var I=m[m.length-1];if(A.insertAt==="top")I?I.nextSibling?M.insertBefore(O,I.nextSibling):M.appendChild(O):M.insertBefore(O,M.firstChild),m.push(O);else if(A.insertAt==="bottom")M.appendChild(O);else{if(typeof A.insertAt!="object"||!A.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var B=p(A.insertInto+" "+A.insertAt.before);M.insertBefore(O,B)}}function _(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A);var O=m.indexOf(A);O>=0&&m.splice(O,1)}function S(A){var O=document.createElement("style");return A.attrs.type===void 0&&(A.attrs.type="text/css"),C(O,A.attrs),v(A,O),O}function C(A,O){Object.keys(O).forEach(function(M){A.setAttribute(M,O[M])})}function T(A,O){var M,I,B,W;if(O.transform&&A.css){if(!(W=O.transform(A.css)))return function(){};A.css=W}if(O.singleton){var ne=g++;M=b||(b=S(O)),I=k.bind(null,M,ne,!1),B=k.bind(null,M,ne,!0)}else A.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(oe){var xe=document.createElement("link");return oe.attrs.type===void 0&&(oe.attrs.type="text/css"),oe.attrs.rel="stylesheet",C(xe,oe.attrs),v(oe,xe),xe}(O),I=R.bind(null,M,O),B=function(){_(M),M.href&&URL.revokeObjectURL(M.href)}):(M=S(O),I=L.bind(null,M),B=function(){_(M)});return I(A),function(oe){if(oe){if(oe.css===A.css&&oe.media===A.media&&oe.sourceMap===A.sourceMap)return;I(A=oe)}else B()}}s.exports=function(A,O){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(O=O||{}).attrs=typeof O.attrs=="object"?O.attrs:{},O.singleton||typeof O.singleton=="boolean"||(O.singleton=f()),O.insertInto||(O.insertInto="head"),O.insertAt||(O.insertAt="bottom");var M=w(A,O);return y(M,O),function(I){for(var B=[],W=0;W<M.length;W++){var ne=M[W];(oe=h[ne.id]).refs--,B.push(oe)}for(I&&y(w(I,O),O),W=0;W<B.length;W++){var oe;if((oe=B[W]).refs===0){for(var xe=0;xe<oe.parts.length;xe++)oe.parts[xe]();delete h[oe.id]}}}};var P,E=(P=[],function(A,O){return P[A]=O,P.filter(Boolean).join(`
`)});function k(A,O,M,I){var B=M?"":I.css;if(A.styleSheet)A.styleSheet.cssText=E(O,B);else{var W=document.createTextNode(B),ne=A.childNodes;ne[O]&&A.removeChild(ne[O]),ne.length?A.insertBefore(W,ne[O]):A.appendChild(W)}}function L(A,O){var M=O.css,I=O.media;if(I&&A.setAttribute("media",I),A.styleSheet)A.styleSheet.cssText=M;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(M))}}function R(A,O,M){var I=M.css,B=M.sourceMap,W=O.convertToAbsoluteUrls===void 0&&B;(O.convertToAbsoluteUrls||W)&&(I=x(I)),B&&(I+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(B))))+" */");var ne=new Blob([I],{type:"text/css"}),oe=A.href;A.href=URL.createObjectURL(ne),oe&&URL.revokeObjectURL(oe)}},947:s=>{s.exports=function(l){var a=typeof window<"u"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var c=a.protocol+"//"+a.host,u=c+a.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(h,f){var d,p=f.trim().replace(/^"(.*)"$/,function(b,g){return g}).replace(/^'(.*)'$/,function(b,g){return g});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(p)?h:(d=p.indexOf("//")===0?p:p.indexOf("/")===0?c+p:u+p.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}}},r={};function i(s){var l=r[s];if(l!==void 0)return l.exports;var a=r[s]={id:s,exports:{}};return n[s](a,a.exports,i),a.exports}i.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return i.d(l,{a:l}),l},i.d=(s,l)=>{for(var a in l)i.o(l,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:l[a]})},i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{function s(a,c){for(var u=0;u<c.length;u++){var h=c[u];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}i.d(o,{default:()=>l}),i(406);var l=function(){function a(f,d){var p=f.configuration,b=f.blocks,g=f.toolbar,m=f.save;(function(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")})(this,a),this.toolbar=g,this.borderStyle=d||"1px dashed #aaa",this.api=b,this.holder=typeof p.holder=="string"?document.getElementById(p.holder):p.holder,this.readOnly=p.readOnly,this.startBlock=null,this.endBlock=null,this.save=m,this.setDragListener(),this.setDropListener()}var c,u,h;return c=a,h=[{key:"isReadOnlySupported",get:function(){return!0}}],(u=[{key:"setElementCursor",value:function(f){if(f){var d=document.createRange(),p=window.getSelection();d.setStart(f.childNodes[0],0),d.collapse(!0),p.removeAllRanges(),p.addRange(d),f.focus()}}},{key:"setDragListener",value:function(){var f=this;if(!this.readOnly){var d=this.holder.querySelector(".ce-toolbar__settings-btn");d.setAttribute("draggable","true"),d.addEventListener("dragstart",function(){f.startBlock=f.api.getCurrentBlockIndex()}),d.addEventListener("drag",function(){if(f.toolbar.close(),!f.isTheOnlyBlock()){var p=f.holder.querySelectorAll(".ce-block"),b=f.holder.querySelector(".ce-block--drop-target");f.setElementCursor(b),f.setBorderBlocks(p,b)}})}}},{key:"setBorderBlocks",value:function(f,d){var p=this;Object.values(f).forEach(function(b){var g=b.querySelector(".ce-block__content");b!==d?(g.style.removeProperty("border-top"),g.style.removeProperty("border-bottom")):Object.keys(f).find(function(m){return f[m]===d})>p.startBlock?g.style.borderBottom=p.borderStyle||borderStyle:g.style.borderTop=p.borderStyle})}},{key:"setDropListener",value:function(){var f=this;document.addEventListener("drop",function(d){var p=d.target;if(f.holder.contains(p)&&f.startBlock!==null){var b=f.getDropTarget(p);if(b){var g=b.querySelector(".ce-block__content");g.style.removeProperty("border-top"),g.style.removeProperty("border-bottom"),f.endBlock=f.getTargetPosition(b),f.moveBlocks()}}f.startBlock=null})}},{key:"getDropTarget",value:function(f){return f.classList.contains("ce-block")?f:f.closest(".ce-block")}},{key:"getTargetPosition",value:function(f){return Array.from(f.parentNode.children).indexOf(f)}},{key:"isTheOnlyBlock",value:function(){return this.api.getBlocksCount()===1}},{key:"moveBlocks",value:function(){this.isTheOnlyBlock()||this.api.move(this.endBlock,this.startBlock)}}])&&s(c.prototype,u),h&&s(c,h),Object.defineProperty(c,"prototype",{writable:!1}),a}()})(),o.default})()})})(dE);const pE=On(cc);var uc={},mE={get exports(){return uc},set exports(t){uc=t}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={424:(o,s,l)=>{(s=l(645)(!1)).push([o.id,`.picker_wrapper.popup {
  z-index: 99;
  width: 170px;
  margin: 0;
  box-shadow: 0 0 10px 1px #eaeaea;
  background: #ffffff;
}

.picker_arrow {
  display: none;
}

.layout_default .picker_slider, .layout_default .picker_selector {
  padding: 5px;
}

.colorPlugin.ce-inline-tool {
  width: 32px;
  border-radius: 3px;
}

.colorPlugin.ce-inline-tool--active svg {
  fill: #3c99ff;
}

#color-left-btn {
  height: 35px;
  width: 18px;
  font-weight: 600;
  display: flex;
  align-items: center;
}

#color-left-btn:hover {
  border-radius: 5px 0 0 5px;
  background: rgba(203, 203, 203, 0.49);
}

#color-text {
  padding: 0 4px;
}

#color-btn-text {
  height: 15px;
}

`,""]),o.exports=s},645:o=>{o.exports=function(s){var l=[];return l.toString=function(){return this.map(function(a){var c=function(u,h){var f,d,p,b=u[1]||"",g=u[3];if(!g)return b;if(h&&typeof btoa=="function"){var m=(f=g,d=btoa(unescape(encodeURIComponent(JSON.stringify(f)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(d),"/*# ".concat(p," */")),x=g.sources.map(function(y){return"/*# sourceURL=".concat(g.sourceRoot||"").concat(y," */")});return[b].concat(x).concat([m]).join(`
`)}return[b].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(c,"}"):c}).join("")},l.i=function(a,c,u){typeof a=="string"&&(a=[[null,a,""]]);var h={};if(u)for(var f=0;f<this.length;f++){var d=this[f][0];d!=null&&(h[d]=!0)}for(var p=0;p<a.length;p++){var b=[].concat(a[p]);u&&h[b[0]]||(c&&(b[2]?b[2]="".concat(c," and ").concat(b[2]):b[2]=c),l.push(b))}},l}},548:(o,s,l)=>{var a=l(379),c=l(424);typeof(c=c.__esModule?c.default:c)=="string"&&(c=[[o.id,c,""]]),a(c,{insert:"head",singleton:!1}),o.exports=c.locals||{}},379:(o,s,l)=>{var a,c=function(){var v={};return function(_){if(v[_]===void 0){var S=document.querySelector(_);if(window.HTMLIFrameElement&&S instanceof window.HTMLIFrameElement)try{S=S.contentDocument.head}catch{S=null}v[_]=S}return v[_]}}(),u=[];function h(v){for(var _=-1,S=0;S<u.length;S++)if(u[S].identifier===v){_=S;break}return _}function f(v,_){for(var S={},C=[],T=0;T<v.length;T++){var P=v[T],E=_.base?P[0]+_.base:P[0],k=S[E]||0,L="".concat(E," ").concat(k);S[E]=k+1;var R=h(L),A={css:P[1],media:P[2],sourceMap:P[3]};R!==-1?(u[R].references++,u[R].updater(A)):u.push({identifier:L,updater:w(A,_),references:1}),C.push(L)}return C}function d(v){var _=document.createElement("style"),S=v.attributes||{};if(S.nonce===void 0){var C=l.nc;C&&(S.nonce=C)}if(Object.keys(S).forEach(function(P){_.setAttribute(P,S[P])}),typeof v.insert=="function")v.insert(_);else{var T=c(v.insert||"head");if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");T.appendChild(_)}return _}var p,b=(p=[],function(v,_){return p[v]=_,p.filter(Boolean).join(`
`)});function g(v,_,S,C){var T=S?"":C.media?"@media ".concat(C.media," {").concat(C.css,"}"):C.css;if(v.styleSheet)v.styleSheet.cssText=b(_,T);else{var P=document.createTextNode(T),E=v.childNodes;E[_]&&v.removeChild(E[_]),E.length?v.insertBefore(P,E[_]):v.appendChild(P)}}function m(v,_,S){var C=S.css,T=S.media,P=S.sourceMap;if(T?v.setAttribute("media",T):v.removeAttribute("media"),P&&typeof btoa<"u"&&(C+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(P))))," */")),v.styleSheet)v.styleSheet.cssText=C;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(C))}}var x=null,y=0;function w(v,_){var S,C,T;if(_.singleton){var P=y++;S=x||(x=d(_)),C=g.bind(null,S,P,!1),T=g.bind(null,S,P,!0)}else S=d(_),C=m.bind(null,S,_),T=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(S)};return C(v),function(E){if(E){if(E.css===v.css&&E.media===v.media&&E.sourceMap===v.sourceMap)return;C(v=E)}else T()}}o.exports=function(v,_){(_=_||{}).singleton||typeof _.singleton=="boolean"||(_.singleton=(a===void 0&&(a=!!(window&&document&&document.all&&!window.atob)),a));var S=f(v=v||[],_);return function(C){if(C=C||[],Object.prototype.toString.call(C)==="[object Array]"){for(var T=0;T<S.length;T++){var P=h(S[T]);u[P].references--}for(var E=f(C,_),k=0;k<S.length;k++){var L=h(S[k]);u[L].references===0&&(u[L].updater(),u.splice(L,1))}S=E}}}},452:o=>{o.exports={markerIcon:`<svg fill="#000000" height="34px" width="34px" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="0 0 491.644 491.644" xml:space="preserve">
<g>
	<path d="M456.623,2.282c-42.758-20.283-141.107,96.84-223.473,264.224c-2.35,4.776-2.686,10.294-0.936,15.32
		c1.75,5.026,5.442,9.145,10.251,11.426L366.758,352.2c4.809,2.281,10.332,2.538,15.333,0.714c5.001-1.825,9.059-5.579,11.272-10.42
		C470.883,172.829,499.385,22.562,456.623,2.282z"/>
	<path d="M34.71,461.799l-17.257,16.708c-2.225,2.17-2.934,5.475-1.773,8.363c1.179,2.886,3.985,4.773,7.099,4.773h160.887
		c-1.364-5.043-0.921-10.445,1.391-15.306l7.919-16.692H40.036C38.036,459.646,36.129,460.419,34.71,461.799z"/>
	<path d="M264.766,448.864l-32.615-15.458c-1.046-0.502-2.161-0.744-3.257-0.744c-2.87,0-5.611,1.614-6.901,4.372l-22.001,46.384
		c-0.871,1.789-0.723,3.895,0.341,5.564c1.046,1.661,2.888,2.661,4.855,2.661h0.046l44.275-0.378
		c2.206-0.016,4.206-1.299,5.159-3.292l13.724-28.925c0.856-1.838,0.967-3.936,0.29-5.846
		C268.004,451.292,266.585,449.728,264.766,448.864z"/>
	<path d="M348.445,366.038l-112.572-51.392c-8.909-4.067-19.434-0.227-23.63,8.622c-2.551,5.378-3.58,11.353-2.975,17.275
		l5.2,50.909c0.703,6.882,4.983,12.884,11.261,15.792l60.031,27.797c6.688,3.097,14.548,2.179,20.343-2.375l45.983-36.137
		c4.931-3.875,7.487-10.041,6.743-16.269C358.086,374.032,354.151,368.642,348.445,366.038z"/>
</g>
</svg>`,textIcon:'<svg fill="#000000" viewBox="-6 0 512 512" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g><title>text</title><path d="M365 432L328 352 172 352 135 432 64 432 227 80 272 80 436 432 365 432ZM201 288L299 288 250 183 201 288Z"></path></g></svg>'}},138:(o,s,l)=>{const a=l(442),{markerIcon:c,textIcon:u}=l(452),{getDefaultColorCache:h,handleCSSVariables:f}=l(697);l(548).toString(),o.exports=class{constructor({config:d,api:p}){this.api=p,this.config=d,this.clickedOnLeft=!1,this.pluginType=this.config.type||"text",this.parentTag=this.pluginType==="marker"?"MARK":"FONT",this.hasCustomPicker=this.config.customPicker||!1,this.color=f(h(this.config.defaultColor,this.pluginType)),this.picker=null,this.icon=null,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add("colorPlugin"),this.button.classList.add(this.iconClasses.base),this.button.appendChild(this.createLeftButton()),this.button.appendChild(this.createRightButton(this)),this.button}createLeftButton(){return this.icon||(this.icon=document.createElement("div"),this.icon.id="color-left-btn",this.icon.appendChild(this.createButtonIcon()),this.icon.addEventListener("click",()=>this.clickedOnLeft=!0)),this.icon}createButtonIcon(){const d=document.createElement("div");d.id="color-btn-text";const p=this.pluginType==="marker"?c:u;return d.innerHTML=this.config.icon||p,d}createRightButton(d){return this.picker||(this.picker=new a.ColorPlugin({onColorPicked:function(p){d.color=p},hasCustomPicker:this.hasCustomPicker,defaultColor:this.config.defaultColor,colorCollections:this.config.colorCollections,type:this.pluginType})),this.picker}surround(d){if(!d)return;const p=this.api.selection.findParentTag("SPAN");p&&this.unwrap(p);const b=this.api.selection.findParentTag(this.parentTag);b?this.unwrap(b):this.wrap(d),this.clickedOnLeft=!1}wrap(d){const p=d.extractContents(),b=document.createElement(this.parentTag);b.appendChild(p),d.insertNode(b),this.pluginType==="marker"?this.wrapMarker(b):this.wrapTextColor(b),this.api.selection.expandToTag(b)}wrapMarker(d){d.style.backgroundColor=this.color;const p=this.api.selection.findParentTag("FONT");p&&(d.style.color=p.style.color)}wrapTextColor(d){d.style.color=this.color}unwrap(d){this.api.selection.expandToTag(d);const p=window.getSelection(),b=p.getRangeAt(0),g=b.extractContents();this.clickedOnLeft?this.removeWrapper(d):this.updateWrapper(d),b.insertNode(g),p.removeAllRanges(),p.addRange(b)}updateWrapper(d){this.pluginType==="marker"?d.style.backgroundColor=this.color:d.style.color=this.color}removeWrapper(d){d.parentNode.removeChild(d)}checkState(){const d=this.api.selection.findParentTag("SPAN"),p=this.api.selection.findParentTag(this.parentTag);let b=d?this.handleLegacyWrapper(d,p):p;return this.button.classList.toggle(this.iconClasses.active,!!b),!!b}handleLegacyWrapper(d,p){return this.pluginType==="marker"?d:p&d}static get sanitize(){return{font:!0,span:!0,mark:!0}}clear(){this.picker=null,this.icon=null}}},442:(o,s,l)=>{l.r(s),l.d(s,{ColorPlugin:()=>p});class a extends HTMLElement{static get observedAttributes(){return["disabled","icon","loading","href","htmltype"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host{ 
            position:relative; 
            display:inline-flex; 
            padding: .25em .625em;
            box-sizing:border-box; 
            vertical-align: middle;
            line-height: 1.8;
            width: 5px;
            overflow:hidden; 
            align-items:center;
            justify-content: center;
            font-size: 14px; 
            color: var(--fontColor,#333);  
            border-radius: var(--borderRadius,.25em);
            background: var(--fontColor,#333); 
            transition:background .3s,box-shadow .3s,border-color .3s,color .3s;
        }
        :host([shape="circle"]){ 
            border-radius:50%; 
        }
        /*
        :host(:not([disabled]):active){
            z-index:1;
            transform:translateY(.1em);
        }
        */
        :host([disabled]),:host([loading]){
            pointer-events: none; 
            opacity:.6; 
        }
        :host([block]){ 
            display:flex; 
        }
        :host([disabled]:not([type])){ 
            background:rgba(0,0,0,.1); 
        }
        :host([disabled]) .btn,:host([loading]) .btn{ 
            cursor: not-allowed; 
            pointer-events: all; 
        }
        :host(:not([type="primary"]):not([type="danger"]):not([disabled]):hover),
        :host(:not([type="primary"]):not([type="danger"]):focus-within),
        :host([type="flat"][focus]){ 
            color:var(--themeColor,#42b983); 
            border-color: var(--themeColor,#42b983); 
        }
        :host(:not([type="primary"]):not([type="danger"])) .btn::after{ 
            background-image: radial-gradient(circle, var(--themeColor,#42b983) 10%, transparent 10.01%); 
        }
        :host([type="primary"]){ 
            color: #fff; 
            background:var(--themeBackground,var(--themeColor,#42b983));
        }
        :host([type="danger"]){ 
            color: #fff; 
            background:var(--themeBackground,var(--dangerColor,#ff7875));
        }
        :host([type="dashed"]){ 
            border-style:dashed 
        }
        :host([type="flat"]),:host([type="primary"]),:host([type="danger"]){ 
            border:0;
            padding: calc( .25em + 1px ) calc( .625em + 1px );
        }
        :host([type="flat"]) .btn::before{ 
            content:''; 
            position:absolute; 
            background:var(--themeColor,#42b983);
            pointer-events:none; 
            left:0; 
            right:0; 
            top:0; 
            bottom:0; 
            opacity:0; 
            transition:.3s;
        }
        :host([type="flat"]:not([disabled]):hover) .btn::before{ 
            opacity:.1 
        }
        :host(:not([disabled]):hover){ 
            z-index:1 
        }
        :host([type="flat"]:focus-within) .btn:before,
        :host([type="flat"][focus]) .btn:before{ 
            opacity:.2; 
        }
        :host(:focus-within){ 
            /*box-shadow: 0 0 10px rgba(0,0,0,0.1);*/ 
        }
        .btn{ 
            background:none; 
            outline:0; 
            border:0; 
            position: 
            absolute; 
            left:0; 
            top:0;
            width:100%;
            height:100%;
            padding:0;
            user-select: none;
            cursor: unset;
        }
        xy-loading{ 
            margin-right: 0.35em;  
        }
        ::-moz-focus-inner{
            border:0;
        }
        .btn::before{
            content: "";
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            left:0;
            top:0;
            transition:.2s;
            background:#fff;
            opacity:0;
        }
        :host(:not([disabled]):active) .btn::before{ 
            opacity:.2;
        }
        .btn::after {
            content: "";
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            left: var(--x,0); 
            top: var(--y,0);
            pointer-events: none;
            background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);
            background-repeat: no-repeat;
            background-position: 50%;
            transform: translate(-50%,-50%) scale(10);
            opacity: 0;
            transition: transform .3s, opacity .8s;
        }
        .btn:not([disabled]):active::after {
            transform: translate(-50%,-50%) scale(0);
            opacity: .3;
            transition: 0s;
        }
        xy-icon{
            margin-right: 0.35em;
            transition: none;
        }
        :host(:empty) xy-icon{
            margin: auto;
        }
        :host(:empty){
            padding: .65em;
        }
        :host([type="flat"]:empty),:host([type="primary"]:empty){ 
            padding: calc( .65em + 1px );
        }
        ::slotted(xy-icon){
            transition: none;
        }
        :host([href]){
            cursor:pointer;
        }
        </style>
        <${this.href?"a":"button"} ${this.htmltype?'type="'+this.htmltype+'"':""} ${this.download&&this.href?'download="'+this.download+'"':""} ${this.href?'href="'+this.href+'" target="'+this.target+'" rel="'+this.rel+'"':""} class="btn" id="btn"></${this.href?"a":"button"}>${!this.loading&&this.icon&&this.icon!="null"?'<xy-icon id="icon" name='+this.icon+"></xy-icon>":""}<slot></slot>
        `}focus(){this.btn.focus()}get disabled(){return this.getAttribute("disabled")!==null}get toggle(){return this.getAttribute("toggle")!==null}get htmltype(){return this.getAttribute("htmltype")}get name(){return this.getAttribute("name")}get checked(){return this.getAttribute("checked")!==null}get href(){return this.getAttribute("href")}get target(){return this.getAttribute("target")||"_blank"}get rel(){return this.getAttribute("rel")}get download(){return this.getAttribute("download")}get icon(){return this.getAttribute("icon")}get loading(){return this.getAttribute("loading")!==null}set icon(g){this.setAttribute("icon",g)}set htmltype(g){this.setAttribute("htmltype",g)}set href(g){this.setAttribute("href",g)}set disabled(g){g===null||g===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}set checked(g){g===null||g===!1?this.removeAttribute("checked"):this.setAttribute("checked","")}set loading(g){g===null||g===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}connectedCallback(){this.btn=this.shadowRoot.getElementById("btn"),this.ico=this.shadowRoot.getElementById("icon"),this.load=document.createElement("xy-loading"),this.load.style.color="inherit",this.btn.addEventListener("mousedown",function(g){if(!this.disabled){const{left:m,top:x}=this.getBoundingClientRect();this.style.setProperty("--x",g.clientX-m+"px"),this.style.setProperty("--y",g.clientY-x+"px")}}),this.addEventListener("click",function(g){this.toggle&&(this.checked=!this.checked)}),this.btn.addEventListener("keydown",g=>{g.keyCode===13&&g.stopPropagation()}),this.disabled=this.disabled,this.loading=this.loading}attributeChangedCallback(g,m,x){g=="disabled"&&this.btn&&(x!==null?(this.btn.setAttribute("disabled","disabled"),this.href&&this.btn.removeAttribute("href")):(this.btn.removeAttribute("disabled"),this.href&&(this.btn.href=this.href))),g=="loading"&&this.btn&&(x!==null?(this.shadowRoot.prepend(this.load),this.btn.setAttribute("disabled","disabled")):(this.shadowRoot.removeChild(this.load),this.btn.removeAttribute("disabled"))),g=="icon"&&this.ico&&(this.ico.name=x),g=="href"&&this.btn&&(this.disabled||(this.btn.href=x)),g=="htmltype"&&this.btn&&(this.btn.type=x)}}customElements.get("xy-button")||customElements.define("xy-button",a);class c extends HTMLElement{static get observedAttributes(){return["disabled"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host {
            display:inline-flex;
        }
        ::slotted(xy-button:not(:first-of-type):not(:last-of-type)){
            border-radius:0;
        }
        ::slotted(xy-button){
            margin:0!important;
        }
        ::slotted(xy-button:not(:first-of-type)){
            margin-left:-1px!important;
        }
        ::slotted(xy-button[type]:not([type="dashed"]):not(:first-of-type)){
            margin-left:1px!important;
        }
        ::slotted(xy-button:first-of-type){
            border-top-right-radius: 0;
            border-bottom-right-radius: 0px;
        }
        ::slotted(xy-button:last-of-type){
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
        </style>
        <slot></slot>
        `}get disabled(){return this.getAttribute("disabled")!==null}set disabled(g){g===null||g===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}connectedCallback(){}attributeChangedCallback(g,m,x){}}customElements.get("xy-button-group")||customElements.define("xy-button-group",c);class u extends HTMLElement{static get observedAttributes(){return["open","title","oktext","canceltext","loading","type"]}constructor(g){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host{
            position:absolute;
            display:flex;
            box-shadow: 2px 2px 15px rgba(0,0,0,0.15);
            box-sizing: border-box;
            transform:scale(0);
            opacity:0.5;
            border-radius: 3px;
            z-index:10;
            transition:.3s cubic-bezier(.645, .045, .355, 1);
            transform-origin:inherit;
            background:#fff;
            visibility:hidden;
        }
        .popcon-content{
            box-sizing: border-box;
            display:flex;
            width: max-content;
            padding: 0 15px;
            flex:1;
            flex-direction:column;
        }
        .popcon-title {
            line-height: 30px;
            padding: 15px 30px 0 0;
            font-weight: 700;
            font-size: 14px;
            color: #4c5161;
            user-select: none;
            cursor: default;
        }
        .popcon-body {
            flex: 1;
            padding: 5px 0 15px 0;
        }
        .popcon-footer {
            padding: 3px 0 15px 0;
            margin-top: -3px;
            text-align: right;
            white-space: nowrap;
        }
        .btn-close{
            position:absolute;
            right:10px;
            top:10px;
            border:0;
        }
        .popcon-footer xy-button {
            font-size: .8em;
            margin-left: .8em;
        }
        .popcon-type{
            display:flex;
            width:30px;
            height:30px;
            font-size:22px;
            margin: 15px -10px 0 15px;
        }
        /*
        :host(:not([type="confirm"])) .popcon-type,
        :host(:not([type="confirm"])) .popcon-footer,
        :host(:not([type])) .popcon-title,
        :host(:not([type])) .btn-close{
            display:none;
        }
        */
        :host([type="confirm"]){
            min-width:250px;
        }
        :host([type="confirm"]) .popcon-body{
            font-size:14px;
        }
        :host(:not([type])) .popcon-content,:host(:not([type])) .popcon-body{
            padding: 0;
        }
        </style>
            ${(g||this.type)==="confirm"?'<xy-icon id="popcon-type" class="popcon-type" name="question-circle" color="var(--waringColor,#faad14)"></xy-icon>':""}
            <div class="popcon-content">
                ${(g||this.type)!==null?'<div class="popcon-title" id="title">'+this.title+'</div><xy-button class="btn-close" id="btn-close" icon="close"></xy-button>':""}
                <div class="popcon-body">
                    <slot></slot>
                </div>
                ${(g||this.type)==="confirm"?'<div class="popcon-footer"><xy-button id="btn-cancel">'+this.canceltext+'</xy-button><xy-button id="btn-submit" type="primary">'+this.oktext+"</xy-button></div>":""}
            </div>
        `}get open(){return this.getAttribute("open")!==null}get stopfocus(){return this.getAttribute("stopfocus")!==null}get title(){return this.getAttribute("title")||"popcon"}get type(){return this.getAttribute("type")}get oktext(){return this.getAttribute("oktext")||"confirm"}get canceltext(){return this.getAttribute("canceltext")||"cancel"}get loading(){return this.getAttribute("loading")!==null}set title(g){this.setAttribute("title",g)}set type(g){g===null||g===!1?this.removeAttribute("type"):this.setAttribute("type",g)}set oktext(g){this.setAttribute("oktext",g)}set canceltext(g){this.setAttribute("canceltext",g)}set open(g){g===null||g===!1?(this.removeAttribute("open"),this.parentNode.removeAttribute("open")):(this.setAttribute("open",""),this.parentNode.setAttribute("open",""),this.loading&&(this.loading=!1))}set loading(g){g===null||g===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}connectedCallback(){this.remove=!1,this.type&&(this.titles=this.shadowRoot.getElementById("title"),this.btnClose=this.shadowRoot.getElementById("btn-close")),this.type=="confirm"&&(this.btnCancel=this.shadowRoot.getElementById("btn-cancel"),this.btnSubmit=this.shadowRoot.getElementById("btn-submit")),this.addEventListener("transitionend",g=>{g.propertyName==="transform"&&this.open&&(this.type=="confirm"&&this.btnSubmit.focus(),this.type=="pane"&&this.btnClose.focus(),this.dispatchEvent(new CustomEvent("open")))}),this.addEventListener("transitionend",g=>{g.propertyName!=="transform"||this.open||(this.remove&&this.parentNode.removeChild(this),this.dispatchEvent(new CustomEvent("close")))}),this.addEventListener("click",g=>{g.target.closest("[autoclose]")&&(this.open=!1,window.xyActiveElement.focus())}),this.type&&this.btnClose.addEventListener("click",()=>{this.open=!1,window.xyActiveElement.focus()}),this.type=="confirm"&&(this.btnCancel.addEventListener("click",async()=>{this.dispatchEvent(new CustomEvent("cancel")),this.open=!1,window.xyActiveElement.focus()}),this.btnSubmit.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("submit")),this.loading||(this.open=!1,window.xyActiveElement.focus())}))}attributeChangedCallback(g,m,x){g=="open"&&this.shadowRoot&&x==null&&this.stopfocus,g=="loading"&&this.shadowRoot&&(this.btnSubmit.loading=x!==null),g=="title"&&this.titles&&x!==null&&(this.titles.innerHTML=x),g=="oktext"&&this.btnSubmit&&x!==null&&(this.btnSubmit.innerHTML=x),g=="canceltext"&&this.btnCancel&&x!==null&&(this.btnCancel.innerHTML=x)}}customElements.get("xy-popcon")||customElements.define("xy-popcon",u);class h extends HTMLElement{static get observedAttributes(){return["title","oktext","canceltext","loading","type"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host {
            display:inline-block;
            position:relative;
            overflow:visible;
        }
        :host([dir="top"]) ::slotted(xy-popcon){
            bottom:100%;
            left:50%;
            transform:translate(-50%,-10px) scale(0);
            transform-origin: center bottom;
        }
        :host([dir="top"]) ::slotted(xy-popcon[open]),
        :host([dir="top"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="top"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-50%,-10px) scale(1);
        }
        :host([dir="right"]) ::slotted(xy-popcon){
            left:100%;
            top:50%;
            transform:translate(10px,-50%) scale(0);
            transform-origin: left;
        }
        :host([dir="right"]) ::slotted(xy-popcon[open]),
        :host([dir="right"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="right"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px,-50%) scale(1);
        }
        :host([dir="bottom"]) ::slotted(xy-popcon){
            top:100%;
            left:50%;
            transform:translate(-50%,10px) scale(0);
            transform-origin: center top;
        }
        :host([dir="bottom"]) ::slotted(xy-popcon[open]),
        :host([dir="bottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-50%,10px) scale(1);
        }
        :host([dir="left"]) ::slotted(xy-popcon){
            right:100%;
            top:50%;
            transform:translate(-10px,-50%) scale(0);
            transform-origin: right;
        }
        :host([dir="left"]) ::slotted(xy-popcon[open]),
        :host([dir="left"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="left"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px,-50%) scale(1);
        }
        :host([dir="lefttop"]) ::slotted(xy-popcon){
            right:100%;
            top:0;
            transform:translate(-10px) scale(0);
            transform-origin: right top;
        }
        :host([dir="lefttop"]) ::slotted(xy-popcon[open]),
        :host([dir="lefttop"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="lefttop"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px) scale(1);
        }
        :host([dir="leftbottom"]) ::slotted(xy-popcon){
            right:100%;
            bottom:0;
            transform:translate(-10px) scale(0);
            transform-origin: right bottom;
        }
        :host([dir="leftbottom"]) ::slotted(xy-popcon[open]),
        :host([dir="leftbottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="leftbottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px) scale(1);
        }
        :host([dir="topleft"]) ::slotted(xy-popcon){
            bottom:100%;
            left:0;
            transform:translate(0,-10px) scale(0);
            transform-origin: left bottom;
        }
        :host([dir="topleft"]) ::slotted(xy-popcon[open]),
        :host([dir="topleft"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="topleft"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,-10px) scale(1);
        }
        :host([dir="topright"]) ::slotted(xy-popcon){
            bottom:100%;
            right:0;
            transform:translate(0,-10px) scale(0);
            transform-origin: right bottom;
        }
        :host([dir="topright"]) ::slotted(xy-popcon[open]),
        :host([dir="topright"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="topright"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,-10px) scale(1);
        }
        :host([dir="righttop"]) ::slotted(xy-popcon){
            left:100%;
            top:0;
            transform:translate(10px) scale(0);
            transform-origin: left top;
        }
        :host([dir="righttop"]) ::slotted(xy-popcon[open]),
        :host([dir="righttop"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="righttop"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px) scale(1);
        }
        :host([dir="rightbottom"]) ::slotted(xy-popcon){
            left:100%;
            bottom:0;
            transform:translate(10px) scale(0);
            transform-origin: left bottom;
        }
        :host([dir="rightbottom"]) ::slotted(xy-popcon[open]),
        :host([dir="rightbottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="rightbottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px) scale(1);
        }
        :host([dir="bottomleft"]) ::slotted(xy-popcon),
        :host(:not([dir])) ::slotted(xy-popcon){
            left:0;
            top:100%;
            transform:translate(0,10px) scale(0);
            transform-origin: left top;
        }
        :host(:not([dir])) ::slotted(xy-popcon[open]),
        :host(:not([dir])[trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host(:not([dir])[trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon),
        :host([dir="bottomleft"]) ::slotted(xy-popcon[open]),
        :host([dir="bottomleft"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottomleft"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,10px) scale(1);
        }
        :host([dir="bottomright"]) ::slotted(xy-popcon){
            right:0;
            top:100%;
            transform:translate(0,10px) scale(0);
            transform-origin: right top;
        }
        :host([dir="bottomright"]) ::slotted(xy-popcon[open]),
        :host([dir="bottomright"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottomright"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,10px) scale(1);
        }
        :host([trigger="contextmenu"]) ::slotted(xy-popcon){
            right:auto;
            bottom:auto;
            left:var(--x,0);
            top:var(--y,100%);
            transform-origin: left top;
            transform:translate(5px,5px) scale(0);
            transition: .15s;
        }
        :host([trigger="contextmenu"]) ::slotted(xy-popcon[open]){
            transform:translate(5px,5px) scale(1);
        }
        :host ::slotted(xy-popcon[open]),
        :host([trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            opacity:1;
            visibility:visible;
        }
        slot{
            border-radius: inherit;
        }
        </style>
        <slot></slot>
        `}get title(){return this.getAttribute("title")||"popcon"}get trigger(){return this.getAttribute("trigger")}get disabled(){return this.getAttribute("disabled")!==null}get type(){return this.getAttribute("type")}get accomplish(){return this.getAttribute("accomplish")!==null}get content(){return this.getAttribute("content")}get oktext(){return this.getAttribute("oktext")}get canceltext(){return this.getAttribute("canceltext")}get dir(){return this.getAttribute("dir")}get loading(){return this.getAttribute("loading")!==null}set dir(g){this.setAttribute("dir",g)}set title(g){this.setAttribute("title",g)}set type(g){this.setAttribute("type",g)}set oktext(g){this.setAttribute("oktext",g)}set canceltext(g){this.setAttribute("canceltext",g)}set loading(g){g===null||g===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}set disabled(g){g===null||g===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}show(g){if(this.popcon=this.querySelector("xy-popcon"),this.disabled)(this.popcon||this).dispatchEvent(new CustomEvent("submit"));else if(this.popcon||(this.popcon=new u(this.type),this.popcon.type=this.type,this.appendChild(this.popcon),this.popcon.title=this.title||"popover",this.popcon.innerHTML=this.content||"",this.type=="confirm"&&(this.popcon.oktext=this.oktext||"confirm",this.popcon.canceltext=this.canceltext||"cancel",this.popcon.onsubmit=()=>this.dispatchEvent(new CustomEvent("submit")),this.popcon.oncancel=()=>this.dispatchEvent(new CustomEvent("cancel")))),this.trigger==="contextmenu"){const{x:m,y:x}=this.getBoundingClientRect();this.popcon.style.setProperty("--x",g.clientX-m+"px"),this.popcon.style.setProperty("--y",g.clientY-x+"px"),this.popcon.open=!0}else(g.path||g.composedPath&&g.composedPath()).includes(this.popcon)||(window.xyActiveElement=document.activeElement,this.accomplish?this.popcon.open=!0:this.popcon.open=!this.popcon.open);return this.popcon}connectedCallback(){this.popcon=this.querySelector("xy-popcon"),this.trigger&&this.trigger!=="click"||this.addEventListener("click",this.show),this.trigger==="contextmenu"&&this.addEventListener("contextmenu",g=>{g.preventDefault(),(g.path||g.composedPath&&g.composedPath()).includes(this.popcon)||this.show(g)}),document.addEventListener("mousedown",g=>{const m=g.path||g.composedPath&&g.composedPath();(this.popcon&&!m.includes(this.popcon)&&!this.popcon.loading&&!m.includes(this.children[0])||this.trigger==="contextmenu"&&!m.includes(this.popcon)&&g.which=="1")&&(this.popcon.open=!1)})}attributeChangedCallback(g,m,x){g=="loading"&&this.popcon&&(this.popcon.loading=x!==null),g=="title"&&this.popcon&&x!==null&&(this.popcon.title=x),g=="oktext"&&this.popcon&&x!==null&&(this.popcon.oktext=x),g=="canceltext"&&this.popcon&&x!==null&&(this.popcon.canceltext=x)}}customElements.get("xy-popover")||customElements.define("xy-popover",h);var f=l(697);const d=["#ff1300","#EC7878","#9C27B0","#673AB7","#3F51B5","#0070FF","#03A9F4","#00BCD4","#4CAF50","#8BC34A","#CDDC39","#FFE500","#FFBF00","#FF9800","#795548","#9E9E9E","#5A5A5A","#FFF"];class p extends HTMLElement{static get observedAttributes(){return["disabled","dir"]}constructor(g){super();const m=this.attachShadow({mode:"open"});this.colorCollections=g.colorCollections||d,this.onColorPicked=g.onColorPicked,this.defaulColor=(0,f.handleCSSVariables)(g.defaultColor||this.colorCollections[0]),this.pluginType=g.type,this.hasCustomPicker=g.hasCustomPicker,this.customColor=(0,f.getCustomColorCache)(this.pluginType),m.innerHTML=`
        <style>
        :host{
            display:inline-block;
            width:15px;
            font-size:14px;
            border: none;
        }
        :host([block]){
            display:block;
        }
        :host([disabled]){
            pointer-events:none;
        }
        
        :host(:focus-within) xy-popover,:host(:hover) xy-popover{ 
            z-index: 2;
        }
        input[type="color"]{
            -webkit-appearance: none;
            outline: none;
            border: none;
        }
        xy-popover{
            width: 12px;
            height:35px;
            padding-right: 1px;
        }
        xy-popover:hover {
            border-radius: 0 5px 5px 0;
            background: rgba(203, 203, 203, 0.49);
        }
        .color-btn {
            border: 1px solid #cab9b9;
            margin: 18px 3px 2px 3px;
            width: 7px;
            height: 7px;
            opacity: 0.9;
            padding: 1px 0 1px 0;
            color: var(--themeColor, #42b983);
            background: var(--themeColor, #42b983);
            font-weight: bolder;
            border-radius: 2px;
        }
        .color-btn:hover {
            opacity: 1;
            z-index: auto;
        }
        xy-popover{
            display:block;
        }
        xy-popcon{
            position: fixed;
            min-width:100%;
        }
        #custom-picker {
            position: relative;
            top: -1px;
            background-color: rgb(250, 250, 250);
            border-color: rgb(255 118 21) rgb(245 80 80 / 74%) #89c1c9 #95d5b6;
            border-width: 3px;
            border-radius: 8px;
            height: 18px;
        }
        .pop-footer{
            display:flex;
            justify-content:flex-end;
            padding:0 .8em .8em;
        }
        .pop-footer xy-button{
            font-size: .8em;
            margin-left: .8em;
        }
        .color-btn::before{
            content:'';
            position:absolute;
            left:5px;
            top:5px;
            right:5px;
            bottom:5px;
            z-index:-1;
            background: linear-gradient(45deg, #ddd 25%,transparent 0,transparent 75%,#ddd 0 ), linear-gradient(45deg, #ddd 25%, transparent 0, transparent 75%, #ddd 0);
            background-position: 0 0,5px 5px;
            background-size: 10px 10px;
        }
        .color-sign {
           max-width: 220px;
           padding: 10px;
           display:grid;
           cursor: default;
           grid-template-columns: repeat(auto-fit, minmax(15px, 1fr));
           grid-gap: 10px;     
        }
        .color-sign>button {
            position: relative;
            width: 16px;
            height: 16px;
            border-radius: 6px;
            border: 1px solid #b8b9b49e;
            outline: 0;
            opacity: 0.9;
        }
        .color-sign>button:hover {
            cursor: pointer;
            opacity: 1;
        }
        .color-section {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .color-fire-btn {
            font-size: 17px;
            font-weight: bold;
            height: 28px;
            padding-top: 8px;
            padding-right: 1px;
            margin-left: 3px;
            padding-left: 3px;
            border-radius: 5px 0 0 5px;
        }
        .color-fire-btn:hover {
            font-size: 17px;
            font-weight: bold;
            background: rgba(203, 203, 203, 0.49);
            border-radius: 5px 0 0 5px;
        }
        </style>
        <section class="color-section">
            <xy-popover id="popover" ${this.dir?"dir='"+this.dir+"'":""}>
                <xy-button class="color-btn" id="color-btn" ${this.disabled?"disabled":""}>_</xy-button>
                <xy-popcon id="popcon">
                    <div class="color-sign" id="colors">
                        ${this.hasCustomPicker?'<button id="custom-picker" class="rainbow-mask"/>':""}
                        ${this.colorCollections.map(x=>'<button class="color-cube" style="background-color:'+x+'" data-color='+x+"></button>").join("")}
                    </div>
                </xy-popcon>
            </xy-popover>
        </section>`}focus(){this.colorBtn.focus()}connectedCallback(){this.popover=this.shadowRoot.getElementById("popover"),this.popcon=this.shadowRoot.getElementById("popcon"),this.colorBtn=this.shadowRoot.getElementById("color-btn"),this.colors=this.shadowRoot.getElementById("colors"),this.colors.addEventListener("click",g=>{const m=g.target.closest("button");m&&m.id!=="custom-picker"&&(this.nativeclick=!0,this.value=(0,f.handleCSSVariables)(m.dataset.color),this.onColorPicked(this.value))}),this.popover.addEventListener("click",()=>this.closeConverter()),this.hasCustomPicker&&this.setupCustomPicker(),this.value=this.defaultvalue}closeConverter(){var g;document.getElementsByClassName(f.CONVERTER_PANEL)[0]&&((g=document.getElementsByClassName(f.CONVERTER_BTN)[0])==null||g.click())}disconnectedCallback(){this.pickerInput&&document.body.removeChild(this.pickerInput)}setupCustomPicker(){let g=!1;this.customPicker=this.shadowRoot.getElementById("custom-picker");const m=this.customPicker;m.style.backgroundColor=this.customColor,this.customPicker.addEventListener("click",x=>{if(g)return void(g=!1);this.pickerInput&&document.body.removeChild(this.pickerInput),this.pickerInput=document.createElement("input");const y=this.pickerInput,w=this.popcon.getBoundingClientRect();y.setAttribute("type","color"),y.value=this.customColor,y.style.position="fixed",y.style.left=`${w.x+3}px`,y.style.top=`${w.y+10}px`,y.style.pointerEvents="none",y.style.zIndex="999",y.style.opacity="0",y.addEventListener("input",(0,f.throttle)(v=>{this.nativeclick=!0,this.value=(0,f.handleCSSVariables)(v.target.value),this.onColorPicked(this.value),(0,f.setCustomColorCache)(this.value,this.pluginType),m.style.backgroundColor=this.value,g=!0,m.click()},30)),document.body.appendChild(y),setTimeout(()=>{y.focus(),y.click()},0)})}get defaultvalue(){return this.defaulColor}get value(){return this.$value}get type(){return this.getAttribute("type")}get disabled(){return this.getAttribute("disabled")!==null}get dir(){return this.getAttribute("dir")}set dir(g){this.setAttribute("dir",g)}set disabled(g){g===null||g===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}set defaultvalue(g){this.setAttribute("defaultvalue",g)}set value(g){g&&(this.$value=g,this.colorBtn.style.setProperty("--themeColor",this.nativeclick?(0,f.setDefaultColorCache)(g,this.pluginType):(0,f.getDefaultColorCache)(g,this.pluginType)),this.nativeclick?(this.nativeclick=!1,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value}}))):this.colorPane?this.colorPane.value=this.value:this.defaultvalue=this.value)}attributeChangedCallback(g,m,x){g=="disabled"&&this.colorBtn&&(x!=null?this.colorBtn.setAttribute("disabled","disabled"):this.colorBtn.removeAttribute("disabled")),g=="dir"&&this.popover&&x!=null&&(this.popover.dir=x)}}customElements.get("xy-color-picker")||customElements.define("xy-color-picker",p)},697:(o,s,l)=>{l.r(s),l.d(s,{CONVERTER_BTN:()=>b,CONVERTER_PANEL:()=>g,getCustomColorCache:()=>p,getDefaultColorCache:()=>f,handleCSSVariables:()=>c,setCustomColorCache:()=>d,setDefaultColorCache:()=>h,throttle:()=>u});const a="editor-js-text-color-cache";function c(m){if(function(x){return(typeof(y=x)=="string"||y instanceof String)&&x.includes("--");var y}(m)){const x=function(y){const w=/\((.*?)\)/.exec(y);if(w)return w[1]}(m);return function(y){return window.getComputedStyle(document.documentElement).getPropertyValue(y)}(x)}return m}function u(m,x){let y;return(...w)=>{y||(y=setTimeout(()=>{m(...w),y=null},x))}}function h(m,x){return sessionStorage.setItem(`${a}-${x}`,JSON.stringify(m)),m}function f(m,x){const y=sessionStorage.getItem(`${a}-${x}`);return y?JSON.parse(y):m}function d(m,x){sessionStorage.setItem(`${a}-${x}-custom`,JSON.stringify(m))}function p(m){const x=sessionStorage.getItem(`${a}-${m}-custom`);return x?JSON.parse(x):null}const b="ce-inline-toolbar__dropdown",g="ce-conversion-toolbar--showed"}},r={};function i(o){var s=r[o];if(s!==void 0)return s.exports;var l=r[o]={id:o,exports:{}};return n[o](l,l.exports,i),l.exports}return i.d=(o,s)=>{for(var l in s)i.o(s,l)&&!i.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},i.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.nc=void 0,i(138)})())})(mE);const gE=On(uc);class Re{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),bn.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),bn.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new so(this),o=new so(e);for(let s=n,l=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new so(this,e)}iterRange(e,n=this.length){return new Rg(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Pg(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Re.empty:e.length<=32?new Ye(e):bn.from(Ye.split(e,[]))}}class Ye extends Re{constructor(e,n=yE(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],l=i+s.length;if((n?r:l)>=e)return new bE(i,l,r,s);i=l+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new Ye(Wh(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),l=_s(o.text,s.text.slice(),0,o.length);if(l.length<=32)r.push(new Ye(l,s.length+o.length));else{let a=l.length>>1;r.push(new Ye(l.slice(0,a)),new Ye(l.slice(a)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof Ye))return super.replace(e,n,r);let i=_s(this.text,_s(r.text,Wh(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new Ye(i,o):bn.from(Ye.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let l=this.text[s],a=o+l.length;o>e&&s&&(i+=r),e<a&&n>o&&(i+=l.slice(Math.max(0,e-o),n-o)),o=a+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Ye(r,i)),r=[],i=-1);return i>-1&&n.push(new Ye(r,i)),n}}class bn extends Re{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],l=i+s.length,a=r+s.lines-1;if((n?a:l)>=e)return s.lineInner(e,n,r,i);i=l+1,r=a+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let l=this.children[o],a=s+l.length;if(e<=a&&n>=s){let c=i&((s<=e?1:0)|(a>=n?2:0));s>=e&&a<=n&&!c?r.push(l):l.decompose(e-s,n-s,r,c)}s=a+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],l=o+s.length;if(e>=o&&n<=l){let a=s.replace(e-o,n-o,r),c=this.lines-s.lines+a.lines;if(a.lines<c>>5-1&&a.lines>c>>5+1){let u=this.children.slice();return u[i]=a,new bn(u,this.length-(n-e)+r.length)}return super.replace(o,l,a)}o=l+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let l=this.children[o],a=s+l.length;s>e&&o&&(i+=r),e<a&&n>s&&(i+=l.sliceString(e-s,n-s,r)),s=a+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof bn))return 0;let r=0,[i,o,s,l]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==l)return r;let a=this.children[i],c=e.children[o];if(a!=c)return r+a.scanIdentical(c,n);r+=a.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new Ye(d,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,l=[],a=0,c=-1,u=[];function h(d){let p;if(d.lines>o&&d instanceof bn)for(let b of d.children)h(b);else d.lines>s&&(a>s||!a)?(f(),l.push(d)):d instanceof Ye&&a&&(p=u[u.length-1])instanceof Ye&&d.lines+p.lines<=32?(a+=d.lines,c+=d.length+1,u[u.length-1]=new Ye(p.text.concat(d.text),p.length+1+d.length)):(a+d.lines>i&&f(),a+=d.lines,c+=d.length+1,u.push(d))}function f(){a!=0&&(l.push(u.length==1?u[0]:bn.from(u,c)),c=-1,a=u.length=0)}for(let d of e)h(d);return f(),l.length==1?l[0]:new bn(l,n)}}Re.empty=new Ye([""],0);function yE(t){let e=-1;for(let n of t)e+=n.length+1;return e}function _s(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let l=t[o],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),s?(e[e.length-1]+=l,s=!1):e.push(l)),i=a+1}return e}function Wh(t,e,n){return _s(t,[""],e,n)}class so{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Ye?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,l=i instanceof Ye?i.text.length:i.children.length;if(s==(n>0?l:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Ye){let a=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,a.length>Math.max(0,e))return this.value=e==0?a:n>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=i.children[s+(n<0?-1:0)];e>a.length?(e-=a.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(a),this.offsets.push(n>0?1:(a instanceof Ye?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Rg{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new so(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Pg{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Re.prototype[Symbol.iterator]=function(){return this.iter()},so.prototype[Symbol.iterator]=Rg.prototype[Symbol.iterator]=Pg.prototype[Symbol.iterator]=function(){return this});class bE{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}let ui="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<ui.length;t++)ui[t]+=ui[t-1];function vE(t){for(let e=1;e<ui.length;e+=2)if(ui[e]>t)return ui[e-1]<=t;return!1}function Kh(t){return t>=127462&&t<=127487}const Jh=8205;function Mt(t,e,n=!0,r=!0){return(n?Mg:wE)(t,e,r)}function Mg(t,e,n){if(e==t.length)return e;e&&Dg(t.charCodeAt(e))&&Ig(t.charCodeAt(e-1))&&e--;let r=Ss(t,e);for(e+=fc(r);e<t.length;){let i=Ss(t,e);if(r==Jh||i==Jh||n&&vE(i))e+=fc(i),r=i;else if(Kh(i)){let o=0,s=e-2;for(;s>=0&&Kh(Ss(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function wE(t,e,n){for(;e>0;){let r=Mg(t,e-2,n);if(r<e)return r;e--}return 0}function Dg(t){return t>=56320&&t<57344}function Ig(t){return t>=55296&&t<56320}function Ss(t,e){let n=t.charCodeAt(e);if(!Ig(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Dg(r)?(n-55296<<10)+(r-56320)+65536:n}function fc(t){return t<65536?1:2}const hc=/\r\n?|\n/;var Rt=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Rt||(Rt={}));class Sn{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){dc(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Sn(e)}composeDesc(e){return this.empty?e:e.empty?this:$g(this,e)}mapDesc(e,n=!1){return e.empty?this:pc(this,e,n)}mapPos(e,n=-1,r=Rt.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],a=this.sections[s++],c=i+l;if(a<0){if(c>e)return o+(e-i);o+=l}else{if(r!=Rt.Simple&&c>=e&&(r==Rt.TrackDel&&i<e&&c>e||r==Rt.TrackBefore&&i<e||r==Rt.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!l)return e==i||n<0?o:o+a;o+=a}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],l=i+o;if(s>=0&&i<=n&&l>=e)return i<e&&l>n?"cover":!0;i=l}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Sn(e)}static create(e){return new Sn(e)}}class Ze extends Sn{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return dc(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return pc(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=s;let a=i>>1;for(;r.length<a;)r.push(Re.empty);r.push(s?e.slice(o,o+s):Re.empty)}o+=s}return new Ze(n,r)}compose(e){return this.empty?e:e.empty?this:$g(this,e,!0)}map(e,n=!1){return e.empty?this:pc(this,e,n,!0)}iterChanges(e,n=!1){dc(this,e,n)}get desc(){return Sn.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new wo(this);e:for(let s=0,l=0;;){let a=s==e.length?1e9:e[s++];for(;l<a||l==a&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,a-l);ht(i,u,-1);let h=o.ins==-1?-1:o.off==0?o.ins:0;ht(n,u,h),h>0&&nr(r,n,o.text),o.forward(u),l+=u}let c=e[s++];for(;l<c;){if(o.done)break e;let u=Math.min(o.len,c-l);ht(n,u,-1),ht(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),l+=u}}return{changes:new Ze(n,r),filtered:Sn.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,l=null;function a(u=!1){if(!u&&!i.length)return;s<n&&ht(i,n-s,-1);let h=new Ze(i,o);l=l?l.compose(h.map(l)):h,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof Ze){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:h,to:f=h,insert:d}=u;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let p=d?typeof d=="string"?Re.of(d.split(r||hc)):d:Re.empty,b=p.length;if(h==f&&b==0)return;h<s&&a(),h>s&&ht(i,h-s,-1),ht(i,f-h,b),nr(o,i,p),s=f}}return c(e),a(!l),l}static empty(e){return new Ze(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Re.empty);r[i]=Re.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new Ze(n,r)}static createSet(e,n){return new Ze(e,n)}}function ht(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function nr(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Re.empty);t.push(n)}}function dc(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let l=t.sections[s++],a=t.sections[s++];if(a<0)i+=l,o+=l;else{let c=i,u=o,h=Re.empty;for(;c+=l,u+=a,a&&r&&(h=h.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)l=t.sections[s++],a=t.sections[s++];e(i,c,o,u,h),i=c,o=u}}}function pc(t,e,n,r=!1){let i=[],o=r?[]:null,s=new wo(t),l=new wo(e);for(let a=-1;;)if(s.ins==-1&&l.ins==-1){let c=Math.min(s.len,l.len);ht(i,c,-1),s.forward(c),l.forward(c)}else if(l.ins>=0&&(s.ins<0||a==s.i||s.off==0&&(l.len<s.len||l.len==s.len&&!n))){let c=l.len;for(ht(i,l.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&a<s.i&&s.len<=u&&(ht(i,0,s.ins),o&&nr(o,i,s.text),a=s.i),s.forward(u),c-=u}l.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(l.ins==-1){let h=Math.min(u,l.len);c+=h,u-=h,l.forward(h)}else if(l.ins==0&&l.len<u)u-=l.len,l.next();else break;ht(i,c,a<s.i?s.ins:0),o&&a<s.i&&nr(o,i,s.text),a=s.i,s.forward(s.len-u)}else{if(s.done&&l.done)return o?Ze.createSet(i,o):Sn.create(i);throw new Error("Mismatched change set lengths")}}function $g(t,e,n=!1){let r=[],i=n?[]:null,o=new wo(t),s=new wo(e);for(let l=!1;;){if(o.done&&s.done)return i?Ze.createSet(r,i):Sn.create(r);if(o.ins==0)ht(r,o.len,0,l),o.next();else if(s.len==0&&!s.done)ht(r,0,s.ins,l),i&&nr(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;ht(r,a,u,l),i&&u&&nr(i,r,s.text)}else s.ins==-1?(ht(r,o.off?0:o.len,a,l),i&&nr(i,r,o.textBit(a))):(ht(r,o.off?0:o.len,s.off?0:s.ins,l),i&&!s.off&&nr(i,r,s.text));l=(o.ins>a||s.ins>=0&&s.len>a)&&(l||r.length>c),o.forward2(a),s.forward(a)}}}}class wo{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Re.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Re.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Lr{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Lr(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Z.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Z.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Z.range(e.anchor,e.head)}static create(e,n,r){return new Lr(e,n,r)}}class Z{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Z.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Z([this.main],0)}addRange(e,n=!0){return Z.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Z.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z(e.ranges.map(n=>Lr.fromJSON(n)),e.main)}static single(e,n=e){return new Z([Z.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return Z.normalized(e.slice(),n);r=o.to}return new Z(e,n)}static cursor(e,n=0,r,i){return Lr.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,n,r,i){let o=(r??33554431)<<5|(i==null?3:Math.min(2,i));return n<e?Lr.create(n,e,24|o):Lr.create(e,n,(n>e?4:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,a=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?Z.range(a,l):Z.range(l,a))}}return new Z(e,n)}}function Bg(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Gu=0;class de{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Gu++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}static define(e={}){return new de(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:Yu),!!e.static,e.enables)}of(e){return new Cs([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cs(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Cs(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function Yu(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Cs{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Gu++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,l=this.type==2,a=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?a=!0:h=="selection"?c=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||u.push(e[h.id]);return{create(h){return h.values[s]=r(h),1},update(h,f){if(a&&f.docChanged||c&&(f.docChanged||f.selection)||mc(h,u)){let d=r(h);if(l?!Gh(d,h.values[s],i):!i(d,h.values[s]))return h.values[s]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[o];if(p!=null){let b=Ys(f,p);if(this.dependencies.every(g=>g instanceof de?f.facet(g)===h.facet(g):g instanceof zn?f.field(g,!1)==h.field(g,!1):!0)||(l?Gh(d=r(h),b,i):i(d=r(h),b)))return h.values[s]=b,0}else d=r(h);return h.values[s]=d,1}}}}function Gh(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function mc(t,e){let n=!1;for(let r of e)lo(t,r)&1&&(n=!0);return n}function xE(t,e,n){let r=n.map(a=>t[a.id]),i=n.map(a=>a.type),o=r.filter(a=>!(a&1)),s=t[e.id]>>1;function l(a){let c=[];for(let u=0;u<r.length;u++){let h=Ys(a,r[u]);if(i[u]==2)for(let f of h)c.push(f);else c.push(h)}return e.combine(c)}return{create(a){for(let c of r)lo(a,c);return a.values[s]=l(a),1},update(a,c){if(!mc(a,o))return 0;let u=l(a);return e.compare(u,a.values[s])?0:(a.values[s]=u,1)},reconfigure(a,c){let u=mc(a,r),h=c.config.facets[e.id],f=c.facet(e);if(h&&!u&&Yu(n,h))return a.values[s]=f,0;let d=l(a);return e.compare(d,f)?(a.values[s]=f,0):(a.values[s]=d,1)}}}const Yh=de.define({static:!0});class zn{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new zn(Gu++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(Yh).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,Yh.of({field:this,create:e})]}get extension(){return this}}const Or={lowest:4,low:3,default:2,high:1,highest:0};function Vi(t){return e=>new Ng(e,t)}const Xu={highest:Vi(Or.highest),high:Vi(Or.high),default:Vi(Or.default),low:Vi(Or.low),lowest:Vi(Or.lowest)};class Ng{constructor(e,n){this.inner=e,this.prec=n}}class Ll{of(e){return new gc(this,e)}reconfigure(e){return Ll.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class gc{constructor(e,n){this.compartment=e,this.inner=n}}class Gs{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let f of kE(e,n,s))f instanceof zn?i.push(f):(o[f.facet.id]||(o[f.facet.id]=[])).push(f);let l=Object.create(null),a=[],c=[];for(let f of i)l[f.id]=c.length<<1,c.push(d=>f.slot(d));let u=r==null?void 0:r.config.facets;for(let f in o){let d=o[f],p=d[0].facet,b=u&&u[f]||[];if(d.every(g=>g.type==0))if(l[p.id]=a.length<<1|1,Yu(b,d))a.push(r.facet(p));else{let g=p.combine(d.map(m=>m.value));a.push(r&&p.compare(g,r.facet(p))?r.facet(p):g)}else{for(let g of d)g.type==0?(l[g.id]=a.length<<1|1,a.push(g.value)):(l[g.id]=c.length<<1,c.push(m=>g.dynamicSlot(m)));l[p.id]=c.length<<1,c.push(g=>xE(g,p,d))}}let h=c.map(f=>f(l));return new Gs(e,s,h,l,a,o)}}function kE(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,l){let a=i.get(s);if(a!=null){if(a<=l)return;let c=r[a].indexOf(s);c>-1&&r[a].splice(c,1),s instanceof gc&&n.delete(s.compartment)}if(i.set(s,l),Array.isArray(s))for(let c of s)o(c,l);else if(s instanceof gc){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,l)}else if(s instanceof Ng)o(s.inner,s.prec);else if(s instanceof zn)r[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof Cs)r[l].push(s),s.facet.extensions&&o(s.facet.extensions,Or.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,l)}}return o(t,Or.default),r.reduce((s,l)=>s.concat(l))}function lo(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Ys(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const jg=de.define(),Fg=de.define({combine:t=>t.some(e=>e),static:!0}),Hg=de.define({combine:t=>t.length?t[0]:void 0,static:!0}),Vg=de.define(),Ug=de.define(),zg=de.define(),qg=de.define({combine:t=>t.length?t[0]:!1});class br{constructor(e,n){this.type=e,this.value=n}static define(){return new _E}}class _E{of(e){return new br(this,e)}}class SE{constructor(e){this.map=e}of(e){return new et(this,e)}}class et{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new et(this.type,n)}is(e){return this.type==e}static define(e={}){return new SE(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}et.reconfigure=et.define();et.appendConfig=et.define();class tt{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&Bg(r,n.newLength),o.some(l=>l.type==tt.time)||(this.annotations=o.concat(tt.time.of(Date.now())))}static create(e,n,r,i,o,s){return new tt(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(tt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}tt.time=br.define();tt.userEvent=br.define();tt.addToHistory=br.define();tt.remote=br.define();function CE(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function Wg(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=Ze.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:et.mapEffects(t.effects,i).concat(et.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function yc(t,e,n){let r=e.selection,i=fi(e.annotations);return e.userEvent&&(i=i.concat(tt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ze?e.changes:Ze.of(e.changes||[],n,t.facet(Hg)),selection:r&&(r instanceof Z?r:Z.single(r.anchor,r.head)),effects:fi(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function Kg(t,e,n){let r=yc(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=Wg(r,yc(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=tt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return AE(n?EE(i):i)}function EE(t){let e=t.startState,n=!0;for(let i of e.facet(Vg)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:CE(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Ze.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=tt.create(e,i,t.selection&&t.selection.map(o),et.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(Ug);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof tt?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof tt?t=o[0]:t=Kg(e,fi(o),!1)}return t}function AE(t){let e=t.startState,n=e.facet(zg),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=Wg(r,yc(e,o,t.changes.newLength),!0))}return r==t?t:tt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const OE=[];function fi(t){return t==null?OE:Array.isArray(t)?t:[t]}var Mn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Mn||(Mn={}));const TE=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let bc;try{bc=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function LE(t){if(bc)return bc.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||TE.test(n)))return!0}return!1}function RE(t){return e=>{if(!/\S/.test(e))return Mn.Space;if(LE(e))return Mn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Mn.Word;return Mn.Other}}class Te{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)lo(this,l<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return lo(this,r),Ys(this,r)}update(...e){return Kg(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(Ll.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,a)=>i.set(a,l)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(et.reconfigure)?(n=null,r=s.value):s.is(et.appendConfig)&&(n=null,r=fi(r).concat(s.value));let o;n?o=e.startState.values.slice():(n=Gs.resolve(r,i,this),o=new Te(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,a)=>a.reconfigure(l,this),null).values),new Te(n,e.newDoc,e.newSelection,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Z.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=fi(r.effects);for(let l=1;l<n.ranges.length;l++){let a=e(n.ranges[l]),c=this.changes(a.changes),u=c.map(i);for(let f=0;f<l;f++)o[f]=o[f].map(u);let h=i.mapDesc(c,!0);o.push(a.range.map(h)),i=i.compose(u),s=et.mapEffects(s,u).concat(et.mapEffects(fi(a.effects),h))}return{changes:i,selection:Z.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof Ze?e:Ze.of(e,this.doc.length,this.facet(Te.lineSeparator))}toText(e){return Re.of(e.split(this.facet(Te.lineSeparator)||hc))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(lo(this,n),Ys(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof zn&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],l=e[o];i.push(s.init(a=>s.spec.fromJSON(l,a)))}}return Te.create({doc:e.doc,selection:Z.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Gs.resolve(e.extensions||[],new Map),r=e.doc instanceof Re?e.doc:Re.of((e.doc||"").split(n.staticFacet(Te.lineSeparator)||hc)),i=e.selection?e.selection instanceof Z?e.selection:Z.single(e.selection.anchor,e.selection.head):Z.single(0);return Bg(i,r.length),n.staticFacet(Fg)||(i=i.asSingle()),new Te(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Te.tabSize)}get lineBreak(){return this.facet(Te.lineSeparator)||`
`}get readOnly(){return this.facet(qg)}phrase(e,...n){for(let r of this.facet(Te.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(jg))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return RE(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,l=e-r;for(;s>0;){let a=Mt(n,s,!1);if(o(n.slice(a,s))!=Mn.Word)break;s=a}for(;l<i;){let a=Mt(n,l);if(o(n.slice(l,a))!=Mn.Word)break;l=a}return s==l?null:Z.range(s+r,l+r)}}Te.allowMultipleSelections=Fg;Te.tabSize=de.define({combine:t=>t.length?t[0]:4});Te.lineSeparator=Hg;Te.readOnly=qg;Te.phrases=de.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Te.languageData=jg;Te.changeFilter=Vg;Te.transactionFilter=Ug;Te.transactionExtender=zg;Ll.reconfigure=et.define();function Qu(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],l=r[o];if(l===void 0)r[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Si{eq(e){return this==e}range(e,n=e){return vc.create(e,n,this)}}Si.prototype.startSide=Si.prototype.endSide=0;Si.prototype.point=!1;Si.prototype.mapMode=Rt.TrackDel;let vc=class Jg{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new Jg(e,n,r)}};function wc(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Zu{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,l=o.length;;){if(s==l)return s;let a=s+l>>1,c=o[a]-e||(r?this.value[a].endSide:this.value[a].startSide)-n;if(a==s)return c>=0?s:l;c>=0?l=a:s=a+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],u=this.from[a]+e,h=this.to[a]+e,f,d;if(u==h){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(f=d=p,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide),d<f)))continue}else if(f=n.mapPos(u,c.startSide),d=n.mapPos(h,c.endSide),f>d||f==d&&c.startSide>0&&c.endSide<=0)continue;(d-f||c.endSide-c.startSide)<0||(s<0&&(s=f),c.point&&(l=Math.max(l,d-f)),r.push(c),i.push(f-s),o.push(d-s))}return{mapped:r.length?new Zu(i,o,r,l):null,pos:s}}}class Fe{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Fe(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(wc)),this.isEmpty)return n.length?Fe.of(n):this;let l=new Gg(this,null,-1).goto(0),a=0,c=[],u=new xo;for(;l.value||a<n.length;)if(a<n.length&&(l.from-n[a].from||l.startSide-n[a].value.startSide)>=0){let h=n[a++];u.addInner(h.from,h.to,h.value)||c.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==n.length||this.chunkEnd(l.chunkIndex)<n[a].from)&&(!s||i>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&u.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||i>l.to||o<l.from||s(l.from,l.to,l.value))&&(u.addInner(l.from,l.to,l.value)||c.push(vc.create(l.from,l.to,l.value))),l.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Fe.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s],c=e.touchesRange(l,l+a.length);if(c===!1)i=Math.max(i,a.maxPoint),n.push(a),r.push(e.mapPos(l));else if(c===!0){let{mapped:u,pos:h}=a.map(l,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(h))}}let o=this.nextLayer.map(e);return n.length==0?o:new Fe(r,n,o||Fe.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return ko.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return ko.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),a=Xh(s,l,r),c=new Ui(s,a,o),u=new Ui(l,a,o);r.iterGaps((h,f,d)=>Qh(c,h,u,f,d,i)),r.empty&&r.length==0&&Qh(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let o=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=Xh(o,s),a=new Ui(o,l,0).goto(r),c=new Ui(s,l,0).goto(r);for(;;){if(a.to!=c.to||!xc(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>i)return!0;a.next(),c.next()}}static spans(e,n,r,i,o=-1){let s=new Ui(e,null,o).goto(n),l=n,a=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),h=s.pointFrom<n?u.length+1:Math.min(u.length,a);i.point(l,c,s.point,u,h,s.pointRank),a=Math.min(s.openEnd(c),u.length)}else c>l&&(i.span(l,c,s.active,a),a=s.openEnd(c));if(s.to>r)return a+(s.point&&s.to>r?1:0);l=s.to,s.next()}}static of(e,n=!1){let r=new xo;for(let i of e instanceof vc?[e]:n?PE(e):e)r.add(i.from,i.to,i.value);return r.finish()}}Fe.empty=new Fe([],[],null,-1);function PE(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(wc(e,r)>0)return t.slice().sort(wc);e=r}return t}Fe.empty.nextLayer=Fe.empty;class xo{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Zu(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new xo)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Fe.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Fe.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Xh(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let l=r.get(o.chunk[s]);l!=null&&(n?n.mapPos(l):l)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(l,l+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class Gg{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class ko{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new Gg(s,n,r,o));return i.length==1?i[0]:new ko(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)aa(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)aa(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),aa(this.heap,0)}}}function aa(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Ui{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ko.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Go(this.active,e),Go(this.activeTo,e),Go(this.activeRank,e),this.minActive=Zh(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=o;)n++;Yo(this.active,n,r),Yo(this.activeTo,n,i),Yo(this.activeRank,n,o),e&&Yo(e,n,this.cursor.from),this.minActive=Zh(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Go(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function Qh(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,l=r,a=r-e;for(;;){let c=t.to+a-n.to||t.endSide-n.endSide,u=c<0?t.to+a:n.to,h=Math.min(u,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&xc(t.activeForPoint(t.to+a),n.activeForPoint(n.to))||o.comparePoint(l,h,t.point,n.point):h>l&&!xc(t.active,n.active)&&o.compareRange(l,h,t.active,n.active),u>s)break;l=u,c<=0&&t.next(),c>=0&&n.next()}}function xc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Go(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Yo(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function Zh(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function ef(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Mt(t,i));return r}function ME(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=Mt(t,i)}return r===!0?-1:t.length}const kc="",ed=typeof Symbol>"u"?"__"+kc:Symbol.for(kc),_c=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class fr{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,a,c){let u=[],h=/^@(\w+)\b/.exec(s[0]),f=h&&h[1]=="keyframes";if(h&&l==null)return a.push(s[0]+";");for(let d in l){let p=l[d];if(/&/.test(d))o(d.split(/,\s*/).map(b=>s.map(g=>b.replace(/&/,g))).reduce((b,g)=>b.concat(g)),p,a);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(i(d),p,u,f)}else p!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+p+";")}(u.length||f)&&a.push((r&&!h&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=td[ed]||1;return td[ed]=e+1,kc+e.toString(36)}static mount(e,n){(e[_c]||new DE(e)).mount(Array.isArray(n)?n:[n])}}let Xo=null;class DE{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(Xo)return e.adoptedStyleSheets=[Xo.sheet,...e.adoptedStyleSheets],e[_c]=Xo;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Xo=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[_c]=this}mount(e){let n=this.sheet,r=0,i=0;for(let o=0;o<e.length;o++){let s=e[o],l=this.modules.indexOf(s);if(l<i&&l>-1&&(this.modules.splice(l,1),i--,l=-1),l==-1){if(this.modules.splice(i++,0,s),n)for(let a=0;a<s.rules.length;a++)n.insertRule(s.rules[a],r++)}else{for(;i<l;)r+=this.modules[i++].rules.length;r+=s.rules.length,i++}}if(!n){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+`
`;this.styleTag.textContent=o}}}var hr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nd=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),IE=typeof navigator<"u"&&/Mac/.test(navigator.platform),$E=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),BE=IE||nd&&+nd[1]<57;for(var at=0;at<10;at++)hr[48+at]=hr[96+at]=String(at);for(var at=1;at<=24;at++)hr[at+111]="F"+at;for(var at=65;at<=90;at++)hr[at]=String.fromCharCode(at+32),_o[at]=String.fromCharCode(at);for(var ca in hr)_o.hasOwnProperty(ca)||(_o[ca]=hr[ca]);function NE(t){var e=BE&&(t.ctrlKey||t.altKey||t.metaKey)||$E&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?_o:hr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Xs(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Ci(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function jE(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Es(t,e){if(!e.anchorNode)return!1;try{return Ci(t,e.anchorNode)}catch{return!1}}function So(t){return t.nodeType==3?Ei(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Qs(t,e,n,r){return n?rd(t,e,n,r,-1)||rd(t,e,n,r,1):!1}function Zs(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function rd(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Co(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=Zs(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Co(t):0}else return!1}}function Co(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}const Yg={left:0,right:0,top:0,bottom:0};function tf(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function FE(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function HE(t,e,n,r,i,o,s,l){let a=t.ownerDocument,c=a.defaultView||window;for(let u=t;u;)if(u.nodeType==1){let h,f=u==a.body;if(f)h=FE(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();h={left:b.left,right:b.left+u.clientWidth,top:b.top,bottom:b.top+u.clientHeight}}let d=0,p=0;if(i=="nearest")e.top<h.top?(p=-(h.top-e.top+s),n>0&&e.bottom>h.bottom+p&&(p=e.bottom-h.bottom+p+s)):e.bottom>h.bottom&&(p=e.bottom-h.bottom+s,n<0&&e.top-p<h.top&&(p=-(h.top+p-e.top+s)));else{let b=e.bottom-e.top,g=h.bottom-h.top;p=(i=="center"&&b<=g?e.top+b/2-g/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-g+s)-h.top}if(r=="nearest"?e.left<h.left?(d=-(h.left-e.left+o),n>0&&e.right>h.right+d&&(d=e.right-h.right+d+o)):e.right>h.right&&(d=e.right-h.right+o,n<0&&e.left<h.left+d&&(d=-(h.left+d-e.left+o))):d=(r=="center"?e.left+(e.right-e.left)/2-(h.right-h.left)/2:r=="start"==l?e.left-o:e.right-(h.right-h.left)+o)-h.left,d||p)if(f)c.scrollBy(d,p);else{let b=0,g=0;if(p){let m=u.scrollTop;u.scrollTop+=p,g=u.scrollTop-m}if(d){let m=u.scrollLeft;u.scrollLeft+=d,b=u.scrollLeft-m}e={left:e.left-b,top:e.top-g,right:e.right-b,bottom:e.bottom-g},b&&Math.abs(b-d)<1&&(r="nearest"),g&&Math.abs(g-p)<1&&(i="nearest")}if(f)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function VE(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class UE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Qr=null;function Xg(t){if(t.setActive)return t.setActive();if(Qr)return t.focus(Qr);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Qr==null?{get preventScroll(){return Qr={preventScroll:!0},!0}}:void 0),!Qr){Qr=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let id;function Ei(t,e,n=e){let r=id||(id=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function hi(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function zE(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function Qg(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function qE(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(;;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Co(n))}else{if(n==t)return!0;r=Zs(n),n=n.parentNode}}class ct{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new ct(e.parentNode,Zs(e),n)}static after(e,n){return new ct(e.parentNode,Zs(e)+1,n)}}const nf=[];class Ve{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,n){return null}sync(e,n){if(this.dirty&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.dirty){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let l=Ve.get(o);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.dirty=0}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=od(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=od(o)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,n),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Co(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Ve.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,l=-1;for(let a=0,c=r,u=r;a<this.children.length;a++){let h=this.children[a],f=c+h.length;if(c<e&&f>n)return h.domBoundsAround(e,n,c);if(f>=e&&i==-1&&(i=a,o=c),c>n&&h.dom.parentNode==this.dom){s=a,l=u;break}u=f,c=f+h.breakAfter}return{from:o,to:l<0?r+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=nf){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&o.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Zg(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Ve.prototype.breakAfter=0;function od(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Zg{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function e0(t,e,n,r,i,o,s,l,a){let{children:c}=t,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,f=h?h.breakAfter:s;if(!(e==r&&u&&!s&&!f&&o.length<2&&u.merge(n,i,o.length?h:null,n==0,l,a))){if(r<c.length){let d=c[r];d&&i<d.length?(e==r&&(d=d.split(i),i=0),!f&&h&&d.merge(0,i,h,!0,0,a)?o[o.length-1]=d:(i&&d.merge(0,i,null,!1,0,a),o.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,l,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,l,a)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function t0(t,e,n,r,i,o){let s=t.childCursor(),{i:l,off:a}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),h=e-n;for(let f of r)h+=f.length;t.length+=h,e0(t,c,u,l,a,r,0,i,o)}let Pt=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Sc=typeof document<"u"?document:{documentElement:{style:{}}};const Cc=/Edge\/(\d+)/.exec(Pt.userAgent),n0=/MSIE \d/.test(Pt.userAgent),Ec=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Pt.userAgent),Rl=!!(n0||Ec||Cc),sd=!Rl&&/gecko\/(\d+)/i.test(Pt.userAgent),ua=!Rl&&/Chrome\/(\d+)/.exec(Pt.userAgent),ld="webkitFontSmoothing"in Sc.documentElement.style,r0=!Rl&&/Apple Computer/.test(Pt.vendor),ad=r0&&(/Mobile\/\w+/.test(Pt.userAgent)||Pt.maxTouchPoints>2);var ae={mac:ad||/Mac/.test(Pt.platform),windows:/Win/.test(Pt.platform),linux:/Linux|X11/.test(Pt.platform),ie:Rl,ie_version:n0?Sc.documentMode||6:Ec?+Ec[1]:Cc?+Cc[1]:0,gecko:sd,gecko_version:sd?+(/Firefox\/(\d+)/.exec(Pt.userAgent)||[0,0])[1]:0,chrome:!!ua,chrome_version:ua?+ua[1]:0,ios:ad,android:/Android\b/.test(Pt.userAgent),webkit:ld,safari:r0,webkit_version:ld?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Sc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const WE=256;class dr extends Ve{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return r&&(!(r instanceof dr)||this.length-(n-e)+r.length>WE)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new dr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new ct(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Ac(this.dom,e,n)}}class An extends Ve{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(Qg(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof An&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(t0(this,e,n,r?r.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let l of this.children){let a=r+l.length;a>e&&n.push(r<e?l.split(e-r):l),i<0&&r>=e&&(i=o),r=a,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new An(this.mark,n,s)}domAtPos(e){return s0(this,e)}coordsAt(e,n){return a0(this,e,n)}}function Ac(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?ae.chrome||ae.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let l=Ei(t,i,o).getClientRects();if(!l.length)return Yg;let a=l[(s?s<0:n>=0)?0:l.length-1];return ae.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?tf(a,s<0):a||null}class rr extends Ve{constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}static create(e,n,r){return new(e.customView||rr)(e,n,r)}split(e){let n=rr.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof rr)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e.length==this.length&&e instanceof rr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Re.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Re.empty}domAtPos(e){return e==0?ct.before(this.dom):ct.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.dom.getClientRects(),i=null;if(!r.length)return Yg;for(let o=e>0?r.length-1:0;i=r[o],!(e>0?o==0:o==r.length-1||i.top<i.bottom);o+=e>0?-1:1);return this.length?i:tf(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class i0 extends rr{domAtPos(e){let{topView:n,text:r}=this.widget;return n?Oc(e,0,n,r,(i,o)=>i.domAtPos(o),i=>new ct(r,Math.min(i,r.nodeValue.length))):new ct(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:r,text:i}=this.widget;return r?o0(e,n,r,i):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:r,text:i}=this.widget;return r?Oc(e,n,r,i,(o,s,l)=>o.coordsAt(s,l),(o,s)=>Ac(i,o,s)):Ac(i,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Oc(t,e,n,r,i,o){if(n instanceof An){for(let s=n.dom.firstChild;s;s=s.nextSibling){let l=Ve.get(s);if(!l)return o(t,e);let a=Ci(s,r),c=l.length+(a?r.nodeValue.length:0);if(t<c||t==c&&l.getSide()<=0)return a?Oc(t,e,l,r,i,o):i(l,t,e);t-=c}return i(n,n.length,-1)}else return n.dom==r?o(t,e):i(n,t,e)}function o0(t,e,n,r){if(n instanceof An){let i=0;for(let o of n.children){let s=Ci(o.dom,r);if(Ci(o.dom,t))return i+(s?o0(t,e,o,r):o.localPosFromDOM(t,e));i+=s?r.nodeValue.length:o.length}}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}class Ai extends Ve{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Ai&&e.side==this.side}split(){return new Ai(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?ct.before(this.dom):ct.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let n=this.dom.getBoundingClientRect(),r=KE(this,this.side>0?-1:1);return r&&r.top<n.bottom&&r.bottom>n.top?{left:n.left,right:n.right,top:r.top,bottom:r.bottom}:n}get overrideDOMText(){return Re.empty}}dr.prototype.children=rr.prototype.children=Ai.prototype.children=nf;function KE(t,e){let n=t.parent,r=n?n.children.indexOf(t):-1;for(;n&&r>=0;)if(e<0?r>0:r<n.children.length){let i=n.children[r+e];if(i instanceof dr){let o=i.coordsAt(e<0?i.length:0,e);if(o)return o}r+=e}else if(n instanceof An&&n.parent)r=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent;else{let i=n.dom.lastChild;if(i&&i.nodeName=="BR")return i.getClientRects()[0];break}}function s0(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],l=o+s.length;if(!(l==o&&s.getSide()<=0)){if(e>o&&e<l&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new ct(n,0)}function l0(t,e,n){let r,{children:i}=t;n>0&&e instanceof An&&i.length&&(r=i[i.length-1])instanceof An&&r.mark.eq(e.mark)?l0(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function a0(t,e,n){let r=null,i=-1,o=null,s=-1;function l(c,u){for(let h=0,f=0;h<c.children.length&&f<=u;h++){let d=c.children[h],p=f+d.length;p>=u&&(d.children.length?l(d,u-f):!o&&(p>u||f==p&&d.getSide()>0)?(o=d,s=u-f):(f<u||f==p&&d.getSide()<0)&&(r=d,i=u-f)),f=p}}l(t,e);let a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):JE(t)}function JE(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=So(e);return n[n.length-1]||null}function Tc(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function rf(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(r.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function Lc(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}class Pl{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Ge=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Ge||(Ge={}));class He extends Si{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Ml(e)}static widget(e){let n=e.side||0,r=!!e.block;return n+=r?n>0?3e8:-4e8:n>0?1e8:-1e8,new Vr(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=c0(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Vr(e,r,i,n,e.widget||null,!0)}static line(e){return new jo(e)}static set(e,n=!1){return Fe.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}He.none=Fe.empty;class Ml extends He{constructor(e){let{start:n,end:r}=c0(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Ml&&this.tagName==e.tagName&&this.class==e.class&&rf(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Ml.prototype.point=!1;class jo extends He{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof jo&&this.spec.class==e.spec.class&&rf(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}jo.prototype.mapMode=Rt.TrackBefore;jo.prototype.point=!0;class Vr extends He{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?Rt.TrackBefore:Rt.TrackAfter:Rt.TrackDel}get type(){return this.startSide<this.endSide?Ge.WidgetRange:this.startSide<=0?Ge.WidgetBefore:Ge.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Vr&&GE(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Vr.prototype.point=!0;function c0(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function GE(t,e){return t==e||!!(t&&e&&t.compare(e))}function Rc(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class yt extends Ve{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof yt))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),t0(this,e,n,r?r.children:[],o,s),!0}split(e){let n=new yt;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){rf(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){l0(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=Tc(n,this.attrs||{})),r&&(this.attrs=Tc({class:r},this.attrs||{}))}domAtPos(e){return s0(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var r;this.dom?this.dirty&4&&(Qg(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Lc(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Ve.get(i)instanceof An;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Ve.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ae.ios||!this.children.some(o=>o instanceof dr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof dr)||/[^ -~]/.test(r.text))return null;let i=So(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=a0(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return Ge.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof yt)return o;if(s>n)break}i=s+o.breakAfter}return null}}class Ir extends Ve{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof Ir)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?ct.before(this.dom):ct.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Ir(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return nf}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Re.empty}domBoundsAround(){return null}become(e){return e instanceof Ir&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class of{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ir&&e.type==Ge.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new yt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Qo(new Ai(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Qo(new dr(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Vr){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=n-e;if(r instanceof Vr)if(r.block){let{type:a}=r;a==Ge.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ir(r.widget||new cd("div"),l,a))}else{let a=rr.create(r.widget||new cd("span"),l,l?0:r.startSide),c=this.atCursorPos&&!a.isEditable&&o<=i.length&&(e<n||r.startSide>0),u=!a.isEditable&&(e<n||o>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(Qo(new Ai(1),i),o),o=i.length+Math.max(0,o-i.length)),h.append(Qo(a,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new of(e,n,r,o);return s.openEnd=Fe.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Qo(t,e){for(let n of e)t=new An(n,[t],t.length);return t}class cd extends Pl{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const u0=de.define(),f0=de.define(),h0=de.define(),d0=de.define(),Pc=de.define(),p0=de.define(),m0=de.define(),g0=de.define({combine:t=>t.some(e=>e)}),YE=de.define({combine:t=>t.some(e=>e)});class el{constructor(e,n="nearest",r="nearest",i=5,o=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}map(e){return e.empty?this:new el(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const ud=et.define({map:(t,e)=>t.map(e)});function lr(t,e,n){let r=t.facet(d0);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Dl=de.define({combine:t=>t.length?t[0]:!0});let XE=0;const Yi=de.define();class pr{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:o}=n||{};return new pr(XE++,e,r,s=>{let l=[Yi.of(s)];return o&&l.push(Eo.of(a=>{let c=a.plugin(s);return c?o(c):He.none})),i&&l.push(i(s)),l})}static fromClass(e,n){return pr.define(r=>new e(r),n)}}class fa{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(lr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){lr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){lr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const y0=de.define(),sf=de.define(),Eo=de.define(),b0=de.define(),v0=de.define(),Xi=de.define();class Cn{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Cn(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,l=0;;i++){let a=i==e.length?null:e[i],c=s-l,u=a?a.fromB:1e9;for(;o<n.length&&n[o]<u;){let h=n[o],f=n[o+1],d=Math.max(l,h),p=Math.min(u,f);if(d<=p&&new Cn(d+c,p+c,d,p).addToSet(r),f>u)break;o+=2}if(!a)return r;new Cn(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),s=a.toA,l=a.toB}}}class tl{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ze.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,l,a)=>i.push(new Cn(o,s,l,a))),this.changedRanges=i}static create(e,n,r){return new tl(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var ut=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(ut||(ut={}));const Mc=ut.LTR,QE=ut.RTL;function w0(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const ZE=w0("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),e2=w0("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Dc=Object.create(null),fn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Dc[e]=n,Dc[n]=-e}function t2(t){return t<=247?ZE[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?e2[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const n2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class di{constructor(e,n,r){this.from=e,this.to=n,this.level=r}get dir(){return this.level%2?QE:Mc}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=n&&l.to>=n){if(l.level==r)return s;(o<0||(i!=0?i<0?l.from<n:l.to>n:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}const We=[];function r2(t,e){let n=t.length,r=e==Mc?1:2,i=e==Mc?2:1;if(!t||r==1&&!n2.test(t))return x0(n);for(let s=0,l=r,a=r;s<n;s++){let c=t2(t.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),We[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=r,a=r;s<n;s++){let c=We[s];if(c==128)s<n-1&&l==We[s+1]&&l&24?c=We[s]=l:We[s]=256;else if(c==64){let u=s+1;for(;u<n&&We[u]==64;)u++;let h=s&&l==8||u<n&&We[u]==8?a==1?1:8:256;for(let f=s;f<u;f++)We[f]=h;s=u-1}else c==8&&a==1&&(We[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,h;s<n;s++)if(u=Dc[c=t.charCodeAt(s)])if(u<0){for(let f=l-3;f>=0;f-=3)if(fn[f+1]==-u){let d=fn[f+2],p=d&2?r:d&4?d&1?i:r:0;p&&(We[s]=We[fn[f]]=p),l=f;break}}else{if(fn.length==189)break;fn[l++]=s,fn[l++]=c,fn[l++]=a}else if((h=We[s])==2||h==1){let f=h==r;a=f?0:1;for(let d=l-3;d>=0;d-=3){let p=fn[d+2];if(p&2)break;if(f)fn[d+2]|=2;else{if(p&4)break;fn[d+2]|=4}}}for(let s=0;s<n;s++)if(We[s]==256){let l=s+1;for(;l<n&&We[l]==256;)l++;let a=(s?We[s-1]:r)==1,c=(l<n?We[l]:r)==1,u=a==c?a?1:2:r;for(let h=s;h<l;h++)We[h]=u;s=l-1}let o=[];if(r==1)for(let s=0;s<n;){let l=s,a=We[s++]!=1;for(;s<n&&a==(We[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,h=We[--c]!=2;for(;c>l&&h==(We[c-1]!=2);)c--;o.push(new di(c,u,h?2:1))}else o.push(new di(l,s,0))}else for(let s=0;s<n;){let l=s,a=We[s++]==2;for(;s<n&&a==(We[s]==2);)s++;o.push(new di(l,s,a?1:2))}return o}function x0(t){return[new di(0,t,0)]}let k0="";function i2(t,e,n,r,i){var o;let s=r.head-t.from,l=-1;if(s==0){if(!i||!t.length)return null;e[0].level!=n&&(s=e[0].side(!1,n),l=0)}else if(s==t.length){if(i)return null;let f=e[e.length-1];f.level!=n&&(s=f.side(!0,n),l=e.length-1)}l<0&&(l=di.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc));let a=e[l];s==a.side(i,n)&&(a=e[l+=i?1:-1],s=a.side(!i,n));let c=i==(a.dir==n),u=Mt(t.text,s,c);if(k0=t.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(i,n))return Z.cursor(u+t.from,c?-1:1,a.level);let h=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return!h&&a.level!=n?Z.cursor(i?t.to:t.from,i?-1:1,n):h&&h.level<a.level?Z.cursor(h.side(!i,n)+t.from,i?1:-1,h.level):Z.cursor(u+t.from,i?-1:1,a.level)}const ir="";class _0{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Te.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ir}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let o=i.nextSibling;if(o==n)break;let s=Ve.get(i),l=Ve.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:fd(i))||fd(o)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(l=i.exec(n))&&(o=l.index,s=l[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=Ve.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function fd(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class hd{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class dd extends Ve{constructor(e){super(),this.view=e,this.compositionDeco=He.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new yt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Cn(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=He.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=s2(this.view,e.changes)),(ae.ie||ae.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,i=this.updateDeco(),o=u2(r,i,e.changes);return n=Cn.extendWithRanges(n,o),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ae.chrome||ae.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.dirty=0,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ir&&o.widget instanceof pd&&i.push(o.dom);r.updateGaps(i)}updateChildren(e,n){let r=this.childCursor(n);for(let i=e.length-1;;i--){let o=i>=0?e[i]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:h,openStart:f,openEnd:d}=of.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:p,off:b}=r.findPos(l,1),{i:g,off:m}=r.findPos(s,-1);e0(this,g,m,p,b,u,h,f,d)}}updateSelection(e=!1,n=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(n||this.mayControlSelection()))return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,o=this.domAtPos(i.anchor),s=i.empty?o:this.domAtPos(i.head);if(ae.gecko&&i.empty&&o2(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new ct(a,0),r=!0}let l=this.view.observer.selectionRange;(r||!l.focusNode||!Qs(o.node,o.offset,l.anchorNode,l.anchorOffset)||!Qs(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{ae.android&&ae.chrome&&this.dom.contains(l.focusNode)&&f2(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=Xs(this.view.root);if(a)if(i.empty){if(ae.gecko){let c=a2(o.node,o.offset);if(c&&c!=3){let u=C0(o.node,o.offset,c==1?1:-1);u&&(o=new ct(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),i.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=i.bidiLevel)}else if(a.extend){a.collapse(o.node,o.offset);try{a.extend(s.node,s.offset)}catch{}}else{let c=document.createRange();i.anchor>i.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new ct(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new ct(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,r=Xs(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=yt.find(this,n.head);if(!s)return;let l=s.posAtStart;if(n.head==l||n.head==l+s.length)return;let a=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!a||!c||a.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,o)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||Es(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let n=e;n;){let r=Ve.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof yt)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let o=this.children[i],s=r-o.breakAfter-o.length;if(e>s||e==s&&o.type!=Ge.WidgetBefore&&o.type!=Ge.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==Ge.WidgetBefore&&n>-2))return o.coordsAt(e-s,n);r=s}}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==ut.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],f=c+h.length;if(f>i)break;if(c>=r){let d=h.dom.getBoundingClientRect();if(n.push(d.height),s){let p=h.dom.lastChild,b=p?So(p):[];if(b.length){let g=b[b.length-1],m=a?g.right-d.left:d.right-g.left;m>l&&(l=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?ut.RTL:ut.LTR}measureTextSize(){for(let o of this.children)if(o instanceof yt){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=So(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new Zg(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let l=n.lineBlockAt(s).bottom-n.lineBlockAt(r).top;e.push(He.replace({widget:new pd(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return He.set(e)}updateDeco(){let e=this.view.state.facet(Eo).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(v0).map(h=>h(this.view)))if(u){let{left:h,right:f,top:d,bottom:p}=u;h!=null&&(o=Math.max(o,h)),f!=null&&(s=Math.max(s,f)),d!=null&&(l=Math.max(l,d)),p!=null&&(a=Math.max(a,p))}let c={left:r.left-o,top:r.top-l,right:r.right+s,bottom:r.bottom+a};HE(this.view.scrollDOM,c,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==ut.LTR)}}function o2(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class pd extends Pl{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function S0(t){let e=t.observer.selectionRange,n=e.focusNode&&C0(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof yt){let i=n;for(;i.parentNode!=r.dom;)i=i.parentNode;let o=i.previousSibling;for(;o&&!Ve.get(o);)o=o.previousSibling;let s=o?Ve.get(o).posAtEnd:r.posAtStart;return{from:s,to:s,node:i,text:n}}else{for(;;){let{parent:o}=r;if(!o)return null;if(o instanceof yt)break;r=o}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:n}}}function s2(t,e){let n=S0(t);if(!n)return He.none;let{from:r,to:i,node:o,text:s}=n,l=e.mapPos(r,1),a=Math.max(l,e.mapPos(i,-1)),{state:c}=t,u=o.nodeType==3?o.nodeValue:new _0([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),ir)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,ir)==u)l=a-u.length;else return He.none;else if(c.doc.sliceString(l,a,ir)!=u)return He.none;let h=Ve.get(o);return h instanceof i0?h=h.widget.topView:h&&(h.parent=null),He.set(He.replace({widget:new l2(o,s,h),inclusive:!0}).range(l,a))}class l2 extends Pl{constructor(e,n,r){super(),this.top=e,this.text=n,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return i0}}function C0(t,e,n){if(n<=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=Co(r);else break}if(n>=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function a2(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class c2{constructor(){this.changes=[]}compareRange(e,n){Rc(e,n,this.changes)}comparePoint(e,n){Rc(e,n,this.changes)}}function u2(t,e,n){let r=new c2;return Fe.compare(t,e,n,r),r.changes}function f2(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function h2(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return Z.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,l=o;n<0?s=Mt(i.text,o,!1):l=Mt(i.text,o);let a=r(i.text.slice(s,l));for(;s>0;){let c=Mt(i.text,s,!1);if(r(i.text.slice(c,s))!=a)break;s=c}for(;l<i.length;){let c=Mt(i.text,l);if(r(i.text.slice(l,c))!=a)break;l=c}return Z.range(s+i.from,l+i.from)}function d2(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function p2(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function ha(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function md(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function gd(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Ic(t,e,n){let r,i,o,s,l=!1,a,c,u,h;for(let p=t.firstChild;p;p=p.nextSibling){let b=So(p);for(let g=0;g<b.length;g++){let m=b[g];i&&ha(i,m)&&(m=md(gd(m,i.bottom),i.top));let x=d2(e,m),y=p2(n,m);if(x==0&&y==0)return p.nodeType==3?yd(p,e,n):Ic(p,e,n);if(!r||s>y||s==y&&o>x){r=p,i=m,o=x,s=y;let w=y?n<m.top?-1:1:x?e<m.left?-1:1:0;l=!w||(w>0?g<b.length-1:g>0)}x==0?n>m.bottom&&(!u||u.bottom<m.bottom)?(a=p,u=m):n<m.top&&(!h||h.top>m.top)&&(c=p,h=m):u&&ha(u,m)?u=gd(u,m.bottom):h&&ha(h,m)&&(h=md(h,m.top))}}if(u&&u.bottom>=n?(r=a,i=u):h&&h.top<=n&&(r=c,i=h),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return yd(r,f,n);if(l&&r.contentEditable!="false")return Ic(r,f,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function yd(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let l=0;l<r;l++){let a=Ei(t,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let f=e>=(u.left+u.right)/2,d=f;if((ae.chrome||ae.gecko)&&Ei(t,l).getBoundingClientRect().left==u.right&&(d=!f),h<=0)return{node:t,offset:l+(d?1:0)};i=l+(d?1:0),o=h}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function E0(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),l=s.top+t.viewState.paddingTop,a,{docHeight:c}=t.viewState,{x:u,y:h}=e,f=h-l;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let w=t.defaultLineHeight/2,v=!1;a=t.elementAtHeight(f),a.type!=Ge.Text;)for(;f=r>0?a.bottom+w:a.top-w,!(f>=0&&f<=c);){if(v)return n?null:0;v=!0,r=-r}h=l+f;let d=a.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:bd(t,s,a,u,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:bd(t,s,a,u,h);let p=t.dom.ownerDocument,b=t.root.elementFromPoint?t.root:p,g=b.elementFromPoint(u,h);g&&!t.contentDOM.contains(g)&&(g=null),g||(u=Math.max(s.left+1,Math.min(s.right-1,u)),g=b.elementFromPoint(u,h),g&&!t.contentDOM.contains(g)&&(g=null));let m,x=-1;if(g&&((i=t.docView.nearest(g))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(u,h);w&&({offsetNode:m,offset:x}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(u,h);w&&({startContainer:m,startOffset:x}=w,(!t.contentDOM.contains(m)||ae.safari&&m2(m,x,u)||ae.chrome&&g2(m,x,u))&&(m=void 0))}}if(!m||!t.docView.dom.contains(m)){let w=yt.find(t.docView,d);if(!w)return f>a.top+a.height/2?a.to:a.from;({node:m,offset:x}=Ic(w.dom,u,h))}let y=t.docView.nearest(m);if(!y)return null;if(y.isWidget&&((o=y.dom)===null||o===void 0?void 0:o.nodeType)==1){let w=y.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?y.posAtStart:y.posAtEnd}else return y.localPosFromDOM(m,x)+y.posAtStart}function bd(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let l=Math.floor((i-n.top)/t.defaultLineHeight);o+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+ME(s,o,t.state.tabSize)}function m2(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Ei(t,r-1,r).getBoundingClientRect().left>n}function g2(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():Ei(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function y2(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=!r||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=t.dom.getBoundingClientRect(),c=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(c==ut.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return Z.cursor(u,n?-1:1)}let s=yt.find(t.docView,e.head),l=s?n?s.posAtEnd:s.posAtStart:n?i.to:i.from;return Z.cursor(l,n?-1:1)}function vd(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let l=e,a=null;;){let c=i2(i,o,s,l,n),u=k0;if(!c){if(i.number==(n?t.state.doc.lines:1))return l;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),c=Z.cursor(n?i.from:i.to)}if(a){if(!a(u))return l}else{if(!r)return c;a=r(u)}l=c}}function b2(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==Mn.Space&&(i=s),i==s}}function v2(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return Z.cursor(i,e.assoc);let s=e.goalColumn,l,a=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i),u=t.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let d=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-d.from))),l=(o<0?d.top:d.bottom)+u}let h=a.left+s,f=r??t.defaultLineHeight>>1;for(let d=0;;d+=10){let p=l+(f+d)*o,b=E0(t,{x:h,y:p},!1,o);if(p<a.top||p>a.bottom||(o<0?b<i:b>i))return Z.cursor(b,e.assoc,void 0,s)}}function da(t,e,n){let r=t.state.facet(b0).map(i=>i(t));for(;;){let i=!1;for(let o of r)o.between(n.from-1,n.from+1,(s,l,a)=>{n.from>s&&n.from<l&&(n=e.head>n.from?Z.cursor(s,1):Z.cursor(l,-1),i=!0)});if(!i)return n}}class w2{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let n=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in nt){let i=nt[r];e.contentDOM.addEventListener(r,o=>{wd(e,o)&&n(i,o)},$c[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(n(nt.mousedown,r),!r.defaultPrevented&&r.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),ae.chrome&&ae.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ae.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var r;let i;this.customHandlers=[];for(let o of n)if(i=(r=o.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:i});for(let s in i)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{wd(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let o=i.handlers[e];if(o)try{if(o.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(s){lr(n.state,s)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(o){lr(e.state,o)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(ae.android&&ae.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return ae.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((r=A0.find(i=>i.keyCode==n.keyCode))&&!n.ctrlKey||x2.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=r||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,hi(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ae.safari&&!ae.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const A0=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],x2="dthko",O0=[16,17,18,20,91,92,224,225];function Zo(t){return t*.7+8}class k2{constructor(e,n,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=VE(e.contentDOM);let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Te.allowMultipleSelections)&&_2(e,n),this.dragMove=S2(e,n),this.dragging=C2(e,n)&&P0(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,i=0,o=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=o.left?r=-Zo(o.left-e.clientX):e.clientX>=o.right&&(r=Zo(e.clientX-o.right)),e.clientY<=o.top?i=-Zo(o.top-e.clientY):e.clientY>=o.bottom&&(i=Zo(e.clientY-o.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let n=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!n.eq(this.view.state.selection)||n.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function _2(t,e){let n=t.state.facet(u0);return n.length?n[0](e):ae.mac?e.metaKey:e.ctrlKey}function S2(t,e){let n=t.state.facet(f0);return n.length?n[0](e):ae.mac?!e.altKey:!e.ctrlKey}function C2(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Xs(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function wd(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Ve.get(n))&&r.ignoreEvent(e))return!1;return!0}const nt=Object.create(null),$c=Object.create(null),T0=ae.ie&&ae.ie_version<15||ae.ios&&ae.webkit_version<604;function E2(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),L0(t,n.value)},50)}function L0(t,e){let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(Bc!=null&&n.selection.ranges.every(a=>a.empty)&&Bc==o.toString()){let a=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let h=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:h},range:Z.cursor(c.from+h.length)}})}else s?r=n.changeByRange(a=>{let c=o.line(i++);return{changes:{from:a.from,to:a.to,insert:c.text},range:Z.cursor(a.from+c.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}nt.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():O0.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};nt.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};nt.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};$c.touchstart=$c.touchmove={passive:!0};nt.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of t.state.facet(h0))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=T2(t,e)),n){let r=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new k2(t,e,n,r)),r&&t.observer.ignore(()=>Xg(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function xd(t,e,n,r){if(r==1)return Z.cursor(e,n);if(r==2)return h2(t.state,e,n);{let i=yt.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,l=i?i.posAtEnd:o.to;return l<t.state.doc.length&&l==o.to&&l++,Z.range(s,l)}}let R0=(t,e)=>t>=e.top&&t<=e.bottom,kd=(t,e,n)=>R0(e,n)&&t>=n.left&&t<=n.right;function A2(t,e,n,r){let i=yt.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&kd(n,r,s))return-1;let l=i.coordsAt(o,1);return l&&kd(n,r,l)?1:s&&R0(r,s)?-1:1}function _d(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:A2(t,n,e.clientX,e.clientY)}}const O2=ae.ie&&ae.ie_version<=11;let Sd=null,Cd=0,Ed=0;function P0(t){if(!O2)return t.detail;let e=Sd,n=Ed;return Sd=t,Ed=Date.now(),Cd=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Cd+1)%3:1}function T2(t,e){let n=_d(t,e),r=P0(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,l){let a=_d(t,o),c=xd(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!s){let u=xd(t,n.pos,n.bias,r),h=Math.min(u.from,c.from),f=Math.max(u.to,c.to);c=h<c.from?Z.range(h,f):Z.range(f,h)}return s?i.replaceRange(i.main.extend(c.from,c.to)):l&&i.ranges.length>1&&i.ranges.some(u=>u.eq(c))?L2(i,c):l?i.addRange(c):Z.create([c])}}}function L2(t,e){for(let n=0;;n++)if(t.ranges[n].eq(e))return Z.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}nt.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function Ad(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=t.inputState,s=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:i,insert:n},a=t.state.changes(s?[s,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"})}nt.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,o=()=>{++i==n.length&&Ad(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[s]=l.result),o()},l.readAsText(n[s])}}else Ad(t,e,e.dataTransfer.getData("Text"),!0)};nt.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=T0?null:e.clipboardData;n?(L0(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):E2(t)};function R2(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function P2(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let Bc=null;nt.copy=nt.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=P2(t.state);if(!n&&!i)return;Bc=i?n:null;let o=T0?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",n)):R2(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const M0=br.define();function D0(t,e){let n=[];for(let r of t.facet(m0)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:M0.of(!0)}):null}function I0(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=D0(t.state,e);n?t.dispatch(n):t.update([])}},10)}nt.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),I0(t)};nt.blur=t=>{t.observer.clearSelectionRange(),I0(t)};nt.compositionstart=nt.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};nt.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,ae.chrome&&ae.android&&t.observer.flushSoon(),setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};nt.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};nt.beforeinput=(t,e)=>{var n;let r;if(ae.chrome&&ae.android&&(r=A0.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const Od=["pre-wrap","normal","pre-line","break-spaces"];class M2{constructor(e){this.lineWrapping=e,this.doc=Re.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Od.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let l=Od.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,a){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class D2{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Pn{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new Pn(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Ne=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Ne||(Ne={}));const As=.001;class bt{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>As&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return bt.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:a,toA:c,fromB:u,toB:h}=i[l],f=o.lineAt(a,Ne.ByPosNoHeight,r.setDoc(n),0,0),d=f.to>=c?f:o.lineAt(c,Ne.ByPosNoHeight,r,0,0);for(h+=d.to-c,c=d.to;l>0&&f.from<=i[l-1].toA;)a=i[l-1].fromA,u=i[l-1].fromB,l--,a<f.from&&(f=o.lineAt(a,Ne.ByPosNoHeight,r,0,0));u+=f.from-a,a=f.from;let p=lf.build(r.setDoc(s),e,u,h);o=o.replace(a,c,p)}return o.updateHeight(r,0)}static empty(){return new Tt(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let l=e[n-1];l.break?e.splice(--n,1,l.left,null,l.right):e.splice(--n,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(o>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,o-=l.size}else break;else if(i<o){let l=e[n++];l&&(i+=l.size)}else{let l=e[--r];l&&(o+=l.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new I2(bt.of(e.slice(0,n)),s,bt.of(e.slice(r)))}}bt.prototype.size=1;class $0 extends bt{constructor(e,n,r){super(e,n),this.type=r}blockAt(e,n,r,i){return new Pn(i,this.length,r,this.height,this.type)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Tt extends $0{constructor(e,n){super(e,n,Ge.Text),this.collapsed=0,this.widgetHeight=0}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Tt||i instanceof lt&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof lt?i=new Tt(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):bt.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class lt extends bt{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*o);s=a/o,l=(this.height-a)/(this.length-o-1)}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:l}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:l,perChar:a}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),u=n.doc.lineAt(c),h=l+u.length*a,f=Math.max(r,e-h/2);return new Pn(u.from,u.length,f,h,Ge.Text)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-r)/l))),{from:u,length:h}=n.doc.line(o+c);return new Pn(u,h,r+l*c,l,Ge.Text)}}lineAt(e,n,r,i,o){if(n==Ne.ByHeight)return this.blockAt(e,r,i,o);if(n==Ne.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new Pn(d,p-d,0,0,Ge.Text)}let{firstLine:s,perLine:l,perChar:a}=this.heightMetrics(r,o),c=r.doc.lineAt(e),u=l+c.length*a,h=c.number-s,f=i+l*h+a*(c.from-o-h);return new Pn(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,Ge.Text)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:l,perLine:a,perChar:c}=this.heightMetrics(r,o);for(let u=e,h=i;u<=n;){let f=r.doc.lineAt(u);if(u==e){let p=f.number-l;h+=a*p+c*(e-o-p)}let d=a+c*f.length;s(new Pn(f.from,f.length,h,d,Ge.Text)),h+=d,u=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof lt?r[r.length-1]=new lt(o.length+i):r.push(null,new lt(i-1))}if(e>0){let o=r[0];o instanceof lt?r[0]=new lt(e+o.length):r.unshift(new lt(e-1),null)}return bt.of(r)}decomposeLeft(e,n){n.push(new lt(e-1),null)}decomposeRight(e,n){n.push(null,new lt(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],l=Math.max(n,i.from),a=-1;for(i.from>n&&s.push(new lt(i.from-n-1).updateHeight(e,n));l<=o&&i.more;){let u=e.doc.lineAt(l).length;s.length&&s.push(null);let h=i.heights[i.index++];a==-1?a=h:Math.abs(h-a)>=As&&(a=-2);let f=new Tt(u,h);f.outdated=!1,s.push(f),l+=u+1}l<=o&&s.push(null,new lt(o-l).updateHeight(e,l));let c=bt.of(s);return(a<0||Math.abs(c.height-this.height)>=As||Math.abs(a-this.heightMetrics(e,n).perLine)>=As)&&(e.heightChanged=!0),c}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class I2 extends bt{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,l=o+this.left.length+this.break,a=n==Ne.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=n==Ne.ByPosNoHeight?Ne.ByPosNoHeight:Ne.ByPos;return a?c.join(this.right.lineAt(l,u,r,s,l)):this.left.lineAt(l,u,r,i,o).join(c)}forEachLine(e,n,r,i,o,s){let l=i+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,n,r,i,o,s),n>=a&&this.right.forEachLine(e,n,r,l,a,s);else{let c=this.lineAt(a,Ne.ByPos,r,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,o,s),c.to>=e&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,l,a,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of r)o.push(l);if(e>0&&Td(o,s-1),n<this.length){let l=o.length;this.decomposeRight(n,o),Td(o,l)}return bt.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?bt.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,l=n+o.length+this.break,a=null;return i&&i.from<=n+o.length&&i.more?a=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=l+s.length&&i.more?a=s=s.updateHeight(e,l,r,i):s.updateHeight(e,l,r),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Td(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof lt&&(r=t[e+1])instanceof lt&&t.splice(e-1,3,new lt(n.length+1+r.length))}const $2=5;class lf{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Tt?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Tt(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new $0(o,i,r.type)):(o||i>=$2)&&this.addLineDeco(i,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Tt(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new lt(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Tt)return e;let n=new Tt(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine(),e.type==Ge.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Ge.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Tt)&&!this.isCovered?this.nodes.push(new Tt(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Tt&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new lf(r,e);return Fe.spans(n,r,i,o,0),o.finish(r)}}function B2(t,e,n){let r=new N2;return Fe.compare(t,e,n,r,0),r.changes}class N2{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Rc(e,n,this.changes,5)}}function j2(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let f=u.getBoundingClientRect();o=Math.max(o,f.left),s=Math.min(s,f.right),l=Math.max(l,f.top),a=c==t.parentNode?f.bottom:Math.min(a,f.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function F2(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class pa{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e){return He.replace({widget:new H2(this.size,e)}).range(this.from,this.to)}}class H2 extends Pl{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Ld{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=Rd,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ut.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(sf).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new M2(n),this.stateDeco=e.facet(Eo).filter(r=>typeof r!="function"),this.heightMap=bt.empty().applyChanges(this.stateDeco,Re.empty,this.heightOracle.setDoc(e.doc),[new Cn(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=He.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new es(o,s))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?Rd:new z2(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Qi(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Eo).filter(c=>typeof c!="function");let i=e.changedRanges,o=Cn.extendWithRanges(i,B2(r,this.stateDeco,e?e.changes:Ze.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(YE)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ut.RTL:ut.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=n.getBoundingClientRect(),a=s||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let c=0,u=0,h=parseInt(r.paddingTop)||0,f=parseInt(r.paddingBottom)||0;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=(this.printing?F2:j2)(n,this.paddingTop),p=d.top-this.pixelViewport.top,b=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let m=l.width;if((this.contentDOMWidth!=m||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),a){let y=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(y)&&(s=!0),s||i.lineWrapping&&Math.abs(m-this.contentDOMWidth)>i.charWidth){let{lineHeight:w,charWidth:v,textHeight:_}=e.docView.measureTextSize();s=w>0&&i.refresh(o,w,v,_,m/v,y),s&&(e.docView.minWidth=0,c|=8)}p>0&&b>0?u=Math.max(p,b):p<0&&b<0&&(u=Math.min(p,b)),i.heightChanged=!1;for(let w of this.viewports){let v=w.from==this.viewport.from?y:e.docView.measureVisibleLineHeights(w);this.heightMap=(s?bt.empty().applyChanges(this.stateDeco,Re.empty,this.heightOracle,[new Cn(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new D2(w.from,v))}i.heightChanged&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:l}=this,a=new es(i.lineAt(s-r*1e3,Ne.ByHeight,o,0,0).from,i.lineAt(l+(1-r)*1e3,Ne.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,Ne.ByPos,o,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<a.from?f=h.top:f=h.bottom-u,a=new es(i.lineAt(f-1e3/2,Ne.ByHeight,o,0,0).from,i.lineAt(f+u+1e3/2,Ne.ByHeight,o,0,0).to)}}return a}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new es(this.heightMap.lineAt(r,Ne.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Ne.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Ne.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,Ne.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=l+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new pa(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=ut.LTR&&!r)return[];let l=[],a=(c,u,h,f)=>{if(u-c<o)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let g of p)if(g>c&&g<u){a(c,g-10,h,f),a(g+10,u,h,f);return}let b=U2(e,g=>g.from>=h.from&&g.to<=h.to&&Math.abs(g.from-c)<o&&Math.abs(g.to-u)<o&&!p.some(m=>g.from<m&&g.to>m));if(!b){if(u<h.to&&n&&r&&n.visibleRanges.some(g=>g.from<=u&&g.to>=u)){let g=n.moveToLineBoundary(Z.cursor(u),!1,!0).head;g>c&&(u=g)}b=new pa(c,u,this.gapSize(h,c,u,f))}l.push(b)};for(let c of this.viewportLines){if(c.length<s)continue;let u=V2(c.from,c.to,this.stateDeco);if(u.total<s)continue;let h=this.scrollTarget?this.scrollTarget.range.head:null,f,d;if(r){let p=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,g;if(h!=null){let m=ns(u,h),x=((this.visibleBottom-this.visibleTop)/2+p)/c.height;b=m-x,g=m+x}else b=(this.visibleTop-c.top-p)/c.height,g=(this.visibleBottom-c.top+p)/c.height;f=ts(u,b),d=ts(u,g)}else{let p=u.total*this.heightOracle.charWidth,b=i*this.heightOracle.charWidth,g,m;if(h!=null){let x=ns(u,h),y=((this.pixelViewport.right-this.pixelViewport.left)/2+b)/p;g=x-y,m=x+y}else g=(this.pixelViewport.left-b)/p,m=(this.pixelViewport.right+b)/p;f=ts(u,g),d=ts(u,m)}f>c.from&&a(c.from,f,c,u),d<c.to&&a(d,c.to,c,u)}return l}gapSize(e,n,r,i){let o=ns(i,r)-ns(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){pa.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=He.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];Fe.spans(e,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Qi(this.heightMap.lineAt(e,Ne.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Qi(this.heightMap.lineAt(this.scaler.fromDOM(e),Ne.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Qi(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class es{constructor(e,n){this.from=e,this.to=n}}function V2(t,e,n){let r=[],i=t,o=0;return Fe.spans(n,t,e,{span(){},point(s,l){s>i&&(r.push({from:i,to:s}),o+=s-i),i=l}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function ts({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],l=s-o;if(r<=l)return o+r;r-=l}}function ns(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function U2(t,e){for(let n of t)if(e(n))return n}const Rd={toDOM(t){return t},fromDOM(t){return t},scale:1};class z2{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:l,to:a})=>{let c=n.lineAt(l,Ne.ByPos,e,0,0).top,u=n.lineAt(a,Ne.ByPos,e,0,0).bottom;return i+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}function Qi(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Pn(t.from,t.length,n,r-n,Array.isArray(t.type)?t.type.map(i=>Qi(i,e)):t.type)}const rs=de.define({combine:t=>t.join(" ")}),Nc=de.define({combine:t=>t.indexOf(!0)>-1}),jc=fr.newName(),B0=fr.newName(),N0=fr.newName(),j0={"&light":"."+B0,"&dark":"."+N0};function Fc(t,e,n){return new fr(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const q2=Fc("."+jc,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},j0);class W2{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let l=o||s?[]:J2(e),a=new _0(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=G2(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!Ci(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),c=s&&s.node==l.anchorNode&&s.offset==l.anchorOffset||!Ci(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset);this.newSel=Z.single(c,a)}}}function F0(t,e){let n,{newSel:r}=e,i=t.state.selection.main;if(e.bounds){let{from:o,to:s}=e.bounds,l=i.from,a=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||ae.android&&e.text.length<s-o)&&(l=i.to,a="end");let c=K2(t.state.doc.sliceString(o,s,ir),e.text,l-o,a);c&&(ae.chrome&&t.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==ir+ir&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:Re.of(e.text.slice(c.from,c.toB).split(ir))})}else r&&(!t.hasFocus&&t.state.facet(Dl)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(ae.mac||ae.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Z.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Re.of([" "])}):ae.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Z.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Re.of([" "])}),n){let o=t.state;if(ae.ios&&t.inputState.flushIOSKey(t)||ae.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&hi(t.contentDOM,"Enter",13)||n.from==i.from-1&&n.to==i.to&&n.insert.length==0&&hi(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&hi(t.contentDOM,"Delete",46)))return!0;let s=n.insert.toString();if(t.state.facet(p0).some(c=>c(t,n.from,n.to,s)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let l;if(n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let c=i.from<n.from?o.sliceDoc(i.from,n.from):"",u=i.to>n.to?o.sliceDoc(n.to,i.to):"";l=o.replaceSelection(t.state.toText(c+n.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let c=o.changes(n),u=r&&!o.selection.main.eq(r.main)&&r.main.to<=c.newLength?r.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let h=t.state.sliceDoc(n.from,n.to),f=S0(t)||t.state.doc.lineAt(i.head),d=i.to-n.to,p=i.to-i.from;l=o.changeByRange(b=>{if(b.from==i.from&&b.to==i.to)return{changes:c,range:u||b.map(c)};let g=b.to-d,m=g-h.length;if(b.to-b.from!=p||t.state.sliceDoc(m,g)!=h||f&&b.to>=f.from&&b.from<=f.to)return{range:b};let x=o.changes({from:m,to:g,insert:n.insert}),y=b.to-i.to;return{changes:x,range:u?Z.range(Math.max(0,u.anchor+y),Math.max(0,u.head+y)):b.map(x)}})}else l={changes:c,selection:u&&o.selection.replaceRange(u)}}let a="input.type";return t.composing&&(a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(l,{scrollIntoView:!0,userEvent:a}),!0}else if(r&&!r.main.eq(i)){let o=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),s=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:s}),!0}else return!1}function K2(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,l=e.length;for(;s>0&&l>0&&t.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(r=="end"){let a=Math.max(0,o-Math.min(s,l));n-=s+a-o}if(s<o&&t.length<e.length){let a=n<=o&&n>=s?o-n:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=n<=o&&n>=l?o-n:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function J2(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new hd(n,r)),(i!=n||o!=r)&&e.push(new hd(i,o))),e}function G2(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Z.single(n+e,r+e):null}const Y2={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ma=ae.ie&&ae.ie_version<=11;class X2{constructor(e){this.view=e,this.active=!1,this.selectionRange=new UE,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ae.ie&&ae.ie_version<=11||ae.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),ma&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Dl)?r.root.activeElement!=this.dom:!Es(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ae.ie&&ae.ie_version<=11||ae.android&&ae.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Qs(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=ae.safari&&e.root.nodeType==11&&jE(this.dom.ownerDocument)==this.dom&&Q2(this.view)||Xs(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=Es(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&qE(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Y2),ma&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ma&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),!this.flush()&&o.force&&hi(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Es(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new W2(this.view,e,n,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let r=this.view.state,i=F0(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let r=Pd(n,e.previousSibling||e.target.previousSibling,-1),i=Pd(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Pd(t,e,n){for(;e;){let r=Ve.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Q2(t){let e=null;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return Qs(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}class ve{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||zE(e.parent)||document,this.viewState=new Ld(e.state||Te.create(e)),this.plugins=this.state.facet(Yi).map(n=>new fa(n));for(let n of this.plugins)n.update(this);this.observer=new X2(this),this.inputState=new w2(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new dd(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof tt?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let f of e){if(f.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=f.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,l=0,a=null;e.some(f=>f.annotation(M0))?(this.inputState.notifiedFocused=s,l=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,a=D0(o,s),a||(l=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(Te.phrases)!=this.state.facet(Te.phrases))return this.setState(o);i=tl.create(this,o,e),i.flags|=l;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new el(d.empty?d:Z.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(ud)&&(h=d.value)}this.viewState.update(i,h),this.bidiCache=nl.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Xi)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(rs)!=i.state.facet(rs)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let f of this.state.facet(Pc))f(i);(a||u)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),u&&!F0(this,u)&&c.force&&hi(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Ld(e),this.plugins=e.facet(Yi).map(r=>new fa(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new dd(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Yi),r=e.state.facet(Yi);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new fa(o));else{let l=this.plugins[s];l.mustUpdate=e,i.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:r,scrollTop:i,clientHeight:o}=this.scrollDOM,s=i>r-o-4?r:i;try{for(let l=0;;l++){this.updateState=1;let a=this.viewport,c=this.viewState.lineBlockAtHeight(s),u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(g=>{try{return g.read(this)}catch(m){return lr(this.state,m),Md}}),d=tl.create(this,this.state,[]),p=!1,b=!1;d.flags|=u,n?n.flags|=u:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d));for(let g=0;g<h.length;g++)if(f[g]!=Md)try{let m=h[g];m.write&&m.write(f[g],this)}catch(m){lr(this.state,m)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,b=!0;else{let g=this.viewState.lineBlockAt(c.from).top-c.top;(g>1||g<-1)&&(this.scrollDOM.scrollTop+=g,b=!0)}if(p&&this.docView.updateSelection(!0),this.viewport.from==a.from&&this.viewport.to==a.to&&!b&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(Pc))l(n)}get themeClasses(){return jc+" "+(this.state.facet(Nc)?N0:B0)+" "+this.state.facet(rs)}updateAttrs(){let e=Dd(this,y0,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Dl)?"true":"false",class:"cm-content",style:`${ae.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Dd(this,sf,n);let r=this.observer.ignore(()=>{let i=Lc(this.contentDOM,this.contentAttrs,n),o=Lc(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(ve.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Xi),fr.mount(this.root,this.styleModules.concat(q2).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return da(this,e,vd(this,e,n,r))}moveByGroup(e,n){return da(this,e,vd(this,e,n,r=>b2(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return y2(this,e,n,r)}moveVertically(e,n,r){return da(this,e,v2(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),E0(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[di.find(o,e-i.from,-1,n)];return tf(r,s.dir==ut.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(g0)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Z2)return x0(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=r2(e.text,n);return this.bidiCache.push(new nl(e.from,e.to,n,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ae.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{Xg(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return ud.of(new el(typeof e=="number"?Z.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return pr.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=fr.newName(),i=[rs.of(r),Xi.of(Fc(`.${r}`,e))];return n&&n.dark&&i.push(Nc.of(!0)),i}static baseTheme(e){return Xu.lowest(Xi.of(Fc("."+jc,e,j0)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Ve.get(r)||Ve.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}ve.styleModule=Xi;ve.inputHandler=p0;ve.focusChangeEffect=m0;ve.perLineTextDirection=g0;ve.exceptionSink=d0;ve.updateListener=Pc;ve.editable=Dl;ve.mouseSelectionStyle=h0;ve.dragMovesSelection=f0;ve.clickAddsSelectionRange=u0;ve.decorations=Eo;ve.atomicRanges=b0;ve.scrollMargins=v0;ve.darkTheme=Nc;ve.contentAttributes=sf;ve.editorAttributes=y0;ve.lineWrapping=ve.contentAttributes.of({class:"cm-lineWrapping"});ve.announce=et.define();const Z2=4096,Md={};class nl{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:ut.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new nl(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.order))}return r}}function Dd(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&Tc(s,n)}return n}const eA=ae.mac?"mac":ae.windows?"win":ae.linux?"linux":"key";function tA(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,l;for(let a=0;a<n.length-1;++a){const c=n[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),l&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function is(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const nA=Xu.default(ve.domEventHandlers({keydown(t,e){return sA(rA(e.state),t,e,"editor")}})),H0=de.define({enables:nA}),Id=new WeakMap;function rA(t){let e=t.facet(H0),n=Id.get(e);return n||Id.set(e,n=oA(e.reduce((r,i)=>r.concat(i),[]))),n}let tr=null;const iA=4e3;function oA(t,e=eA){let n=Object.create(null),r=Object.create(null),i=(s,l)=>{let a=r[s];if(a==null)r[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,c)=>{var u,h;let f=n[s]||(n[s]=Object.create(null)),d=l.split(/ (?!$)/).map(g=>tA(g,e));for(let g=1;g<d.length;g++){let m=d.slice(0,g).join(" ");i(m,!0),f[m]||(f[m]={preventDefault:!0,run:[x=>{let y=tr={view:x,prefix:m,scope:s};return setTimeout(()=>{tr==y&&(tr=null)},iA),!0}]})}let p=d.join(" ");i(p,!1);let b=f[p]||(f[p]={preventDefault:!1,run:((h=(u=f._any)===null||u===void 0?void 0:u.run)===null||h===void 0?void 0:h.slice())||[]});a&&b.run.push(a),c&&(b.preventDefault=!0)};for(let s of t){let l=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of l){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,run:[]});for(let h in u)u[h].run.push(s.any)}let a=s[e]||s.key;if(a)for(let c of l)o(c,a,s.run,s.preventDefault),s.shift&&o(c,"Shift-"+a,s.shift,s.preventDefault)}return n}function sA(t,e,n,r){let i=NE(e),o=Ss(i,0),s=fc(o)==i.length&&i!=" ",l="",a=!1;tr&&tr.view==n&&tr.scope==r&&(l=tr.prefix+" ",(a=O0.indexOf(e.keyCode)<0)&&(tr=null));let c=new Set,u=p=>{if(p){for(let b of p.run)if(!c.has(b)&&(c.add(b),b(n,e)))return!0;p.preventDefault&&(a=!0)}return!1},h=t[r],f,d;if(h){if(u(h[l+is(i,e,!s)]))return!0;if(s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ae.windows&&e.ctrlKey&&e.altKey)&&(f=hr[e.keyCode])&&f!=i){if(u(h[l+is(f,e,!0)]))return!0;if(e.shiftKey&&(d=_o[e.keyCode])!=i&&d!=f&&u(h[l+is(d,e,!1)]))return!0}else if(s&&e.shiftKey&&u(h[l+is(i,e,!0)]))return!0;if(u(h._any))return!0}return a}const lA=!ae.ios,aA={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};lA&&(aA[".cm-line"].caretColor="transparent !important");function cA(){return fA}const uA=He.line({class:"cm-activeLine"}),fA=pr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(uA.range(i.from)),e=i.from)}return He.set(n)}},{decorations:t=>t.decorations});class mr extends Si{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}mr.prototype.elementClass="";mr.prototype.toDOM=void 0;mr.prototype.mapMode=Rt.TrackBefore;mr.prototype.startSide=mr.prototype.endSide=-1;mr.prototype.point=!0;const Os=de.define(),Ts=de.define(),Hc=de.define({combine:t=>t.some(e=>e)});function hA(t){let e=[dA];return t&&t.fixed===!1&&e.push(Hc.of(!0)),e}const dA=pr.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Ts).map(e=>new Bd(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Hc),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Hc)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=Fe.iter(this.view.state.facet(Os),this.view.viewport.from),r=[],i=this.gutters.map(o=>new pA(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let s;if(Array.isArray(o.type)){for(let l of o.type)if(l.type==Ge.Text){s=l;break}}else s=o.type==Ge.Text?o:void 0;if(s){r.length&&(r=[]),V0(n,r,o.from);for(let l of i)l.line(this.view,s,r)}}for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Ts),n=t.state.facet(Ts),r=t.docChanged||t.heightChanged||t.viewportChanged||!Fe.eq(t.startState.facet(Os),t.state.facet(Os),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new Bd(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>ve.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==ut.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function $d(t){return Array.isArray(t)?t:[t]}function V0(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class pA{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=Fe.iter(e.markers,n.from)}line(e,n,r){let i=[];V0(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;if(i.length==0&&!s.config.renderEmptyElements)return;let l=n.top-this.height;if(this.i==s.elements.length){let a=new U0(e,n.height,l,i);s.elements.push(a),s.dom.appendChild(a.dom)}else s.elements[this.i].update(e,n.height,l,i);this.height=n.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class Bd{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let a=o.getBoundingClientRect();s=(a.top+a.bottom)/2}else s=i.clientY;let l=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,l,i)&&i.preventDefault()});this.markers=$d(n.markers(e)),n.initialSpacer&&(this.spacer=new U0(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=$d(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!Fe.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class U0{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),mA(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<n.length?n[o++]:null,c=!1;if(a){let u=a.elementClass;u&&(r+=" "+u);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(a)){l=h,c=!0;break}}else l=this.markers.length;for(;s<l;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!a)break;a.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function mA(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const gA=de.define(),ri=de.define({combine(t){return Qu(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(l,a,c)=>o(l,a,c)||s(l,a,c):s}return r}})}});class ga extends mr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function ya(t,e){return t.state.facet(ri).formatNumber(e,t.state)}const yA=Ts.compute([ri],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(gA)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new ga(ya(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:e=>e.startState.facet(ri)!=e.state.facet(ri),initialSpacer(e){return new ga(ya(e,Nd(e.state.doc.lines)))},updateSpacer(e,n){let r=ya(n.view,Nd(n.view.state.doc.lines));return r==e.number?e:new ga(r)},domEventHandlers:t.facet(ri).domEventHandlers}));function bA(t={}){return[ri.of(t),hA(),yA]}function Nd(t){let e=9;for(;e<t;)e=e*10+9;return e}const vA=new class extends mr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},wA=Os.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(vA.range(i)))}return Fe.of(e)});function xA(){return wA}const kA=1024;let _A=0,$t=class{constructor(e,n){this.from=e,this.to=n}};class we{constructor(e={}){this.id=_A++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=xt.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}we.closedBy=new we({deserialize:t=>t.split(" ")});we.openedBy=new we({deserialize:t=>t.split(" ")});we.group=new we({deserialize:t=>t.split(" ")});we.contextHash=new we({perNode:!0});we.lookAhead=new we({perNode:!0});we.mounted=new we({perNode:!0});class SA{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}}const CA=Object.create(null);class xt{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):CA,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new xt(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(we.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(we.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}xt.none=new xt("",Object.create(null),0,8);class af{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new xt(r.name,i,r.id,r.flags):r)}return new af(n)}}const os=new WeakMap,jd=new WeakMap;var Je;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Je||(Je={}));class Be{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let e=this.prop(we.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Ao(this.topNode,e)}cursorAt(e,n=0,r=0){let i=os.get(this)||this.topNode,o=new Ao(i);return o.moveTo(e,n),os.set(this,o._tree),o}get topNode(){return new Vt(this,0,0,null)}resolve(e,n=0){let r=Oi(os.get(this)||this.topNode,e,n,!1);return os.set(this,r),r}resolveInner(e,n=0){let r=Oi(jd.get(this)||this.topNode,e,n,!0);return jd.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e;for(let s=this.cursor((e.mode||0)|Je.IncludeAnonymous);;){let l=!1;if(s.from<=o&&s.to>=i&&(s.type.isAnonymous||n(s)!==!1)){if(s.firstChild())continue;l=!0}for(;l&&r&&!s.type.isAnonymous&&r(s),!s.nextSibling();){if(!s.parent())return;l=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:ff(xt.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Be(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Be(xt.none,n,r,i)))}static build(e){return AA(e)}}Be.empty=new Be(xt.none,[],[],0);class cf{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new cf(this.buffer,this.index)}}class Kr{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return xt.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,l=-1;for(let a=e;a!=n&&!(z0(o,i,s[a+1],s[a+2])&&(l=a,r>0));a=s[a+3]);return l}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let l=e,a=0;l<n;){o[a++]=i[l++],o[a++]=i[l++]-r;let c=o[a++]=i[l++]-r;o[a++]=i[l++]-e,s=Math.max(s,c)}return new Kr(o,s,this.set)}}function z0(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function q0(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function Oi(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof Vt&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:Je.IgnoreOverlays;if(r)for(let s=t,l=s.parent;l;s=l,l=s.parent)s instanceof Vt&&s.index<0&&((i=l.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=l);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class Vt{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:l,positions:a}=s._tree,c=n>0?l.length:-1;e!=c;e+=n){let u=l[e],h=a[e]+s.from;if(z0(i,r,h,h+u.length)){if(u instanceof Kr){if(o&Je.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,n,r-h,i);if(f>-1)return new xn(new EA(s,u,e,h),null,f)}else if(o&Je.IncludeAnonymous||!u.type.isAnonymous||uf(u)){let f;if(!(o&Je.IgnoreMounts)&&u.props&&(f=u.prop(we.mounted))&&!f.overlay)return new Vt(f.tree,h,e,s);let d=new Vt(u,h,e,s);return o&Je.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&Je.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Je.IgnoreOverlays)&&(i=this._tree.prop(we.mounted))&&i.overlay){let o=e-this.from;for(let{from:s,to:l}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?l>=o:l>o))return new Vt(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Ao(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return Oi(this,e,n,!1)}resolveInner(e,n=0){return Oi(this,e,n,!0)}enterUnfinishedNodesBefore(e){return q0(this,e)}getChild(e,n=null,r=null){let i=rl(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return rl(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return il(this,e)}}function rl(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function il(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class EA{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class xn{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new xn(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Je.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new xn(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new xn(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new xn(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new Ao(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new Be(this.type,e,n,this.to-this.from)}resolve(e,n=0){return Oi(this,e,n,!1)}resolveInner(e,n=0){return Oi(this,e,n,!0)}enterUnfinishedNodesBefore(e){return q0(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=rl(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return rl(this,e,n,r)}get node(){return this}matchContext(e){return il(this,e)}}class Ao{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Vt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Vt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Je.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Je.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Je.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let l=r._tree.children[o];if(this.mode&Je.IncludeAnonymous||l instanceof Kr||!l.type.isAnonymous||uf(l))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new xn(this.buffer,n,this.stack[i]);return this.bufferNode=new xn(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return il(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return il(this.node,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function uf(t){return t.children.some(e=>e instanceof Kr||!e.type.isAnonymous||uf(e))}function AA(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=kA,reused:o=[],minRepeatType:s=r.types.length}=t,l=Array.isArray(n)?new cf(n,n.length):n,a=r.types,c=0,u=0;function h(w,v,_,S,C){let{id:T,start:P,end:E,size:k}=l,L=u;for(;k<0;)if(l.next(),k==-1){let I=o[T];_.push(I),S.push(P-w);return}else if(k==-3){c=T;return}else if(k==-4){u=T;return}else throw new RangeError(`Unrecognized record size: ${k}`);let R=a[T],A,O,M=P-w;if(E-P<=i&&(O=b(l.pos-v,C))){let I=new Uint16Array(O.size-O.skip),B=l.pos-O.size,W=I.length;for(;l.pos>B;)W=g(O.start,I,W);A=new Kr(I,E-O.start,r),M=O.start-w}else{let I=l.pos-k;l.next();let B=[],W=[],ne=T>=s?T:-1,oe=0,xe=E;for(;l.pos>I;)ne>=0&&l.id==ne&&l.size>=0?(l.end<=xe-i&&(d(B,W,P,oe,l.end,xe,ne,L),oe=B.length,xe=l.end),l.next()):h(P,I,B,W,ne);if(ne>=0&&oe>0&&oe<B.length&&d(B,W,P,oe,P,xe,ne,L),B.reverse(),W.reverse(),ne>-1&&oe>0){let se=f(R);A=ff(R,B,W,0,B.length,0,E-P,se,se)}else A=p(R,B,W,E-P,L-E)}_.push(A),S.push(M)}function f(w){return(v,_,S)=>{let C=0,T=v.length-1,P,E;if(T>=0&&(P=v[T])instanceof Be){if(!T&&P.type==w&&P.length==S)return P;(E=P.prop(we.lookAhead))&&(C=_[T]+P.length+E)}return p(w,v,_,S,C)}}function d(w,v,_,S,C,T,P,E){let k=[],L=[];for(;w.length>S;)k.push(w.pop()),L.push(v.pop()+_-C);w.push(p(r.types[P],k,L,T-C,E-T)),v.push(C-_)}function p(w,v,_,S,C=0,T){if(c){let P=[we.contextHash,c];T=T?[P].concat(T):[P]}if(C>25){let P=[we.lookAhead,C];T=T?[P].concat(T):[P]}return new Be(w,v,_,S,T)}function b(w,v){let _=l.fork(),S=0,C=0,T=0,P=_.end-i,E={size:0,start:0,skip:0};e:for(let k=_.pos-w;_.pos>k;){let L=_.size;if(_.id==v&&L>=0){E.size=S,E.start=C,E.skip=T,T+=4,S+=4,_.next();continue}let R=_.pos-L;if(L<0||R<k||_.start<P)break;let A=_.id>=s?4:0,O=_.start;for(_.next();_.pos>R;){if(_.size<0)if(_.size==-3)A+=4;else break e;else _.id>=s&&(A+=4);_.next()}C=O,S+=L,T+=A}return(v<0||S==w)&&(E.size=S,E.start=C,E.skip=T),E.size>4?E:void 0}function g(w,v,_){let{id:S,start:C,end:T,size:P}=l;if(l.next(),P>=0&&S<s){let E=_;if(P>4){let k=l.pos-(P-4);for(;l.pos>k;)_=g(w,v,_)}v[--_]=E,v[--_]=T-w,v[--_]=C-w,v[--_]=S}else P==-3?c=S:P==-4&&(u=S);return _}let m=[],x=[];for(;l.pos>0;)h(t.start||0,t.bufferStart||0,m,x,-1);let y=(e=t.length)!==null&&e!==void 0?e:m.length?x[0]+m[0].length:0;return new Be(a[t.topID],m.reverse(),x.reverse(),y)}const Fd=new WeakMap;function Ls(t,e){if(!t.isAnonymous||e instanceof Kr||e.type!=t)return 1;let n=Fd.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Be)){n=1;break}n+=Ls(t,r)}Fd.set(e,n)}return n}function ff(t,e,n,r,i,o,s,l,a){let c=0;for(let p=r;p<i;p++)c+=Ls(t,e[p]);let u=Math.ceil(c*1.5/8),h=[],f=[];function d(p,b,g,m,x){for(let y=g;y<m;){let w=y,v=b[y],_=Ls(t,p[y]);for(y++;y<m;y++){let S=Ls(t,p[y]);if(_+S>=u)break;_+=S}if(y==w+1){if(_>u){let S=p[w];d(S.children,S.positions,0,S.children.length,b[w]+x);continue}h.push(p[w])}else{let S=b[y-1]+p[y-1].length-v;h.push(ff(t,p,b,w,y,v,S,null,a))}f.push(v+x-o)}}return d(e,n,r,i,0),(l||a)(h,f,s)}class DL{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof xn?this.setBuffer(e.context.buffer,e.index,n):e instanceof Vt&&this.map.set(e.tree,n)}get(e){return e instanceof xn?this.getBuffer(e.context.buffer,e.index):e instanceof Vt?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class $n{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new $n(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let u=l<n.length?n[l]:null,h=u?u.fromA:1e9;if(h-a>=r)for(;s&&s.from<h;){let f=s;if(a>=f.from||h<=f.to||c){let d=Math.max(f.from,a)-c,p=Math.min(f.to,h)-c;f=d>=p?null:new $n(d,p,f.tree,f.offset+c,l>0,!!u)}if(f&&i.push(f),s.to>h)break;s=o<e.length?e[o++]:null}if(!u)break;a=u.toA,c=u.toA-u.toB}return i}}class W0{startParse(e,n,r){return typeof e=="string"&&(e=new OA(e)),r=r?r.length?r.map(i=>new $t(i.from,i.to)):[new $t(0,0)]:[new $t(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class OA{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function IL(t){return(e,n,r,i)=>new LA(e,t,n,r,i)}class Hd{constructor(e,n,r,i,o){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.ranges=o}}class TA{constructor(e,n,r,i,o,s,l){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=l,this.depth=0,this.ranges=[]}}const Vc=new we({perNode:!0});class LA{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Be(r.type,r.children,r.positions,r.length,r.propValues.concat([[Vc,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[we.mounted.id]=new SA(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].ranges[0].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new MA(this.fragments),n=null,r=null,i=new Ao(new Vt(this.baseTree,this.ranges[0].from,0,null),Je.IncludeAnonymous|Je.IgnoreMounts);e:for(let o,s;this.stoppedAt==null||i.from<this.stoppedAt;){let l=!0,a;if(e.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let h=u.from+c.pos,f=u.to+c.pos;h>=i.from&&f<=i.to&&!n.ranges.some(d=>d.from<f&&d.to>h)&&n.ranges.push({from:h,to:f})}}l=!1}else if(r&&(s=RA(r.ranges,i.from,i.to)))l=s!=2;else if(!i.type.isAnonymous&&i.from<i.to&&(o=this.nest(i,this.input))){i.tree||PA(i);let c=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new TA(o.parser,o.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=zd(this.ranges,o.overlay||[new $t(i.from,i.to)]);u.length&&this.inner.push(new Hd(o.parser,o.parser.startParse(this.input,qd(c,u),u),o.overlay?o.overlay.map(h=>new $t(h.from-i.from,h.to-i.from)):null,i.tree,u)),o.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):l=!1}}else n&&(a=n.predicate(i))&&(a===!0&&(a=new $t(i.from,i.to)),a.from<a.to&&n.ranges.push(a));if(l&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=zd(this.ranges,n.ranges);c.length&&this.inner.splice(n.index,0,new Hd(n.parser,n.parser.startParse(this.input,qd(n.mounts,c),c),n.ranges.map(u=>new $t(u.from-n.start,u.to-n.start)),n.target,c)),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function RA(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function Vd(t,e,n,r,i,o){if(e<n){let s=t.buffer[e+1];r.push(t.slice(e,n,s)),i.push(s-o)}}function PA(t){let{node:e}=t,n=0;do t.parent(),n++;while(!t.tree);let r=0,i=t.tree,o=0;for(;o=i.positions[r]+t.from,!(o<=e.from&&o+i.children[r].length>=e.to);r++);let s=i.children[r],l=s.buffer;function a(c,u,h,f,d){let p=c;for(;l[p+2]+o<=e.from;)p=l[p+3];let b=[],g=[];Vd(s,c,p,b,g,f);let m=l[p+1],x=l[p+2],y=m+o==e.from&&x+o==e.to&&l[p]==e.type.id;return b.push(y?e.toTree():a(p+4,l[p+3],s.set.types[l[p]],m,x-m)),g.push(m-f),Vd(s,l[p+3],u,b,g,f),new Be(h,b,g,d)}i.children[r]=a(0,l.length,xt.none,0,s.length);for(let c=0;c<=n;c++)t.childAfter(e.from)}class Ud{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Je.IncludeAnonymous|Je.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Je.IgnoreOverlays|Je.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Be)n=n.children[0];else break}return!1}}class MA{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(Vc))!==null&&n!==void 0?n:r.to,this.inner=new Ud(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(Vc))!==null&&e!==void 0?e:n.to,this.inner=new Ud(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(we.mounted);if(s&&s.parser==n)for(let l=this.fragI;l<this.fragments.length;l++){let a=this.fragments[l];if(a.from>=o.to)break;a.tree==this.curFrag.tree&&i.push({frag:a,pos:o.from-a.offset,mount:s})}}}return i}}function zd(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,l=t[i].from;for(;o<r.length;o++){let a=r[o];if(a.from>=l)break;a.to<=s||(n||(r=n=e.slice()),a.from<s?(n[o]=new $t(a.from,s),a.to>l&&n.splice(o+1,0,new $t(l,a.to))):a.to>l?n[o--]=new $t(l,a.to):n.splice(o--,1))}}return r}function DA(t,e,n,r){let i=0,o=0,s=!1,l=!1,a=-1e9,c=[];for(;;){let u=i==t.length?1e9:s?t[i].to:t[i].from,h=o==e.length?1e9:l?e[o].to:e[o].from;if(s!=l){let f=Math.max(a,n),d=Math.min(u,h,r);f<d&&c.push(new $t(f,d))}if(a=Math.min(u,h),a==1e9)break;u==a&&(s?(s=!1,i++):s=!0),h==a&&(l?(l=!1,o++):l=!0)}return c}function qd(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let s=r+(i.overlay?i.overlay[0].from:0),l=s+i.tree.length,a=Math.max(o.from,s),c=Math.min(o.to,l);if(i.overlay){let u=i.overlay.map(f=>new $t(f.from+r,f.to+r)),h=DA(e,u,a,c);for(let f=0,d=a;;f++){let p=f==h.length,b=p?c:h[f].from;if(b>d&&n.push(new $n(d,b,i.tree,-s,o.from>=d||o.openStart,o.to<=b||o.openEnd)),p)break;d=h[f].to}}else n.push(new $n(a,c,i.tree,-s,o.from>=s||o.openStart,o.to<=l||o.openEnd))}return n}let IA=0;class gn{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=IA++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new gn([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new ol;return n=>n.modified.indexOf(e)>-1?n:ol.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let $A=0;class ol{constructor(){this.instances=[],this.id=$A++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(l=>l.base==e&&BA(n,l.modified));if(r)return r;let i=[],o=new gn(i,e,n);for(let l of n)l.instances.push(o);let s=NA(n);for(let l of e.set)if(!l.modified.length)for(let a of s)i.push(ol.get(l,a));return o}}function BA(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function NA(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function jA(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,l=i;for(let h=0;;){if(l=="..."&&h>0&&h+3==i.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!f)throw new RangeError("Invalid path: "+i);if(o.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let d=i[h++];if(h==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);l=i.slice(h)}let a=o.length-1,c=o[a];if(!c)throw new RangeError("Invalid path: "+i);let u=new sl(r,s,a>0?o.slice(0,a):null);e[c]=u.sort(e[c])}}return K0.add(e)}const K0=new we;class sl{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}sl.empty=new sl([],2,null);function J0(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let l of o)for(let a of l.set){let c=n[a.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function FA(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function HA(t,e,n,r=0,i=t.length){let o=new VA(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class VA{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:l,to:a}=e;if(l>=r||a<=n)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let c=i,u=UA(e)||sl.empty,h=FA(o,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(e.from,c),u.opaque)return;let f=e.tree&&e.tree.prop(we.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+l,1),p=this.highlighters.filter(g=>!g.scope||g.scope(f.tree.type)),b=e.firstChild();for(let g=0,m=l;;g++){let x=g<f.overlay.length?f.overlay[g]:null,y=x?x.from+l:a,w=Math.max(n,m),v=Math.min(r,y);if(w<v&&b)for(;e.from<v&&(this.highlightRange(e,w,v,i,o),this.startSpan(Math.min(v,e.to),c),!(e.to>=y||!e.nextSibling())););if(!x||y>r)break;m=x.to+l,m>n&&(this.highlightRange(d.cursor(),Math.max(n,x.from+l),Math.min(r,m),i,p),this.startSpan(m,c))}b&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function UA(t){let e=t.type.prop(K0);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ee=gn.define,ss=ee(),Zn=ee(),Wd=ee(Zn),Kd=ee(Zn),er=ee(),ls=ee(er),ba=ee(er),pn=ee(),kr=ee(pn),hn=ee(),dn=ee(),Uc=ee(),zi=ee(Uc),as=ee(),V={comment:ss,lineComment:ee(ss),blockComment:ee(ss),docComment:ee(ss),name:Zn,variableName:ee(Zn),typeName:Wd,tagName:ee(Wd),propertyName:Kd,attributeName:ee(Kd),className:ee(Zn),labelName:ee(Zn),namespace:ee(Zn),macroName:ee(Zn),literal:er,string:ls,docString:ee(ls),character:ee(ls),attributeValue:ee(ls),number:ba,integer:ee(ba),float:ee(ba),bool:ee(er),regexp:ee(er),escape:ee(er),color:ee(er),url:ee(er),keyword:hn,self:ee(hn),null:ee(hn),atom:ee(hn),unit:ee(hn),modifier:ee(hn),operatorKeyword:ee(hn),controlKeyword:ee(hn),definitionKeyword:ee(hn),moduleKeyword:ee(hn),operator:dn,derefOperator:ee(dn),arithmeticOperator:ee(dn),logicOperator:ee(dn),bitwiseOperator:ee(dn),compareOperator:ee(dn),updateOperator:ee(dn),definitionOperator:ee(dn),typeOperator:ee(dn),controlOperator:ee(dn),punctuation:Uc,separator:ee(Uc),bracket:zi,angleBracket:ee(zi),squareBracket:ee(zi),paren:ee(zi),brace:ee(zi),content:pn,heading:kr,heading1:ee(kr),heading2:ee(kr),heading3:ee(kr),heading4:ee(kr),heading5:ee(kr),heading6:ee(kr),contentSeparator:ee(pn),list:ee(pn),quote:ee(pn),emphasis:ee(pn),strong:ee(pn),link:ee(pn),monospace:ee(pn),strikethrough:ee(pn),inserted:ee(),deleted:ee(),changed:ee(),invalid:ee(),meta:as,documentMeta:ee(as),annotation:ee(as),processingInstruction:ee(as),definition:gn.defineModifier(),constant:gn.defineModifier(),function:gn.defineModifier(),standard:gn.defineModifier(),local:gn.defineModifier(),special:gn.defineModifier()};J0([{tag:V.link,class:"tok-link"},{tag:V.heading,class:"tok-heading"},{tag:V.emphasis,class:"tok-emphasis"},{tag:V.strong,class:"tok-strong"},{tag:V.keyword,class:"tok-keyword"},{tag:V.atom,class:"tok-atom"},{tag:V.bool,class:"tok-bool"},{tag:V.url,class:"tok-url"},{tag:V.labelName,class:"tok-labelName"},{tag:V.inserted,class:"tok-inserted"},{tag:V.deleted,class:"tok-deleted"},{tag:V.literal,class:"tok-literal"},{tag:V.string,class:"tok-string"},{tag:V.number,class:"tok-number"},{tag:[V.regexp,V.escape,V.special(V.string)],class:"tok-string2"},{tag:V.variableName,class:"tok-variableName"},{tag:V.local(V.variableName),class:"tok-variableName tok-local"},{tag:V.definition(V.variableName),class:"tok-variableName tok-definition"},{tag:V.special(V.variableName),class:"tok-variableName2"},{tag:V.definition(V.propertyName),class:"tok-propertyName tok-definition"},{tag:V.typeName,class:"tok-typeName"},{tag:V.namespace,class:"tok-namespace"},{tag:V.className,class:"tok-className"},{tag:V.macroName,class:"tok-macroName"},{tag:V.propertyName,class:"tok-propertyName"},{tag:V.operator,class:"tok-operator"},{tag:V.comment,class:"tok-comment"},{tag:V.meta,class:"tok-meta"},{tag:V.invalid,class:"tok-invalid"},{tag:V.punctuation,class:"tok-punctuation"}]);var va;const Rr=new we;function G0(t){return de.define({combine:t?e=>e.concat(t):void 0})}const zA=new we;class Bt{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Te.prototype.hasOwnProperty("tree")||Object.defineProperty(Te.prototype,"tree",{get(){return on(this)}}),this.parser=n,this.extension=[Ri.of(this),Te.languageData.of((o,s,l)=>{let a=Jd(o,s,l),c=a.type.prop(Rr);if(!c)return[];let u=o.facet(c),h=a.type.prop(zA);if(h){let f=a.resolve(s-a.from,l);for(let d of h)if(d.test(f,o)){let p=o.facet(d.facet);return d.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return Jd(e,n,r).type.prop(Rr)==this.data}findRegions(e){let n=e.facet(Ri);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Rr)==this.data){r.push({from:s,to:s+o.length});return}let l=o.prop(we.mounted);if(l){if(l.tree.prop(Rr)==this.data){if(l.overlay)for(let a of l.overlay)r.push({from:a.from+s,to:a.to+s});else r.push({from:s,to:s+o.length});return}else if(l.overlay){let a=r.length;if(i(l.tree,l.overlay[0].from+s),r.length>a)return}}for(let a=0;a<o.children.length;a++){let c=o.children[a];c instanceof Be&&i(c,o.positions[a]+s)}};return i(on(e),0),r}get allowsNesting(){return!0}}Bt.setState=et.define();function Jd(t,e,n){let r=t.facet(Ri),i=on(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,Je.ExcludeBuffers))o.type.isTop&&(i=o);return i}class zc extends Bt{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=G0(e.languageData);return new zc(n,e.parser.configure({props:[Rr.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new zc(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function on(t){let e=t.field(Bt.state,!1);return e?e.tree:Be.empty}class qA{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let qi=null;class Ti{constructor(e,n,r=[],i,o,s,l,a){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Ti(e,n,[],Be.empty,0,r,[],null)}startParse(){return this.parser.startParse(new qA(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Be.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped($n.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped($n.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=qi;qi=this;try{return e()}finally{qi=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=Gd(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,u,h,f)=>a.push({fromA:c,toA:u,fromB:h,toB:f})),r=$n.applyChanges(r,a),i=Be.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&l.push({from:u,to:h})}}}return new Ti(this.parser,n,r,i,o,s,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=Gd(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends W0{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let a=qi;if(a){for(let c of i)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=s,new Be(xt.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return qi}}function Gd(t,e,n){return $n.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Li{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Li(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Ti.create(e.facet(Ri).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Li(r)}}Bt.state=zn.define({create:Li.init,update(t,e){for(let n of e.effects)if(n.is(Bt.setState))return n.value;return e.startState.facet(Ri)!=e.state.facet(Ri)?Li.init(e.state):t.apply(e)}});let Y0=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Y0=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const wa=typeof navigator<"u"&&(!((va=navigator.scheduling)===null||va===void 0)&&va.isInputPending)?()=>navigator.scheduling.isInputPending():null,WA=pr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Bt.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Bt.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=Y0(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Bt.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!wa?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<i&&r.doc.length>i+1e3,a=o.context.work(()=>wa&&wa()||Date.now()>s,i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Bt.setState.of(new Li(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>lr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ri=de.define({combine(t){return t.length?t[0]:null},enables:t=>[Bt.state,WA,ve.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class KA{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class N{constructor(e,n,r,i,o,s=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new N(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(o=>o==n))return i;if(r)for(let i of e)for(let o of i.alias){let s=n.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(n[s-1])&&!/\w/.test(n[s+o.length])))return i}return null}}const X0=de.define(),Il=de.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Ur(t){let e=t.facet(Il);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Oo(t,e){let n="",r=t.tabSize,i=t.facet(Il)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function hf(t,e){t instanceof Te&&(t=new $l(t));for(let r of t.state.facet(X0)){let i=r(t,e);if(i!==void 0)return i}let n=on(t.state);return n?GA(t,n,e):null}class $l{constructor(e,n={}){this.state=e,this.options=n,this.unit=Ur(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return ef(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const JA=new we;function GA(t,e,n){return Q0(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function YA(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function XA(t){let e=t.type.prop(JA);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(we.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>Z0(s,!0,1,void 0,o&&!YA(s)?i.from:void 0)}return t.parent==null?QA:null}function Q0(t,e,n){for(;t;t=t.parent){let r=XA(t);if(r)return r(df.create(n,e,t))}return null}function QA(){return 0}class df extends $l{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}static create(e,n,r){return new df(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(ZA(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?Q0(e,this.pos,this.base):0}}function ZA(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function eO(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let l=n.to;;){let a=e.childAfter(l);if(!a||a==r)return null;if(!a.type.isSkipped)return a.from<s?n:null;l=a.to}}function BL({closing:t,align:e=!0,units:n=1}){return r=>Z0(r,e,n,t)}function Z0(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,l=r&&o.slice(s,s+r.length)==r||i==t.pos+s,a=e?eO(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}const NL=t=>t.baseIndent;function jL({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const tO=200;function nO(){return Te.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+tO)return t;let o=n.sliceString(i.from,r);if(!e.some(c=>c.test(o)))return t;let{state:s}=t,l=-1,a=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==l)continue;l=u.from;let h=hf(s,u.from);if(h==null)continue;let f=/^\s*/.exec(u.text)[0],d=Oo(s,h);f!=d&&a.push({from:u.from,to:u.from+f.length,insert:d})}return a.length?[t,{changes:a,sequential:!0}]:t})}const FL=de.define(),HL=new we;function VL(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class Fo{constructor(e,n){this.specs=e;let r;function i(l){let a=fr.newName();return(r||(r=Object.create(null)))["."+a]=l,a}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof Bt?l=>l.prop(Rr)==s.data:s?l=>l==s:void 0,this.style=J0(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=r?new fr(r):null,this.themeType=n.themeType}static define(e,n){return new Fo(e,n||{})}}const qc=de.define(),ey=de.define({combine(t){return t.length?[t[0]]:null}});function xa(t){let e=t.facet(qc);return e.length?e:t.facet(ey)}function ty(t,e){let n=[iO],r;return t instanceof Fo&&(t.module&&n.push(ve.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(ey.of(t)):r?n.push(qc.computeN([ve.darkTheme],i=>i.facet(ve.darkTheme)==(r=="dark")?[t]:[])):n.push(qc.of(t)),n}class rO{constructor(e){this.markCache=Object.create(null),this.tree=on(e.state),this.decorations=this.buildDeco(e,xa(e.state))}update(e){let n=on(e.state),r=xa(e.state),i=r!=xa(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return He.none;let r=new xo;for(let{from:i,to:o}of e.visibleRanges)HA(this.tree,n,(s,l,a)=>{r.add(s,l,this.markCache[a]||(this.markCache[a]=He.mark({class:a})))},i,o);return r.finish()}}const iO=Xu.high(pr.fromClass(rO,{decorations:t=>t.decorations})),oO=Fo.define([{tag:V.meta,color:"#404740"},{tag:V.link,textDecoration:"underline"},{tag:V.heading,textDecoration:"underline",fontWeight:"bold"},{tag:V.emphasis,fontStyle:"italic"},{tag:V.strong,fontWeight:"bold"},{tag:V.strikethrough,textDecoration:"line-through"},{tag:V.keyword,color:"#708"},{tag:[V.atom,V.bool,V.url,V.contentSeparator,V.labelName],color:"#219"},{tag:[V.literal,V.inserted],color:"#164"},{tag:[V.string,V.deleted],color:"#a11"},{tag:[V.regexp,V.escape,V.special(V.string)],color:"#e40"},{tag:V.definition(V.variableName),color:"#00f"},{tag:V.local(V.variableName),color:"#30a"},{tag:[V.typeName,V.namespace],color:"#085"},{tag:V.className,color:"#167"},{tag:[V.special(V.variableName),V.macroName],color:"#256"},{tag:V.definition(V.propertyName),color:"#00c"},{tag:V.comment,color:"#940"},{tag:V.invalid,color:"#f00"}]),sO=ve.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ny=1e4,ry="()[]{}",iy=de.define({combine(t){return Qu(t,{afterCursor:!0,brackets:ry,maxScanDistance:ny,renderMatch:cO})}}),lO=He.mark({class:"cm-matchingBracket"}),aO=He.mark({class:"cm-nonmatchingBracket"});function cO(t){let e=[],n=t.matched?lO:aO;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const uO=zn.define({create(){return He.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(iy);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=kn(e.state,i.head,-1,r)||i.head>0&&kn(e.state,i.head-1,1,r)||r.afterCursor&&(kn(e.state,i.head,1,r)||i.head<e.state.doc.length&&kn(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return He.set(n,!0)},provide:t=>ve.decorations.from(t)}),fO=[uO,sO];function hO(t={}){return[iy.of(t),fO]}const dO=new we;function Wc(t,e,n){let r=t.prop(e<0?we.openedBy:we.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Kc(t){let e=t.type.prop(dO);return e?e(t.node):t}function kn(t,e,n,r={}){let i=r.maxScanDistance||ny,o=r.brackets||ry,s=on(t),l=s.resolveInner(e,n);for(let a=l;a;a=a.parent){let c=Wc(a.type,n,o);if(c&&a.from<a.to){let u=Kc(a);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return pO(t,e,n,a,u,c,o)}}return mO(t,e,n,s,l.type,i,o)}function pO(t,e,n,r,i,o,s){let l=r.parent,a={from:i.from,to:i.to},c=0,u=l==null?void 0:l.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let h=Kc(u);return{start:a,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(Wc(u.type,n,s))c++;else if(Wc(u.type,-n,s)){if(c==0){let h=Kc(u);return{start:a,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function mO(t,e,n,r,i,o,s){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!u.next().done&&f<=o;){let d=u.value;n<0&&(f+=d.length);let p=e+f*n;for(let b=n>0?0:d.length-1,g=n>0?d.length:-1;b!=g;b+=n){let m=s.indexOf(d[b]);if(!(m<0||r.resolveInner(p+b,1).type!=i))if(m%2==0==n>0)h++;else{if(h==1)return{start:c,end:{from:p+b,to:p+b+1},matched:m>>1==a>>1};h--}}n>0&&(f+=d.length)}return u.done?{start:c,matched:!1}:null}function Yd(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let s=r;s<e;s++)t.charCodeAt(s)==9?o+=n-o%n:o++;return o}class oy{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Yd(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:Yd(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=s=>r?s.toLowerCase():s,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function gO(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||yO,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||mf}}function yO(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const Xd=new WeakMap;class Bl extends Bt{constructor(e){let n=G0(e.languageData),r=gO(e),i,o=new class extends W0{createParse(s,l,a){return new vO(i,s,l,a)}};super(n,o,[X0.of((s,l)=>this.getIndent(s,l))],e.name),this.topNode=kO(n),i=this,this.streamParser=r,this.stateAfter=new we({perNode:!0}),this.tokenTable=e.tokenTable?new cy(r.tokenTable):xO}static define(e){return new Bl(e)}getIndent(e,n){let r=on(e.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let o,{overrideIndentation:s}=e.options;s&&(o=Xd.get(e.state),o!=null&&o<n-1e4&&(o=void 0));let l=pf(this,r,0,i.from,o??n),a,c;if(l?(c=l.state,a=l.pos+1):(c=this.streamParser.startState(e.unit),a=0),n-a>1e4)return null;for(;a<n;){let h=e.state.doc.lineAt(a),f=Math.min(n,h.to);if(h.length){let d=s?s(h.from):-1,p=new oy(h.text,e.state.tabSize,e.unit,d<0?void 0:d);for(;p.pos<f-h.from;)ly(this.streamParser.token,p,c)}else this.streamParser.blankLine(c,e.unit);if(f==n)break;a=h.to+1}let u=e.lineAt(n);return s&&o==null&&Xd.set(e.state,u.from),this.streamParser.indent(c,/^\s*(.*)/.exec(u.text)[1],e)}get allowsNesting(){return!1}}function pf(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let s=e.children.length-1;s>=0;s--){let l=e.children[s],a=n+e.positions[s],c=l instanceof Be&&a<i&&pf(t,l,a,r,i);if(c)return c}return null}function sy(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let s=e.positions[o],l=e.children[o],a;if(s<r&&l instanceof Be){if(!(a=sy(t,l,n-s,r-s,i)))break;return i?new Be(e.type,e.children.slice(0,o).concat(a),e.positions.slice(0,o+1),s+a.length):a}}return null}function bO(t,e,n,r){for(let i of e){let o=i.from+(i.openStart?25:0),s=i.to-(i.openEnd?25:0),l=o<=n&&s>n&&pf(t,i.tree,0-i.offset,n,s),a;if(l&&(a=sy(t,i.tree,n+i.offset,l.pos+i.offset,!1)))return{state:l.state,tree:a}}return{state:t.streamParser.startState(r?Ur(r):4),tree:Be.empty}}class vO{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=Ti.get(),s=i[0].from,{state:l,tree:a}=bO(e,r,s,o==null?void 0:o.state);this.state=l,this.parsedPos=this.chunkStart=s+a.length;for(let c=0;c<a.children.length;c++)this.chunks.push(a.children[c]),this.chunkPos.push(a.positions[c]);o&&this.parsedPos<o.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Ur(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=Ti.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let s=this.ranges[i].from,l=this.lineAfter(s);n+=l,r=s+l.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let s=this.ranges[++this.rangeIndex].from;n+=s-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i,o){if(this.ranges.length>1){o=this.skipGapsTo(n,o,1),n+=o;let s=this.chunk.length;o=this.skipGapsTo(r,o,-1),r+=o,i+=this.chunk.length-s}return this.chunk.push(e,n,r,i),o}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,s=new oy(n,e?e.state.tabSize:4,e?Ur(e.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let l=ly(o.token,s,this.state);if(l&&(i=this.emitToken(this.lang.tokenTable.resolve(l),this.parsedPos+s.start,this.parsedPos+s.pos,4,i)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Be.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:wO,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Be(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Be(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function ly(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const mf=Object.create(null),To=[xt.none],wO=new af(To),Qd=[],ay=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ay[t]=uy(mf,e);class cy{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),ay)}resolve(e){return e?this.table[e]||(this.table[e]=uy(this.extra,e)):0}}const xO=new cy(mf);function ka(t,e){Qd.indexOf(t)>-1||(Qd.push(t),console.warn(e))}function uy(t,e){let n=null;for(let o of e.split(".")){let s=t[o]||V[o];s?typeof s=="function"?n?n=s(n):ka(o,`Modifier ${o} used at start of tag`):n?ka(o,`Tag ${o} used as modifier`):n=s:ka(o,`Unknown highlighting tag ${o}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=xt.define({id:To.length,name:r,props:[jA({[r]:n})]});return To.push(i),i.id}function kO(t){let e=xt.define({id:To.length,name:"Document",props:[Rr.add(()=>t)]});return To.push(e),e}const _O=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=yf(t.state,n.from);return r.line?SO(t):r.block?EO(t):!1};function gf(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const SO=gf(TO,0),CO=gf(fy,0),EO=gf((t,e)=>fy(t,e,OO(e)),0);function yf(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Wi=50;function AO(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Wi,r),s=t.sliceDoc(i,i+Wi),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(s)[0].length,c=o.length-l;if(o.slice(c-e.length,c)==e&&s.slice(a,a+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+a,margin:a&&1}};let u,h;i-r<=2*Wi?u=h=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+Wi),h=t.sliceDoc(i-Wi,i));let f=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-n.length;return u.slice(f,f+e.length)==e&&h.slice(p,p+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function OO(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from,to:i.to})}return e}function fy(t,e,n=e.selection.ranges){let r=n.map(o=>yf(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>AO(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,l;s<i.length;s++)if(l=i[s]){let a=r[s],{open:c,close:u}=l;o.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:o}}return null}function TO(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let l=r.length,a=1e9,c=yf(e,o).line;if(c){for(let u=o;u<=s;){let h=e.doc.lineAt(u);if(h.from>i&&(o==s||s>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,p=h.text.slice(f,f+c.length)==c?f:-1;f<h.text.length&&f<a&&(a=f),r.push({line:h,comment:p,token:c,indent:f,empty:d,single:!1})}u=h.to+1}if(a<1e9)for(let u=l;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=a);r.length==l+1&&(r[l].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:c,empty:u,single:h}of r)(h||!u)&&o.push({from:l.from+c,insert:a+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:a}of r)if(l>=0){let c=s.from+l,u=c+a.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const Jc=br.define(),LO=br.define(),RO=de.define(),hy=de.define({combine(t){return Qu(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}});function PO(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const dy=zn.define({create(){return _n.empty},update(t,e){let n=e.state.facet(hy),r=e.annotation(Jc);if(r){let a=e.docChanged?Z.single(PO(e.changes)):void 0,c=Ct.fromTransaction(e,a),u=r.side,h=u==0?t.undone:t.done;return c?h=ll(h,h.length,n.minDepth,c):h=gy(h,e.startState.selection),new _n(u==0?r.rest:h,u==0?h:r.rest)}let i=e.annotation(LO);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(tt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=Ct.fromTransaction(e),s=e.annotation(tt.time),l=e.annotation(tt.userEvent);return o?t=t.addChanges(o,s,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,l,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new _n(t.done.map(Ct.fromJSON),t.undone.map(Ct.fromJSON))}});function MO(t={}){return[dy,hy.of(t),ve.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?py:e.inputType=="historyRedo"?Gc:null;return r?(e.preventDefault(),r(n)):!1}})]}function Nl(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(dy,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const py=Nl(0,!1),Gc=Nl(1,!1),DO=Nl(0,!0),IO=Nl(1,!0);class Ct{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new Ct(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Ct(e.changes&&Ze.fromJSON(e.changes),[],e.mapped&&Sn.fromJSON(e.mapped),e.startSelection&&Z.fromJSON(e.startSelection),e.selectionsAfter.map(Z.fromJSON))}static fromTransaction(e,n){let r=Nt;for(let i of e.startState.facet(RO)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new Ct(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Nt)}static selection(e){return new Ct(void 0,Nt,void 0,void 0,e)}}function ll(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function $O(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,s,l)=>{for(let a=0;a<n.length;){let c=n[a++],u=n[a++];l>=c&&s<=u&&(r=!0)}}),r}function BO(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function my(t,e){return t.length?e.length?t.concat(e):t:e}const Nt=[],NO=200;function gy(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-NO));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ll(t,t.length-1,1e9,n.setSelAfter(r)))}else return[Ct.selection([e])]}function jO(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function _a(t,e){if(!t.length)return t;let n=t.length,r=Nt;for(;n;){let i=FO(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[Ct.selection(r)]:Nt}function FO(t,e,n){let r=my(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):Nt,n);if(!t.changes)return Ct.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new Ct(i,et.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}const HO=/^(input\.type|delete)($|\.)/;class _n{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new _n(this.done,this.undone):this}addChanges(e,n,r,i,o){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!r||HO.test(r))&&(!l.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,$O(l.changes,e.changes))||r=="input.type.compose")?s=ll(s,s.length-1,i.minDepth,new Ct(e.changes.compose(l.changes),my(e.effects,l.effects),l.mapped,l.startSelection,Nt)):s=ll(s,s.length,i.minDepth,e),new _n(s,Nt,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Nt;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&BO(o[o.length-1],e)?this:new _n(gy(this.done,e),this.undone,n,r)}addMapping(e){return new _n(_a(this.done,e),_a(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1];if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Jc.of({side:e,rest:jO(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=i.length==1?Nt:i.slice(0,i.length-1);return o.mapped&&(s=_a(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Jc.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}_n.empty=new _n(Nt,Nt);const VO=[{key:"Mod-z",run:py,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Gc,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Gc,preventDefault:!0},{key:"Mod-u",run:DO,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:IO,preventDefault:!0}];function Bi(t,e){return Z.create(t.ranges.map(e),t.mainIndex)}function Tn(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function sn({state:t,dispatch:e},n){let r=Bi(t.selection,n);return r.eq(t.selection)?!1:(e(Tn(t,r)),!0)}function jl(t,e){return Z.cursor(e?t.to:t.from)}function yy(t,e){return sn(t,n=>n.empty?t.moveByChar(n,e):jl(n,e))}function pt(t){return t.textDirectionAt(t.state.selection.main.head)==ut.LTR}const by=t=>yy(t,!pt(t)),vy=t=>yy(t,pt(t));function wy(t,e){return sn(t,n=>n.empty?t.moveByGroup(n,e):jl(n,e))}const UO=t=>wy(t,!pt(t)),zO=t=>wy(t,pt(t));function qO(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Fl(t,e,n){let r=on(t).resolveInner(e.head),i=n?we.closedBy:we.openedBy;for(let a=e.head;;){let c=n?r.childAfter(a):r.childBefore(a);if(!c)break;qO(t,c,i)?r=c:a=n?c.to:c.from}let o=r.type.prop(i),s,l;return o&&(s=n?kn(t,r.from,1):kn(t,r.to,-1))&&s.matched?l=n?s.end.to:s.end.from:l=n?r.to:r.from,Z.cursor(l,n?-1:1)}const WO=t=>sn(t,e=>Fl(t.state,e,!pt(t))),KO=t=>sn(t,e=>Fl(t.state,e,pt(t)));function xy(t,e){return sn(t,n=>{if(!n.empty)return jl(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const ky=t=>xy(t,!1),_y=t=>xy(t,!0);function Sy(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(ve.scrollMargins)){let s=o(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function Cy(t,e){let n=Sy(t),{state:r}=t,i=Bi(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):jl(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),a=l.top+n.marginTop,c=l.bottom-n.marginBottom;s&&s.top>a&&s.bottom<c&&(o=ve.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-a}))}return t.dispatch(Tn(r,i),{effects:o}),!0}const Zd=t=>Cy(t,!1),Yc=t=>Cy(t,!0);function vr(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Z.cursor(r.from+o))}return i}const JO=t=>sn(t,e=>vr(t,e,!0)),GO=t=>sn(t,e=>vr(t,e,!1)),YO=t=>sn(t,e=>vr(t,e,!pt(t))),XO=t=>sn(t,e=>vr(t,e,pt(t))),QO=t=>sn(t,e=>Z.cursor(t.lineBlockAt(e.head).from,1)),ZO=t=>sn(t,e=>Z.cursor(t.lineBlockAt(e.head).to,-1));function eT(t,e,n){let r=!1,i=Bi(t.selection,o=>{let s=kn(t,o.head,-1)||kn(t,o.head,1)||o.head>0&&kn(t,o.head-1,1)||o.head<t.doc.length&&kn(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return n?Z.range(o.anchor,l):Z.cursor(l)});return r?(e(Tn(t,i)),!0):!1}const tT=({state:t,dispatch:e})=>eT(t,e,!1);function Ut(t,e){let n=Bi(t.state.selection,r=>{let i=e(r);return Z.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Tn(t.state,n)),!0)}function Ey(t,e){return Ut(t,n=>t.moveByChar(n,e))}const Ay=t=>Ey(t,!pt(t)),Oy=t=>Ey(t,pt(t));function Ty(t,e){return Ut(t,n=>t.moveByGroup(n,e))}const nT=t=>Ty(t,!pt(t)),rT=t=>Ty(t,pt(t)),iT=t=>Ut(t,e=>Fl(t.state,e,!pt(t))),oT=t=>Ut(t,e=>Fl(t.state,e,pt(t)));function Ly(t,e){return Ut(t,n=>t.moveVertically(n,e))}const Ry=t=>Ly(t,!1),Py=t=>Ly(t,!0);function My(t,e){return Ut(t,n=>t.moveVertically(n,e,Sy(t).height))}const ep=t=>My(t,!1),tp=t=>My(t,!0),sT=t=>Ut(t,e=>vr(t,e,!0)),lT=t=>Ut(t,e=>vr(t,e,!1)),aT=t=>Ut(t,e=>vr(t,e,!pt(t))),cT=t=>Ut(t,e=>vr(t,e,pt(t))),uT=t=>Ut(t,e=>Z.cursor(t.lineBlockAt(e.head).from)),fT=t=>Ut(t,e=>Z.cursor(t.lineBlockAt(e.head).to)),np=({state:t,dispatch:e})=>(e(Tn(t,{anchor:0})),!0),rp=({state:t,dispatch:e})=>(e(Tn(t,{anchor:t.doc.length})),!0),ip=({state:t,dispatch:e})=>(e(Tn(t,{anchor:t.selection.main.anchor,head:0})),!0),op=({state:t,dispatch:e})=>(e(Tn(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),hT=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),dT=({state:t,dispatch:e})=>{let n=Vl(t).map(({from:r,to:i})=>Z.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Z.create(n),userEvent:"select"})),!0},pT=({state:t,dispatch:e})=>{let n=Bi(t.selection,r=>{var i;let o=on(t).resolveInner(r.head,1);for(;!(o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from||!(!((i=o.parent)===null||i===void 0)&&i.parent));)o=o.parent;return Z.range(o.to,o.from)});return e(Tn(t,n)),!0},mT=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Z.create([n.main]):n.main.empty||(r=Z.create([Z.cursor(n.main.head)])),r?(e(Tn(t,r)),!0):!1};function Hl(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let a=e(s);a<s?(n="delete.backward",a=cs(t,a,!1)):a>s&&(n="delete.forward",a=cs(t,a,!0)),s=Math.min(s,a),l=Math.max(l,a)}else s=cs(t,s,!1),l=cs(t,l,!0);return s==l?{range:o}:{changes:{from:s,to:l},range:Z.cursor(s)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ve.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function cs(t,e,n){if(t instanceof ve)for(let r of t.state.facet(ve.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const Dy=(t,e)=>Hl(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),o,s;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(o=i.text.slice(0,n-i.from))){if(o[o.length-1]=="	")return n-1;let l=ef(o,r.tabSize),a=l%Ur(r)||Ur(r);for(let c=0;c<a&&o[o.length-1-c]==" ";c++)n--;s=n}else s=Mt(i.text,n-i.from,e,e)+i.from,s==n&&i.number!=(e?r.doc.lines:1)&&(s+=e?1:-1);return s}),Xc=t=>Dy(t,!1),Iy=t=>Dy(t,!0),$y=(t,e)=>Hl(t,n=>{let r=n,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let l=null;;){if(r==(e?o.to:o.from)){r==n&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=Mt(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),u=s(c);if(l!=null&&u!=l)break;(c!=" "||r!=n)&&(l=u),r=a}return r}),By=t=>$y(t,!1),gT=t=>$y(t,!0),Ny=t=>Hl(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),yT=t=>Hl(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),bT=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Re.of(["",""])},range:Z.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},vT=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:Mt(o.text,i-o.from,!1)+o.from,l=i==o.to?i+1:Mt(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:t.doc.slice(i,l).append(t.doc.slice(s,i))},range:Z.cursor(l)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Vl(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function jy(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of Vl(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),l=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let a of o.ranges)i.push(Z.range(Math.min(t.doc.length,a.anchor+l),Math.min(t.doc.length,a.head+l)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let a of o.ranges)i.push(Z.range(a.anchor-l,a.head-l))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Z.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const wT=({state:t,dispatch:e})=>jy(t,e,!1),xT=({state:t,dispatch:e})=>jy(t,e,!0);function Fy(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Vl(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const kT=({state:t,dispatch:e})=>Fy(t,e,!1),_T=({state:t,dispatch:e})=>Fy(t,e,!0),ST=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Vl(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Bi(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function CT(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=on(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(we.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const ET=Hy(!1),AT=Hy(!0);function Hy(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,l=e.doc.lineAt(o),a=!t&&o==s&&CT(e,o);t&&(o=s=(s<=l.to?l:e.doc.lineAt(s)).to);let c=new $l(e,{simulateBreak:o,simulateDoubleBreak:!!a}),u=hf(c,o);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(o).text)[0].length);s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:o,to:s}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let h=["",Oo(e,u)];return a&&h.push(Oo(e,c.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:Re.of(h)},range:Z.cursor(o+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function bf(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let l=t.doc.lineAt(s);l.number>n&&(r.empty||r.to>l.from)&&(e(l,i,r),n=l.number),s=l.to+1}let o=t.changes(i);return{changes:i,range:Z.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const OT=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new $l(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=bf(t,(o,s,l)=>{let a=hf(r,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let c=/^\s*/.exec(o.text)[0],u=Oo(t,a);(c!=u||l.from<o.from+c.length)&&(n[o.from]=a,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Vy=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(bf(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Il)})}),{userEvent:"input.indent"})),!0),Uy=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(bf(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=ef(i,t.tabSize),s=0,l=Oo(t,Math.max(0,o-Ur(t)));for(;s<i.length&&s<l.length&&i.charCodeAt(s)==l.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),TT=[{key:"Ctrl-b",run:by,shift:Ay,preventDefault:!0},{key:"Ctrl-f",run:vy,shift:Oy},{key:"Ctrl-p",run:ky,shift:Ry},{key:"Ctrl-n",run:_y,shift:Py},{key:"Ctrl-a",run:QO,shift:uT},{key:"Ctrl-e",run:ZO,shift:fT},{key:"Ctrl-d",run:Iy},{key:"Ctrl-h",run:Xc},{key:"Ctrl-k",run:Ny},{key:"Ctrl-Alt-h",run:By},{key:"Ctrl-o",run:bT},{key:"Ctrl-t",run:vT},{key:"Ctrl-v",run:Yc}],LT=[{key:"ArrowLeft",run:by,shift:Ay,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:UO,shift:nT,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:YO,shift:aT,preventDefault:!0},{key:"ArrowRight",run:vy,shift:Oy,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:zO,shift:rT,preventDefault:!0},{mac:"Cmd-ArrowRight",run:XO,shift:cT,preventDefault:!0},{key:"ArrowUp",run:ky,shift:Ry,preventDefault:!0},{mac:"Cmd-ArrowUp",run:np,shift:ip},{mac:"Ctrl-ArrowUp",run:Zd,shift:ep},{key:"ArrowDown",run:_y,shift:Py,preventDefault:!0},{mac:"Cmd-ArrowDown",run:rp,shift:op},{mac:"Ctrl-ArrowDown",run:Yc,shift:tp},{key:"PageUp",run:Zd,shift:ep},{key:"PageDown",run:Yc,shift:tp},{key:"Home",run:GO,shift:lT,preventDefault:!0},{key:"Mod-Home",run:np,shift:ip},{key:"End",run:JO,shift:sT,preventDefault:!0},{key:"Mod-End",run:rp,shift:op},{key:"Enter",run:ET},{key:"Mod-a",run:hT},{key:"Backspace",run:Xc,shift:Xc},{key:"Delete",run:Iy},{key:"Mod-Backspace",mac:"Alt-Backspace",run:By},{key:"Mod-Delete",mac:"Alt-Delete",run:gT},{mac:"Mod-Backspace",run:yT},{mac:"Mod-Delete",run:Ny}].concat(TT.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),RT=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:WO,shift:iT},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:KO,shift:oT},{key:"Alt-ArrowUp",run:wT},{key:"Shift-Alt-ArrowUp",run:kT},{key:"Alt-ArrowDown",run:xT},{key:"Shift-Alt-ArrowDown",run:_T},{key:"Escape",run:mT},{key:"Mod-Enter",run:AT},{key:"Alt-l",mac:"Ctrl-l",run:dT},{key:"Mod-i",run:pT,preventDefault:!0},{key:"Mod-[",run:Uy},{key:"Mod-]",run:Vy},{key:"Mod-Alt-\\",run:OT},{key:"Shift-Mod-k",run:ST},{key:"Shift-Mod-\\",run:tT},{key:"Mod-/",run:_O},{key:"Alt-A",run:CO}].concat(LT),PT={key:"Tab",run:Vy,shift:Uy},MT="modulepreload",DT=function(t){return"/"+t},sp={},j=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=DT(o),o in sp)return;sp[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===o&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":MT,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function q(t){return new KA(Bl.define(t))}function Jn(t){return j(()=>import("./index-2aab6a7f.js"),["admin/assets/index-2aab6a7f.js","admin/assets/index-ee47f791.js","admin/assets/index-661fbeac.js"]).then(e=>e.sql({dialect:e[t]}))}const _r=[N.of({name:"C",extensions:["c","h","ino"],load(){return j(()=>import("./index-f6c693ce.js"),["admin/assets/index-f6c693ce.js","admin/assets/index-ee47f791.js"]).then(t=>t.cpp())}}),N.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return j(()=>import("./index-f6c693ce.js"),["admin/assets/index-f6c693ce.js","admin/assets/index-ee47f791.js"]).then(t=>t.cpp())}}),N.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Jn("Cassandra")}}),N.of({name:"CSS",extensions:["css"],load(){return j(()=>import("./index-1805290d.js"),["admin/assets/index-1805290d.js","admin/assets/index-ee47f791.js"]).then(t=>t.css())}}),N.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return j(()=>import("./index-e30b36d3.js"),["admin/assets/index-e30b36d3.js","admin/assets/index-ee47f791.js","admin/assets/index-1805290d.js","admin/assets/index-c929725b.js","admin/assets/index-661fbeac.js"]).then(t=>t.html())}}),N.of({name:"Java",extensions:["java"],load(){return j(()=>import("./index-cbafc21a.js"),["admin/assets/index-cbafc21a.js","admin/assets/index-ee47f791.js"]).then(t=>t.java())}}),N.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return j(()=>import("./index-c929725b.js"),["admin/assets/index-c929725b.js","admin/assets/index-ee47f791.js","admin/assets/index-661fbeac.js"]).then(t=>t.javascript())}}),N.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return j(()=>import("./index-f54d25ed.js"),["admin/assets/index-f54d25ed.js","admin/assets/index-ee47f791.js"]).then(t=>t.json())}}),N.of({name:"JSX",extensions:["jsx"],load(){return j(()=>import("./index-c929725b.js"),["admin/assets/index-c929725b.js","admin/assets/index-ee47f791.js","admin/assets/index-661fbeac.js"]).then(t=>t.javascript({jsx:!0}))}}),N.of({name:"MariaDB SQL",load(){return Jn("MariaSQL")}}),N.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return j(()=>import("./index-0480473a.js"),["admin/assets/index-0480473a.js","admin/assets/index-e30b36d3.js","admin/assets/index-ee47f791.js","admin/assets/index-1805290d.js","admin/assets/index-c929725b.js","admin/assets/index-661fbeac.js"]).then(t=>t.markdown())}}),N.of({name:"MS SQL",load(){return Jn("MSSQL")}}),N.of({name:"MySQL",load(){return Jn("MySQL")}}),N.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return j(()=>import("./index-2d0ef288.js"),["admin/assets/index-2d0ef288.js","admin/assets/index-ee47f791.js","admin/assets/index-e30b36d3.js","admin/assets/index-1805290d.js","admin/assets/index-c929725b.js","admin/assets/index-661fbeac.js"]).then(t=>t.php())}}),N.of({name:"PLSQL",extensions:["pls"],load(){return Jn("PLSQL")}}),N.of({name:"PostgreSQL",load(){return Jn("PostgreSQL")}}),N.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return j(()=>import("./index-4a78c28f.js"),["admin/assets/index-4a78c28f.js","admin/assets/index-ee47f791.js","admin/assets/index-661fbeac.js"]).then(t=>t.python())}}),N.of({name:"Rust",extensions:["rs"],load(){return j(()=>import("./index-7c042766.js"),["admin/assets/index-7c042766.js","admin/assets/index-ee47f791.js"]).then(t=>t.rust())}}),N.of({name:"SQL",extensions:["sql"],load(){return Jn("StandardSQL")}}),N.of({name:"SQLite",load(){return Jn("SQLite")}}),N.of({name:"TSX",extensions:["tsx"],load(){return j(()=>import("./index-c929725b.js"),["admin/assets/index-c929725b.js","admin/assets/index-ee47f791.js","admin/assets/index-661fbeac.js"]).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),N.of({name:"TypeScript",alias:["ts"],extensions:["ts"],load(){return j(()=>import("./index-c929725b.js"),["admin/assets/index-c929725b.js","admin/assets/index-ee47f791.js","admin/assets/index-661fbeac.js"]).then(t=>t.javascript({typescript:!0}))}}),N.of({name:"WebAssembly",extensions:["wat","wast"],load(){return j(()=>import("./index-8f1c4824.js"),["admin/assets/index-8f1c4824.js","admin/assets/index-ee47f791.js"]).then(t=>t.wast())}}),N.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return j(()=>import("./index-6921301b.js"),["admin/assets/index-6921301b.js","admin/assets/index-ee47f791.js"]).then(t=>t.xml())}}),N.of({name:"APL",extensions:["dyalog","apl"],load(){return j(()=>import("./apl-f73da2d7.js"),[]).then(t=>q(t.apl))}}),N.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return j(()=>import("./asciiarmor-e7973ceb.js"),[]).then(t=>q(t.asciiArmor))}}),N.of({name:"ASN.1",extensions:["asn","asn1"],load(){return j(()=>import("./asn1-f9c290f0.js"),[]).then(t=>q(t.asn1({})))}}),N.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return j(()=>import("./asterisk-9c249b4c.js"),[]).then(t=>q(t.asterisk))}}),N.of({name:"Brainfuck",extensions:["b","bf"],load(){return j(()=>import("./brainfuck-637b9bf0.js"),[]).then(t=>q(t.brainfuck))}}),N.of({name:"Cobol",extensions:["cob","cpy"],load(){return j(()=>import("./cobol-3c0e8dcf.js"),[]).then(t=>q(t.cobol))}}),N.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return j(()=>import("./clike-3f6f5c72.js"),[]).then(t=>q(t.csharp))}}),N.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return j(()=>import("./clojure-46c215dd.js"),[]).then(t=>q(t.clojure))}}),N.of({name:"ClojureScript",extensions:["cljs"],load(){return j(()=>import("./clojure-46c215dd.js"),[]).then(t=>q(t.clojure))}}),N.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return j(()=>import("./css-ae0ae1d0.js"),[]).then(t=>q(t.gss))}}),N.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return j(()=>import("./cmake-f314e514.js"),[]).then(t=>q(t.cmake))}}),N.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return j(()=>import("./coffeescript-cf6fb77c.js"),[]).then(t=>q(t.coffeeScript))}}),N.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return j(()=>import("./commonlisp-0ea12945.js"),[]).then(t=>q(t.commonLisp))}}),N.of({name:"Cypher",extensions:["cyp","cypher"],load(){return j(()=>import("./cypher-236a65ad.js"),[]).then(t=>q(t.cypher))}}),N.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return j(()=>import("./python-37bee3fe.js"),[]).then(t=>q(t.cython))}}),N.of({name:"Crystal",extensions:["cr"],load(){return j(()=>import("./crystal-594a913c.js"),[]).then(t=>q(t.crystal))}}),N.of({name:"D",extensions:["d"],load(){return j(()=>import("./d-76ab4361.js"),[]).then(t=>q(t.d))}}),N.of({name:"Dart",extensions:["dart"],load(){return j(()=>import("./clike-3f6f5c72.js"),[]).then(t=>q(t.dart))}}),N.of({name:"diff",extensions:["diff","patch"],load(){return j(()=>import("./diff-1bf42f34.js"),[]).then(t=>q(t.diff))}}),N.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return j(()=>import("./dockerfile-c8a8b9da.js"),["admin/assets/dockerfile-c8a8b9da.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>q(t.dockerFile))}}),N.of({name:"DTD",extensions:["dtd"],load(){return j(()=>import("./dtd-8d673f3f.js"),[]).then(t=>q(t.dtd))}}),N.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return j(()=>import("./dylan-94e68d48.js"),[]).then(t=>q(t.dylan))}}),N.of({name:"EBNF",load(){return j(()=>import("./ebnf-9a58f677.js"),[]).then(t=>q(t.ebnf))}}),N.of({name:"ECL",extensions:["ecl"],load(){return j(()=>import("./ecl-8c848bde.js"),[]).then(t=>q(t.ecl))}}),N.of({name:"edn",extensions:["edn"],load(){return j(()=>import("./clojure-46c215dd.js"),[]).then(t=>q(t.clojure))}}),N.of({name:"Eiffel",extensions:["e"],load(){return j(()=>import("./eiffel-c812667a.js"),[]).then(t=>q(t.eiffel))}}),N.of({name:"Elm",extensions:["elm"],load(){return j(()=>import("./elm-389625db.js"),[]).then(t=>q(t.elm))}}),N.of({name:"Erlang",extensions:["erl"],load(){return j(()=>import("./erlang-72724d5c.js"),[]).then(t=>q(t.erlang))}}),N.of({name:"Esper",load(){return j(()=>import("./sql-62feda9f.js"),[]).then(t=>q(t.esper))}}),N.of({name:"Factor",extensions:["factor"],load(){return j(()=>import("./factor-7bfcb4fc.js"),["admin/assets/factor-7bfcb4fc.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>q(t.factor))}}),N.of({name:"FCL",load(){return j(()=>import("./fcl-d5e95185.js"),[]).then(t=>q(t.fcl))}}),N.of({name:"Forth",extensions:["forth","fth","4th"],load(){return j(()=>import("./forth-a6c07be1.js"),[]).then(t=>q(t.forth))}}),N.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return j(()=>import("./fortran-b746f455.js"),[]).then(t=>q(t.fortran))}}),N.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return j(()=>import("./mllike-1f866598.js"),[]).then(t=>q(t.fSharp))}}),N.of({name:"Gas",extensions:["s"],load(){return j(()=>import("./gas-a519128b.js"),[]).then(t=>q(t.gas))}}),N.of({name:"Gherkin",extensions:["feature"],load(){return j(()=>import("./gherkin-0efe02ac.js"),[]).then(t=>q(t.gherkin))}}),N.of({name:"Go",extensions:["go"],load(){return j(()=>import("./go-8a088acb.js"),[]).then(t=>q(t.go))}}),N.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return j(()=>import("./groovy-4592a472.js"),[]).then(t=>q(t.groovy))}}),N.of({name:"Haskell",extensions:["hs"],load(){return j(()=>import("./haskell-b620645c.js"),[]).then(t=>q(t.haskell))}}),N.of({name:"Haxe",extensions:["hx"],load(){return j(()=>import("./haxe-7215664e.js"),[]).then(t=>q(t.haxe))}}),N.of({name:"HXML",extensions:["hxml"],load(){return j(()=>import("./haxe-7215664e.js"),[]).then(t=>q(t.hxml))}}),N.of({name:"HTTP",load(){return j(()=>import("./http-e091c18d.js"),[]).then(t=>q(t.http))}}),N.of({name:"IDL",extensions:["pro"],load(){return j(()=>import("./idl-91cb7788.js"),[]).then(t=>q(t.idl))}}),N.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return j(()=>import("./javascript-987cbb73.js"),[]).then(t=>q(t.jsonld))}}),N.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return j(()=>import("./jinja2-580c43a7.js"),[]).then(t=>q(t.jinja2))}}),N.of({name:"Julia",extensions:["jl"],load(){return j(()=>import("./julia-2f39a740.js"),[]).then(t=>q(t.julia))}}),N.of({name:"Kotlin",extensions:["kt"],load(){return j(()=>import("./clike-3f6f5c72.js"),[]).then(t=>q(t.kotlin))}}),N.of({name:"LESS",extensions:["less"],load(){return j(()=>import("./css-ae0ae1d0.js"),[]).then(t=>q(t.less))}}),N.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return j(()=>import("./livescript-a3318e59.js"),[]).then(t=>q(t.liveScript))}}),N.of({name:"Lua",extensions:["lua"],load(){return j(()=>import("./lua-ee237842.js"),[]).then(t=>q(t.lua))}}),N.of({name:"mIRC",extensions:["mrc"],load(){return j(()=>import("./mirc-c043bc0a.js"),[]).then(t=>q(t.mirc))}}),N.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return j(()=>import("./mathematica-4db1ec63.js"),[]).then(t=>q(t.mathematica))}}),N.of({name:"Modelica",extensions:["mo"],load(){return j(()=>import("./modelica-c19c47b8.js"),[]).then(t=>q(t.modelica))}}),N.of({name:"MUMPS",extensions:["mps"],load(){return j(()=>import("./mumps-82310ef4.js"),[]).then(t=>q(t.mumps))}}),N.of({name:"Mbox",extensions:["mbox"],load(){return j(()=>import("./mbox-b40e52ca.js"),[]).then(t=>q(t.mbox))}}),N.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return j(()=>import("./nginx-0992a7c8.js"),[]).then(t=>q(t.nginx))}}),N.of({name:"NSIS",extensions:["nsh","nsi"],load(){return j(()=>import("./nsis-8fd66a07.js"),["admin/assets/nsis-8fd66a07.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>q(t.nsis))}}),N.of({name:"NTriples",extensions:["nt","nq"],load(){return j(()=>import("./ntriples-8490b09b.js"),[]).then(t=>q(t.ntriples))}}),N.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return j(()=>import("./clike-3f6f5c72.js"),[]).then(t=>q(t.objectiveC))}}),N.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return j(()=>import("./clike-3f6f5c72.js"),[]).then(t=>q(t.objectiveCpp))}}),N.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return j(()=>import("./mllike-1f866598.js"),[]).then(t=>q(t.oCaml))}}),N.of({name:"Octave",extensions:["m"],load(){return j(()=>import("./octave-3f516c2f.js"),[]).then(t=>q(t.octave))}}),N.of({name:"Oz",extensions:["oz"],load(){return j(()=>import("./oz-a640e05c.js"),[]).then(t=>q(t.oz))}}),N.of({name:"Pascal",extensions:["p","pas"],load(){return j(()=>import("./pascal-bcac1c04.js"),[]).then(t=>q(t.pascal))}}),N.of({name:"Perl",extensions:["pl","pm"],load(){return j(()=>import("./perl-a9455719.js"),[]).then(t=>q(t.perl))}}),N.of({name:"Pig",extensions:["pig"],load(){return j(()=>import("./pig-3510ca5f.js"),[]).then(t=>q(t.pig))}}),N.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return j(()=>import("./powershell-c2c54630.js"),[]).then(t=>q(t.powerShell))}}),N.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return j(()=>import("./properties-aba123c1.js"),[]).then(t=>q(t.properties))}}),N.of({name:"ProtoBuf",extensions:["proto"],load(){return j(()=>import("./protobuf-1713bf80.js"),[]).then(t=>q(t.protobuf))}}),N.of({name:"Puppet",extensions:["pp"],load(){return j(()=>import("./puppet-3229bfe4.js"),[]).then(t=>q(t.puppet))}}),N.of({name:"Q",extensions:["q"],load(){return j(()=>import("./q-887a0cfa.js"),[]).then(t=>q(t.q))}}),N.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return j(()=>import("./r-3ca97919.js"),[]).then(t=>q(t.r))}}),N.of({name:"RPM Changes",load(){return j(()=>import("./rpm-aa81b362.js"),[]).then(t=>q(t.rpmChanges))}}),N.of({name:"RPM Spec",extensions:["spec"],load(){return j(()=>import("./rpm-aa81b362.js"),[]).then(t=>q(t.rpmSpec))}}),N.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],load(){return j(()=>import("./ruby-e88f1f8d.js"),[]).then(t=>q(t.ruby))}}),N.of({name:"SAS",extensions:["sas"],load(){return j(()=>import("./sas-4096b960.js"),[]).then(t=>q(t.sas))}}),N.of({name:"Sass",extensions:["sass"],load(){return j(()=>import("./sass-fe9762d1.js"),["admin/assets/sass-fe9762d1.js","admin/assets/css-ae0ae1d0.js"]).then(t=>q(t.sass))}}),N.of({name:"Scala",extensions:["scala"],load(){return j(()=>import("./clike-3f6f5c72.js"),[]).then(t=>q(t.scala))}}),N.of({name:"Scheme",extensions:["scm","ss"],load(){return j(()=>import("./scheme-ca3e6863.js"),[]).then(t=>q(t.scheme))}}),N.of({name:"SCSS",extensions:["scss"],load(){return j(()=>import("./css-ae0ae1d0.js"),[]).then(t=>q(t.sCSS))}}),N.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return j(()=>import("./shell-86dd1d99.js"),[]).then(t=>q(t.shell))}}),N.of({name:"Sieve",extensions:["siv","sieve"],load(){return j(()=>import("./sieve-4b1eb6fb.js"),[]).then(t=>q(t.sieve))}}),N.of({name:"Smalltalk",extensions:["st"],load(){return j(()=>import("./smalltalk-b41561ee.js"),[]).then(t=>q(t.smalltalk))}}),N.of({name:"Solr",load(){return j(()=>import("./solr-7928d730.js"),[]).then(t=>q(t.solr))}}),N.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return j(()=>import("./mllike-1f866598.js"),[]).then(t=>q(t.sml))}}),N.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return j(()=>import("./sparql-71156930.js"),[]).then(t=>q(t.sparql))}}),N.of({name:"Spreadsheet",alias:["excel","formula"],load(){return j(()=>import("./spreadsheet-9f4dc4c6.js"),[]).then(t=>q(t.spreadsheet))}}),N.of({name:"Squirrel",extensions:["nut"],load(){return j(()=>import("./clike-3f6f5c72.js"),[]).then(t=>q(t.squirrel))}}),N.of({name:"Stylus",extensions:["styl"],load(){return j(()=>import("./stylus-2d29a832.js"),[]).then(t=>q(t.stylus))}}),N.of({name:"Swift",extensions:["swift"],load(){return j(()=>import("./swift-b6dd686e.js"),[]).then(t=>q(t.swift))}}),N.of({name:"sTeX",load(){return j(()=>import("./stex-611747c4.js"),[]).then(t=>q(t.stex))}}),N.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return j(()=>import("./stex-611747c4.js"),[]).then(t=>q(t.stex))}}),N.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return j(()=>import("./verilog-701759f4.js"),[]).then(t=>q(t.verilog))}}),N.of({name:"Tcl",extensions:["tcl"],load(){return j(()=>import("./tcl-9a9d281f.js"),[]).then(t=>q(t.tcl))}}),N.of({name:"Textile",extensions:["textile"],load(){return j(()=>import("./textile-27197230.js"),[]).then(t=>q(t.textile))}}),N.of({name:"TiddlyWiki",load(){return j(()=>import("./tiddlywiki-053c4b39.js"),[]).then(t=>q(t.tiddlyWiki))}}),N.of({name:"Tiki wiki",load(){return j(()=>import("./tiki-f8970e14.js"),[]).then(t=>q(t.tiki))}}),N.of({name:"TOML",extensions:["toml"],load(){return j(()=>import("./toml-fed73c05.js"),[]).then(t=>q(t.toml))}}),N.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return j(()=>import("./troff-1c50c70f.js"),[]).then(t=>q(t.troff))}}),N.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return j(()=>import("./ttcn-a4846d83.js"),[]).then(t=>q(t.ttcn))}}),N.of({name:"TTCN_CFG",extensions:["cfg"],load(){return j(()=>import("./ttcn-cfg-0c96bcc1.js"),[]).then(t=>q(t.ttcnCfg))}}),N.of({name:"Turtle",extensions:["ttl"],load(){return j(()=>import("./turtle-b550492d.js"),[]).then(t=>q(t.turtle))}}),N.of({name:"Web IDL",extensions:["webidl"],load(){return j(()=>import("./webidl-beade871.js"),[]).then(t=>q(t.webIDL))}}),N.of({name:"VB.NET",extensions:["vb"],load(){return j(()=>import("./vb-e9655ff4.js"),[]).then(t=>q(t.vb))}}),N.of({name:"VBScript",extensions:["vbs"],load(){return j(()=>import("./vbscript-e62417ba.js"),[]).then(t=>q(t.vbScript))}}),N.of({name:"Velocity",extensions:["vtl"],load(){return j(()=>import("./velocity-5bdd1b6a.js"),[]).then(t=>q(t.velocity))}}),N.of({name:"Verilog",extensions:["v"],load(){return j(()=>import("./verilog-701759f4.js"),[]).then(t=>q(t.verilog))}}),N.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return j(()=>import("./vhdl-288f0dde.js"),[]).then(t=>q(t.vhdl))}}),N.of({name:"XQuery",extensions:["xy","xquery"],load(){return j(()=>import("./xquery-f004ff15.js"),[]).then(t=>q(t.xQuery))}}),N.of({name:"Yacas",extensions:["ys"],load(){return j(()=>import("./yacas-d031e2ab.js"),[]).then(t=>q(t.yacas))}}),N.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return j(()=>import("./yaml-95012b83.js"),[]).then(t=>q(t.yaml))}}),N.of({name:"Z80",extensions:["z80"],load(){return j(()=>import("./z80-bb7f2654.js"),[]).then(t=>q(t.z80))}}),N.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return j(()=>import("./mscgen-96577242.js"),[]).then(t=>q(t.mscgen))}}),N.of({name:"X",extensions:["xu"],load(){return j(()=>import("./mscgen-96577242.js"),[]).then(t=>q(t.xu))}}),N.of({name:"MsGenny",extensions:["msgenny"],load(){return j(()=>import("./mscgen-96577242.js"),[]).then(t=>q(t.msgenny))}}),N.of({name:"Vue",extensions:["vue"],load(){return j(()=>import("./index-8f24f60d.js"),["admin/assets/index-8f24f60d.js","admin/assets/index-e30b36d3.js","admin/assets/index-ee47f791.js","admin/assets/index-1805290d.js","admin/assets/index-c929725b.js","admin/assets/index-661fbeac.js"]).then(t=>t.vue())}}),N.of({name:"Angular Template",load(){return j(()=>import("./index-c808aa8b.js"),["admin/assets/index-c808aa8b.js","admin/assets/index-e30b36d3.js","admin/assets/index-ee47f791.js","admin/assets/index-1805290d.js","admin/assets/index-c929725b.js","admin/assets/index-661fbeac.js"]).then(t=>t.angular())}})],zy=["params","noinit","required","skip","assert_continues","unsafe","manualfree","heap","nonnull","primary","inline","direct_array_access","live","flag","noinline","noreturn","typedef","console","sql","table","deprecated","deprecated_after","export","callconv"],Qc="[\\w_]+",IT=new RegExp(`^(${zy.join("|")})]$`),qy=`(${Qc}: ${Qc})`,$T=new RegExp(`^${qy}]$`),BT=new RegExp(`^(${zy.join("|")}(; ?)?){2,}]$`),NT=new RegExp(`^((${qy})(; )?){2,}]$`),jT=new RegExp(`^if ${Qc} \\??]`);class lp{constructor(e,n,r,i,o){an(this,"insideString",!1);an(this,"stringQuote",null);an(this,"expectedImportName",!1);an(this,"knownImports",new Set);this.indentation=e,this.column=n,this.type=r,this.align=i,this.prev=o}}const ap=new Set(["as","asm","assert","atomic","break","const","continue","defer","else","enum","fn","for","go","goto","if","import","in","interface","is","isreftype","lock","match","module","mut","none","or","pub","return","rlock","select","shared","sizeof","static","struct","spawn","type","typeof","union","unsafe","volatile","__offsetof"]),FT=new Set(["sql","chan","thread"]),HT=new Set(["true","false","nil","print","println","exit","panic","error","dump"]),VT=new Set(["bool","string","i8","i16","int","i64","i128","u8","u16","u32","u64","u128","rune","f32","f64","isize","usize","voidptr","any"]);function UT(){const e=/[+\-*&^%:=<>!?|\/]/;let n=null;function r(f){return f.eatWhile(/[\w$_\xa1-\uffff]/),f.current()}function i(f,d){const p=f.next();if(p===null)return null;if(d.context.insideString&&p==="}")return f.eat("}"),d.tokenize=a(d.context.stringQuote),"end-interpolation";if(p==='"'||p==="'"||p==="`")return d.tokenize=a(p),d.tokenize(f,d);if(p==="."&&!f.match(/^[0-9]+([eE][\-+]?[0-9]+)?/))return"operator";if(p==="["&&(f.match(IT)||f.match($T)||f.match(BT)||f.match(NT)||f.match(jT)))return"attribute";if(/[\d.]/.test(p))return p==="0"?f.match(/^[xX][0-9a-fA-F_]+/)||f.match(/^o[0-7_]+/)||f.match(/^b[0-1_]+/):f.match(/^[0-9_]*\.?[0-9_]*([eE][\-+]?[0-9_]+)?/),"number";if(/[\[\]{}(),;:.]/.test(p))return n=p,null;if(p==="/"){if(f.eat("*"))return d.tokenize=c,c(f,d);if(f.eat("/"))return f.skipToEnd(),"comment"}if(e.test(p))return f.eatWhile(e),"operator";if(p==="@")return r(f),"at-identifier";if(p==="$"){const x=r(f).slice(1);return ap.has(x)?"keyword":"compile-time-identifier"}f.backUp(2);const b=f.next()===".";f.next();const g=r(f);if(g==="import"&&(d.context.expectedImportName=!0),ap.has(g)||FT.has(g))return"keyword";if(HT.has(g))return"atom";if(VT.has(g))return"builtin";if(g.length>0&&g[0].toUpperCase()===g[0])return"type";const m=f.peek();if(m==="("||m==="<")return"function";if(m==="["){f.next();const x=f.next();if(f.backUp(2),x!=null&&x.match(/[A-Z]/i))return"function"}return b?"property":d.context.expectedImportName&&f.peek()!="."?(d.context.expectedImportName=!1,d.context.knownImports===void 0&&(d.context.knownImports=new Set),d.context.knownImports.add(g),"import-name"):d.context.knownImports.has(g)&&f.peek()=="."?"import-name":"variable"}function o(f,d){return f.match("}")?(d.tokenize=a(d.context.stringQuote),"end-interpolation"):(d.tokenize=i,d.tokenize(f,d))}function s(f,d){const p=f.next();if(p===" ")return d.tokenize=a(d.context.stringQuote),d.tokenize(f,d);if(p===".")return"operator";const b=r(f);if(b[0].toLowerCase()===b[0].toUpperCase())return d.tokenize=a(d.context.stringQuote),d.tokenize(f,d);const g=f.next();return f.backUp(1),g==="."?d.tokenize=s:d.tokenize=a(d.context.stringQuote),"variable"}function l(f,d){let p=f.next();return p==="$"&&f.eat("{")?(d.tokenize=o,"start-interpolation"):p==="$"?(d.tokenize=s,"start-interpolation"):"string"}function a(f){return function(d,p){p.context.insideString=!0,p.context.stringQuote=f;let b="",g=!1,m=!1;for(;(b=d.next())!=null;){if(b===f&&!g){m=!0;break}if(b==="$"&&!g&&d.eat("{"))return p.tokenize=l,d.backUp(2),"string";if(b==="$"&&!g)return p.tokenize=l,d.backUp(1),"string";g=!g&&b==="\\"}return(m||g)&&(p.tokenize=i),p.context.insideString=!1,p.context.stringQuote=null,"string"}}function c(f,d){let p=!1,b;for(;b=f.next();){if(b==="/"&&p){d.tokenize=i;break}p=b==="*"}return"comment"}function u(f,d,p){return f.context=new lp(f.indention,d,p,null,f.context)}function h(f){if(!f.context.prev)return;const d=f.context.type;return(d===")"||d==="]"||d==="}")&&(f.indention=f.context.indentation),f.context=f.context.prev,f.context}return{startState:function(){return{tokenize:null,context:new lp(0,0,"top",!1),indention:0,startOfLine:!0}},token:function(f,d){const p=d.context;if(f.sol()&&(p.align==null&&(p.align=!1),d.indention=f.indentation(),d.startOfLine=!0),f.eatSpace())return null;n=null;const b=(d.tokenize||i)(f,d);return b==="comment"||(p.align==null&&(p.align=!0),n==="{"?u(d,f.column(),"}"):n==="["?u(d,f.column(),"]"):n==="("?u(d,f.column(),")"):(n==="}"&&p.type==="}"||n===p.type)&&h(d),d.startOfLine=!1),b},indent:function(f,d){if(f.tokenize!==i&&f.tokenize!=null||f.context.type=="top")return 0;const p=f.context,g=d.charAt(0)===p.type;return p.align?p.column+(g?0:1):p.indentation+(g?0:4)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}const zT="#e5c07b",cp="#e06c75",qT="#56b6c2",WT="#ffffff",Rs="#abb2bf",Zc="#7d8799",KT="#61afef",JT="#98c379",up="#d19a66",GT="#c678dd",YT="#21252b",fp="#2c313a",hp="#282c34",Sa="#353a42",XT="#3E4451",dp="#528bff",QT=ve.theme({"&":{color:Rs,backgroundColor:hp},".cm-content":{caretColor:dp},".cm-cursor, .cm-dropCursor":{borderLeftColor:dp},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:XT},".cm-panels":{backgroundColor:YT,color:Rs},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:hp,color:Zc,border:"none"},".cm-activeLineGutter":{backgroundColor:fp},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Sa},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Sa,borderBottomColor:Sa},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:fp,color:Rs}}},{dark:!0}),ZT=Fo.define([{tag:V.keyword,color:GT},{tag:[V.name,V.deleted,V.character,V.propertyName,V.macroName],color:cp},{tag:[V.function(V.variableName),V.labelName],color:KT},{tag:[V.color,V.constant(V.name),V.standard(V.name)],color:up},{tag:[V.definition(V.name),V.separator],color:Rs},{tag:[V.typeName,V.className,V.number,V.changed,V.annotation,V.modifier,V.self,V.namespace],color:zT},{tag:[V.operator,V.operatorKeyword,V.url,V.escape,V.regexp,V.link,V.special(V.string)],color:qT},{tag:[V.meta,V.comment],color:Zc},{tag:V.strong,fontWeight:"bold"},{tag:V.emphasis,fontStyle:"italic"},{tag:V.strikethrough,textDecoration:"line-through"},{tag:V.link,color:Zc,textDecoration:"underline"},{tag:V.heading,fontWeight:"bold",color:cp},{tag:[V.atom,V.bool,V.special(V.variableName)],color:up},{tag:[V.processingInstruction,V.string,V.inserted],color:JT},{tag:V.invalid,color:WT}]),eL=[QT,ty(ZT)];var eu={},tL={get exports(){return eu},set exports(t){eu=t}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={d:(m,x)=>{for(var y in x)n.o(x,y)&&!n.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:x[y]})},o:(m,x)=>Object.prototype.hasOwnProperty.call(m,x),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},r={};function i(m){var x=document.createEvent("MouseEvents");x.initEvent("click",!0,!1),m.dispatchEvent(x)}function o(m){var x=document.createEvent("HTMLEvents");x.initEvent("change",!0,!1),m.dispatchEvent(x)}function s(m){var x=document.createEvent("FocusEvent");x.initEvent("focusin",!0,!1),m.dispatchEvent(x)}function l(m){var x=document.createEvent("FocusEvent");x.initEvent("focusout",!0,!1),m.dispatchEvent(x)}function a(m){var x=document.createEvent("UIEvent");x.initEvent("modalclose",!0,!1),m.dispatchEvent(x)}function c(m,x){x=="invalid"?(f(this.dropdown,"invalid"),d(this.dropdown,"valid")):(f(this.dropdown,"valid"),d(this.dropdown,"invalid"))}function u(m,x){return m[x]!=null?m[x]:m.getAttribute(x)}function h(m,x){return!!m&&m.classList.contains(x)}function f(m,x){if(m)return m.classList.add(x)}function d(m,x){if(m)return m.classList.remove(x)}n.r(r),n.d(r,{bind:()=>g,default:()=>b});var p={data:null,searchable:!1,showSelectedItems:!1};function b(m,x){this.el=m,this.config=Object.assign({},p,x||{}),this.data=this.config.data,this.selectedOptions=[],this.placeholder=u(this.el,"placeholder")||this.config.placeholder||"Select an option",this.searchtext=u(this.el,"searchtext")||this.config.searchtext||"Search",this.selectedtext=u(this.el,"selectedtext")||this.config.selectedtext||"selected",this.dropdown=null,this.multiple=u(this.el,"multiple"),this.disabled=u(this.el,"disabled"),this.create()}function g(m,x){return new b(m,x)}return b.prototype.create=function(){this.el.style.opacity="0",this.el.style.width="0",this.el.style.padding="0",this.el.style.height="0",this.data?this.processData(this.data):this.extractData(),this.renderDropdown(),this.bindEvent()},b.prototype.processData=function(m){var x=[];m.forEach(y=>{x.push({data:y,attributes:{selected:!!y.selected,disabled:!!y.disabled,optgroup:y.value=="optgroup"}})}),this.options=x},b.prototype.extractData=function(){var m=this.el.querySelectorAll("option,optgroup"),x=[],y=[],w=[];m.forEach(v=>{if(v.tagName=="OPTGROUP")var _={text:v.label,value:"optgroup"};else _={text:v.innerText,value:v.value,selected:v.getAttribute("selected")!=null||this.el.value==v.value,disabled:v.getAttribute("disabled")!=null};var S={selected:v.selected,disabled:v.disabled,optgroup:v.tagName=="OPTGROUP"};x.push(_),y.push({data:_,attributes:S})}),this.data=x,this.options=y,this.options.forEach(v=>{v.attributes.selected&&w.push(v)}),this.selectedOptions=w},b.prototype.renderDropdown=function(){var m=["nice-select",u(this.el,"class")||"",this.disabled?"disabled":"",this.multiple?"has-multiple":""];let x='<div class="nice-select-search-box">';x+=`<input type="text" class="nice-select-search" placeholder="${this.searchtext}..." title="search"/>`,x+="</div>";var y=`<div class="${m.join(" ")}" tabindex="${this.disabled?null:0}">`;y+=`<span class="${this.multiple?"multiple-options":"current"}"></span>`,y+='<div class="nice-select-dropdown">',y+=`${this.config.searchable?x:""}`,y+='<ul class="list"></ul>',y+="</div>",y+="</div>",this.el.insertAdjacentHTML("afterend",y),this.dropdown=this.el.nextElementSibling,this._renderSelectedItems(),this._renderItems()},b.prototype._renderSelectedItems=function(){if(this.multiple){var m="";this.config.showSelectedItems||this.config.showSelectedItems||window.getComputedStyle(this.dropdown).width=="auto"||this.selectedOptions.length<2?(this.selectedOptions.forEach(function(y){m+=`<span class="current">${y.data.text}</span>`}),m=m==""?this.placeholder:m):m=this.selectedOptions.length+" "+this.selectedtext,this.dropdown.querySelector(".multiple-options").innerHTML=m}else{var x=this.selectedOptions.length>0?this.selectedOptions[0].data.text:this.placeholder;this.dropdown.querySelector(".current").innerHTML=x}},b.prototype._renderItems=function(){var m=this.dropdown.querySelector("ul");this.options.forEach(x=>{m.appendChild(this._renderItem(x))})},b.prototype._renderItem=function(m){var x=document.createElement("li");if(x.innerHTML=m.data.text,m.attributes.optgroup)f(x,"optgroup");else{x.setAttribute("data-value",m.data.value);var y=["option",m.attributes.selected?"selected":null,m.attributes.disabled?"disabled":null];x.addEventListener("click",this._onItemClicked.bind(this,m)),x.classList.add(...y)}return m.element=x,x},b.prototype.update=function(){if(this.extractData(),this.dropdown){var m=h(this.dropdown,"open");this.dropdown.parentNode.removeChild(this.dropdown),this.create(),m&&i(this.dropdown)}u(this.el,"disabled")?this.disable():this.enable()},b.prototype.disable=function(){this.disabled||(this.disabled=!0,f(this.dropdown,"disabled"))},b.prototype.enable=function(){this.disabled&&(this.disabled=!1,d(this.dropdown,"disabled"))},b.prototype.clear=function(){this.resetSelectValue(),this.selectedOptions=[],this._renderSelectedItems(),this.update(),o(this.el)},b.prototype.destroy=function(){this.dropdown&&(this.dropdown.parentNode.removeChild(this.dropdown),this.el.style.display="")},b.prototype.bindEvent=function(){this.dropdown.addEventListener("click",this._onClicked.bind(this)),this.dropdown.addEventListener("keydown",this._onKeyPressed.bind(this)),this.dropdown.addEventListener("focusin",s.bind(this,this.el)),this.dropdown.addEventListener("focusout",l.bind(this,this.el)),this.el.addEventListener("invalid",c.bind(this,this.el,"invalid")),window.addEventListener("click",this._onClickedOutside.bind(this)),this.config.searchable&&this._bindSearchEvent()},b.prototype._bindSearchEvent=function(){var m=this.dropdown.querySelector(".nice-select-search");m&&m.addEventListener("click",function(x){return x.stopPropagation(),!1}),m.addEventListener("input",this._onSearchChanged.bind(this))},b.prototype._onClicked=function(m){var x,y;if(m.preventDefault(),h(this.dropdown,"open")?this.multiple||(d(this.dropdown,"open"),a(this.el)):(f(this.dropdown,"open"),x=this.el,(y=document.createEvent("UIEvent")).initEvent("modalopen",!0,!1),x.dispatchEvent(y)),h(this.dropdown,"open")){var w=this.dropdown.querySelector(".nice-select-search");w&&(w.value="",w.focus());var v=this.dropdown.querySelector(".focus");d(v,"focus"),f(v=this.dropdown.querySelector(".selected"),"focus"),this.dropdown.querySelectorAll("ul li").forEach(function(_){_.style.display=""})}else this.dropdown.focus()},b.prototype._onItemClicked=function(m,x){var y=x.target;h(y,"disabled")||(this.multiple?h(y,"selected")?(d(y,"selected"),this.selectedOptions.splice(this.selectedOptions.indexOf(m),1),this.el.querySelector(`option[value="${y.dataset.value}"]`).removeAttribute("selected")):(f(y,"selected"),this.selectedOptions.push(m)):(this.selectedOptions.forEach(function(w){d(w.element,"selected")}),f(y,"selected"),this.selectedOptions=[m]),this._renderSelectedItems(),this.updateSelectValue())},b.prototype.updateSelectValue=function(){if(this.multiple){var m=this.el;this.selectedOptions.forEach(function(x){var y=m.querySelector(`option[value="${x.data.value}"]`);y&&y.setAttribute("selected",!0)})}else this.selectedOptions.length>0&&(this.el.value=this.selectedOptions[0].data.value);o(this.el)},b.prototype.resetSelectValue=function(){if(this.multiple){var m=this.el;this.selectedOptions.forEach(function(x){var y=m.querySelector(`option[value="${x.data.value}"]`);y&&y.removeAttribute("selected")})}else this.selectedOptions.length>0&&(this.el.selectedIndex=-1);o(this.el)},b.prototype._onClickedOutside=function(m){this.dropdown.contains(m.target)||(d(this.dropdown,"open"),a(this.el))},b.prototype._onKeyPressed=function(m){var x=this.dropdown.querySelector(".focus"),y=h(this.dropdown,"open");if(m.keyCode==13)i(y?x:this.dropdown);else if(m.keyCode==40){if(y){var w=this._findNext(x);w&&(d(this.dropdown.querySelector(".focus"),"focus"),f(w,"focus"))}else i(this.dropdown);m.preventDefault()}else if(m.keyCode==38){if(y){var v=this._findPrev(x);v&&(d(this.dropdown.querySelector(".focus"),"focus"),f(v,"focus"))}else i(this.dropdown);m.preventDefault()}else if(m.keyCode==27&&y)i(this.dropdown);else if(m.keyCode===32&&y)return!1;return!1},b.prototype._findNext=function(m){for(m=m?m.nextElementSibling:this.dropdown.querySelector(".list .option");m;){if(!h(m,"disabled")&&m.style.display!="none")return m;m=m.nextElementSibling}return null},b.prototype._findPrev=function(m){for(m=m?m.previousElementSibling:this.dropdown.querySelector(".list .option:last-child");m;){if(!h(m,"disabled")&&m.style.display!="none")return m;m=m.previousElementSibling}return null},b.prototype._onSearchChanged=function(m){var x=h(this.dropdown,"open"),y=m.target.value;if((y=y.toLowerCase())=="")this.options.forEach(function(v){v.element.style.display=""});else if(x){var w=new RegExp(y);this.options.forEach(function(v){var _=v.data.text.toLowerCase(),S=w.test(_);v.element.style.display=S?"":"none"})}this.dropdown.querySelectorAll(".focus").forEach(function(v){d(v,"focus")}),f(this._findNext(null),"focus")},r})())})(tL);const nL=On(eu);const rL="// put your code here"+`
`.repeat(4),iL=Bl.define(UT());class oL{constructor({data:e,api:n}){an(this,"data");an(this,"api");an(this,"codemirrorState");an(this,"codemirrorView");an(this,"_wrapper");this.data=e,this.api=n,this.data.code==null&&(this.data.code=rL),this.data.language==null&&(this.data.language="V")}static get toolbox(){return{title:"Code",icon:'<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M1.293,11.293l4-4A1,1,0,1,1,6.707,8.707L3.414,12l3.293,3.293a1,1,0,1,1-1.414,1.414l-4-4A1,1,0,0,1,1.293,11.293Zm17.414-4a1,1,0,1,0-1.414,1.414L20.586,12l-3.293,3.293a1,1,0,1,0,1.414,1.414l4-4a1,1,0,0,0,0-1.414ZM13.039,4.726l-4,14a1,1,0,0,0,.686,1.236A1.053,1.053,0,0,0,10,20a1,1,0,0,0,.961-.726l4-14a1,1,0,1,0-1.922-.548Z"/></svg>'}}onPaste(){}render(){const e=document.createElement("div");return e.classList.add("code-editor"),e.addEventListener("keydown",n=>n.stopPropagation()),e.addEventListener("paste",n=>n.stopPropagation()),this._wrapper=e,this._createCodemirror(),e}save(){window.blur();let e=this._wrapper.innerHTML;return e=e.replace('contenteditable="true"',""),e=e.replace("cm-activeLine",""),e=e.replace("cm-focused",""),{language:this.data.language,code:this.codemirrorView.state.doc.sliceString(0),html:e}}renderSettings(){const e=document.createElement("div");let n=document.createElement("select");n.classList.add("small");let r=!1;for(var i=0;i<_r.length;i++){if(_r[i].name.startsWith("V")&&r==!1){var o=document.createElement("option");o.value="V",o.text="V",this.data.language=="V"&&(o.selected=!0),n.appendChild(o),r=!0}var o=document.createElement("option");o.value=_r[i].name,o.text=_r[i].name,_r[i].name==this.data.language&&(o.selected=!0),n.appendChild(o)}return n.addEventListener("change",async s=>{const l=s.target.value;_r.find(c=>c.name==l)?(this.data.code=this.codemirrorView.state.doc.sliceString(0),this.data.language=l,this.codemirrorView.destroy(),this._createCodemirror()):l=="V"&&(this.data.code=this.codemirrorView.state.doc.sliceString(0),this.data.language="V",this.codemirrorView.destroy(),this._createCodemirror())}),e.appendChild(n),new nL(n,{searchable:!0,placeholder:"Language..."}),e}async _createCodemirror(){let e=_r.find(i=>i.name==this.data.language);e?e=await e.load():e={extension:iL};const n=Te.create({doc:this.data.code,extensions:[H0.of([...RT,...VO,PT]),bA(),xA(),MO(),nO(),ty(oO,{fallback:!0}),cA(),hO(),e.extension,eL,ve.lineWrapping,Il.of("    "),Te.tabSize.of(4)]}),r=new ve({state:n,parent:this._wrapper});this.codemirrorState=n,this.codemirrorView=r}}function sL(t,e,n,r){const i=new EditorJS({data:{blocks:e},holder:t,tools:{colors:{class:gE,config:{type:"text",customPicker:!0}},heading:{class:uE,config:{defaultLevel:2,levels:[1,2,3]}},paragraph:{class:iE,inlineToolbar:!0},linkTool:{class:nE,config:{endpoint:n.linkEndpoint}},image:{class:aE,config:{uploader:{async uploadByFile(o){const s=new FormData;s.append("image",o),s.append("article",window.location.pathname.split("/").pop());const l=await Wt.post(n.uploadFile,s);return l.data.success&&(l.data.file.url="http://127.0.0.1:8080/"+l.data.file.url),l.data},async uploadByUrl(o){return{success:1,file:{url:o}}}}}},code:{class:oL},quote:{class:sE,inlineToolbar:!0,config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}},table:{class:hE,inlineToolbar:!0,config:{withHeadings:!0}},embed:{class:eE}},logLevel:"ERROR",onReady:()=>{new pE(i)},autofocus:!0,onChange:r});return i}const lL={class:"document"},aL={id:"editor"},cL=kt({__name:"BlocksPreview",setup(t){const e=No(),n=ug(),r=Ke(),i=async(o,s)=>{var l;if(s.type=="block-removed"){const c=s.detail.target.holder.querySelector("img");c&&c.src.startsWith("http://127.0.0.1:8080/")&&await e.removeImage(c.src)}if(s.type=="block-added"||s.type=="block-removed"||s.type=="block-changed"){const a=await((l=r.value)==null?void 0:l.save());a&&(a.blocks.splice(0,0,e.blocks[0]),e.blocks=a.blocks,await e.save(n.params.id))}};return bu(()=>{const o="http://127.0.0.1:8080/api/";r.value=sL("editor",e.blocks.slice(1),{linkEndpoint:o+"fetch-link",uploadFile:o+"upload-image",uploadUrl:o+"upload-image-url"},i)}),(o,s)=>{var l;return st(),wt("div",lL,[Le("div",aL,[Le("h1",null,ii((l=je(e).blocks[0])==null?void 0:l.data.text),1)])])}}});const uL=Vn(cL,[["__scopeId","data-v-5a3836c5"]]),Ul=t=>(Ro("data-v-e9d62191"),t=t(),Po(),t),fL={class:"article-editor"},hL=Ul(()=>Le("h1",null,"Change Article",-1)),dL=Ul(()=>Le("label",{class:"formkit-label"},"Your current thumbnail",-1)),pL=["src"],mL=Ul(()=>Le("hr",null,null,-1)),gL=Ul(()=>Le("h1",null,"Visibility",-1)),yL=kt({__name:"ArticleEditor",setup(t){const e=_i(),n=ug(),r=Ke(!1),i=De(()=>e.get(n.params.id)),o=Ke(i.value.show?"Hide Article":"Show Article");async function s(u){try{let h=await e.update(i.value.id,u),f=e.get(i.value.id);if(f.image_src&&(c.value="http://127.0.0.1:8080/"+f.image_src),h){const d=No();d.blocks[0].data.text=u.name,await d.save(i.value.id)}}catch{}finally{r.value=!1}}async function l(){try{await e.publish(i.value.id),o.value="Hide Article"}catch{}finally{r.value=!0}}async function a(){try{await e.changeVisibility(i.value.id),o.value=o.value=="Show Article"?"Hide Article":"Show Article"}catch{}finally{r.value=!0}}const c=Ke("http://127.0.0.1:8080/"+i.value.image_src);return(u,h)=>{const f=Br("FormKit");return st(),wt("div",fL,[hL,Se(f,{type:"form",onSubmit:s,"submit-label":"Update"},{default:vn(()=>[Se(f,{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Article Name",value:je(i).name},null,8,["value"]),Se(f,{type:"textarea",rows:"10",name:"description",id:"description",validation:"required",label:"Description",value:je(i).description},null,8,["value"]),je(i).thumbnail?(st(),wt(Lt,{key:0},[dL,Le("img",{alt:"your thumbnail",src:c.value},null,8,pL)],64)):lm("",!0),Se(f,{type:"file",accept:".png, .jpg, .jpeg","file-item-icon":"fileImage","no-files-icon":"fileImage",label:"New thumbnail",name:"thumbnail",help:"Add a thumnbnail image"})]),_:1}),mL,gL,Se(f,{type:"form",onSubmit:a,"submit-label":o.value},null,8,["submit-label"]),Se(f,{type:"form",onSubmit:l,"submit-label":"Publish"})])}}});const bL=Vn(yL,[["__scopeId","data-v-e9d62191"]]),vL=t=>(Ro("data-v-792fd972"),t=t(),Po(),t),wL={class:"editor-container"},xL={class:"block-sidebar"},kL=vL(()=>Le("p",{class:"content"},"CONTENT",-1)),_L={class:"document-container"},SL=kt({__name:"Edit",setup(t){return(e,n)=>(st(),wt("div",wL,[Le("div",xL,[kL,Se(QC)]),Le("div",_L,[Se(uL)]),Se(bL)]))}});const CL=Vn(SL,[["__scopeId","data-v-792fd972"]]),EL=rS({history:v_("/"),routes:[{path:"/admin",name:"home",component:$C,async beforeEnter(t,e,n){await _i().fetchData(),n()}},{path:"/admin/create",name:"create",component:VC},{path:"/admin/edit/:id",name:"edit",component:CL,async beforeEnter(t,e,n){const r=_i();await r.fetchData();const i=r.get(t.params.id);if(i==null){n("/");return}await No().fetchData(i.id),n()}},{path:"/:pathMatch(.*)*",name:"NotFound",component:qC}]});function al(t){return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(t)}function Ps(t,e){if(!t.vueAxiosInstalled){var n=Wy(e)?TL(e):e;if(LL(n)){var r=RL(t);if(r){var i=r<3?AL:OL;Object.keys(n).forEach(function(o){i(t,o,n[o])}),t.vueAxiosInstalled=!0}else console.error("[vue-axios] unknown Vue version")}else console.error("[vue-axios] configuration is invalid, expected options are either <axios_instance> or { <registration_key>: <axios_instance> }")}}function AL(t,e,n){Object.defineProperty(t.prototype,e,{get:function(){return n}}),t[e]=n}function OL(t,e,n){t.config.globalProperties[e]=n,t[e]=n}function Wy(t){return t&&typeof t.get=="function"&&typeof t.post=="function"}function TL(t){return{axios:t,$http:t}}function LL(t){return al(t)==="object"&&Object.keys(t).every(function(e){return Wy(t[e])})}function RL(t){return t&&t.version&&Number(t.version.split(".")[0])}(typeof exports>"u"?"undefined":al(exports))=="object"?module.exports=Ps:typeof define=="function"&&define.amd?define([],function(){return Ps}):window.Vue&&window.axios&&window.Vue.use&&Vue.use(Ps,window.axios);const zr=m1(t_);zr.use(jk,Gk({theme:"genesis"}));zr.use(b1());zr.use(EL);Ju.defaults.baseURL="http://127.0.0.1:8080/api/";zr.use(Ps,Ju);zr.provide("axios",zr.config.globalProperties.axios);zr.mount("#app");export{br as A,Il as B,He as C,kA as D,Z as E,zn as F,de as G,zA as H,Je as I,zc as L,Rt as M,xt as N,W0 as P,Si as R,et as S,gn as T,Pl as W,KA as a,on as b,jL as c,NL as d,BL as e,HL as f,VL as g,we as h,JA as i,af as j,Be as k,Xu as l,H0 as m,Bt as n,G0 as o,IL as p,Rr as q,FL as r,jA as s,V as t,N as u,Ti as v,DL as w,dO as x,Re as y,ve as z};
