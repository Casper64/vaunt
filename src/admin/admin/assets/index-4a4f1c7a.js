var Av=Object.defineProperty;var Ov=(t,e,n)=>e in t?Av(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tn=(t,e,n)=>(Ov(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function yf(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function ra(t){if(De(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=It(r)?Rv(r):ra(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(It(t))return t;if(wt(t))return t}}const Tv=/;(?![^(]*\))/g,Lv=/:([^]+)/,Mv=/\/\*.*?\*\//gs;function Rv(t){const e={};return t.replace(Mv,"").split(Tv).forEach(n=>{if(n){const r=n.split(Lv);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ia(t){let e="";if(It(t))e=t;else if(De(t))for(let n=0;n<t.length;n++){const r=ia(t[n]);r&&(e+=r+" ")}else if(wt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Pv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dv=yf(Pv);function Vm(t){return!!t||t===""}const Yt=t=>It(t)?t:t==null?"":De(t)||wt(t)&&(t.toString===Wm||!Fe(t.toString))?JSON.stringify(t,Um,2):String(t),Um=(t,e)=>e&&e.__v_isRef?Um(t,e.value):Gi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:zm(e)?{[`Set(${e.size})`]:[...e.values()]}:wt(e)&&!De(e)&&!Km(e)?String(e):e,vt={},Ji=[],Hn=()=>{},Iv=()=>!1,$v=/^on[^a-z]/,oa=t=>$v.test(t),bf=t=>t.startsWith("onUpdate:"),ln=Object.assign,vf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Bv=Object.prototype.hasOwnProperty,et=(t,e)=>Bv.call(t,e),De=Array.isArray,Gi=t=>sa(t)==="[object Map]",zm=t=>sa(t)==="[object Set]",Fe=t=>typeof t=="function",It=t=>typeof t=="string",wf=t=>typeof t=="symbol",wt=t=>t!==null&&typeof t=="object",qm=t=>wt(t)&&Fe(t.then)&&Fe(t.catch),Wm=Object.prototype.toString,sa=t=>Wm.call(t),Nv=t=>sa(t).slice(8,-1),Km=t=>sa(t)==="[object Object]",xf=t=>It(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,rl=yf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),la=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},jv=/-(\w)/g,fr=la(t=>t.replace(jv,(e,n)=>n?n.toUpperCase():"")),Fv=/\B([A-Z])/g,xo=la(t=>t.replace(Fv,"-$1").toLowerCase()),ws=la(t=>t.charAt(0).toUpperCase()+t.slice(1)),nc=la(t=>t?`on${ws(t)}`:""),Zo=(t,e)=>!Object.is(t,e),rc=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Al=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Hv=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Jh;const Vv=()=>Jh||(Jh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let pn;class Jm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=pn,!e&&pn&&(this.index=(pn.scopes||(pn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=pn;try{return pn=this,e()}finally{pn=n}}}on(){pn=this}off(){pn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Gm(t){return new Jm(t)}function Uv(t,e=pn){e&&e.active&&e.effects.push(t)}function Ym(){return pn}function zv(t){pn&&pn.cleanups.push(t)}const _f=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Xm=t=>(t.w&Xr)>0,Qm=t=>(t.n&Xr)>0,qv=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Xr},Wv=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Xm(i)&&!Qm(i)?i.delete(t):e[n++]=i,i.w&=~Xr,i.n&=~Xr}e.length=n}},Ol=new WeakMap;let No=0,Xr=1;const $c=30;let Pn;const ki=Symbol(""),Bc=Symbol("");class kf{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Uv(this,r)}run(){if(!this.active)return this.fn();let e=Pn,n=Kr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Pn,Pn=this,Kr=!0,Xr=1<<++No,No<=$c?qv(this):Gh(this),this.fn()}finally{No<=$c&&Wv(this),Xr=1<<--No,Pn=this.parent,Kr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pn===this?this.deferStop=!0:this.active&&(Gh(this),this.onStop&&this.onStop(),this.active=!1)}}function Gh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Kr=!0;const Zm=[];function _o(){Zm.push(Kr),Kr=!1}function ko(){const t=Zm.pop();Kr=t===void 0?!0:t}function dn(t,e,n){if(Kr&&Pn){let r=Ol.get(t);r||Ol.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=_f()),eg(i)}}function eg(t,e){let n=!1;No<=$c?Qm(t)||(t.n|=Xr,n=!Xm(t)):n=!t.has(Pn),n&&(t.add(Pn),Pn.deps.push(t))}function _r(t,e,n,r,i,o){const s=Ol.get(t);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(n==="length"&&De(t)){const a=Number(r);s.forEach((c,u)=>{(u==="length"||u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(s.get(n)),e){case"add":De(t)?xf(n)&&l.push(s.get("length")):(l.push(s.get(ki)),Gi(t)&&l.push(s.get(Bc)));break;case"delete":De(t)||(l.push(s.get(ki)),Gi(t)&&l.push(s.get(Bc)));break;case"set":Gi(t)&&l.push(s.get(ki));break}if(l.length===1)l[0]&&Nc(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Nc(_f(a))}}function Nc(t,e){const n=De(t)?t:[...t];for(const r of n)r.computed&&Yh(r);for(const r of n)r.computed||Yh(r)}function Yh(t,e){(t!==Pn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Kv(t,e){var n;return(n=Ol.get(t))===null||n===void 0?void 0:n.get(e)}const Jv=yf("__proto__,__v_isRef,__isVue"),tg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wf)),Gv=Sf(),Yv=Sf(!1,!0),Xv=Sf(!0),Xh=Qv();function Qv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Qe(this);for(let o=0,s=this.length;o<s;o++)dn(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Qe)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){_o();const r=Qe(this)[e].apply(this,n);return ko(),r}}),t}function Zv(t){const e=Qe(this);return dn(e,"has",t),e.hasOwnProperty(t)}function Sf(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?m1:sg:e?og:ig).get(r))return r;const s=De(r);if(!t){if(s&&et(Xh,i))return Reflect.get(Xh,i,o);if(i==="hasOwnProperty")return Zv}const l=Reflect.get(r,i,o);return(wf(i)?tg.has(i):Jv(i))||(t||dn(r,"get",i),e)?l:ft(l)?s&&xf(i)?l:l.value:wt(l)?t?lg(l):Dn(l):l}}const e1=ng(),t1=ng(!0);function ng(t=!1){return function(n,r,i,o){let s=n[r];if(ro(s)&&ft(s)&&!ft(i))return!1;if(!t&&(!Tl(i)&&!ro(i)&&(s=Qe(s),i=Qe(i)),!De(n)&&ft(s)&&!ft(i)))return s.value=i,!0;const l=De(n)&&xf(r)?Number(r)<n.length:et(n,r),a=Reflect.set(n,r,i,o);return n===Qe(o)&&(l?Zo(i,s)&&_r(n,"set",r,i):_r(n,"add",r,i)),a}}function n1(t,e){const n=et(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&_r(t,"delete",e,void 0),r}function r1(t,e){const n=Reflect.has(t,e);return(!wf(e)||!tg.has(e))&&dn(t,"has",e),n}function i1(t){return dn(t,"iterate",De(t)?"length":ki),Reflect.ownKeys(t)}const rg={get:Gv,set:e1,deleteProperty:n1,has:r1,ownKeys:i1},o1={get:Xv,set(t,e){return!0},deleteProperty(t,e){return!0}},s1=ln({},rg,{get:Yv,set:t1}),Cf=t=>t,aa=t=>Reflect.getPrototypeOf(t);function Ds(t,e,n=!1,r=!1){t=t.__v_raw;const i=Qe(t),o=Qe(e);n||(e!==o&&dn(i,"get",e),dn(i,"get",o));const{has:s}=aa(i),l=r?Cf:n?Of:es;if(s.call(i,e))return l(t.get(e));if(s.call(i,o))return l(t.get(o));t!==i&&t.get(e)}function Is(t,e=!1){const n=this.__v_raw,r=Qe(n),i=Qe(t);return e||(t!==i&&dn(r,"has",t),dn(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function $s(t,e=!1){return t=t.__v_raw,!e&&dn(Qe(t),"iterate",ki),Reflect.get(t,"size",t)}function Qh(t){t=Qe(t);const e=Qe(this);return aa(e).has.call(e,t)||(e.add(t),_r(e,"add",t,t)),this}function Zh(t,e){e=Qe(e);const n=Qe(this),{has:r,get:i}=aa(n);let o=r.call(n,t);o||(t=Qe(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Zo(e,s)&&_r(n,"set",t,e):_r(n,"add",t,e),this}function ed(t){const e=Qe(this),{has:n,get:r}=aa(e);let i=n.call(e,t);i||(t=Qe(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&_r(e,"delete",t,void 0),o}function td(){const t=Qe(this),e=t.size!==0,n=t.clear();return e&&_r(t,"clear",void 0,void 0),n}function Bs(t,e){return function(r,i){const o=this,s=o.__v_raw,l=Qe(s),a=e?Cf:t?Of:es;return!t&&dn(l,"iterate",ki),s.forEach((c,u)=>r.call(i,a(c),a(u),o))}}function Ns(t,e,n){return function(...r){const i=this.__v_raw,o=Qe(i),s=Gi(o),l=t==="entries"||t===Symbol.iterator&&s,a=t==="keys"&&s,c=i[t](...r),u=n?Cf:e?Of:es;return!e&&dn(o,"iterate",a?Bc:ki),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:l?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Pr(t){return function(...e){return t==="delete"?!1:this}}function l1(){const t={get(o){return Ds(this,o)},get size(){return $s(this)},has:Is,add:Qh,set:Zh,delete:ed,clear:td,forEach:Bs(!1,!1)},e={get(o){return Ds(this,o,!1,!0)},get size(){return $s(this)},has:Is,add:Qh,set:Zh,delete:ed,clear:td,forEach:Bs(!1,!0)},n={get(o){return Ds(this,o,!0)},get size(){return $s(this,!0)},has(o){return Is.call(this,o,!0)},add:Pr("add"),set:Pr("set"),delete:Pr("delete"),clear:Pr("clear"),forEach:Bs(!0,!1)},r={get(o){return Ds(this,o,!0,!0)},get size(){return $s(this,!0)},has(o){return Is.call(this,o,!0)},add:Pr("add"),set:Pr("set"),delete:Pr("delete"),clear:Pr("clear"),forEach:Bs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Ns(o,!1,!1),n[o]=Ns(o,!0,!1),e[o]=Ns(o,!1,!0),r[o]=Ns(o,!0,!0)}),[t,n,e,r]}const[a1,c1,u1,f1]=l1();function Ef(t,e){const n=e?t?f1:u1:t?c1:a1;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(et(n,i)&&i in r?n:r,i,o)}const h1={get:Ef(!1,!1)},d1={get:Ef(!1,!0)},p1={get:Ef(!0,!1)},ig=new WeakMap,og=new WeakMap,sg=new WeakMap,m1=new WeakMap;function g1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function y1(t){return t.__v_skip||!Object.isExtensible(t)?0:g1(Nv(t))}function Dn(t){return ro(t)?t:Af(t,!1,rg,h1,ig)}function b1(t){return Af(t,!1,s1,d1,og)}function lg(t){return Af(t,!0,o1,p1,sg)}function Af(t,e,n,r,i){if(!wt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=y1(t);if(s===0)return t;const l=new Proxy(t,s===2?r:n);return i.set(t,l),l}function En(t){return ro(t)?En(t.__v_raw):!!(t&&t.__v_isReactive)}function ro(t){return!!(t&&t.__v_isReadonly)}function Tl(t){return!!(t&&t.__v_isShallow)}function ag(t){return En(t)||ro(t)}function Qe(t){const e=t&&t.__v_raw;return e?Qe(e):t}function Ei(t){return Al(t,"__v_skip",!0),t}const es=t=>wt(t)?Dn(t):t,Of=t=>wt(t)?lg(t):t;function cg(t){Kr&&Pn&&(t=Qe(t),eg(t.dep||(t.dep=_f())))}function Tf(t,e){t=Qe(t);const n=t.dep;n&&Nc(n)}function ft(t){return!!(t&&t.__v_isRef===!0)}function Be(t){return ug(t,!1)}function v1(t){return ug(t,!0)}function ug(t,e){return ft(t)?t:new w1(t,e)}class w1{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Qe(e),this._value=n?e:es(e)}get value(){return cg(this),this._value}set value(e){const n=this.__v_isShallow||Tl(e)||ro(e);e=n?e:Qe(e),Zo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:es(e),Tf(this))}}function js(t){Tf(t)}function _e(t){return ft(t)?t.value:t}const x1={get:(t,e,n)=>_e(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ft(i)&&!ft(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function fg(t){return En(t)?t:new Proxy(t,x1)}function _1(t){const e=De(t)?new Array(t.length):{};for(const n in t)e[n]=hg(t,n);return e}class k1{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Kv(Qe(this._object),this._key)}}function hg(t,e,n){const r=t[e];return ft(r)?r:new k1(t,e,n)}var dg;class S1{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[dg]=!1,this._dirty=!0,this.effect=new kf(e,()=>{this._dirty||(this._dirty=!0,Tf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Qe(this);return cg(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}dg="__v_isReadonly";function C1(t,e,n=!1){let r,i;const o=Fe(t);return o?(r=t,i=Hn):(r=t.get,i=t.set),new S1(r,i,o||!i,n)}function Jr(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){ca(o,e,n)}return i}function Vn(t,e,n,r){if(Fe(t)){const o=Jr(t,e,n,r);return o&&qm(o)&&o.catch(s=>{ca(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Vn(t[o],e,n,r));return i}function ca(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,l=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,s,l)===!1)return}o=o.parent}const a=e.appContext.config.errorHandler;if(a){Jr(a,null,10,[t,s,l]);return}}E1(t,n,i,r)}function E1(t,e,n,r=!0){console.error(t)}let ts=!1,jc=!1;const Gt=[];let nr=0;const Yi=[];let gr=null,yi=0;const pg=Promise.resolve();let Lf=null;function ua(t){const e=Lf||pg;return t?e.then(this?t.bind(this):t):e}function A1(t){let e=nr+1,n=Gt.length;for(;e<n;){const r=e+n>>>1;ns(Gt[r])<t?e=r+1:n=r}return e}function Mf(t){(!Gt.length||!Gt.includes(t,ts&&t.allowRecurse?nr+1:nr))&&(t.id==null?Gt.push(t):Gt.splice(A1(t.id),0,t),mg())}function mg(){!ts&&!jc&&(jc=!0,Lf=pg.then(yg))}function O1(t){const e=Gt.indexOf(t);e>nr&&Gt.splice(e,1)}function T1(t){De(t)?Yi.push(...t):(!gr||!gr.includes(t,t.allowRecurse?yi+1:yi))&&Yi.push(t),mg()}function nd(t,e=ts?nr+1:0){for(;e<Gt.length;e++){const n=Gt[e];n&&n.pre&&(Gt.splice(e,1),e--,n())}}function gg(t){if(Yi.length){const e=[...new Set(Yi)];if(Yi.length=0,gr){gr.push(...e);return}for(gr=e,gr.sort((n,r)=>ns(n)-ns(r)),yi=0;yi<gr.length;yi++)gr[yi]();gr=null,yi=0}}const ns=t=>t.id==null?1/0:t.id,L1=(t,e)=>{const n=ns(t)-ns(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function yg(t){jc=!1,ts=!0,Gt.sort(L1);const e=Hn;try{for(nr=0;nr<Gt.length;nr++){const n=Gt[nr];n&&n.active!==!1&&Jr(n,null,14)}}finally{nr=0,Gt.length=0,gg(),ts=!1,Lf=null,(Gt.length||Yi.length)&&yg()}}function M1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||vt;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=r[u]||vt;h&&(i=n.map(d=>It(d)?d.trim():d)),f&&(i=n.map(Hv))}let l,a=r[l=nc(e)]||r[l=nc(fr(e))];!a&&o&&(a=r[l=nc(xo(e))]),a&&Vn(a,t,6,i);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Vn(c,t,6,i)}}function bg(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},l=!1;if(!Fe(t)){const a=c=>{const u=bg(c,e,!0);u&&(l=!0,ln(s,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!o&&!l?(wt(t)&&r.set(t,null),null):(De(o)?o.forEach(a=>s[a]=null):ln(s,o),wt(t)&&r.set(t,s),s)}function fa(t,e){return!t||!oa(e)?!1:(e=e.slice(2).replace(/Once$/,""),et(t,e[0].toLowerCase()+e.slice(1))||et(t,xo(e))||et(t,e))}let _n=null,ha=null;function Ll(t){const e=_n;return _n=t,ha=t&&t.type.__scopeId||null,e}function Ar(t){ha=t}function Or(){ha=null}function ot(t,e=_n,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&fd(-1);const o=Ll(e);let s;try{s=t(...i)}finally{Ll(o),r._d&&fd(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function ic(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:a,emit:c,render:u,renderCache:f,data:h,setupState:d,ctx:g,inheritAttrs:v}=t;let m,p;const b=Ll(t);try{if(n.shapeFlag&4){const w=i||r;m=er(u.call(w,w,f,o,d,h,g)),p=a}else{const w=e;m=er(w.length>1?w(o,{attrs:a,slots:l,emit:c}):w(o,null)),p=e.props?a:R1(a)}}catch(w){Wo.length=0,ca(w,t,1),m=ae(Ai)}let y=m;if(p&&v!==!1){const w=Object.keys(p),{shapeFlag:x}=y;w.length&&x&7&&(s&&w.some(bf)&&(p=P1(p,s)),y=io(y,p))}return n.dirs&&(y=io(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),m=y,Ll(b),m}const R1=t=>{let e;for(const n in t)(n==="class"||n==="style"||oa(n))&&((e||(e={}))[n]=t[n]);return e},P1=(t,e)=>{const n={};for(const r in t)(!bf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function D1(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:l,patchFlag:a}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?rd(r,s,c):!!s;if(a&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(s[h]!==r[h]&&!fa(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?rd(r,s,c):!0:!!s;return!1}function rd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!fa(n,o))return!0}return!1}function I1({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const $1=t=>t.__isSuspense;function B1(t,e){e&&e.pendingBranch?De(t)?e.effects.push(...t):e.effects.push(t):T1(t)}function zo(t,e){if(Tt){let n=Tt.provides;const r=Tt.parent&&Tt.parent.provides;r===n&&(n=Tt.provides=Object.create(r)),n[t]=e}}function Wt(t,e,n=!1){const r=Tt||_n;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Fe(e)?e.call(r.proxy):e}}function Nr(t,e){return Rf(t,null,e)}const Fs={};function Qt(t,e,n){return Rf(t,e,n)}function Rf(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=vt){const l=Ym()===(Tt==null?void 0:Tt.scope)?Tt:null;let a,c=!1,u=!1;if(ft(t)?(a=()=>t.value,c=Tl(t)):En(t)?(a=()=>t,r=!0):De(t)?(u=!0,c=t.some(y=>En(y)||Tl(y)),a=()=>t.map(y=>{if(ft(y))return y.value;if(En(y))return qi(y);if(Fe(y))return Jr(y,l,2)})):Fe(t)?e?a=()=>Jr(t,l,2):a=()=>{if(!(l&&l.isUnmounted))return f&&f(),Vn(t,l,3,[h])}:a=Hn,e&&r){const y=a;a=()=>qi(y())}let f,h=y=>{f=p.onStop=()=>{Jr(y,l,4)}},d;if(is)if(h=Hn,e?n&&Vn(e,l,3,[a(),u?[]:void 0,h]):a(),i==="sync"){const y=Tw();d=y.__watcherHandles||(y.__watcherHandles=[])}else return Hn;let g=u?new Array(t.length).fill(Fs):Fs;const v=()=>{if(p.active)if(e){const y=p.run();(r||c||(u?y.some((w,x)=>Zo(w,g[x])):Zo(y,g)))&&(f&&f(),Vn(e,l,3,[y,g===Fs?void 0:u&&g[0]===Fs?[]:g,h]),g=y)}else p.run()};v.allowRecurse=!!e;let m;i==="sync"?m=v:i==="post"?m=()=>fn(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),m=()=>Mf(v));const p=new kf(a,m);e?n?v():g=p.run():i==="post"?fn(p.run.bind(p),l&&l.suspense):p.run();const b=()=>{p.stop(),l&&l.scope&&vf(l.scope.effects,p)};return d&&d.push(b),b}function N1(t,e,n){const r=this.proxy,i=It(t)?t.includes(".")?vg(r,t):()=>r[t]:t.bind(r,r);let o;Fe(e)?o=e:(o=e.handler,n=e);const s=Tt;oo(this);const l=Rf(i,o.bind(r),n);return s?oo(s):Si(),l}function vg(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function qi(t,e){if(!wt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ft(t))qi(t.value,e);else if(De(t))for(let n=0;n<t.length;n++)qi(t[n],e);else if(zm(t)||Gi(t))t.forEach(n=>{qi(n,e)});else if(Km(t))for(const n in t)qi(t[n],e);return t}function St(t){return Fe(t)?{setup:t,name:t.name}:t}const il=t=>!!t.type.__asyncLoader,wg=t=>t.type.__isKeepAlive;function j1(t,e){xg(t,"a",e)}function F1(t,e){xg(t,"da",e)}function xg(t,e,n=Tt){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(da(e,r,n),n){let i=n.parent;for(;i&&i.parent;)wg(i.parent.vnode)&&H1(r,e,n,i),i=i.parent}}function H1(t,e,n,r){const i=da(e,t,r,!0);_g(()=>{vf(r[e],i)},n)}function da(t,e,n=Tt,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;_o(),oo(n);const l=Vn(e,n,t,s);return Si(),ko(),l});return r?i.unshift(o):i.push(o),o}}const Tr=t=>(e,n=Tt)=>(!is||t==="sp")&&da(t,(...r)=>e(...r),n),V1=Tr("bm"),pa=Tr("m"),U1=Tr("bu"),z1=Tr("u"),Pf=Tr("bum"),_g=Tr("um"),q1=Tr("sp"),W1=Tr("rtg"),K1=Tr("rtc");function J1(t,e=Tt){da("ec",t,e)}function hi(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let a=l.dir[r];a&&(_o(),Vn(a,n,8,[t.el,l,t,e]),ko())}}const kg="components";function zn(t,e){return Y1(kg,t,!0,e)||t}const G1=Symbol();function Y1(t,e,n=!0,r=!1){const i=_n||Tt;if(i){const o=i.type;if(t===kg){const l=Ew(o,!1);if(l&&(l===e||l===fr(e)||l===ws(fr(e))))return o}const s=id(i[t]||o[t],e)||id(i.appContext[t],e);return!s&&r?o:s}}function id(t,e){return t&&(t[e]||t[fr(e)]||t[ws(fr(e))])}function Gr(t,e,n,r){let i;const o=n&&n[r];if(De(t)||It(t)){i=new Array(t.length);for(let s=0,l=t.length;s<l;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(wt(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o&&o[l]));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const c=s[l];i[l]=e(t[c],c,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}const Fc=t=>t?Dg(t)?Nf(t)||t.proxy:Fc(t.parent):null,qo=ln(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fc(t.parent),$root:t=>Fc(t.root),$emit:t=>t.emit,$options:t=>Df(t),$forceUpdate:t=>t.f||(t.f=()=>Mf(t.update)),$nextTick:t=>t.n||(t.n=ua.bind(t.proxy)),$watch:t=>N1.bind(t)}),oc=(t,e)=>t!==vt&&!t.__isScriptSetup&&et(t,e),X1={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(oc(r,e))return s[e]=1,r[e];if(i!==vt&&et(i,e))return s[e]=2,i[e];if((c=t.propsOptions[0])&&et(c,e))return s[e]=3,o[e];if(n!==vt&&et(n,e))return s[e]=4,n[e];Hc&&(s[e]=0)}}const u=qo[e];let f,h;if(u)return e==="$attrs"&&dn(t,"get",e),u(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==vt&&et(n,e))return s[e]=4,n[e];if(h=a.config.globalProperties,et(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return oc(i,e)?(i[e]=n,!0):r!==vt&&et(r,e)?(r[e]=n,!0):et(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||t!==vt&&et(t,s)||oc(e,s)||(l=o[0])&&et(l,s)||et(r,s)||et(qo,s)||et(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:et(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Hc=!0;function Q1(t){const e=Df(t),n=t.proxy,r=t.ctx;Hc=!1,e.beforeCreate&&od(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:g,activated:v,deactivated:m,beforeDestroy:p,beforeUnmount:b,destroyed:y,unmounted:w,render:x,renderTracked:S,renderTriggered:C,errorCaptured:_,serverPrefetch:A,expose:M,inheritAttrs:E,components:k,directives:L,filters:R}=e;if(c&&Z1(c,r,null,t.appContext.config.unwrapInjectedRef),s)for(const P in s){const D=s[P];Fe(D)&&(r[P]=D.bind(n))}if(i){const P=i.call(n,n);wt(P)&&(t.data=Dn(P))}if(Hc=!0,o)for(const P in o){const D=o[P],$=Fe(D)?D.bind(n,n):Fe(D.get)?D.get.bind(n,n):Hn,G=!Fe(D)&&Fe(D.set)?D.set.bind(n):Hn,ne=Je({get:$,set:G});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>ne.value,set:ce=>ne.value=ce})}if(l)for(const P in l)Sg(l[P],r,n,P);if(a){const P=Fe(a)?a.call(n):a;Reflect.ownKeys(P).forEach(D=>{zo(D,P[D])})}u&&od(u,t,"c");function T(P,D){De(D)?D.forEach($=>P($.bind(n))):D&&P(D.bind(n))}if(T(V1,f),T(pa,h),T(U1,d),T(z1,g),T(j1,v),T(F1,m),T(J1,_),T(K1,S),T(W1,C),T(Pf,b),T(_g,w),T(q1,A),De(M))if(M.length){const P=t.exposed||(t.exposed={});M.forEach(D=>{Object.defineProperty(P,D,{get:()=>n[D],set:$=>n[D]=$})})}else t.exposed||(t.exposed={});x&&t.render===Hn&&(t.render=x),E!=null&&(t.inheritAttrs=E),k&&(t.components=k),L&&(t.directives=L)}function Z1(t,e,n=Hn,r=!1){De(t)&&(t=Vc(t));for(const i in t){const o=t[i];let s;wt(o)?"default"in o?s=Wt(o.from||i,o.default,!0):s=Wt(o.from||i):s=Wt(o),ft(s)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[i]=s}}function od(t,e,n){Vn(De(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Sg(t,e,n,r){const i=r.includes(".")?vg(n,r):()=>n[r];if(It(t)){const o=e[t];Fe(o)&&Qt(i,o)}else if(Fe(t))Qt(i,t.bind(n));else if(wt(t))if(De(t))t.forEach(o=>Sg(o,e,n,r));else{const o=Fe(t.handler)?t.handler.bind(n):e[t.handler];Fe(o)&&Qt(i,o,t)}}function Df(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let a;return l?a=l:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(c=>Ml(a,c,s,!0)),Ml(a,e,s)),wt(e)&&o.set(e,a),a}function Ml(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Ml(t,o,n,!0),i&&i.forEach(s=>Ml(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const l=ew[s]||n&&n[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const ew={data:sd,props:gi,emits:gi,methods:gi,computed:gi,beforeCreate:nn,created:nn,beforeMount:nn,mounted:nn,beforeUpdate:nn,updated:nn,beforeDestroy:nn,beforeUnmount:nn,destroyed:nn,unmounted:nn,activated:nn,deactivated:nn,errorCaptured:nn,serverPrefetch:nn,components:gi,directives:gi,watch:nw,provide:sd,inject:tw};function sd(t,e){return e?t?function(){return ln(Fe(t)?t.call(this,this):t,Fe(e)?e.call(this,this):e)}:e:t}function tw(t,e){return gi(Vc(t),Vc(e))}function Vc(t){if(De(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function nn(t,e){return t?[...new Set([].concat(t,e))]:e}function gi(t,e){return t?ln(ln(Object.create(null),t),e):e}function nw(t,e){if(!t)return e;if(!e)return t;const n=ln(Object.create(null),t);for(const r in e)n[r]=nn(t[r],e[r]);return n}function rw(t,e,n,r=!1){const i={},o={};Al(o,ga,1),t.propsDefaults=Object.create(null),Cg(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:b1(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function iw(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,l=Qe(i),[a]=t.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(fa(t.emitsOptions,h))continue;const d=e[h];if(a)if(et(o,h))d!==o[h]&&(o[h]=d,c=!0);else{const g=fr(h);i[g]=Uc(a,l,g,d,t,!1)}else d!==o[h]&&(o[h]=d,c=!0)}}}else{Cg(t,e,i,o)&&(c=!0);let u;for(const f in l)(!e||!et(e,f)&&((u=xo(f))===f||!et(e,u)))&&(a?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=Uc(a,l,f,void 0,t,!0)):delete i[f]);if(o!==l)for(const f in o)(!e||!et(e,f))&&(delete o[f],c=!0)}c&&_r(t,"set","$attrs")}function Cg(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,l;if(e)for(let a in e){if(rl(a))continue;const c=e[a];let u;i&&et(i,u=fr(a))?!o||!o.includes(u)?n[u]=c:(l||(l={}))[u]=c:fa(t.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,s=!0)}if(o){const a=Qe(n),c=l||vt;for(let u=0;u<o.length;u++){const f=o[u];n[f]=Uc(i,a,f,c[f],t,!et(c,f))}}return s}function Uc(t,e,n,r,i,o){const s=t[n];if(s!=null){const l=et(s,"default");if(l&&r===void 0){const a=s.default;if(s.type!==Function&&Fe(a)){const{propsDefaults:c}=i;n in c?r=c[n]:(oo(i),r=c[n]=a.call(null,e),Si())}else r=a}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===xo(n))&&(r=!0))}return r}function Eg(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},l=[];let a=!1;if(!Fe(t)){const u=f=>{a=!0;const[h,d]=Eg(f,e,!0);ln(s,h),d&&l.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!a)return wt(t)&&r.set(t,Ji),Ji;if(De(o))for(let u=0;u<o.length;u++){const f=fr(o[u]);ld(f)&&(s[f]=vt)}else if(o)for(const u in o){const f=fr(u);if(ld(f)){const h=o[u],d=s[f]=De(h)||Fe(h)?{type:h}:Object.assign({},h);if(d){const g=ud(Boolean,d.type),v=ud(String,d.type);d[0]=g>-1,d[1]=v<0||g<v,(g>-1||et(d,"default"))&&l.push(f)}}}const c=[s,l];return wt(t)&&r.set(t,c),c}function ld(t){return t[0]!=="$"}function ad(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function cd(t,e){return ad(t)===ad(e)}function ud(t,e){return De(e)?e.findIndex(n=>cd(n,t)):Fe(e)&&cd(e,t)?0:-1}const Ag=t=>t[0]==="_"||t==="$stable",If=t=>De(t)?t.map(er):[er(t)],ow=(t,e,n)=>{if(e._n)return e;const r=ot((...i)=>If(e(...i)),n);return r._c=!1,r},Og=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Ag(i))continue;const o=t[i];if(Fe(o))e[i]=ow(i,o,r);else if(o!=null){const s=If(o);e[i]=()=>s}}},Tg=(t,e)=>{const n=If(e);t.slots.default=()=>n},sw=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Qe(e),Al(e,"_",n)):Og(e,t.slots={})}else t.slots={},e&&Tg(t,e);Al(t.slots,ga,1)},lw=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=vt;if(r.shapeFlag&32){const l=e._;l?n&&l===1?o=!1:(ln(i,e),!n&&l===1&&delete i._):(o=!e.$stable,Og(e,i)),s=e}else e&&(Tg(t,e),s={default:1});if(o)for(const l in i)!Ag(l)&&!(l in s)&&delete i[l]};function Lg(){return{app:null,config:{isNativeTag:Iv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let aw=0;function cw(t,e){return function(r,i=null){Fe(r)||(r=Object.assign({},r)),i!=null&&!wt(i)&&(i=null);const o=Lg(),s=new Set;let l=!1;const a=o.app={_uid:aw++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Lw,get config(){return o.config},set config(c){},use(c,...u){return s.has(c)||(c&&Fe(c.install)?(s.add(c),c.install(a,...u)):Fe(c)&&(s.add(c),c(a,...u))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,u){return u?(o.components[c]=u,a):o.components[c]},directive(c,u){return u?(o.directives[c]=u,a):o.directives[c]},mount(c,u,f){if(!l){const h=ae(r,i);return h.appContext=o,u&&e?e(h,c):t(h,c,f),l=!0,a._container=c,c.__vue_app__=a,Nf(h.component)||h.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,u){return o.provides[c]=u,a}};return a}}function zc(t,e,n,r,i=!1){if(De(t)){t.forEach((h,d)=>zc(h,e&&(De(e)?e[d]:e),n,r,i));return}if(il(r)&&!i)return;const o=r.shapeFlag&4?Nf(r.component)||r.component.proxy:r.el,s=i?null:o,{i:l,r:a}=t,c=e&&e.r,u=l.refs===vt?l.refs={}:l.refs,f=l.setupState;if(c!=null&&c!==a&&(It(c)?(u[c]=null,et(f,c)&&(f[c]=null)):ft(c)&&(c.value=null)),Fe(a))Jr(a,l,12,[s,u]);else{const h=It(a),d=ft(a);if(h||d){const g=()=>{if(t.f){const v=h?et(f,a)?f[a]:u[a]:a.value;i?De(v)&&vf(v,o):De(v)?v.includes(o)||v.push(o):h?(u[a]=[o],et(f,a)&&(f[a]=u[a])):(a.value=[o],t.k&&(u[t.k]=a.value))}else h?(u[a]=s,et(f,a)&&(f[a]=s)):d&&(a.value=s,t.k&&(u[t.k]=s))};s?(g.id=-1,fn(g,n)):g()}}}const fn=B1;function uw(t){return fw(t)}function fw(t,e){const n=Vv();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Hn,insertStaticContent:g}=t,v=(I,B,H,z=null,W=null,ee=null,le=!1,te=null,Z=!!B.dynamicChildren)=>{if(I===B)return;I&&!Lo(I,B)&&(z=Q(I),ce(I,W,ee,!0),I=null),B.patchFlag===-2&&(Z=!1,B.dynamicChildren=null);const{type:Y,ref:ye,shapeFlag:ge}=B;switch(Y){case ma:m(I,B,H,z);break;case Ai:p(I,B,H,z);break;case ol:I==null&&b(B,H,z,le);break;case Ot:k(I,B,H,z,W,ee,le,te,Z);break;default:ge&1?x(I,B,H,z,W,ee,le,te,Z):ge&6?L(I,B,H,z,W,ee,le,te,Z):(ge&64||ge&128)&&Y.process(I,B,H,z,W,ee,le,te,Z,xe)}ye!=null&&W&&zc(ye,I&&I.ref,ee,B||I,!B)},m=(I,B,H,z)=>{if(I==null)r(B.el=l(B.children),H,z);else{const W=B.el=I.el;B.children!==I.children&&c(W,B.children)}},p=(I,B,H,z)=>{I==null?r(B.el=a(B.children||""),H,z):B.el=I.el},b=(I,B,H,z)=>{[I.el,I.anchor]=g(I.children,B,H,z,I.el,I.anchor)},y=({el:I,anchor:B},H,z)=>{let W;for(;I&&I!==B;)W=h(I),r(I,H,z),I=W;r(B,H,z)},w=({el:I,anchor:B})=>{let H;for(;I&&I!==B;)H=h(I),i(I),I=H;i(B)},x=(I,B,H,z,W,ee,le,te,Z)=>{le=le||B.type==="svg",I==null?S(B,H,z,W,ee,le,te,Z):A(I,B,W,ee,le,te,Z)},S=(I,B,H,z,W,ee,le,te)=>{let Z,Y;const{type:ye,props:ge,shapeFlag:be,transition:Ee,dirs:je}=I;if(Z=I.el=s(I.type,ee,ge&&ge.is,ge),be&8?u(Z,I.children):be&16&&_(I.children,Z,null,z,W,ee&&ye!=="foreignObject",le,te),je&&hi(I,null,z,"created"),C(Z,I,I.scopeId,le,z),ge){for(const Ye in ge)Ye!=="value"&&!rl(Ye)&&o(Z,Ye,null,ge[Ye],ee,I.children,z,W,X);"value"in ge&&o(Z,"value",null,ge.value),(Y=ge.onVnodeBeforeMount)&&Jn(Y,z,I)}je&&hi(I,null,z,"beforeMount");const st=(!W||W&&!W.pendingBranch)&&Ee&&!Ee.persisted;st&&Ee.beforeEnter(Z),r(Z,B,H),((Y=ge&&ge.onVnodeMounted)||st||je)&&fn(()=>{Y&&Jn(Y,z,I),st&&Ee.enter(Z),je&&hi(I,null,z,"mounted")},W)},C=(I,B,H,z,W)=>{if(H&&d(I,H),z)for(let ee=0;ee<z.length;ee++)d(I,z[ee]);if(W){let ee=W.subTree;if(B===ee){const le=W.vnode;C(I,le,le.scopeId,le.slotScopeIds,W.parent)}}},_=(I,B,H,z,W,ee,le,te,Z=0)=>{for(let Y=Z;Y<I.length;Y++){const ye=I[Y]=te?jr(I[Y]):er(I[Y]);v(null,ye,B,H,z,W,ee,le,te)}},A=(I,B,H,z,W,ee,le)=>{const te=B.el=I.el;let{patchFlag:Z,dynamicChildren:Y,dirs:ye}=B;Z|=I.patchFlag&16;const ge=I.props||vt,be=B.props||vt;let Ee;H&&di(H,!1),(Ee=be.onVnodeBeforeUpdate)&&Jn(Ee,H,B,I),ye&&hi(B,I,H,"beforeUpdate"),H&&di(H,!0);const je=W&&B.type!=="foreignObject";if(Y?M(I.dynamicChildren,Y,te,H,z,je,ee):le||D(I,B,te,null,H,z,je,ee,!1),Z>0){if(Z&16)E(te,B,ge,be,H,z,W);else if(Z&2&&ge.class!==be.class&&o(te,"class",null,be.class,W),Z&4&&o(te,"style",ge.style,be.style,W),Z&8){const st=B.dynamicProps;for(let Ye=0;Ye<st.length;Ye++){const lt=st[Ye],Bt=ge[lt],xn=be[lt];(xn!==Bt||lt==="value")&&o(te,lt,Bt,xn,W,I.children,H,z,X)}}Z&1&&I.children!==B.children&&u(te,B.children)}else!le&&Y==null&&E(te,B,ge,be,H,z,W);((Ee=be.onVnodeUpdated)||ye)&&fn(()=>{Ee&&Jn(Ee,H,B,I),ye&&hi(B,I,H,"updated")},z)},M=(I,B,H,z,W,ee,le)=>{for(let te=0;te<B.length;te++){const Z=I[te],Y=B[te],ye=Z.el&&(Z.type===Ot||!Lo(Z,Y)||Z.shapeFlag&70)?f(Z.el):H;v(Z,Y,ye,null,z,W,ee,le,!0)}},E=(I,B,H,z,W,ee,le)=>{if(H!==z){if(H!==vt)for(const te in H)!rl(te)&&!(te in z)&&o(I,te,H[te],null,le,B.children,W,ee,X);for(const te in z){if(rl(te))continue;const Z=z[te],Y=H[te];Z!==Y&&te!=="value"&&o(I,te,Y,Z,le,B.children,W,ee,X)}"value"in z&&o(I,"value",H.value,z.value)}},k=(I,B,H,z,W,ee,le,te,Z)=>{const Y=B.el=I?I.el:l(""),ye=B.anchor=I?I.anchor:l("");let{patchFlag:ge,dynamicChildren:be,slotScopeIds:Ee}=B;Ee&&(te=te?te.concat(Ee):Ee),I==null?(r(Y,H,z),r(ye,H,z),_(B.children,H,ye,W,ee,le,te,Z)):ge>0&&ge&64&&be&&I.dynamicChildren?(M(I.dynamicChildren,be,H,W,ee,le,te),(B.key!=null||W&&B===W.subTree)&&Mg(I,B,!0)):D(I,B,H,ye,W,ee,le,te,Z)},L=(I,B,H,z,W,ee,le,te,Z)=>{B.slotScopeIds=te,I==null?B.shapeFlag&512?W.ctx.activate(B,H,z,le,Z):R(B,H,z,W,ee,le,Z):O(I,B,Z)},R=(I,B,H,z,W,ee,le)=>{const te=I.component=xw(I,z,W);if(wg(I)&&(te.ctx.renderer=xe),_w(te),te.asyncDep){if(W&&W.registerDep(te,T),!I.el){const Z=te.subTree=ae(Ai);p(null,Z,B,H)}return}T(te,I,B,H,W,ee,le)},O=(I,B,H)=>{const z=B.component=I.component;if(D1(I,B,H))if(z.asyncDep&&!z.asyncResolved){P(z,B,H);return}else z.next=B,O1(z.update),z.update();else B.el=I.el,z.vnode=B},T=(I,B,H,z,W,ee,le)=>{const te=()=>{if(I.isMounted){let{next:ye,bu:ge,u:be,parent:Ee,vnode:je}=I,st=ye,Ye;di(I,!1),ye?(ye.el=je.el,P(I,ye,le)):ye=je,ge&&rc(ge),(Ye=ye.props&&ye.props.onVnodeBeforeUpdate)&&Jn(Ye,Ee,ye,je),di(I,!0);const lt=ic(I),Bt=I.subTree;I.subTree=lt,v(Bt,lt,f(Bt.el),Q(Bt),I,W,ee),ye.el=lt.el,st===null&&I1(I,lt.el),be&&fn(be,W),(Ye=ye.props&&ye.props.onVnodeUpdated)&&fn(()=>Jn(Ye,Ee,ye,je),W)}else{let ye;const{el:ge,props:be}=B,{bm:Ee,m:je,parent:st}=I,Ye=il(B);if(di(I,!1),Ee&&rc(Ee),!Ye&&(ye=be&&be.onVnodeBeforeMount)&&Jn(ye,st,B),di(I,!0),ge&&pe){const lt=()=>{I.subTree=ic(I),pe(ge,I.subTree,I,W,null)};Ye?B.type.__asyncLoader().then(()=>!I.isUnmounted&&lt()):lt()}else{const lt=I.subTree=ic(I);v(null,lt,H,z,I,W,ee),B.el=lt.el}if(je&&fn(je,W),!Ye&&(ye=be&&be.onVnodeMounted)){const lt=B;fn(()=>Jn(ye,st,lt),W)}(B.shapeFlag&256||st&&il(st.vnode)&&st.vnode.shapeFlag&256)&&I.a&&fn(I.a,W),I.isMounted=!0,B=H=z=null}},Z=I.effect=new kf(te,()=>Mf(Y),I.scope),Y=I.update=()=>Z.run();Y.id=I.uid,di(I,!0),Y()},P=(I,B,H)=>{B.component=I;const z=I.vnode.props;I.vnode=B,I.next=null,iw(I,B.props,z,H),lw(I,B.children,H),_o(),nd(),ko()},D=(I,B,H,z,W,ee,le,te,Z=!1)=>{const Y=I&&I.children,ye=I?I.shapeFlag:0,ge=B.children,{patchFlag:be,shapeFlag:Ee}=B;if(be>0){if(be&128){G(Y,ge,H,z,W,ee,le,te,Z);return}else if(be&256){$(Y,ge,H,z,W,ee,le,te,Z);return}}Ee&8?(ye&16&&X(Y,W,ee),ge!==Y&&u(H,ge)):ye&16?Ee&16?G(Y,ge,H,z,W,ee,le,te,Z):X(Y,W,ee,!0):(ye&8&&u(H,""),Ee&16&&_(ge,H,z,W,ee,le,te,Z))},$=(I,B,H,z,W,ee,le,te,Z)=>{I=I||Ji,B=B||Ji;const Y=I.length,ye=B.length,ge=Math.min(Y,ye);let be;for(be=0;be<ge;be++){const Ee=B[be]=Z?jr(B[be]):er(B[be]);v(I[be],Ee,H,null,W,ee,le,te,Z)}Y>ye?X(I,W,ee,!0,!1,ge):_(B,H,z,W,ee,le,te,Z,ge)},G=(I,B,H,z,W,ee,le,te,Z)=>{let Y=0;const ye=B.length;let ge=I.length-1,be=ye-1;for(;Y<=ge&&Y<=be;){const Ee=I[Y],je=B[Y]=Z?jr(B[Y]):er(B[Y]);if(Lo(Ee,je))v(Ee,je,H,null,W,ee,le,te,Z);else break;Y++}for(;Y<=ge&&Y<=be;){const Ee=I[ge],je=B[be]=Z?jr(B[be]):er(B[be]);if(Lo(Ee,je))v(Ee,je,H,null,W,ee,le,te,Z);else break;ge--,be--}if(Y>ge){if(Y<=be){const Ee=be+1,je=Ee<ye?B[Ee].el:z;for(;Y<=be;)v(null,B[Y]=Z?jr(B[Y]):er(B[Y]),H,je,W,ee,le,te,Z),Y++}}else if(Y>be)for(;Y<=ge;)ce(I[Y],W,ee,!0),Y++;else{const Ee=Y,je=Y,st=new Map;for(Y=je;Y<=be;Y++){const Nt=B[Y]=Z?jr(B[Y]):er(B[Y]);Nt.key!=null&&st.set(Nt.key,Y)}let Ye,lt=0;const Bt=be-je+1;let xn=!1,Rr=0;const Mn=new Array(Bt);for(Y=0;Y<Bt;Y++)Mn[Y]=0;for(Y=Ee;Y<=ge;Y++){const Nt=I[Y];if(lt>=Bt){ce(Nt,W,ee,!0);continue}let cn;if(Nt.key!=null)cn=st.get(Nt.key);else for(Ye=je;Ye<=be;Ye++)if(Mn[Ye-je]===0&&Lo(Nt,B[Ye])){cn=Ye;break}cn===void 0?ce(Nt,W,ee,!0):(Mn[cn-je]=Y+1,cn>=Rr?Rr=cn:xn=!0,v(Nt,B[cn],H,null,W,ee,le,te,Z),lt++)}const ui=xn?hw(Mn):Ji;for(Ye=ui.length-1,Y=Bt-1;Y>=0;Y--){const Nt=je+Y,cn=B[Nt],Ls=Nt+1<ye?B[Nt+1].el:z;Mn[Y]===0?v(null,cn,H,Ls,W,ee,le,te,Z):xn&&(Ye<0||Y!==ui[Ye]?ne(cn,H,Ls,2):Ye--)}}},ne=(I,B,H,z,W=null)=>{const{el:ee,type:le,transition:te,children:Z,shapeFlag:Y}=I;if(Y&6){ne(I.component.subTree,B,H,z);return}if(Y&128){I.suspense.move(B,H,z);return}if(Y&64){le.move(I,B,H,xe);return}if(le===Ot){r(ee,B,H);for(let ge=0;ge<Z.length;ge++)ne(Z[ge],B,H,z);r(I.anchor,B,H);return}if(le===ol){y(I,B,H);return}if(z!==2&&Y&1&&te)if(z===0)te.beforeEnter(ee),r(ee,B,H),fn(()=>te.enter(ee),W);else{const{leave:ge,delayLeave:be,afterLeave:Ee}=te,je=()=>r(ee,B,H),st=()=>{ge(ee,()=>{je(),Ee&&Ee()})};be?be(ee,je,st):st()}else r(ee,B,H)},ce=(I,B,H,z=!1,W=!1)=>{const{type:ee,props:le,ref:te,children:Z,dynamicChildren:Y,shapeFlag:ye,patchFlag:ge,dirs:be}=I;if(te!=null&&zc(te,null,H,I,!0),ye&256){B.ctx.deactivate(I);return}const Ee=ye&1&&be,je=!il(I);let st;if(je&&(st=le&&le.onVnodeBeforeUnmount)&&Jn(st,B,I),ye&6)U(I.component,H,z);else{if(ye&128){I.suspense.unmount(H,z);return}Ee&&hi(I,null,B,"beforeUnmount"),ye&64?I.type.remove(I,B,H,W,xe,z):Y&&(ee!==Ot||ge>0&&ge&64)?X(Y,B,H,!1,!0):(ee===Ot&&ge&384||!W&&ye&16)&&X(Z,B,H),z&&Pe(I)}(je&&(st=le&&le.onVnodeUnmounted)||Ee)&&fn(()=>{st&&Jn(st,B,I),Ee&&hi(I,null,B,"unmounted")},H)},Pe=I=>{const{type:B,el:H,anchor:z,transition:W}=I;if(B===Ot){de(H,z);return}if(B===ol){w(I);return}const ee=()=>{i(H),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(I.shapeFlag&1&&W&&!W.persisted){const{leave:le,delayLeave:te}=W,Z=()=>le(H,ee);te?te(I.el,ee,Z):Z()}else ee()},de=(I,B)=>{let H;for(;I!==B;)H=h(I),i(I),I=H;i(B)},U=(I,B,H)=>{const{bum:z,scope:W,update:ee,subTree:le,um:te}=I;z&&rc(z),W.stop(),ee&&(ee.active=!1,ce(le,I,B,H)),te&&fn(te,B),fn(()=>{I.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},X=(I,B,H,z=!1,W=!1,ee=0)=>{for(let le=ee;le<I.length;le++)ce(I[le],B,H,z,W)},Q=I=>I.shapeFlag&6?Q(I.component.subTree):I.shapeFlag&128?I.suspense.next():h(I.anchor||I.el),ue=(I,B,H)=>{I==null?B._vnode&&ce(B._vnode,null,null,!0):v(B._vnode||null,I,B,null,null,null,H),nd(),gg(),B._vnode=I},xe={p:v,um:ce,m:ne,r:Pe,mt:R,mc:_,pc:D,pbc:M,n:Q,o:t};let Oe,pe;return e&&([Oe,pe]=e(xe)),{render:ue,hydrate:Oe,createApp:cw(ue,Oe)}}function di({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Mg(t,e,n=!1){const r=t.children,i=e.children;if(De(r)&&De(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=jr(i[o]),l.el=s.el),n||Mg(s,l)),l.type===ma&&(l.el=s.el)}}function hw(t){const e=t.slice(),n=[0];let r,i,o,s,l;const a=t.length;for(r=0;r<a;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,t[n[l]]<c?o=l+1:s=l;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const dw=t=>t.__isTeleport,Ot=Symbol(void 0),ma=Symbol(void 0),Ai=Symbol(void 0),ol=Symbol(void 0),Wo=[];let In=null;function Me(t=!1){Wo.push(In=t?null:[])}function pw(){Wo.pop(),In=Wo[Wo.length-1]||null}let rs=1;function fd(t){rs+=t}function Rg(t){return t.dynamicChildren=rs>0?In||Ji:null,pw(),rs>0&&In&&In.push(t),t}function Ve(t,e,n,r,i,o){return Rg(ke(t,e,n,r,i,o,!0))}function kr(t,e,n,r,i){return Rg(ae(t,e,n,r,i,!0))}function qc(t){return t?t.__v_isVNode===!0:!1}function Lo(t,e){return t.type===e.type&&t.key===e.key}const ga="__vInternal",Pg=({key:t})=>t??null,sl=({ref:t,ref_key:e,ref_for:n})=>t!=null?It(t)||ft(t)||Fe(t)?{i:_n,r:t,k:e,f:!!n}:t:null;function ke(t,e=null,n=null,r=0,i=null,o=t===Ot?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Pg(e),ref:e&&sl(e),scopeId:ha,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:_n};return l?($f(a,n),o&128&&t.normalize(a)):n&&(a.shapeFlag|=It(n)?8:16),rs>0&&!s&&In&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&In.push(a),a}const ae=mw;function mw(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===G1)&&(t=Ai),qc(t)){const l=io(t,e,!0);return n&&$f(l,n),rs>0&&!o&&In&&(l.shapeFlag&6?In[In.indexOf(t)]=l:In.push(l)),l.patchFlag|=-2,l}if(Aw(t)&&(t=t.__vccOpts),e){e=gw(e);let{class:l,style:a}=e;l&&!It(l)&&(e.class=ia(l)),wt(a)&&(ag(a)&&!De(a)&&(a=ln({},a)),e.style=ra(a))}const s=It(t)?1:$1(t)?128:dw(t)?64:wt(t)?4:Fe(t)?2:0;return ke(t,e,n,r,i,s,o,!0)}function gw(t){return t?ag(t)||ga in t?ln({},t):t:null}function io(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,l=e?bw(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Pg(l),ref:e&&e.ref?n&&i?De(i)?i.concat(sl(e)):[i,sl(e)]:sl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ot?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&io(t.ssContent),ssFallback:t.ssFallback&&io(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Xt(t=" ",e=0){return ae(ma,null,t,e)}function yw(t,e){const n=ae(ol,null,t);return n.staticCount=e,n}function $n(t="",e=!1){return e?(Me(),kr(Ai,null,t)):ae(Ai,null,t)}function er(t){return t==null||typeof t=="boolean"?ae(Ai):De(t)?ae(Ot,null,t.slice()):typeof t=="object"?jr(t):ae(ma,null,String(t))}function jr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:io(t)}function $f(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(De(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),$f(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(ga in e)?e._ctx=_n:i===3&&_n&&(_n.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Fe(e)?(e={default:e,_ctx:_n},n=32):(e=String(e),r&64?(n=16,e=[Xt(e)]):n=8);t.children=e,t.shapeFlag|=n}function bw(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ia([e.class,r.class]));else if(i==="style")e.style=ra([e.style,r.style]);else if(oa(i)){const o=e[i],s=r[i];s&&o!==s&&!(De(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function Jn(t,e,n,r=null){Vn(t,e,7,[n,r])}const vw=Lg();let ww=0;function xw(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||vw,o={uid:ww++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Eg(r,i),emitsOptions:bg(r,i),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:r.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=M1.bind(null,o),t.ce&&t.ce(o),o}let Tt=null;const Bf=()=>Tt||_n,oo=t=>{Tt=t,t.scope.on()},Si=()=>{Tt&&Tt.scope.off(),Tt=null};function Dg(t){return t.vnode.shapeFlag&4}let is=!1;function _w(t,e=!1){is=e;const{props:n,children:r}=t.vnode,i=Dg(t);rw(t,n,i,e),sw(t,r);const o=i?kw(t,e):void 0;return is=!1,o}function kw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Ei(new Proxy(t.ctx,X1));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Cw(t):null;oo(t),_o();const o=Jr(r,t,0,[t.props,i]);if(ko(),Si(),qm(o)){if(o.then(Si,Si),e)return o.then(s=>{hd(t,s,e)}).catch(s=>{ca(s,t,0)});t.asyncDep=o}else hd(t,o,e)}else Ig(t,e)}function hd(t,e,n){Fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:wt(e)&&(t.setupState=fg(e)),Ig(t,n)}let dd;function Ig(t,e,n){const r=t.type;if(!t.render){if(!e&&dd&&!r.render){const i=r.template||Df(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:l,compilerOptions:a}=r,c=ln(ln({isCustomElement:o,delimiters:l},s),a);r.render=dd(i,c)}}t.render=r.render||Hn}oo(t),_o(),Q1(t),ko(),Si()}function Sw(t){return new Proxy(t.attrs,{get(e,n){return dn(t,"get","$attrs"),e[n]}})}function Cw(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=Sw(t))},slots:t.slots,emit:t.emit,expose:e}}function Nf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(fg(Ei(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in qo)return qo[n](t)},has(e,n){return n in e||n in qo}}))}function Ew(t,e=!0){return Fe(t)?t.displayName||t.name:t.name||e&&t.__name}function Aw(t){return Fe(t)&&"__vccOpts"in t}const Je=(t,e)=>C1(t,e,is);function Oi(t,e,n){const r=arguments.length;return r===2?wt(e)&&!De(e)?qc(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&qc(n)&&(n=[n]),ae(t,e,n))}const Ow=Symbol(""),Tw=()=>Wt(Ow),Lw="3.2.47",Mw="http://www.w3.org/2000/svg",bi=typeof document<"u"?document:null,pd=bi&&bi.createElement("template"),Rw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?bi.createElementNS(Mw,t):bi.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>bi.createTextNode(t),createComment:t=>bi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>bi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{pd.innerHTML=r?`<svg>${t}</svg>`:t;const l=pd.content;if(r){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Pw(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Dw(t,e,n){const r=t.style,i=It(n);if(n&&!i){if(e&&!It(e))for(const o in e)n[o]==null&&Wc(r,o,"");for(const o in n)Wc(r,o,n[o])}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const md=/\s*!important$/;function Wc(t,e,n){if(De(n))n.forEach(r=>Wc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Iw(t,e);md.test(n)?t.setProperty(xo(r),n.replace(md,""),"important"):t[r]=n}}const gd=["Webkit","Moz","ms"],sc={};function Iw(t,e){const n=sc[e];if(n)return n;let r=fr(e);if(r!=="filter"&&r in t)return sc[e]=r;r=ws(r);for(let i=0;i<gd.length;i++){const o=gd[i]+r;if(o in t)return sc[e]=o}return e}const yd="http://www.w3.org/1999/xlink";function $w(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(yd,e.slice(6,e.length)):t.setAttributeNS(yd,e,n);else{const o=Dv(e);n==null||o&&!Vm(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function Bw(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const a=n??"";(t.value!==a||t.tagName==="OPTION")&&(t.value=a),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Vm(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Nw(t,e,n,r){t.addEventListener(e,n,r)}function jw(t,e,n,r){t.removeEventListener(e,n,r)}function Fw(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[l,a]=Hw(e);if(r){const c=o[e]=zw(r,i);Nw(t,l,c,a)}else s&&(jw(t,l,s,a),o[e]=void 0)}}const bd=/(?:Once|Passive|Capture)$/;function Hw(t){let e;if(bd.test(t)){e={};let r;for(;r=t.match(bd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xo(t.slice(2)),e]}let lc=0;const Vw=Promise.resolve(),Uw=()=>lc||(Vw.then(()=>lc=0),lc=Date.now());function zw(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Vn(qw(r,n.value),e,5,[r])};return n.value=t,n.attached=Uw(),n}function qw(t,e){if(De(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const vd=/^on[a-z]/,Ww=(t,e,n,r,i=!1,o,s,l,a)=>{e==="class"?Pw(t,r,i):e==="style"?Dw(t,n,r):oa(e)?bf(e)||Fw(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Kw(t,e,r,i))?Bw(t,e,r,o,s,l,a):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$w(t,e,r,i))};function Kw(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&vd.test(e)&&Fe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||vd.test(e)&&It(n)?!1:e in t}const Jw=ln({patchProp:Ww},Rw);let wd;function Gw(){return wd||(wd=uw(Jw))}const Yw=(...t)=>{const e=Gw().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Xw(r);if(!i)return;const o=e._component;!Fe(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function Xw(t){return It(t)?document.querySelector(t):t}var Qw=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let $g;const ya=t=>$g=t,Bg=Symbol();function Kc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ko;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ko||(Ko={}));function Zw(){const t=Gm(!0),e=t.run(()=>Be({}));let n=[],r=[];const i=Ei({install(o){ya(i),i._a=o,o.provide(Bg,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!Qw?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Ng=()=>{};function xd(t,e,n,r=Ng){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&Ym()&&zv(i),i}function ji(t,...e){t.slice().forEach(n=>{n(...e)})}function Jc(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Kc(i)&&Kc(r)&&t.hasOwnProperty(n)&&!ft(r)&&!En(r)?t[n]=Jc(i,r):t[n]=r}return t}const ex=Symbol();function tx(t){return!Kc(t)||!t.hasOwnProperty(ex)}const{assign:Br}=Object;function nx(t){return!!(ft(t)&&t.effect)}function rx(t,e,n,r){const{state:i,actions:o,getters:s}=e,l=n.state.value[t];let a;function c(){l||(n.state.value[t]=i?i():{});const u=_1(n.state.value[t]);return Br(u,o,Object.keys(s||{}).reduce((f,h)=>(f[h]=Ei(Je(()=>{ya(n);const d=n._s.get(t);return s[h].call(d,d)})),f),{}))}return a=jg(t,c,e,n,r,!0),a}function jg(t,e,n={},r,i,o){let s;const l=Br({actions:{}},n),a={deep:!0};let c,u,f=Ei([]),h=Ei([]),d;const g=r.state.value[t];!o&&!g&&(r.state.value[t]={}),Be({});let v;function m(C){let _;c=u=!1,typeof C=="function"?(C(r.state.value[t]),_={type:Ko.patchFunction,storeId:t,events:d}):(Jc(r.state.value[t],C),_={type:Ko.patchObject,payload:C,storeId:t,events:d});const A=v=Symbol();ua().then(()=>{v===A&&(c=!0)}),u=!0,ji(f,_,r.state.value[t])}const p=o?function(){const{state:_}=n,A=_?_():{};this.$patch(M=>{Br(M,A)})}:Ng;function b(){s.stop(),f=[],h=[],r._s.delete(t)}function y(C,_){return function(){ya(r);const A=Array.from(arguments),M=[],E=[];function k(O){M.push(O)}function L(O){E.push(O)}ji(h,{args:A,name:C,store:x,after:k,onError:L});let R;try{R=_.apply(this&&this.$id===t?this:x,A)}catch(O){throw ji(E,O),O}return R instanceof Promise?R.then(O=>(ji(M,O),O)).catch(O=>(ji(E,O),Promise.reject(O))):(ji(M,R),R)}}const w={_p:r,$id:t,$onAction:xd.bind(null,h),$patch:m,$reset:p,$subscribe(C,_={}){const A=xd(f,C,_.detached,()=>M()),M=s.run(()=>Qt(()=>r.state.value[t],E=>{(_.flush==="sync"?u:c)&&C({storeId:t,type:Ko.direct,events:d},E)},Br({},a,_)));return A},$dispose:b},x=Dn(w);r._s.set(t,x);const S=r._e.run(()=>(s=Gm(),s.run(()=>e())));for(const C in S){const _=S[C];if(ft(_)&&!nx(_)||En(_))o||(g&&tx(_)&&(ft(_)?_.value=g[C]:Jc(_,g[C])),r.state.value[t][C]=_);else if(typeof _=="function"){const A=y(C,_);S[C]=A,l.actions[C]=_}}return Br(x,S),Br(Qe(x),S),Object.defineProperty(x,"$state",{get:()=>r.state.value[t],set:C=>{m(_=>{Br(_,C)})}}),r._p.forEach(C=>{Br(x,s.run(()=>C({store:x,app:r._a,pinia:r,options:l})))}),g&&o&&n.hydrate&&n.hydrate(x.$state,g),c=!0,u=!0,x}function xs(t,e,n){let r,i;const o=typeof e=="function";typeof t=="string"?(r=t,i=o?n:e):(i=t,r=t.id);function s(l,a){const c=Bf();return l=l||c&&Wt(Bg,null),l&&ya(l),l=$g,l._s.has(r)||(o?jg(r,e,i,l):rx(r,i,l)),l._s.get(r)}return s.$id=r,s}const Fg=["__key","__init","__shim","__original","__index","__prevKey"];function So(){return Math.random().toString(36).substring(2,15)}function ix(t,e){const n=t instanceof Set?t:new Set(t);return e&&e.forEach(r=>n.add(r)),[...n]}function He(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function An(t,e,n=!0,r=["__key"]){if(t===e)return!0;if(typeof e=="object"&&typeof t=="object"){if(t instanceof Map||t instanceof Set||t instanceof Date||t===null||e===null||Object.keys(t).length!==Object.keys(e).length)return!1;for(const i of r)if((i in t||i in e)&&t[i]!==e[i])return!1;for(const i in t)if(!(i in e)||t[i]!==e[i]&&!n||n&&!An(t[i],e[i],n,r))return!1;return!0}return!1}function os(t){const e=typeof t;if(e==="number")return!1;if(t===void 0)return!0;if(e==="string")return t==="";if(e==="object"){if(t===null)return!0;for(const n in t)return!1;return!(t instanceof RegExp||t instanceof Date)}return!1}function ox(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sx(t){const e=`^${ox(t)}$`,n={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[0-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"},r=Object.keys(n);return new RegExp(r.reduce((i,o)=>i.replace(o,n[o]),e))}function Gc(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yc(t){return Gc(t)||Array.isArray(t)}function Ti(t){if(Gc(t)===!1||t.__FKNode__||t.__POJO__===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(Gc(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}function Li(t,e,n=!1,r=!1){if(e===null)return null;const i={};if(typeof e=="string")return e;for(const o in t)if(He(e,o)&&(e[o]!==void 0||!r)){if(n&&Array.isArray(t[o])&&Array.isArray(e[o])){i[o]=t[o].concat(e[o]);continue}if(e[o]===void 0)continue;Ti(t[o])&&Ti(e[o])?i[o]=Li(t[o],e[o],n,r):i[o]=e[o]}else i[o]=t[o];for(const o in e)!He(i,o)&&e[o]!==void 0&&(i[o]=e[o]);return i}function lx(t){if(t[0]!=='"'&&t[0]!=="'"||t[0]!==t[t.length-1])return!1;const e=t[0];for(let n=1;n<t.length;n++)if(t[n]===e&&(n===1||t[n-1]!=="\\")&&n!==t.length-1)return!1;return!0}function ax(t){if(!t.length)return"";let e="",n="";for(let r=0;r<t.length;r++){const i=t.charAt(r);(i!=="\\"||n==="\\")&&(e+=i),n=i}return e}function Fi(...t){return t.reduce((e,n)=>{const{value:r,name:i,modelValue:o,config:s,plugins:l,...a}=n;return Object.assign(e,a)},{})}function cx(t){const e=[];let n="",r=0,i="",o="";for(let s=0;s<t.length;s++){const l=t.charAt(s);l===i&&o!=="\\"?i="":(l==="'"||l==='"')&&!i&&o!=="\\"?i=l:l==="("&&!i?r++:l===")"&&!i&&r--,l===","&&!i&&r===0?(e.push(n),n=""):(l!==" "||i)&&(n+=l),o=l}return n&&e.push(n),e}function _d(t,e){const n={},r=e.filter(o=>o instanceof RegExp),i=new Set(e);for(const o in t)!i.has(o)&&!r.some(s=>s.test(o))&&(n[o]=t[o]);return n}function kd(t,e){const n={},r=e.filter(i=>i instanceof RegExp);return e.forEach(i=>{i instanceof RegExp||(n[i]=t[i])}),Object.keys(t).forEach(i=>{r.some(o=>o.test(i))&&(n[i]=t[i])}),n}function Xi(t){return t.replace(/-([a-z0-9])/gi,(e,n)=>n.toUpperCase())}function Hg(t){return t.replace(/([a-z0-9])([A-Z])/g,(e,n,r)=>n+"-"+r.toLowerCase()).replace(" ","-").toLowerCase()}function Sd(t,e=Fg){if(t!==null&&typeof t=="object"){let n;if(Array.isArray(t)?n=[...t]:Ti(t)&&(n={...t}),n)return fx(t,n,e),n}return t}function so(t,e=Fg){if(t===null||t instanceof RegExp||t instanceof Date||t instanceof Map||t instanceof Set||typeof File=="function"&&t instanceof File)return t;let n;Array.isArray(t)?n=t.map(r=>typeof r=="object"?so(r,e):r):n=Object.keys(t).reduce((r,i)=>(r[i]=typeof t[i]=="object"?so(t[i],e):t[i],r),{});for(const r of e)r in t&&Object.defineProperty(n,r,{enumerable:!1,value:t[r]});return n}function Bn(t){return typeof t=="object"?so(t):t}function ux(t,e){if(!t||typeof t!="object")return null;const n=e.split(".");let r=t;for(const i in n){const o=n[i];if(He(r,o)&&(r=r[o]),+i===n.length-1)return r;if(!r||typeof r!="object")return null}return null}function Nn(t){return t!==void 0&&t!=="false"&&t!==!1?!0:void 0}function ss(t){return Object.isFrozen(t)?t:Object.defineProperty(t,"__init",{enumerable:!1,value:!0})}function jf(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function fx(t,e,n){for(const r of n)r in t&&Object.defineProperty(e,r,{enumerable:!1,value:t[r]});return e}function Ff(){const t=[];let e=0;const n=i=>t.push(i),r=i=>{const o=t[e];return typeof o=="function"?o(i,s=>(e++,r(s===void 0?i:s))):(e=0,i)};return n.dispatch=r,n.unshift=i=>t.unshift(i),n.remove=i=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)},n}function Vg(){const t=new Map,e=new Map;let n;const r=(i,o)=>{if(n){n.set(o.name,[i,o]);return}t.has(o.name)&&t.get(o.name).forEach(s=>{(o.origin===i||s.modifiers.includes("deep"))&&s.listener(o)}),o.bubble&&i.bubble(o)};return r.on=(i,o)=>{const[s,...l]=i.split("."),a=o.receipt||So(),c={modifiers:l,event:s,listener:o,receipt:a};return t.has(s)?t.get(s).push(c):t.set(s,[c]),e.has(a)?e.get(a).push(s):e.set(a,[s]),a},r.off=i=>{var o;e.has(i)&&((o=e.get(i))===null||o===void 0||o.forEach(s=>{const l=t.get(s);Array.isArray(l)&&t.set(s,l.filter(a=>a.receipt!==i))}),e.delete(i))},r.pause=i=>{n||(n=new Map),i&&i.walk(o=>o._e.pause())},r.play=i=>{if(!n)return;const o=n;n=void 0,o.forEach(([s,l])=>r(s,l)),i&&i.walk(s=>s._e.play())},r}function hx(t,e,n,r,i=!0){return e._e(t,{payload:r,name:n,bubble:i,origin:t}),t}function dx(t,e,n){return ks(t.parent)&&t.parent._e(t.parent,n),t}function px(t,e,n,r){return e._e.on(n,r)}function mx(t,e,n){return e._e.off(n),t}const Hf=Ff();Hf((t,e)=>(t.message||(t.message=`E${t.code}`),e(t)));const Vf=Ff();Vf((t,e)=>{t.message||(t.message=`W${t.code}`);const n=e(t);return console&&typeof console.warn=="function"&&console.warn(n.message),n});function Di(t,e={}){Vf.dispatch({code:t,data:e})}function wn(t,e={}){throw Error(Hf.dispatch({code:t,data:e}).message)}function Un(t,e){const n={blocking:!1,key:So(),meta:{},type:"state",visible:!0,...t};return e&&n.value&&n.meta.localize!==!1&&(n.value=e.t(n),n.meta.locale=e.config.locale),n}const Cd={apply:xx,set:yx,remove:Ug,filter:vx,reduce:wx,release:Sx,touch:bx};function gx(t=!1){const e={};let n,r=t,i=[];const o=new Map;let s;const l=new Proxy(e,{get(...a){const[c,u]=a;return u==="buffer"?r:u==="_b"?i:u==="_m"?o:u==="_r"?s:He(Cd,u)?Cd[u].bind(null,e,l,n):Reflect.get(...a)},set(a,c,u){return c==="_n"?(n=u,s==="__n"&&zg(n,l),!0):c==="_b"?(i=u,!0):c==="buffer"?(r=u,!0):c==="_r"?(s=u,!0):(wn(101,n),!1)}});return l}function yx(t,e,n,r){if(e.buffer)return e._b.push([[r]]),e;if(t[r.key]!==r){if(typeof r.value=="string"&&r.meta.localize!==!1){const o=r.value;r.value=n.t(r),r.value!==o&&(r.meta.locale=n.props.locale)}const i=`message-${He(t,r.key)?"updated":"added"}`;t[r.key]=Object.freeze(n.hook.message.dispatch(r)),n.emit(i,r)}return e}function bx(t,e){for(const n in t){const r={...t[n]};e.set(r)}}function Ug(t,e,n,r){if(He(t,r)){const i=t[r];delete t[r],n.emit("message-removed",i)}return e.buffer===!0&&(e._b=e._b.filter(i=>(i[0]=i[0].filter(o=>o.key!==r),i[1]||i[0].length))),e}function vx(t,e,n,r,i){for(const o in t){const s=t[o];(!i||s.type===i)&&!r(s)&&Ug(t,e,n,o)}}function wx(t,e,n,r,i){for(const o in t){const s=t[o];i=r(i,s)}return i}function xx(t,e,n,r,i){if(Array.isArray(r)){if(e.buffer){e._b.push([r,i]);return}const o=new Set(r.map(s=>(e.set(s),s.key)));typeof i=="string"?e.filter(s=>s.type!==i||o.has(s.key)):typeof i=="function"&&e.filter(s=>!i(s)||o.has(s.key))}else for(const o in r){const s=n.at(o);s?s.store.apply(r[o],i):kx(n,e,o,r[o],i)}}function _x(t,...e){const n=`${t.name}-set`,r=i=>Un({key:jf(i),type:"error",value:i,meta:{source:n,autoClear:!0}});return e.filter(i=>!!i).map(i=>{if(typeof i=="string"&&(i=[i]),Array.isArray(i))return i.map(o=>r(o));{const o={};for(const s in i)Array.isArray(i[s])?o[s]=i[s].map(l=>r(l)):o[s]=[r(i[s])];return o}})}function kx(t,e,n,r,i){var o;const s=e._m;s.has(n)||s.set(n,[]),e._r||(e._r=zg(t,e)),(o=s.get(n))===null||o===void 0||o.push([r,i])}function zg(t,e){return t.on("child.deep",({payload:n})=>{e._m.forEach((r,i)=>{t.at(i)===n&&(r.forEach(([o,s])=>{n.store.apply(o,s)}),e._m.delete(i))}),e._m.size===0&&e._r&&(t.off(e._r),e._r=void 0)})}function Sx(t,e){e.buffer=!1,e._b.forEach(([n,r])=>e.apply(n,r)),e._b=[]}function Cx(){const t={};let e;return{count:(...n)=>Ex(e,t,...n),init(n){e=n,n.on("message-added.deep",Ed(t,1)),n.on("message-removed.deep",Ed(t,-1))},merge:n=>Ad(e,t,n),settled(n){return He(t,n)?t[n].promise:Promise.resolve()},unmerge:n=>Ad(e,t,n,!0),value(n){return He(t,n)?t[n].count:0}}}function Ex(t,e,n,r,i=0){if(r=Ax(r||n),!He(e,n)){const o={condition:r,count:0,name:n,node:t,promise:Promise.resolve(),resolve:()=>{}};e[n]=o,i=t.store.reduce((s,l)=>s+o.condition(l)*1,i),t.each(s=>{s.ledger.count(o.name,o.condition),i+=s.ledger.value(o.name)})}return qg(e[n],i).promise}function Ax(t){return typeof t=="function"?t:e=>e.type===t}function qg(t,e){const n=t.count,r=t.count+e;return t.count=r,n===0&&r!==0?(t.node.emit(`unsettled:${t.name}`,t.count,!1),t.promise=new Promise(i=>t.resolve=i)):n!==0&&r===0&&(t.node.emit(`settled:${t.name}`,t.count,!1),t.resolve()),t.node.emit(`count:${t.name}`,t.count,!1),t}function Ed(t,e){return n=>{for(const r in t){const i=t[r];i.condition(n.payload)&&qg(i,e)}}}function Ad(t,e,n,r=!1){for(const i in e){const o=e[i].condition;r||n.ledger.count(i,o);const s=n.ledger.value(i)*(r?-1:1);if(t)do t.ledger.count(i,o,s),t=t.parent;while(t)}}const Uf=new Map,ll=new Map,zf=Vg(),Ox=[];function Tx(t){t.props.id&&(Uf.set(t.props.id,t),ll.set(t,t.props.id),zf(t,{payload:t,name:t.props.id,bubble:!1,origin:t}))}function Lx(t){if(ll.has(t)){const e=ll.get(t);ll.delete(t),Uf.delete(e),zf(t,{payload:null,name:e,bubble:!1,origin:t})}}function _s(t){return Uf.get(t)}function Mx(t,e){Ox.push(zf.on(t,e))}function Xc(t,e,n){let r=!0;return e in t.config._t?r=!1:t.emit(`config:${e}`,n,!1),e in t.props||(t.emit("prop",{prop:e,value:n}),t.emit(`prop:${e}`,n)),r}function Rx(t={}){const e=new Set,n={...t,_add:i=>e.add(i),_rm:i=>e.delete(i)};return new Proxy(n,{set(i,o,s,l){return typeof o=="string"&&e.forEach(a=>Xc(a,o,s)),Reflect.set(i,o,s,l)}})}function Wg(t){const e=document.getElementById(t);if(e instanceof HTMLFormElement){const n=new Event("submit",{cancelable:!0,bubbles:!0});e.dispatchEvent(n);return}Di(151,t)}function Px(t){const e=n=>{for(const r in n.store){const i=n.store[r];i.type==="error"||i.type==="ui"&&r==="incomplete"?n.store.remove(r):i.type==="state"&&n.store.set({...i,value:!1})}};e(t),t.walk(e)}function Kg(t,e){const n=typeof t=="string"?_s(t):t;if(n){const r=o=>Bn(o.props.initial)||(o.type==="group"?{}:o.type==="list"?[]:void 0);n._e.pause(n),n.input(Bn(e)||r(n),!1),n.walk(o=>o.input(r(o),!1));const i=r(n);return n.input(typeof i=="object"?Bn(e)||ss(i):i,!1),n._e.play(n),Px(n),n.emit("reset",n),n}Di(152,t)}const Dx={delimiter:".",delay:0,locale:"en",rootClasses:t=>({[`formkit-${Hg(t)}`]:!0})},Jg=Symbol("index"),Qc=Symbol("removed"),Zc=Symbol("moved"),Gg=Symbol("inserted");function Ix(t){return t.type==="list"&&Array.isArray(t._value)}function ks(t){return t&&typeof t=="object"&&t.__FKNode__===!0}const al=(t,e,n)=>{wn(102,[t,n])},$x={_c:nt(r_,al,!1),add:nt(Gx),addProps:nt(Jx),address:nt(o_,al,!1),at:nt(s_),bubble:nt(dx),clearErrors:nt(p_),calm:nt(qx),config:nt(!1),define:nt(Kx),disturb:nt(zx),destroy:nt(Wx),hydrate:nt(Ux),index:nt(n_,t_,!1),input:nt(Xg),each:nt(Qx),emit:nt(hx),find:nt(a_),on:nt(px),off:nt(mx),parent:nt(!1,Yx),plugins:nt(!1),remove:nt(Xx),root:nt(u_,al,!1),reset:nt(d_),resetConfig:nt(e_),setErrors:nt(e0),submit:nt(h_),t:nt(f_),use:nt(qf),name:nt(i_,!1,!1),walk:nt(Zx)};function Bx(){return new Map(Object.entries($x))}function nt(t,e,n=!0){return{get:t?(r,i)=>n?(...o)=>t(r,i,...o):t(r,i):!1,set:e!==void 0?e:al.bind(null)}}function Nx(){const t=new Map;return new Proxy(t,{get(e,n){return t.has(n)||t.set(n,Ff()),t.get(n)}})}let jx=0,Fx=0;function Hx(t){var e,n;return((e=t.parent)===null||e===void 0?void 0:e.type)==="list"?Jg:t.name||`${((n=t.props)===null||n===void 0?void 0:n.type)||"input"}_${++jx}`}function Yg(t){return t.type==="group"?ss(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)?t.value:{}):t.type==="list"?ss(Array.isArray(t.value)?t.value:[]):t.value}function Xg(t,e,n,r=!0){return e._value=Vx(t,t.hook.input.dispatch(n)),t.emit("input",e._value),e.isSettled&&t.disturb(),r?(e._tmo&&clearTimeout(e._tmo),e._tmo=setTimeout(Rl,t.props.delay,t,e)):Rl(t,e),e.settled}function Vx(t,e){switch(t.type){case"input":break;case"group":(!e||typeof e!="object")&&wn(107,[t,e]);break;case"list":Array.isArray(e)||wn(108,[t,e]);break}return e}function Rl(t,e,n=!0,r=!0){e._value=e.value=t.hook.commit.dispatch(e._value),t.type!=="input"&&r&&t.hydrate(),t.emit("commit",e.value),n&&t.calm()}function Qg(t,{name:e,value:n,from:r}){if(!Object.isFrozen(t._value)){if(Ix(t)){const i=n===Qc?[]:n===Zc&&typeof r=="number"?t._value.splice(r,1):[n];t._value.splice(e,n===Zc||r===Gg?0:1,...i);return}n!==Qc?t._value[e]=n:delete t._value[e]}}function Ux(t,e){const n=e._value;return e.children.forEach(r=>{if(typeof n=="object")if(r.name in n){const i=r.type!=="input"||n[r.name]&&typeof n[r.name]=="object"?ss(n[r.name]):n[r.name];r.input(i,!1)}else(t.type!=="list"||typeof r.name=="number")&&Qg(e,{name:r.name,value:r.value}),n.__init||(r.type==="group"?r.input({},!1):r.type==="list"?r.input([],!1):r.input(void 0,!1))}),t}function zx(t,e){var n;return e._d<=0&&(e.isSettled=!1,t.emit("settled",!1,!1),e.settled=new Promise(r=>{e._resolve=r}),t.parent&&((n=t.parent)===null||n===void 0||n.disturb())),e._d++,t}function qx(t,e,n){var r;if(n!==void 0&&t.type!=="input")return Qg(e,n),Rl(t,e,!0,!1);e._d>0&&e._d--,e._d===0&&(e.isSettled=!0,t.emit("settled",!0,!1),t.parent&&((r=t.parent)===null||r===void 0||r.calm({name:t.name,value:e.value})),e._resolve&&e._resolve(e.value))}function Wx(t,e){t.emit("destroying",t),t.store.filter(()=>!1),t.parent&&(t.parent.emit("childRemoved",t),t.parent.remove(t)),Lx(t),e._value=e.value=void 0,t.emit("destroyed",t)}function Kx(t,e,n){e.type=n.type,e.props.definition=so(n),e.value=e._value=Yg({type:t.type,value:e.value}),n.forceTypeProp&&(t.props.type&&(t.props.originalType=t.props.type),e.props.type=n.forceTypeProp),n.family&&(e.props.family=n.family),n.features&&n.features.forEach(r=>r(t)),n.props&&t.addProps(n.props),t.emit("defined",n)}function Jx(t,e,n){var r;if(t.props.attrs){const i={...t.props.attrs};t.props._emit=!1;for(const s in i){const l=Xi(s);n.includes(l)&&(t.props[l]=i[s],delete i[s])}const o=Bn(e._value);t.props.initial=t.type!=="input"?ss(o):o,t.props._emit=!0,t.props.attrs=i,t.props.definition&&(t.props.definition.props=[...((r=t.props.definition)===null||r===void 0?void 0:r.props)||[],...n])}return t.emit("added-props",n),t}function Gx(t,e,n,r){if(t.type==="input"&&wn(100,t),n.parent&&n.parent!==t&&n.parent.remove(n),e.children.includes(n)||(r!==void 0&&t.type==="list"?(e.children.splice(r,0,n),Array.isArray(t.value)&&t.value.length<e.children.length&&t.disturb().calm({name:r,value:n.value,from:Gg})):e.children.push(n),n.isSettled||t.disturb()),n.parent!==t){if(n.parent=t,n.parent!==t)return t.remove(n),n.parent.add(n),t}else n.use(t.plugins);return Rl(t,e,!1),t.ledger.merge(n),t.emit("child",n),t}function Yx(t,e,n,r){return ks(r)?(t.parent&&t.parent!==r&&t.parent.remove(t),e.parent=r,t.resetConfig(),r.children.includes(t)?t.use(r.plugins):r.add(t),!0):r===null?(e.parent=null,!0):!1}function Xx(t,e,n){const r=e.children.indexOf(n);if(r!==-1){n.isSettled&&t.disturb(),e.children.splice(r,1);let i=Nn(n.props.preserve),o=n.parent;for(;i===void 0&&o;)i=Nn(o.props.preserve),o=o.parent;i?t.calm():t.calm({name:t.type==="list"?r:n.name,value:Qc}),n.parent=null,n.config._rmn=n}return t.ledger.unmerge(n),t}function Qx(t,e,n){e.children.forEach(r=>n(r))}function Zx(t,e,n,r=!1){e.children.forEach(i=>{(n(i)!==!1||!r)&&i.walk(n,r)})}function e_(t,e){const n=t.parent||void 0;e.config=Zg(t.config._t,n),t.walk(r=>r.resetConfig())}function qf(t,e,n,r=!0,i=!0){return Array.isArray(n)||n instanceof Set?(n.forEach(o=>qf(t,e,o)),t):(e.plugins.has(n)||(i&&typeof n.library=="function"&&n.library(t),r&&n(t)!==!1&&(e.plugins.add(n),t.children.forEach(o=>o.use(n)))),t)}function t_(t,e,n,r){if(ks(t.parent)){const i=t.parent.children,o=r>=i.length?i.length-1:r<0?0:r,s=i.indexOf(t);return s===-1?!1:(i.splice(s,1),i.splice(o,0,t),t.parent.children=i,t.parent.type==="list"&&t.parent.disturb().calm({name:o,value:Zc,from:s}),!0)}return!1}function n_(t){if(t.parent){const e=[...t.parent.children].indexOf(t);return e===-1?t.parent.children.length:e}return-1}function r_(t,e){return e}function i_(t,e){var n;return((n=t.parent)===null||n===void 0?void 0:n.type)==="list"?t.index:e.name!==Jg?e.name:t.index}function o_(t,e){return e.parent?e.parent.address.concat([t.name]):[t.name]}function s_(t,e,n){const r=typeof n=="string"?n.split(t.config.delimiter):n;if(!r.length)return;const i=r[0];let o=t.parent;for(o||(String(r[0])===String(t.name)&&r.shift(),o=t),i==="$parent"&&r.shift();o&&r.length;){const s=r.shift();switch(s){case"$root":o=t.root;break;case"$parent":o=o.parent;break;case"$self":o=t;break;default:o=o.children.find(l=>String(l.name)===String(s))||l_(o,s)}}return o||void 0}function l_(t,e){const n=String(e).match(/^(find)\((.*)\)$/);if(n){const[,r,i]=n,o=i.split(",").map(s=>s.trim());switch(r){case"find":return t.find(o[0],o[1]);default:return}}}function a_(t,e,n,r){return c_(t,n,r)}function c_(t,e,n="name"){const r=typeof n=="string"?o=>o[n]==e:n,i=[t];for(;i.length;){const o=i.shift();if(r(o,e))return o;i.push(...o.children)}}function u_(t){let e=t;for(;e.parent;)e=e.parent;return e}function Zg(t={},e){let n;return new Proxy(t,{get(...r){const i=r[1];if(i==="_t")return t;const o=Reflect.get(...r);if(o!==void 0)return o;if(e){const s=e.config[i];if(s!==void 0)return s}if(t.rootConfig&&typeof i=="string"){const s=t.rootConfig[i];if(s!==void 0)return s}return i==="delay"&&(n==null?void 0:n.type)==="input"?20:Dx[i]},set(...r){const i=r[1],o=r[2];if(i==="_n")return n=o,t.rootConfig&&t.rootConfig._add(n),!0;if(i==="_rmn")return t.rootConfig&&t.rootConfig._rm(n),n=void 0,!0;if(!An(t[i],o,!1)){const s=Reflect.set(...r);return n&&(n.emit(`config:${i}`,o,!1),Xc(n,i,o),n.walk(l=>Xc(l,i,o),!0)),s}return!0}})}function f_(t,e,n,r="ui"){const i=typeof n=="string"?{key:n,value:n,type:r}:n,o=t.hook.text.dispatch(i);return t.emit("text",o,!1),o.value}function h_(t){const e=t.name;do{if(t.props.isForm===!0)break;t.parent||wn(106,e),t=t.parent}while(t);t.props.id&&Wg(t.props.id)}function d_(t,e,n){return Kg(t,n)}function e0(t,e,n,r){const i=`${t.name}-set`,o=t.hook.setErrors.dispatch({localErrors:n,childErrors:r});return _x(t,o.localErrors,o.childErrors).forEach(s=>{t.store.apply(s,l=>l.meta.source===i)}),t}function p_(t,e,n=!0,r){return e0(t,e,[]),n&&(r=r||`${t.name}-set`,t.walk(i=>{i.store.filter(o=>!(o.type==="error"&&o.meta&&o.meta.source===r))})),t}function m_(t){return He(t.props,"id")||(t.props.id=`input_${Fx++}`),t}function g_(t){const e={initial:typeof t=="object"?Bn(t):t};let n,r=!0;return new Proxy(e,{get(...i){const[o,s]=i;if(He(e,s))return Reflect.get(...i);if(n&&typeof s=="string"&&n.config[s]!==void 0)return n.config[s]},set(i,o,s,l){if(o==="_n")return n=s,!0;if(o==="_emit")return r=s,!0;const{prop:a,value:c}=n.hook.prop.dispatch({prop:o,value:s});if(!An(e[a],c,!1)||typeof c=="object"){const u=Reflect.set(i,a,c,l);return r&&(n.emit("prop",{prop:a,value:c}),typeof a=="string"&&n.emit(`prop:${a}`,c)),u}return!0}})}function y_(t,e){if(t.props.definition)return t.define(t.props.definition);for(const n of e){if(t.props.definition)return;typeof n.library=="function"&&n.library(t)}}function b_(t){const e=Yg(t),n=Zg(t.config||{},t.parent);return{_d:0,_e:Vg(),_resolve:!1,_tmo:!1,_value:e,children:ix(t.children||[]),config:n,hook:Nx(),isCreated:!1,isSettled:!0,ledger:Cx(),name:Hx(t),parent:t.parent||null,plugins:new Set,props:g_(e),settled:Promise.resolve(e),store:gx(!0),traps:Bx(),type:t.type||"input",value:e}}function v_(t,e){var n;if(t.ledger.init(t.store._n=t.props._n=t.config._n=t),t.props._emit=!1,e.props&&Object.assign(t.props,e.props),t.props._emit=!0,y_(t,new Set([...e.plugins||[],...t.parent?t.parent.plugins:[]])),e.plugins)for(const r of e.plugins)qf(t,t._c,r,!0,!1);return m_(t),t.each(r=>t.add(r)),t.parent&&t.parent.add(t,e.index),t.type==="input"&&t.children.length&&wn(100,t),Xg(t,t._c,t._value,!1),t.store.release(),!((n=e.props)===null||n===void 0)&&n.id&&Tx(t),t.emit("created",t),t.isCreated=!0,t}function w_(t){const e=t||{},n=b_(e),r=new Proxy(n,{get(...i){const[,o]=i;if(o==="__FKNode__")return!0;const s=n.traps.get(o);return s&&s.get?s.get(r,n):Reflect.get(...i)},set(...i){const[,o,s]=i,l=n.traps.get(o);return l&&l.set?l.set(r,n,o,s):Reflect.set(...i)}});return v_(r,e)}function eu(t){return typeof t!="string"&&He(t,"$el")}function tu(t){return typeof t!="string"&&He(t,"$cmp")}function Ui(t){return!t||typeof t=="string"?!1:He(t,"if")&&He(t,"then")}function x_(t){return typeof t!="string"&&"$formkit"in t}function __(t){if(typeof t=="string")return{$el:"text",children:t};if(x_(t)){const{$formkit:e,for:n,if:r,children:i,bind:o,...s}=t;return Object.assign({$cmp:"FormKit",props:{...s,type:e}},r?{if:r}:{},n?{for:n}:{},i?{children:i}:{},o?{bind:o}:{})}return t}function Rn(t){let e;const n=new Set,r=function(m,p){return typeof m=="function"?m(p):m},i=[{"&&":(v,m,p)=>r(v,p)&&r(m,p),"||":(v,m,p)=>r(v,p)||r(m,p)},{"===":(v,m,p)=>r(v,p)===r(m,p),"!==":(v,m,p)=>r(v,p)!==r(m,p),"==":(v,m,p)=>r(v,p)==r(m,p),"!=":(v,m,p)=>r(v,p)!=r(m,p),">=":(v,m,p)=>r(v,p)>=r(m,p),"<=":(v,m,p)=>r(v,p)<=r(m,p),">":(v,m,p)=>r(v,p)>r(m,p),"<":(v,m,p)=>r(v,p)<r(m,p)},{"+":(v,m,p)=>r(v,p)+r(m,p),"-":(v,m,p)=>r(v,p)-r(m,p)},{"*":(v,m,p)=>r(v,p)*r(m,p),"/":(v,m,p)=>r(v,p)/r(m,p),"%":(v,m,p)=>r(v,p)%r(m,p)}],o=i.reduce((v,m)=>v.concat(Object.keys(m)),[]),s=new Set(o.map(v=>v.charAt(0)));function l(v,m,p,b){const y=v.filter(w=>w.startsWith(m));return y.length?y.find(w=>b.length>=p+w.length&&b.substring(p,p+w.length)===w?w:!1):!1}function a(v,m,p=1){let b=p?m.substring(v+1).trim():m.substring(0,v).trim();if(!b.length)return-1;if(!p){const w=b.split("").reverse(),x=w.findIndex(S=>s.has(S));b=w.slice(x).join("")}const y=b[0];return i.findIndex(w=>{const x=Object.keys(w);return!!l(x,y,0,b)})}function c(v,m){let p="";const b=m.length;let y=0;for(let w=v;w<b;w++){const x=m.charAt(w);if(x==="(")y++;else if(x===")")y--;else if(y===0&&x===" ")continue;if(y===0&&l(o,x,w,m))return[p,w-1];p+=x}return[p,m.length-1]}function u(v,m=0){const p=i[m],b=v.length,y=Object.keys(p);let w=0,x=!1,S=null,C="",_=null,A,M="",E="",k="",L="",R=0;const O=(T,P)=>{T?k+=P:C+=P};for(let T=0;T<b;T++)if(M=E,E=v.charAt(T),(E==="'"||E==='"')&&M!=="\\"&&(w===0&&!x||w&&!L)){w?L=E:x=E,O(w,E);continue}else if(x&&(E!==x||M==="\\")||L&&(E!==L||M==="\\")){O(w,E);continue}else if(x===E){x=!1,O(w,E);continue}else if(L===E){L=!1,O(w,E);continue}else{if(E===" ")continue;if(E==="(")w===0?R=T:k+=E,w++;else if(E===")")if(w--,w===0){const P=typeof C=="string"&&C.startsWith("$")?C:void 0,D=P&&v.charAt(T+1)===".";let $="";D&&([$,T]=c(T+2,v));const G=S?m:a(R,v,0),ne=a(T,v);G===-1&&ne===-1?C=f(k,-1,P,$):S&&(G>=ne||ne===-1)&&m===G?(_=S.bind(null,f(k,-1,P,$)),S=null,C=""):ne>G&&m===ne?C=f(k,-1,P,$):C+=`(${k})${D?`.${$}`:""}`,k=""}else k+=E;else if(w===0&&(A=l(y,E,T,v))){T===0&&wn(103,[A,v]),T+=A.length-1,T===v.length-1&&wn(104,[A,v]),S?C&&(_=S.bind(null,f(C,m)),S=p[A].bind(null,_),C=""):_?(S=p[A].bind(null,f(_,m)),_=null):(S=p[A].bind(null,f(C,m)),C="");continue}else O(w,E)}return C&&S&&(S=S.bind(null,f(C,m))),S=!S&&_?_:S,!S&&C&&(S=(T,P)=>typeof T=="function"?T(P):T,S=S.bind(null,f(C,m))),!S&&!C&&wn(105,v),S}function f(v,m,p,b){if(p){const y=f(p,i.length);let w,x=b?Rn(`$${b}`):!1;if(typeof y=="function"){const S=cx(String(v)).map(C=>f(C,-1));return C=>{const _=y(C);return typeof _!="function"?(Di(150,p),_):(w=_(...S.map(A=>typeof A=="function"?A(C):A)),x&&(x=x.provide(A=>{const M=e(A);return A.reduce((k,L)=>{if(L===b||(b==null?void 0:b.startsWith(`${L}(`))){const O=ux(w,L);k[L]=()=>O}else k[L]=M[L];return k},{})})),x?x():w)}}}else if(typeof v=="string"){if(v==="true")return!0;if(v==="false")return!1;if(v==="undefined")return;if(lx(v))return ax(v.substring(1,v.length-1));if(!isNaN(+v))return Number(v);if(m<i.length-1)return u(v,m+1);if(v.startsWith("$")){const y=v.substring(1);return n.add(y),function(x){return y in x?x[y]():void 0}}return v}return v}const h=u(t.startsWith("$:")?t.substring(2):t),d=Array.from(n);function g(v){return e=v,Object.assign(h.bind(null,v(d)),{provide:g})}return Object.assign(h,{provide:g})}function cl(t,e,n){return n?typeof n=="string"?n.split(" ").reduce((i,o)=>Object.assign(i,{[o]:!0}),{}):typeof n=="function"?cl(t,e,n(e,t)):n:{}}function k_(t,e,...n){const r=n.reduce((i,o)=>{if(!o)return ac(i);const{$reset:s,...l}=o;return ac(s?l:Object.assign(i,l))},{});return Object.keys(t.hook.classes.dispatch({property:e,classes:r}).classes).filter(i=>r[i]).join(" ")||null}function ac(t){const e="$remove:";let n=!1;const r=Object.keys(t).filter(i=>(t[i]&&i.startsWith(e)&&(n=!0),t[i]));return r.length>1&&n&&r.filter(o=>o.startsWith(e)).map(o=>{const s=o.substring(e.length);t[s]=!1,t[o]=!1}),t}function S_(t,e,n){const r=_s(t);r?r.setErrors(e,n):Di(651,t)}function C_(t,e=!0){const n=_s(t);n?n.clearErrors(e):Di(652,t)}const Pl="0.16.4";function E_(...t){const e=t.reduce((r,i)=>Li(r,i),{}),n=()=>{};return n.library=function(r){const i=Xi(r.props.type);He(e,i)&&r.define(e[i])},n}function A_(t){let e=1;return Array.isArray(t)?t.map(n=>typeof n=="string"||typeof n=="number"?{label:String(n),value:String(n)}:(typeof n=="object"&&"value"in n&&typeof n.value!="string"&&Object.assign(n,{value:`__mask_${e++}`,__original:n.value}),n)):Object.keys(t).map(n=>({label:t[n],value:n}))}function lo(t,e){if(Array.isArray(t)){for(const n of t)if(e==n.value)return"__original"in n?n.__original:n.value}return e}function ao(t,e){return t===null&&e===void 0||t===void 0&&e===null?!1:t==e?!0:Ti(t)&&Ti(e)?An(t,e):!1}function Wf(t){t.hook.prop((e,n)=>(e.prop==="options"&&(typeof e.value=="function"?(t.props.optionsLoader=e.value,e.value=[]):e.value=A_(e.value)),n(e)))}const Ii=Ge("outer",()=>({$el:"div",attrs:{key:"$id","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-disabled":"$disabled || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}}),!0),Qr=Ge("inner","div"),Ss=Ge("wrapper","div"),ba=Ge("label",()=>({$el:"label",if:"$label",attrs:{for:"$id"}})),si=Ge("messages",()=>({$el:"ul",if:"$defaultMessagePlacement && $fns.length($messages)"})),li=Ge("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),Sr=Ge("prefix",null),Cr=Ge("suffix",null),Er=Ge("help",()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}})),t0=Ge("fieldset",()=>({$el:"fieldset",attrs:{id:"$id","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Dl=Ge("decorator",()=>({$el:"span",attrs:{"aria-hidden":"true"}})),Il=Ge("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",name:"$node.props.altName || $node.name",disabled:"$option.attrs.disabled || $disabled",onInput:"$handlers.toggleChecked",checked:"$fns.eq($_value, $onValue)",onBlur:"$handlers.blur",value:"$: true",id:"$id","aria-describedby":{if:"$options.length",then:{if:"$option.help",then:'$: "help-" + $option.attrs.id',else:void 0},else:{if:"$help",then:'$: "help-" + $id',else:void 0}}}})),n0=Ge("legend",()=>({$el:"legend",if:"$label"})),r0=Ge("option",()=>({$el:"li",for:["option","$options"],attrs:{"data-disabled":"$option.attrs.disabled || $disabled"}})),i0=Ge("options","ul"),$l=Ge("wrapper",()=>({$el:"label",attrs:{"data-disabled":{if:"$options.length",then:void 0,else:"$disabled || undefined"},"data-checked":{if:"$options == undefined",then:"$fns.eq($_value, $onValue) || undefined",else:"$fns.isChecked($option.value) || undefined"}}})),o0=Ge("optionHelp",()=>({$el:"div",if:"$option.help",attrs:{id:'$: "help-" + $option.attrs.id'}})),Bl=Ge("label","span"),O_=Ge("input",()=>({$el:"button",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",id:"$id"}})),T_=Ge("default",null),L_=Ge("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"file",disabled:"$disabled",name:"$node.name",onChange:"$handlers.files",onBlur:"$handlers.blur",id:"$id","aria-describedby":"$describedBy"}})),M_=Ge("fileItem",()=>({$el:"li",for:["file","$value"]})),R_=Ge("fileList",()=>({$el:"ul",if:"$value.length",attrs:{"data-has-multiple":{if:"$value.length > 1",then:"true"}}})),P_=Ge("fileName",()=>({$el:"span",attrs:{class:"$classes.fileName"}})),Od=Ge("fileRemove",()=>({$el:"button",attrs:{onClick:"$handlers.resetFiles"}})),D_=Ge("noFiles",()=>({$el:"span",if:"$value.length == 0"})),I_=Ge("form",()=>({$el:"form",bind:"$attrs",attrs:{id:"$id",name:"$node.name",onSubmit:"$handlers.submit","data-loading":"$state.loading || undefined"}}),!0),$_=Ge("actions",()=>({$el:"div",if:"$actions"})),B_=Ge("submit",()=>({$cmp:"FormKit",bind:"$submitAttrs",props:{type:"submit",disabled:"$disabled",label:"$submitLabel"}})),s0=Ge("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy"}})),l0=Ge("wrapper",null,!0),N_=Ge("input",()=>({$el:"select",bind:"$attrs",attrs:{id:"$id","data-placeholder":"$fns.showPlaceholder($_value, $placeholder)",disabled:"$disabled",class:"$classes.input",name:"$node.name",onChange:"$handlers.onChange",onInput:"$handlers.selectInput",onBlur:"$handlers.blur","aria-describedby":"$describedBy"}})),j_=Ge("option",()=>({$el:"option",for:["option","$options"],bind:"$option.attrs",attrs:{class:"$classes.option",value:"$option.value",selected:"$fns.isSelected($option)"}})),F_=()=>({$el:null,if:"$options.length",for:["option","$options"],children:"$slots.option"}),H_=Ge("input",()=>({$el:"textarea",bind:"$attrs",attrs:{disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy"},children:"$initialValue"})),Ht=(t,e)=>Ge(`${t}Icon`,()=>{const n=`_raw${t.charAt(0).toUpperCase()}${t.slice(1)}Icon`;return{if:`$${t}Icon && $${n}`,$el:`${e||"span"}`,attrs:{class:`$classes.${t}Icon + " formkit-icon"`,innerHTML:`$${n}`,onClick:`$handlers.iconClick(${t})`,for:{if:`${e==="label"}`,then:"$id"}}}})();function a0(t){return function(e,n){return e.prop==="options"&&Array.isArray(e.value)&&(e.value=e.value.map(r=>{var i;return!((i=r.attrs)===null||i===void 0)&&i.id?r:Li(r,{attrs:{id:`${t.name}-option-${jf(String(r.value))}`}})}),t.props.type==="checkbox"&&!Array.isArray(t.value)&&(t.isCreated?t.input([],!1):t.on("created",()=>{Array.isArray(t.value)||t.input([],!1)}))),n(e)}}function V_(t,e){const n=e.target;if(n instanceof HTMLInputElement){const r=Array.isArray(t.props.options)?lo(t.props.options,n.value):n.value;Array.isArray(t.props.options)&&t.props.options.length?Array.isArray(t._value)?t._value.some(i=>ao(r,i))?t.input(t._value.filter(i=>!ao(r,i))):t.input([...t._value,r]):t.input([r]):n.checked?t.input(t.props.onValue):t.input(t.props.offValue)}}function U_(t,e){var n,r;return(n=t.context)===null||n===void 0||n.value,(r=t.context)===null||r===void 0||r._value,Array.isArray(t._value)?t._value.some(i=>ao(lo(t.props.options,e),i)):!1}function z_(t){t.on("created",()=>{var e,n;!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.toggleChecked=V_.bind(null,t)),!((n=t.context)===null||n===void 0)&&n.fns&&(t.context.fns.isChecked=U_.bind(null,t)),He(t.props,"onValue")||(t.props.onValue=!0),He(t.props,"offValue")||(t.props.offValue=!1)}),t.hook.prop(a0(t))}function va(t){t.on("created",()=>{t.props.disabled=Nn(t.props.disabled)}),t.hook.prop(({prop:e,value:n},r)=>(n=e==="disabled"?Nn(n):n,r({prop:e,value:n}))),t.on("prop:disabled",({payload:e})=>{t.config.disabled=Nn(e)}),t.on("created",()=>{t.config.disabled=Nn(t.props.disabled)})}function ul(t,e){return n=>{n.store.set(Un({key:t,type:"ui",value:e||t,meta:{localize:!0,i18nArgs:[n]}}))}}const Td=typeof window<"u";function c0(t){t.target instanceof HTMLElement&&t.target.hasAttribute("data-file-hover")&&t.target.removeAttribute("data-file-hover")}function Ld(t,e){e.target instanceof HTMLInputElement?t==="dragover"&&e.target.setAttribute("data-file-hover","true"):e.preventDefault(),t==="drop"&&c0(e)}function q_(t){ul("noFiles","Select file")(t),ul("removeAll","Remove all")(t),ul("remove")(t),Td&&(window._FormKit_File_Drop||(window.addEventListener("dragover",Ld.bind(null,"dragover")),window.addEventListener("drop",Ld.bind(null,"drop")),window.addEventListener("dragleave",c0),window._FormKit_File_Drop=!0)),t.hook.input((e,n)=>n(Array.isArray(e)?e:[])),t.on("created",()=>{Array.isArray(t.value)||t.input([],!1),t.context&&(t.context.handlers.resetFiles=e=>{if(e.preventDefault(),t.input([]),t.props.id&&Td){const n=document.getElementById(t.props.id);n&&(n.value="")}},t.context.handlers.files=e=>{var n,r;const i=[];if(e.target instanceof HTMLInputElement&&e.target.files){for(let o=0;o<e.target.files.length;o++){let s;(s=e.target.files.item(o))&&i.push({name:s.name,file:s})}t.input(i)}t.context&&(t.context.files=i),typeof((n=t.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&((r=t.props.attrs)===null||r===void 0||r.onChange(e))})})}async function W_(t,e){e.preventDefault(),await t.settled;const n=r=>r.store.set(Un({key:"submitted",value:!0,visible:!1}));if(t.walk(n),n(t),typeof t.props.onSubmitRaw=="function"&&t.props.onSubmitRaw(e,t),t.ledger.value("blocking"))typeof t.props.onSubmitInvalid=="function"&&t.props.onSubmitInvalid(t),t.props.incompleteMessage!==!1&&t.store.set(Un({blocking:!1,key:"incomplete",meta:{localize:t.props.incompleteMessage===void 0,i18nArgs:[{node:t}],showAsMessage:!0},type:"ui",value:t.props.incompleteMessage||"Form incomplete."}));else if(typeof t.props.onSubmit=="function"){const r=t.props.onSubmit(t.hook.submit.dispatch(so(t.value)),t);if(r instanceof Promise){const i=t.props.disabled===void 0&&t.props.submitBehavior!=="live";i&&(t.props.disabled=!0),t.store.set(Un({key:"loading",value:!0,visible:!1})),await r,i&&(t.props.disabled=!1),t.store.remove("loading")}}else e.target instanceof HTMLFormElement&&e.target.submit()}function K_(t){t.props.isForm=!0,t.on("created",()=>{var e;!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.submit=W_.bind(null,t)),He(t.props,"actions")||(t.props.actions=!0)}),t.on("settled:blocking",()=>t.store.remove("incomplete"))}function J_(t){t.props.ignore===void 0&&(t.props.ignore=!0,t.parent=null)}function G_(t){t.on("created",()=>{t.context&&(t.context.initialValue=t.value||"")})}function Y_(t,e){e.target instanceof HTMLInputElement&&t.input(lo(t.props.options,e.target.value))}function X_(t,e){var n,r;return(n=t.context)===null||n===void 0||n.value,(r=t.context)===null||r===void 0||r._value,ao(lo(t.props.options,e),t._value)}function Q_(t){t.on("created",()=>{var e,n;Array.isArray(t.props.options)||Di(350,t),!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.toggleChecked=Y_.bind(null,t)),!((n=t.context)===null||n===void 0)&&n.fns&&(t.context.fns.isChecked=X_.bind(null,t))}),t.hook.prop(a0(t))}function Z_(t,e){t.context&&t.context.value;const n="__original"in e?e.__original:e.value;function r(){return!t.props.options.some(i=>("__original"in i?i.__original:i.value)===null)}return Array.isArray(t._value)?t._value.some(i=>ao(i,n)):(t._value===void 0||t._value===null&&r())&&e.attrs&&e.attrs["data-is-placeholder"]?!0:ao(n,t._value)}async function ek(t,e){var n;typeof((n=t.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&(await new Promise(r=>setTimeout(r,0)),await t.settled,t.props.attrs.onChange(e))}function tk(t,e){const n=e.target,r=n.hasAttribute("multiple")?Array.from(n.selectedOptions).map(i=>lo(t.props.options,i.value)):lo(t.props.options,n.value);t.input(r)}function Md(t,e){return t.some(n=>n.attrs&&n.attrs["data-is-placeholder"])?t:[{label:e,value:"",attrs:{hidden:!0,disabled:!0,"data-is-placeholder":"true"}},...t]}function nk(t){t.on("created",()=>{var e,n,r;const i=Nn((e=t.props.attrs)===null||e===void 0?void 0:e.multiple);!i&&t.props.placeholder&&Array.isArray(t.props.options)&&(t.hook.prop(({prop:o,value:s},l)=>(o==="options"&&(s=Md(s,t.props.placeholder)),l({prop:o,value:s}))),t.props.options=Md(t.props.options,t.props.placeholder)),i?t.value===void 0&&t.input([],!1):t.context&&!t.context.options&&(t.props.attrs=Object.assign({},t.props.attrs,{value:t._value}),t.on("input",({payload:o})=>{t.props.attrs=Object.assign({},t.props.attrs,{value:o})})),!((n=t.context)===null||n===void 0)&&n.handlers&&(t.context.handlers.selectInput=tk.bind(null,t),t.context.handlers.onChange=ek.bind(null,t)),!((r=t.context)===null||r===void 0)&&r.fns&&(t.context.fns.isSelected=Z_.bind(null,t),t.context.fns.showPlaceholder=(o,s)=>{if(!Array.isArray(t.props.options))return!1;const l=t.props.options.some(a=>{if(a.attrs&&"data-is-placeholder"in a.attrs)return!1;const c="__original"in a?a.__original:a.value;return An(o,c)});return s&&!l?!0:void 0})}),t.hook.input((e,n)=>{var r,i,o;return!t.props.placeholder&&e===void 0&&Array.isArray((r=t.props)===null||r===void 0?void 0:r.options)&&t.props.options.length&&!Nn((o=(i=t.props)===null||i===void 0?void 0:i.attrs)===null||o===void 0?void 0:o.multiple)&&(e="__original"in t.props.options[0]?t.props.options[0].__original:t.props.options[0].value),n(e)})}function Qi(t,e){return n=>{n.props[`${t}Icon`]===void 0&&(n.props[`${t}Icon`]=`default:${e}`)}}function Nl(t){return typeof t=="object"&&("$el"in t||"$cmp"in t||"$formkit"in t)}function nu(t){return!!(Ui(t)&&t.if&&t.if.startsWith("$slots.")&&typeof t.then=="string"&&t.then.startsWith("$slots.")&&"else"in t)}function jo(t,e={}){return typeof t=="string"?Nl(e)||typeof e=="string"?e:t:Array.isArray(t)?Nl(e)?e:t:Li(t,e)}function Ge(t,e,n=!1){return(...r)=>{const i=o=>{const s=!e||typeof e=="string"?{$el:e}:e();return(eu(s)||tu(s))&&(s.meta||(s.meta={section:t}),r.length&&!s.children&&(s.children=[...r.map(l=>typeof l=="string"?l:l(o))]),eu(s)&&(s.attrs={class:`$classes.${t}`,...s.attrs||{}})),{if:`$slots.${t}`,then:`$slots.${t}`,else:t in o?jo(s,o[t]):s}};return i._s=t,n?u0(i):i}}function u0(t){return e=>[t(e)]}function jn(t,e,n){const r=i=>{const o=e(i);if(n||Nl(o)&&"if"in o||nu(o)){const s={if:t,then:o};return n&&(s.else=n(i)),s}else nu(o)?Object.assign(o.else,{if:t}):Nl(o)&&Object.assign(o,{if:t});return o};return r._s=So(),r}function fl(t,e){const n=r=>{const i=t({});return nu(i)?(Array.isArray(i.else)||(i.else=jo(jo(i.else,e),t._s?r[t._s]:{})),i):jo(jo(i,e),t._s?r[t._s]:{})};return n._s=t._s,n}function rk(t){return u0(t)}const Rd={schema:Ii(si(li("$message.value")),Ss(O_(Ht("prefix"),Sr(),T_("$label || $ui.submit.value"),Cr(),Ht("suffix"))),Er("$help")),type:"input",family:"button",props:[],features:[ul("submit"),J_]},ik={schema:Ii(jn("$options == undefined",$l(Qr(Sr(),Il(),Dl(Ht("decorator")),Cr()),fl(Bl("$label"),{if:"$label"})),t0(n0("$label"),Er("$help"),i0(r0($l(Qr(Sr(),fl(Il(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Dl(Ht("decorator")),Cr()),fl(Bl("$option.label"),{if:"$option.label"})),o0("$option.help"))))),jn("$options == undefined && $help",Er("$help")),si(li("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[Wf,z_,Qi("decorator","checkboxDecorator")]},ok={schema:Ii(Ss(ba("$label"),Qr(Ht("prefix","label"),Sr(),L_(),R_(M_(Ht("fileItem"),P_("$file.name"),jn("$value.length === 1",Od(Ht("fileRemove"),"$ui.remove.value")))),jn("$value.length > 1",Od("$ui.removeAll.value")),D_(Ht("noFiles"),"$ui.noFiles.value"),Cr(),Ht("suffix"))),Er("$help"),si(li("$message.value"))),type:"input",family:"text",props:[],features:[q_,Qi("fileItem","fileItem"),Qi("fileRemove","fileRemove"),Qi("noFiles","noFiles")]},sk={schema:I_("$slots.default",si(li("$message.value")),$_(B_())),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],features:[K_,va]},lk={schema:l0("$slots.default"),type:"group",props:[],features:[va]},ak={schema:rk(s0()),type:"input",props:[],features:[]},ck={schema:l0("$slots.default"),type:"list",props:[],features:[va]},uk={schema:Ii(jn("$options == undefined",$l(Qr(Sr(),Il(),Dl(Ht("decorator")),Cr()),jn("$label",Bl("$label"))),t0(n0("$label"),Er("$help"),i0(r0($l(Qr(Sr(),fl(Il(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Dl(Ht("decorator")),Cr()),jn("$option.label",Bl("$option.label"))),o0("$option.help"))))),jn("$options === undefined && $help",Er("$help")),si(li("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[va,Wf,Q_,Qi("decorator","radioDecorator")]},fk={schema:Ii(Ss(ba("$label"),Qr(Ht("prefix"),Sr(),N_(jn("$slots.default",()=>"$slots.default",jn("$slots.option",F_,j_("$option.label")))),jn("$attrs.multiple !== undefined",()=>"",Ht("select")),Cr(),Ht("suffix"))),Er("$help"),si(li("$message.value"))),type:"input",props:["options","placeholder","optionsLoader"],features:[Wf,nk,Qi("select","select")]},hk={schema:Ii(Ss(ba("$label"),Qr(Ht("prefix","label"),Sr(),H_(),Cr(),Ht("suffix"))),Er("$help"),si(li("$message.value"))),type:"input",props:[],features:[G_]},un={schema:Ii(Ss(ba("$label"),Qr(Ht("prefix","label"),Sr(),s0(),Cr(),Ht("suffix"))),Er("$help"),si(li("$message.value"))),type:"input",family:"text",props:[],features:[]};var dk=Object.freeze({__proto__:null,button:Rd,submit:Rd,checkbox:ik,file:ok,form:sk,group:lk,hidden:ak,list:ck,radio:uk,select:fk,textarea:hk,text:un,color:un,date:un,datetimeLocal:un,email:un,month:un,number:un,password:un,search:un,tel:un,time:un,url:un,week:un,range:un});const f0=function({value:e}){return["yes","on","1",1,!0,"true"].includes(e)};f0.skipEmpty=!1;const pk=function({value:t},e=!1){const n=Date.parse(e||new Date),r=Date.parse(String(t));return isNaN(r)?!1:r>n},mk=function({value:t},e="default"){const n={default:/^[a-zA-Z---]+$/,latin:/^[a-zA-Z]+$/},r=He(n,e)?e:"default";return n[r].test(String(t))},gk=function({value:t},e="default"){const n={default:/^[a-zA-Z--- ]+$/,latin:/^[a-zA-Z ]+$/},r=He(n,e)?e:"default";return n[r].test(String(t))},yk=function({value:t},e="default"){const n={default:/^[a-zA-Z0-9---]+$/,latin:/^[a-zA-Z0-9]+$/},r=He(n,e)?e:"default";return n[r].test(String(t))},bk=function({value:t},e=!1){const n=Date.parse(e||new Date),r=Date.parse(String(t));return isNaN(r)?!1:r<n},vk=function({value:e},n,r){if(!isNaN(e)&&!isNaN(n)&&!isNaN(r)){const i=1*e;n=Number(n),r=Number(r);const[o,s]=n<=r?[n,r]:[r,n];return i>=1*o&&i<=1*s}return!1},Pd=/(_confirm(?:ed)?)$/,wk=function(e,n,r="loose"){var i;n||(n=Pd.test(e.name)?e.name.replace(Pd,""):`${e.name}_confirm`);const o=(i=e.at(n))===null||i===void 0?void 0:i.value;return r==="strict"?e.value===o:e.value==o},xk=function({value:e},n,r){n=n instanceof Date?n.getTime():Date.parse(n),r=r instanceof Date?r.getTime():Date.parse(r);const i=e instanceof Date?e.getTime():Date.parse(String(e));if(n&&!r)r=n,n=Date.now();else if(!n||!i)return!1;return i>=n&&i<=r},_k=function({value:e},n){return n&&typeof n=="string"?sx(n).test(String(e)):!isNaN(Date.parse(String(e)))},kk=function({value:e}){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e))},Sk=function({value:e},...n){return typeof e=="string"&&n.length?n.some(r=>e.endsWith(r)):typeof e=="string"&&n.length===0},Ck=function({value:e},...n){return n.some(r=>typeof r=="object"?An(r,e):r==e)},Ek=function({value:e},n=0,r=1/0){n=parseInt(n),r=isNaN(parseInt(r))?1/0:parseInt(r);const i=n<=r?n:r,o=r>=n?r:n;if(typeof e=="string"||Array.isArray(e))return e.length>=i&&e.length<=o;if(e&&typeof e=="object"){const s=Object.keys(e).length;return s>=i&&s<=o}return!1},Ak=function({value:e},...n){return n.some(r=>(typeof r=="string"&&r.substr(0,1)==="/"&&r.substr(-1)==="/"&&(r=new RegExp(r.substr(1,r.length-2))),r instanceof RegExp?r.test(String(e)):r===e))},Ok=function({value:e},n=10){return Array.isArray(e)?e.length<=n:Number(e)<=Number(n)},Tk=function({value:e},n=1){return Array.isArray(e)?e.length>=n:Number(e)>=Number(n)},Lk=function({value:e},...n){return!n.some(r=>typeof r=="object"?An(r,e):r===e)},Mk=function({value:e}){return!isNaN(e)},h0=function({value:e},n="default"){return n==="trim"&&typeof e=="string"?!os(e.trim()):!os(e)};h0.skipEmpty=!1;const Rk=function({value:e},...n){return typeof e=="string"&&n.length?n.some(r=>e.startsWith(r)):typeof e=="string"&&n.length===0},Pk=function({value:e},...n){try{const r=n.length?n:["http:","https:"],i=new URL(String(e));return r.includes(i.protocol)}catch{return!1}},Dk=Object.freeze(Object.defineProperty({__proto__:null,accepted:f0,alpha:mk,alpha_spaces:gk,alphanumeric:yk,between:vk,confirm:wk,date_after:pk,date_before:bk,date_between:xk,date_format:_k,email:kk,ends_with:Sk,is:Ck,length:Ek,matches:Ak,max:Ok,min:Tk,not:Lk,number:Mk,required:h0,starts_with:Rk,url:Pk},Symbol.toStringTag,{value:"Module"})),d0=new WeakSet;function ls(t,e){const n=e||Object.assign(new Map,{active:!1}),r=new Map,i=function(u){var f;n.active&&(n.has(t)||n.set(t,new Set),(f=n.get(t))===null||f===void 0||f.add(u))},o=function(u){return new Proxy(u,{get(...f){return typeof f[1]=="string"&&i(`prop:${f[1]}`),Reflect.get(...f)}})},s=function(u){return new Proxy(u,{get(...f){return f[1]==="value"?h=>(i(`count:${h}`),u.value(h)):Reflect.get(...f)}})},l=function(u,f){return ks(u)?ls(u,n):(f==="value"&&i("commit"),f==="props"?o(u):f==="ledger"?s(u):u)},{proxy:a,revoke:c}=Proxy.revocable(t,{get(...u){switch(u[1]){case"_node":return t;case"deps":return n;case"watch":return(h,d)=>g0(a,h,d);case"observe":return()=>{const h=new Map(n);return n.clear(),n.active=!0,h};case"stopObserve":return()=>{const h=new Map(n);return n.active=!1,h};case"receipts":return r;case"kill":return()=>{m0(r),d0.add(u[2]),c()}}const f=Reflect.get(...u);return typeof f=="function"?(...h)=>{const d=f(...h);return l(d,u[1])}:l(f,u[1])}});return a}function p0(t,[e,n],r){e.forEach((i,o)=>{i.forEach(s=>{var l;t.receipts.has(o)||t.receipts.set(o,{}),t.receipts.set(o,Object.assign((l=t.receipts.get(o))!==null&&l!==void 0?l:{},{[s]:o.on(s,r)}))})}),n.forEach((i,o)=>{i.forEach(s=>{if(t.receipts.has(o)){const l=t.receipts.get(o);l&&He(l,s)&&(o.off(l[s]),delete l[s],t.receipts.set(o,l))}})})}function m0(t){t.forEach((e,n)=>{for(const r in e)n.off(e[r])})}function g0(t,e,n){const r=s=>{const l=t.stopObserve();p0(t,y0(i,l),()=>g0(t,e,n)),n&&n(s)},i=new Map(t.deps);t.observe();const o=e(t);o instanceof Promise?o.then(s=>r(s)):r(o)}function y0(t,e){const n=new Map,r=new Map;return e.forEach((i,o)=>{if(!t.has(o))n.set(o,i);else{const s=new Set,l=t.get(o);i.forEach(a=>!(l!=null&&l.has(a))&&s.add(a)),n.set(o,s)}}),t.forEach((i,o)=>{if(!e.has(o))r.set(o,i);else{const s=new Set,l=e.get(o);i.forEach(a=>!(l!=null&&l.has(a))&&s.add(a)),r.set(o,s)}}),[n,r]}function b0(t){return d0.has(t)}const Dd=Un({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function Ik(t={}){return function(n){let r=Bn(n.props.validationRules||{}),i={...t,...r},o=ls(n);const s={input:So(),rerun:null,isPassing:!0};let l=Bn(n.props.validation);n.on("prop:validation",({payload:c})=>a(c,i)),n.on("prop:validationRules",({payload:c})=>a(l,c));function a(c,u){var f;An(Object.keys(r||{}),Object.keys(u||{}))&&An(l,c)||(r=Bn(u),l=Bn(c),i={...t,...r},m0(o.receipts),(f=n.props.parsedRules)===null||f===void 0||f.forEach(h=>{var d;h.messageObserver=(d=h.messageObserver)===null||d===void 0?void 0:d.kill()}),n.store.filter(()=>!1,"validation"),n.props.parsedRules=$d(c,i),o.kill(),o=ls(n),ru(o,n.props.parsedRules,s))}n.props.parsedRules=$d(l,i),ru(o,n.props.parsedRules,s)}}function ru(t,e,n){b0(t)||(n.input=So(),n.isPassing=!0,t.store.filter(r=>!r.meta.removeImmediately,"validation"),e.forEach(r=>r.debounce&&clearTimeout(r.timer)),e.length&&(t.store.set(Dd),iu(0,e,t,n,!1,()=>{t.store.remove(Dd.key)})))}function iu(t,e,n,r,i,o){const s=e[t];if(!s)return o();const l=r.input;s.state=null;function a(c,u){r.isPassing=r.isPassing&&!!u,s.queued=!1;const f=n.stopObserve();p0(n,y0(s.deps,f),()=>{s.queued=!0,r.rerun&&clearTimeout(r.rerun),r.rerun=setTimeout(ru,0,n,e,r)}),s.deps=f,r.input===l&&(s.state=u,u===!1?Nk(n,s,i||c):Bk(n,s),e.length>t+1?iu(t+1,e,n,r,i||c,o):o())}(!os(n.value)||!s.skipEmpty)&&(r.isPassing||s.force)?s.queued?$k(s,n,c=>{c instanceof Promise?c.then(u=>a(!0,u)):a(!1,c)}):iu(t+1,e,n,r,i,o):os(n.value)&&s.skipEmpty&&r.isPassing?(n.observe(),n.value,a(!1,r.isPassing)):a(!1,null)}function $k(t,e,n){t.debounce?t.timer=setTimeout(()=>{e.observe(),n(t.rule(e,...t.args))},t.debounce):(e.observe(),n(t.rule(e,...t.args)))}function Bk(t,e){const n=`rule_${e.name}`;e.messageObserver&&(e.messageObserver=e.messageObserver.kill()),He(t.store,n)&&t.store.remove(n)}function Nk(t,e,n){b0(t)||(e.messageObserver||(e.messageObserver=ls(t._node)),e.messageObserver.watch(r=>Fk(r,e),r=>{const i=jk(t,e,r),o=Un({blocking:e.blocking,key:`rule_${e.name}`,meta:{messageKey:e.name,removeImmediately:n,localize:!i,i18nArgs:r},type:"validation",value:i||"This field is not valid."});t.store.set(o)}))}function jk(t,e,n){const r=t.props.validationMessages&&He(t.props.validationMessages,e.name)?t.props.validationMessages[e.name]:void 0;return typeof r=="function"?r(...n):r}function Fk(t,e){return[{node:t,name:Hk(t),args:e.args}]}function Hk(t){return typeof t.props.validationLabel=="function"?t.props.validationLabel(t):t.props.validationLabel||t.props.label||t.props.name||String(t.name)}const v0="(?:[\\*+?()0-9]+)",w0="[a-zA-Z][a-zA-Z0-9_]+",Vk=new RegExp(`^(${v0}?${w0})(?:\\:(.*)+)?$`,"i"),Uk=new RegExp(`^(${v0})(${w0})$`,"i"),zk=/([\*+?]+)?(\(\d+\))([\*+?]+)?/,Id=/\(\d+\)/,qk={blocking:!0,debounce:0,force:!1,skipEmpty:!0,name:""};function $d(t,e){return t?(typeof t=="string"?Wk(t):so(t)).reduce((r,i)=>{let o=i.shift();const s={};if(typeof o=="string"){const[l,a]=Jk(o);He(e,l)&&(o=e[l],Object.assign(s,a))}return typeof o=="function"&&r.push({rule:o,args:i,timer:0,state:null,queued:!0,deps:new Map,...qk,...Gk(s,o)}),r},[]):[]}function Wk(t){return t.split("|").reduce((e,n)=>{const r=Kk(n);return r&&e.push(r),e},[])}function Kk(t){const e=t.trim();if(e){const n=e.match(Vk);if(n&&typeof n[1]=="string"){const r=n[1].trim(),i=n[2]&&typeof n[2]=="string"?n[2].split(",").map(o=>o.trim()):[];return[r,...i]}}return!1}function Jk(t){const e=t.match(Uk);if(!e)return[t,{name:t}];const n={"*":{force:!0},"+":{skipEmpty:!1},"?":{blocking:!1}},[,r,i]=e,o=Id.test(r)?r.match(zk)||[]:[,r];return[i,[o[1],o[2],o[3]].reduce((s,l)=>(l&&(Id.test(l)?s.debounce=parseInt(l.substr(1,l.length-1)):l.split("").forEach(a=>He(n,a)&&Object.assign(s,n[a]))),s),{name:i})]}function Gk(t,e){return t.name||(t.name=e.ruleName||e.name),["skipEmpty","force","debounce","blocking"].reduce((n,r)=>(He(e,r)&&!He(n,r)&&Object.assign(n,{[r]:e[r]}),n),t)}function bt(t){return t[0].toUpperCase()+t.substr(1)}function Bd(t,e="or"){return t.reduce((n,r,i)=>(n+=r,i<=t.length-2&&t.length>2&&(n+=", "),i===t.length-2&&(n+=`${t.length===2?" ":""}${e} `),n),"")}function Hs(t){const e=typeof t=="string"?new Date(Date.parse(t)):t;return e instanceof Date?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeZone:"UTC"}).format(e):"(unknown)"}function Yk(t,e){return Number(t)>=Number(e)?[e,t]:[t,e]}const Xk={add:"Add",remove:"Remove",removeAll:"Remove all",incomplete:"Sorry, not all fields are filled out correctly.",submit:"Submit",noFiles:"No file chosen",moveUp:"Move up",moveDown:"Move down",isLoading:"Loading...",loadMore:"Load more",next:"Next",prev:"Previous",addAllValues:"Add all values",addSelectedValues:"Add selected values",removeAllValues:"Remove all values",removeSelectedValues:"Remove selected values",chooseDate:"Choose date",changeDate:"Change date",invalidDate:"The selected date is invalid."},Qk={accepted({name:t}){return`Please accept the ${t}.`},date_after({name:t,args:e}){return Array.isArray(e)&&e.length?`${bt(t)} must be after ${Hs(e[0])}.`:`${bt(t)} must be in the future.`},alpha({name:t}){return`${bt(t)} can only contain alphabetical characters.`},alphanumeric({name:t}){return`${bt(t)} can only contain letters and numbers.`},alpha_spaces({name:t}){return`${bt(t)} can only contain letters and spaces.`},date_before({name:t,args:e}){return Array.isArray(e)&&e.length?`${bt(t)} must be before ${Hs(e[0])}.`:`${bt(t)} must be in the past.`},between({name:t,args:e}){if(isNaN(e[0])||isNaN(e[1]))return"This field was configured incorrectly and cant be submitted.";const[n,r]=Yk(e[0],e[1]);return`${bt(t)} must be between ${n} and ${r}.`},confirm({name:t}){return`${bt(t)} does not match.`},date_format({name:t,args:e}){return Array.isArray(e)&&e.length?`${bt(t)} is not a valid date, please use the format ${e[0]}`:"This field was configured incorrectly and cant be submitted"},date_between({name:t,args:e}){return`${bt(t)} must be between ${Hs(e[0])} and ${Hs(e[1])}`},email:"Please enter a valid email address.",ends_with({name:t,args:e}){return`${bt(t)} doesnt end with ${Bd(e)}.`},is({name:t}){return`${bt(t)} is not an allowed value.`},length({name:t,args:[e=0,n=1/0]}){const r=Number(e)<=Number(n)?e:n,i=Number(n)>=Number(e)?n:e;return r==1&&i===1/0?`${bt(t)} must be at least one character.`:r==0&&i?`${bt(t)} must be less than or equal to ${i} characters.`:r===i?`${bt(t)} should be ${i} characters long.`:r&&i===1/0?`${bt(t)} must be greater than or equal to ${r} characters.`:`${bt(t)} must be between ${r} and ${i} characters.`},matches({name:t}){return`${bt(t)} is not an allowed value.`},max({name:t,node:{value:e},args:n}){return Array.isArray(e)?`Cannot have more than ${n[0]} ${t}.`:`${bt(t)} must be less than or equal to ${n[0]}.`},mime({name:t,args:e}){return e[0]?`${bt(t)} must be of the type: ${e[0]}`:"No file formats allowed."},min({name:t,node:{value:e},args:n}){return Array.isArray(e)?`Cannot have fewer than ${n[0]} ${t}.`:`Must be at least ${n[0]} ${t} .`},not({name:t,node:{value:e}}){return`${e} is not an allowed ${t}.`},number({name:t}){return`${bt(t)} must be a number.`},required({name:t}){return`${bt(t)} is required.`},starts_with({name:t,args:e}){return`${bt(t)} doesnt start with ${Bd(e)}.`},url(){return"Please enter a valid URL."}};var Zk=Object.freeze({__proto__:null,ui:Xk,validation:Qk});function eS(t){return function(n){let r=Nd(n.config.locale,t),i=r?t[r]:{};n.on("prop:locale",({payload:o})=>{r=Nd(o,t),i=r?t[r]:{},n.store.touch()}),n.on("prop:label",()=>n.store.touch()),n.on("prop:validationLabel",()=>n.store.touch()),n.hook.text((o,s)=>{var l,a;const c=((l=o.meta)===null||l===void 0?void 0:l.messageKey)||o.key;if(He(i,o.type)&&He(i[o.type],c)){const u=i[o.type][c];typeof u=="function"?o.value=Array.isArray((a=o.meta)===null||a===void 0?void 0:a.i18nArgs)?u(...o.meta.i18nArgs):u(o):o.value=u}return s(o)})}}function Nd(t,e){if(He(e,t))return t;const[n]=t.split("-");if(He(e,n))return n;for(const r in e)return r;return!1}let Fn,Gn=null,jl,x0=!1,Fo=!1;const tS=new Promise(t=>{jl=()=>{x0=!0,t()}}),vr=typeof window<"u"&&typeof fetch<"u";Fn=vr?getComputedStyle(document.documentElement):void 0;const Wi={},cc={};function nS(t,e,n,r){e&&Object.assign(Wi,e),vr&&!Fo&&(Fn!=null&&Fn.getPropertyValue("--formkit-theme"))?(jl(),Fo=!0):t&&!Fo&&vr?rS(t):!Fo&&vr&&jl();const i=function(s){var l,a;s.addProps(["iconLoader","iconLoaderUrl"]),s.props.iconHandler=Jo(!((l=s.props)===null||l===void 0)&&l.iconLoader?s.props.iconLoader:r,!((a=s.props)===null||a===void 0)&&a.iconLoaderUrl?s.props.iconLoaderUrl:n),sS(s,s.props.iconHandler),s.on("created",()=>{var c;!((c=s==null?void 0:s.context)===null||c===void 0)&&c.handlers&&(s.context.handlers.iconClick=u=>{const f=`on${u.charAt(0).toUpperCase()}${u.slice(1)}IconClick`,h=s.props[f];if(h&&typeof h=="function")return d=>h(s,d)})})};return i.iconHandler=Jo(r,n),i}function rS(t){if(!(!t||!vr||typeof getComputedStyle!="function")&&(Fo=!0,Gn=document.getElementById("formkit-theme"),t&&vr&&(!(Fn!=null&&Fn.getPropertyValue("--formkit-theme"))&&!Gn||Gn!=null&&Gn.getAttribute("data-theme")&&(Gn==null?void 0:Gn.getAttribute("data-theme"))!==t))){const n=`https://cdn.jsdelivr.net/npm/@formkit/themes@${Pl.startsWith("__")?"latest":Pl}/dist/${t}/theme.css`,r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.id="formkit-theme",r.setAttribute("data-theme",t),r.onload=()=>{Fn=getComputedStyle(document.documentElement),jl()},document.head.appendChild(r),r.href=n,Gn&&Gn.remove()}}function Jo(t,e){return n=>{if(typeof n=="boolean")return;if(n.startsWith("<svg"))return n;if(typeof n!="string")return;const r=n.startsWith("default:");n=r?n.split(":")[1]:n;const i=n in Wi;let o;if(i)return Wi[n];if(!cc[n]){if(o=iS(n),o=vr&&typeof o>"u"?Promise.resolve(o):o,o instanceof Promise)cc[n]=o.then(s=>!s&&typeof n=="string"&&!r?o=typeof t=="function"?t(n):oS(n,e):s).then(s=>(typeof n=="string"&&(Wi[r?`default:${n}`:n]=s),s));else if(typeof o=="string")return Wi[r?`default:${n}`:n]=o,o}return cc[n]}}function iS(t){if(vr)return x0?jd(t):tS.then(()=>jd(t))}function jd(t){const e=Fn==null?void 0:Fn.getPropertyValue(`--fk-icon-${t}`);if(e){const n=atob(e);if(n.startsWith("<svg"))return Wi[t]=n,n}}function oS(t,e){const n=Pl.startsWith("__")?"latest":Pl,r=typeof e=="function"?e(t):`https://cdn.jsdelivr.net/npm/@formkit/icons@${n}/dist/icons/${t}.svg`;if(vr)return fetch(`${r}`).then(async i=>{const o=await i.text();if(o.startsWith("<svg"))return o}).catch(i=>{console.error(i)})}function sS(t,e){const n=/^[a-zA-Z-]+(?:-icon|Icon)$/;Object.keys(t.props).filter(i=>n.test(i)).forEach(i=>lS(t,e,i))}function lS(t,e,n){const r=t.props[n],i=e(r),o=`_raw${n.charAt(0).toUpperCase()}${n.slice(1)}`,s=`on${n.charAt(0).toUpperCase()}${n.slice(1)}Click`;if(t.addProps([o,s]),t.on(`prop:${n}`,aS),i instanceof Promise)return i.then(l=>{t.props[o]=l});t.props[o]=i}function aS(t){var e;const n=t.origin,r=t.payload,i=(e=n==null?void 0:n.props)===null||e===void 0?void 0:e.iconHandler,o=t.name.split(":")[1],s=`_raw${o.charAt(0).toUpperCase()}${o.slice(1)}`;if(i&&typeof i=="function"){const l=i(r);if(l instanceof Promise)return l.then(a=>{n.props[s]=a});n.props[s]=l}}let Kf=!1;const Fd={100:({data:t})=>`Only groups, lists, and forms can have children (${t.name}).`,101:({data:t})=>`You cannot directly modify the store (${t.name}). See: https://formkit.com/advanced/core#message-store`,102:({data:[t,e]})=>`You cannot directly assign node.${e} (${t.name})`,103:({data:[t]})=>`Schema expressions cannot start with an operator (${t})`,104:({data:[t,e]})=>`Schema expressions cannot end with an operator (${t} in "${e}")`,105:({data:t})=>`Invalid schema expression: ${t}`,106:({data:t})=>`Cannot submit because (${t}) is not in a form.`,107:({data:[t,e]})=>`Cannot set ${t.name} to non object value: ${e}`,108:({data:[t,e]})=>`Cannot set ${t.name} to non array value: ${e}`,300:({data:[t]})=>`Cannot set behavior prop to overscroll (on ${t.name} input) when options prop is a function.`,600:({data:t})=>`Unknown input type${typeof t.props.type=="string"?' "'+t.props.type+'"':""} ("${t.name}")`,601:({data:t})=>`Input definition${typeof t.props.type=="string"?' "'+t.props.type+'"':""} is missing a schema or component property (${t.name}).`},Hd={150:({data:t})=>`Schema function "${t}()" is not a valid function.`,151:({data:t})=>`No form element with id: ${t}`,152:({data:t})=>`No input element with id: ${t}`,350:({data:t})=>`Invalid options prop for radio input (${t.name}). See https://formkit.com/inputs/radio`,650:'Schema "$get()" must use the id of an input to access.',651:({data:t})=>`Cannot setErrors() on "${t}" because no such id exists.`,652:({data:t})=>`Cannot clearErrors() on "${t}" because no such id exists.`,800:({data:t})=>`${t} is deprecated.`},cS=(t,e)=>{if(t.code in Fd){const n=Fd[t.code];t.message=typeof n=="function"?n(t):n}return e(t)};Kf||Hf(cS);const uS=(t,e)=>{if(t.code in Hd){const n=Hd[t.code];t.message=typeof n=="function"?n(t):n}return e(t)};Kf||Vf(uS);Kf=!0;const uc={};let rn;const vi=new Map,fS="__raw__",hS=/[a-zA-Z0-9\-][cC]lass$/;function dS(t,e){const n=Be(null);if(t==="get"){const i={};return n.value=pS.bind(null,i),n}const r=t.split(".");return Nr(()=>{n.value=Jf(ft(e)?e.value:e,r)}),n}function Jf(t,e){if(Array.isArray(t)){for(const i of t){const o=i!==!1&&Jf(i,e);if(o!==void 0)return o}return}let n,r=t;for(const i in e){const o=e[i];if(typeof r!="object"||r===null){n=void 0;break}const s=r[o];if(Number(i)===e.length-1&&s!==void 0){n=typeof s=="function"?s.bind(r):s;break}r=s}return n}function pS(t,e){if(typeof e!="string")return Di(650);if(e in t||(t[e]=Be(void 0)),t[e].value===void 0){t[e].value=null;const n=_s(e);n&&(t[e].value=n.context),Mx(e,({payload:r})=>{t[e].value=ks(r)?r.context:r})}return t[e].value}function Vd(t,e){function n(f,h){const d=u(Rn(h.if),{if:!0}),g=a(f,h.then),v=h.else?a(f,h.else):null;return[d,g,v]}function r(f,h){var d,g;const v=u(Rn(f.if));let m=()=>h,p=()=>h;return typeof f.then=="object"?p=i(f.then,void 0):typeof f.then=="string"&&(!((d=f.then)===null||d===void 0)&&d.startsWith("$"))?p=u(Rn(f.then)):p=()=>f.then,He(f,"else")&&(typeof f.else=="object"?m=i(f.else):typeof f.else=="string"&&(!((g=f.else)===null||g===void 0)&&g.startsWith("$"))?m=u(Rn(f.else)):m=()=>f.else),()=>v()?p():m()}function i(f,h,d={}){const g=new Set(Object.keys(f||{})),v=h?u(Rn(h)):()=>({}),m=[p=>{const b=v();for(const y in b)g.has(y)||(p[y]=b[y])}];if(f){if(Ui(f))return r(f,d);for(let p in f){const b=f[p];let y;const w=typeof b=="string";p.startsWith(fS)?(p=p.substring(7),y=()=>b):w&&b.startsWith("$")&&b.length>1&&!(b.startsWith("$reset")&&hS.test(p))?y=u(Rn(b)):typeof b=="object"&&Ui(b)?y=r(b,void 0):typeof b=="object"&&Ti(b)?y=i(b):y=()=>b,m.push(x=>{x[p]=y()})}}return()=>{const p=Array.isArray(f)?[]:{};return m.forEach(b=>b(p)),p}}function o(f,h){let d=null,g=()=>null,v=!1,m=null,p=null,b=null,y=!1;const w=__(h);if(eu(w)?(d=w.$el,g=w.$el!=="text"?i(w.attrs,w.bind):()=>null):tu(w)?(typeof w.$cmp=="string"?He(f,w.$cmp)?d=f[w.$cmp]:(d=w.$cmp,y=!0):d=w.$cmp,g=i(w.props,w.bind)):Ui(w)&&([v,m,p]=n(f,w)),!Ui(w)&&"if"in w?v=u(Rn(w.if)):!Ui(w)&&d===null&&(v=()=>!0),"children"in w&&w.children)if(typeof w.children=="string")if(w.children.startsWith("$slots."))d=d==="text"?"slot":d,m=u(Rn(w.children));else if(w.children.startsWith("$")&&w.children.length>1){const x=u(Rn(w.children));m=()=>String(x())}else m=()=>String(w.children);else if(Array.isArray(w.children))m=a(f,w.children);else{const[x,S,C]=n(f,w.children);m=_=>x&&x()?S&&S(_):C&&C(_)}if(tu(w))if(m){const x=m;m=S=>({default(C,_){var A,M,E,k;const L=rn;_&&(rn=_),C&&((A=vi.get(rn))===null||A===void 0||A.unshift(C)),S&&((M=vi.get(rn))===null||M===void 0||M.unshift(S));const R=x(S);return C&&((E=vi.get(rn))===null||E===void 0||E.shift()),S&&((k=vi.get(rn))===null||k===void 0||k.shift()),rn=L,R}}),m.slot=!0}else m=()=>({});if("for"in w&&w.for){const x=w.for.length===3?w.for[2]:w.for[1];b=[typeof x=="string"&&x.startsWith("$")?u(Rn(x)):()=>x,w.for[0],w.for.length===3?String(w.for[1]):null]}return[v,d,g,m,p,b,y]}function s(f,h){const d=f(h),g=rn;return Object.keys(d).reduce((v,m)=>{const p=d&&d[m];return v[m]=b=>p&&p(b,g)||null,v},{})}function l(f,h){const[d,g,v,m,p,b,y]=o(f,h);let w=x=>{if(d&&g===null&&m)return d()?m(x):p&&p(x);if(g&&(!d||d())){if(g==="text"&&m)return Xt(String(m()));if(g==="slot"&&m)return m(x);const S=y?zn(g):g,C=m!=null&&m.slot?s(m,x):null;return Oi(S,v(),C||(m?m(x):[]))}return typeof p=="function"?p(x):p};if(b){const x=w,[S,C,_]=b;w=()=>{const A=S(),M=isNaN(A)?A:Array(Number(A)).fill(0).map((R,O)=>O),E=[];if(typeof M!="object")return null;const k=vi.get(rn)||[],L=Array.isArray(M);for(const R in M){if(L&&R in Array.prototype)continue;const O=Object.defineProperty({...k.reduce((T,P)=>T.__idata?{...T,...P}:P,{}),[C]:M[R],..._!==null?{[_]:L?Number(R):R}:{}},"__idata",{enumerable:!1,value:!0});k.unshift(O),E.push(x.bind(null,O)()),k.shift()}return E}}return w}function a(f,h){if(Array.isArray(h)){const g=h.map(l.bind(null,f));return v=>g.map(m=>m(v))}const d=l(f,h);return g=>d(g)}const c=[];function u(f,h={}){const d={};return c.push((g,v)=>{d[v]=f.provide(m=>g(m,h))}),()=>d[rn]()}return function(h,d){const g=JSON.stringify(e),[v,m]=He(uc,g)?uc[g]:[a(t,e),c];return uc[g]=[v,m],m.forEach(p=>{p(h,d)}),()=>(rn=d,v())}}function _0(t,e){const n=vi.get(rn)||[];let r;return n.length&&(r=Jf(n,t.split("."))),r===void 0?e:r}function mS(t,e){return new Proxy(t,{get(...n){let r;const i=n[1];if(typeof i=="string"){const o=rn;rn=e,r=_0(i,void 0),rn=o}return r!==void 0?r:Reflect.get(...n)}})}function Ud(t,e,n){return t((r,i={})=>r.reduce((o,s)=>{if(s.startsWith("slots.")){const l=s.substring(6),a=()=>e.slots&&He(e.slots,l)&&typeof e.slots[l]=="function";if(i.if)o[s]=a;else if(e.slots){const c=mS(e,n);o[s]=()=>a()?e.slots[l](c):null}}else{const l=dS(s,e);o[s]=()=>_0(s,l.value)}return o},{}),n)}let zd=0;const Gf=St({name:"FormKitSchema",props:{schema:{type:[Array,Object],required:!0},data:{type:Object,default:()=>({})},library:{type:Object,default:()=>({})}},setup(t,e){const n=Bf();let r=Symbol(String(zd++));vi.set(r,[]);let i=Vd(t.library,t.schema),o,s;return Qt(()=>t.schema,(l,a)=>{var c;r=Symbol(String(zd++)),i=Vd(t.library,t.schema),o=Ud(i,s,r),l===a&&((c=n==null?void 0:n.proxy)===null||c===void 0?void 0:c.$forceUpdate)()},{deep:!0}),Nr(()=>{s=Object.assign(Dn(t.data),{slots:e.slots}),o=Ud(i,s,r)}),()=>o()}}),gS={config:{type:Object,default:{}},classes:{type:Object,required:!1},delay:{type:Number,required:!1},errors:{type:Array,default:[]},inputErrors:{type:Object,default:()=>({})},index:{type:Number,required:!1},id:{type:String,required:!1},modelValue:{required:!1},name:{type:String,required:!1},parent:{type:Object,required:!1},plugins:{type:Array,default:[]},sectionsSchema:{type:Object,default:{}},type:{type:[String,Object],default:"text"},validation:{type:[String,Array],required:!1},validationMessages:{type:Object,required:!1},validationRules:{type:Object,required:!1},validationLabel:{type:[String,Function],required:!1}},yS=gS,Fl=Symbol("FormKitParent"),Ft=St({props:yS,emits:{input:(t,e)=>!0,inputRaw:(t,e)=>!0,"update:modelValue":t=>!0,node:t=>!!t,submit:(t,e)=>!0,submitRaw:(t,e)=>!0,submitInvalid:t=>!0},inheritAttrs:!1,setup(t,e){const n=CS(t,e);if(n.props.definition||wn(600,n),n.props.definition.component)return()=>{var s;return Oi((s=n.props.definition)===null||s===void 0?void 0:s.component,{context:n.context},{...e.slots})};const r=Be([]),i=()=>{var s,l;const a=(l=(s=n.props)===null||s===void 0?void 0:s.definition)===null||l===void 0?void 0:l.schema;a||wn(601,n),r.value=typeof a=="function"?a({...t.sectionsSchema}):a};i(),n.on("schema",i),e.emit("node",n);const o=n.props.definition.library;return e.expose({node:n}),()=>Oi(Gf,{schema:r.value,data:n.context,library:o},{...e.slots})}});function bS(t,e){return t.component(e.alias||"FormKit",Ft).component(e.schemaAlias||"FormKitSchema",Gf),{get:_s,setLocale:n=>{var r;!((r=e.config)===null||r===void 0)&&r.rootConfig&&(e.config.rootConfig.locale=n)},clearErrors:C_,setErrors:S_,submit:Wg,reset:Kg}}const Yf=Symbol.for("FormKitOptions"),vS=Symbol.for("FormKitConfig"),wS={install(t,e){const n=Object.assign({alias:"FormKit",schemaAlias:"FormKitSchema"},typeof e=="function"?e():e),r=Rx(n.config||{});n.config={rootConfig:r},t.config.globalProperties.$formkit=bS(t,n),t.provide(Yf,n),t.provide(vS,r)}},ou=Symbol();function xS(t,e){const n={},r=s=>{for(const l of s)l.__str in n&&n[l.__str](),n[l.__str]=Qt(kS.bind(null,t,l),o.bind(null,l),{deep:!1})},o=_S(t,e,r,s=>{if(s.length)for(const l in n)`${l}`.startsWith(`${s.__str}.`)&&(n[l](),delete n[l])});r(Xf(t))}function _S(t,e,n,r){return i=>{const o=k0(t,i);o!==ou&&(i.__deep&&r(i),typeof o=="object"&&n(Xf(o,[i],...i)),e(i,o,t))}}function kS(t,e){const n=k0(t,e);return n&&typeof n=="object"?Object.keys(n):n}function k0(t,e){if(ft(t)){if(e.length===0)return t.value;t=t.value}return e.reduce((n,r)=>n===ou?n:n===null||typeof n!="object"?ou:n[r],t)}function Xf(t,e=[],...n){if(t===null)return e;if(!n.length){const r=Object.defineProperty([],"__str",{value:""});if(t=ft(t)?t.value:t,t&&typeof t=="object")Object.defineProperty(r,"__deep",{value:!0}),e.push(r);else return[r]}if(t===null||typeof t!="object")return e;for(const r in t){const i=n.concat(r);Object.defineProperty(i,"__str",{value:i.join(".")});const o=t[r];Ti(o)||Array.isArray(o)?(e.push(Object.defineProperty(i,"__deep",{value:!0})),e=e.concat(Xf(o,[],...i))):e.push(i)}return e}function hl(t){return t===null||typeof t!="object"||(En(t)?t=Qe(t):ft(t)&&(t=En(t.value)?hl(t.value):t.value)),t}const fc=["help","label","ignore","disabled","preserve",/^preserve(-e|E)rrors/,/^[a-z]+(?:-visibility|Visibility|-behavior|Behavior)$/,/^[a-zA-Z-]+(?:-class|Class)$/,"prefixIcon","suffixIcon",/^[a-zA-Z-]+(?:-icon|Icon)$/];function qd(t,e){e.classes&&Object.keys(e.classes).forEach(n=>{typeof n=="string"&&(t.props[`_${n}Class`]=e.classes[n],Yc(e.classes[n])&&n==="inner"&&Object.values(e.classes[n]))})}function SS(t){return t?["Submit","SubmitRaw","SubmitInvalid"].reduce((n,r)=>{const i=`on${r}`;return i in t&&typeof t[i]=="function"&&(n[i]=t[i]),n},{}):{}}function CS(t,e,n={}){var r;const i=Object.assign({},Wt(Yf)||{},n),o=Bf(),s=SS(o==null?void 0:o.vnode.props),l="modelValue"in((r=o==null?void 0:o.vnode.props)!==null&&r!==void 0?r:{}),a=t.modelValue!==void 0?t.modelValue:Bn(e.attrs.value);function c(){const x={...Fi(t),...s},S=_d(Fi(e.attrs),fc);S.key||(S.key=So()),x.attrs=S;const C=kd(Fi(e.attrs),fc);for(const A in C)x[Xi(A)]=C[A];const _={props:{}};return qd(_,t),Object.assign(x,_.props),typeof x.type!="string"&&(x.definition=x.type,delete x.type),x}const u=c(),f=u.ignore?null:t.parent||Wt(Fl,null),h=w_(Li(i||{},{name:t.name||void 0,value:a,parent:f,plugins:(i.plugins||[]).concat(t.plugins),config:t.config,props:u,index:t.index},!1,!0));h.props.definition||wn(600,h);const d=Be(new Set(h.props.definition.props||[]));h.on("added-props",({payload:x})=>{Array.isArray(x)&&x.forEach(S=>d.value.add(S))});const g=Je(()=>fc.concat([...d.value]).reduce((x,S)=>(typeof S=="string"?(x.push(Xi(S)),x.push(Hg(S))):x.push(S),x),[]));Nr(()=>qd(h,t));const v=Fi(t);for(const x in v)Qt(()=>t[x],()=>{t[x]!==void 0&&(h.props[x]=t[x])});const m=new Set,p=Fi(e.attrs);Nr(()=>{b(kd(p,g.value))});function b(x){m.forEach(S=>{S(),m.delete(S)});for(const S in x){const C=Xi(S);m.add(Qt(()=>e.attrs[S],()=>{h.props[C]=e.attrs[S]}))}}if(Nr(()=>{const x=_d(Fi(e.attrs),g.value);"multiple"in x&&(x.multiple=Nn(x.multiple)),h.props.attrs=Object.assign({},h.props.attrs||{},x)}),Nr(()=>{const x=t.errors.map(S=>Un({key:jf(S),type:"error",value:S,meta:{source:"prop"}}));h.store.apply(x,S=>S.type==="error"&&S.meta.source==="prop")}),h.type!=="input"){const x=`${h.name}-prop`;Nr(()=>{const S=Object.keys(t.inputErrors);S.length||h.clearErrors(!0,x);const C=S.reduce((_,A)=>{let M=t.inputErrors[A];return typeof M=="string"&&(M=[M]),Array.isArray(M)&&(_[A]=M.map(E=>Un({key:E,type:"error",value:E,meta:{source:x}}))),_},{});h.store.apply(C,_=>_.type==="error"&&_.meta.source===x)})}Nr(()=>Object.assign(h.config,t.config)),h.type!=="input"&&zo(Fl,h);let y;const w=new WeakSet;return h.on("modelUpdated",()=>{var x,S;if(e.emit("inputRaw",(x=h.context)===null||x===void 0?void 0:x.value,h),clearTimeout(y),y=setTimeout(e.emit,20,"input",(S=h.context)===null||S===void 0?void 0:S.value,h),l&&h.context){const C=hl(h.context.value);Yc(C)&&hl(t.modelValue)!==C&&w.add(C),e.emit("update:modelValue",C)}}),l&&(xS(hg(t,"modelValue"),(x,S)=>{var C;const _=hl(S);if(Yc(_)&&w.has(_))return w.delete(_);x.length?(C=h.at(x))===null||C===void 0||C.input(S,!1):h.input(S,!1)}),h.value!==a&&h.emit("modelUpdated")),Pf(()=>h.destroy()),h}const ES=Ge("messages",()=>({$el:"ul",if:"$fns.length($messages)"}),!0),AS=Ge("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),OS=ES(AS("$message.value"));St({props:{node:{type:Object,required:!1},sectionsSchema:{type:Object,default:{}},defaultPosition:{type:[String,Boolean],default:!1}},setup(t,e){const n=Je(()=>t.node||Wt(Fl,void 0));Qt(n,()=>{var o;!((o=n.value)===null||o===void 0)&&o.context&&!Nn(t.defaultPosition)&&(n.value.context.defaultMessagePlacement=!1)},{immediate:!0});const r=OS(t.sectionsSchema||{}),i=Je(()=>{var o,s,l,a,c,u;return{messages:((s=(o=n.value)===null||o===void 0?void 0:o.context)===null||s===void 0?void 0:s.messages)||{},fns:((a=(l=n.value)===null||l===void 0?void 0:l.context)===null||a===void 0?void 0:a.fns)||{},classes:((u=(c=n.value)===null||c===void 0?void 0:c.context)===null||u===void 0?void 0:u.classes)||{}}});return()=>{var o;return!((o=n.value)===null||o===void 0)&&o.context?Oi(Gf,{schema:r,data:i.value},{...e.slots}):null}}});const TS=function(e){e.ledger.count("blocking",C=>C.blocking);const n=Be(!e.ledger.value("blocking"));e.ledger.count("errors",C=>C.type==="error");const r=Be(!!e.ledger.value("errors"));let i=!1;ua(()=>{i=!0});const o=Dn(e.store.reduce((C,_)=>(_.visible&&(C[_.key]=_),C),{})),s=Be(e.props.validationVisibility||"blur");e.on("prop:validationVisibility",({payload:C})=>{s.value=C});const l=Be(s.value==="live"),a=Je(()=>{if(b.state.submitted)return!0;if(!l.value&&!b.state.settled)return!1;switch(s.value){case"live":return!0;case"blur":return b.state.blurred;case"dirty":return b.state.dirty;default:return!1}}),c=Je(()=>u.value?n.value&&!r.value:b.state.dirty&&!os(b.value)),u=Be(Array.isArray(e.props.parsedRules)&&e.props.parsedRules.length>0);e.on("prop:parsedRules",({payload:C})=>{u.value=Array.isArray(C)&&C.length>0});const f=Je(()=>{const C={};for(const _ in o){const A=o[_];(A.type!=="validation"||a.value)&&(C[_]=A)}return C}),h=Dn(e.store.reduce((C,_)=>(_.type==="ui"&&_.visible&&(C[_.key]=_),C),{})),d=Dn({}),g=new Proxy(d,{get(...C){const[_,A]=C;let M=Reflect.get(...C);return!M&&typeof A=="string"&&!He(_,A)&&!A.startsWith("__v")&&ls(e).watch(k=>{const L=typeof k.config.rootClasses=="function"?k.config.rootClasses(A,k):{},R=k.config.classes?cl(A,k,k.config.classes[A]):{},O=cl(A,k,k.props[`_${A}Class`]),T=cl(A,k,k.props[`${A}Class`]);M=k_(k,A,L,R,O,T),_[A]=M??""}),M}}),v=Je(()=>{const C=[];b.help&&C.push(`help-${e.props.id}`);for(const _ in f.value)C.push(`${e.props.id}-${_}`);return C.length?C.join(" "):void 0}),m=Be(e.value),p=Be(e.value),b=Dn({_value:p,attrs:e.props.attrs,disabled:e.props.disabled,describedBy:v,fns:{length:C=>Object.keys(C).length,number:C=>Number(C),string:C=>String(C),json:C=>JSON.stringify(C),eq:An},handlers:{blur:C=>{e.store.set(Un({key:"blurred",visible:!1,value:!0})),typeof e.props.attrs.onBlur=="function"&&e.props.attrs.onBlur(C)},touch:()=>{var C;const _=b.dirtyBehavior==="compare";if(!((C=e.store.dirty)===null||C===void 0)&&C.value&&!_)return;const A=!An(e.props._init,e._value);!A&&!_||e.store.set(Un({key:"dirty",visible:!1,value:A}))},DOMInput:C=>{e.input(C.target.value),e.emit("dom-input-event",C)}},help:e.props.help,id:e.props.id,label:e.props.label,messages:f,node:Ei(e),options:e.props.options,defaultMessagePlacement:!0,state:{blurred:!1,complete:c,dirty:!1,submitted:!1,settled:e.isSettled,valid:n,errors:r,rules:u,validationVisible:a},type:e.props.type,family:e.props.family,ui:h,value:m,classes:g});e.on("created",()=>{An(b.value,e.value)||(p.value=e.value,m.value=e.value,js(m),js(p)),(async()=>(await e.settled,e.props._init=Bn(e.value)))()}),e.on("settled",({payload:C})=>{b.state.settled=C});function y(C){C.forEach(_=>{_=Xi(_),!He(b,_)&&He(e.props,_)&&(b[_]=e.props[_]),e.on(`prop:${_}`,({payload:A})=>{b[_]=A})})}y((()=>{const C=["help","label","disabled","options","type","attrs","preserve","preserveErrors","id","dirtyBehavior"],_=/^[a-zA-Z-]+(?:-icon|Icon)$/,A=Object.keys(e.props).filter(M=>_.test(M));return C.concat(A)})());function x(C){C.props&&y(C.props)}e.props.definition&&x(e.props.definition),e.on("added-props",({payload:C})=>y(C)),e.on("input",({payload:C})=>{e.type!=="input"&&!ft(C)&&!En(C)?p.value=Sd(C):(p.value=C,js(p))}),e.on("commit",({payload:C})=>{e.type!=="input"&&!ft(C)&&!En(C)?m.value=p.value=Sd(C):(m.value=p.value=C,js(m)),e.emit("modelUpdated"),(!b.state.dirty||b.dirtyBehavior==="compare")&&e.isCreated&&i&&b.handlers.touch(),c&&e.type==="input"&&r.value&&!Nn(e.props.preserveErrors)&&e.store.filter(_=>{var A;return!(_.type==="error"&&((A=_.meta)===null||A===void 0?void 0:A.autoClear)===!0)})});const S=async C=>{C.type==="ui"&&C.visible&&!C.meta.showAsMessage?h[C.key]=C:C.visible?o[C.key]=C:C.type==="state"&&(b.state[C.key]=!!C.value)};e.on("message-added",C=>S(C.payload)),e.on("message-updated",C=>S(C.payload)),e.on("message-removed",({payload:C})=>{delete h[C.key],delete o[C.key],delete b.state[C.key]}),e.on("settled:blocking",()=>{n.value=!0}),e.on("unsettled:blocking",()=>{n.value=!1}),e.on("settled:errors",()=>{r.value=!1}),e.on("unsettled:errors",()=>{r.value=!0}),Qt(a,C=>{C&&(l.value=!0)}),e.context=b,e.emit("context",e,!1)},LS=(t={})=>{const{rules:e={},locales:n={},inputs:r={},messages:i={},locale:o=void 0,theme:s=void 0,iconLoaderUrl:l=void 0,iconLoader:a=void 0,icons:c={},...u}=t,f=Ik({...Dk,...e||{}}),h=eS(Li({en:Zk,...n||{}},i)),d=E_(dk,r),g=nS(s,c,l,a);return Li({plugins:[d,g,TS,h,f],...o?{config:{locale:o}}:{}},u||{},!0)};St({name:"FormKitIcon",props:{icon:{type:String,default:""},iconLoader:{type:Function,default:null},iconLoaderUrl:{type:Function,default:null}},setup(t){var e,n;const r=Be(void 0),i=Wt(Yf,{}),o=Wt(Fl,null);let s;function l(){if(!s||typeof s!="function")return;const a=s(t.icon);a instanceof Promise?a.then(c=>{r.value=c}):r.value=a}if(t.iconLoader&&typeof t.iconLoader=="function")s=Jo(t.iconLoader);else if(o&&(!((e=o.props)===null||e===void 0)&&e.iconLoader))s=Jo(o.props.iconLoader);else if(t.iconLoaderUrl&&typeof t.iconLoaderUrl=="function")s=Jo(s,t.iconLoaderUrl);else{const a=(n=i==null?void 0:i.plugins)===null||n===void 0?void 0:n.find(c=>typeof c.iconHandler=="function");a&&(s=a.iconHandler)}return Qt(()=>t.icon,()=>{l()},{immediate:!0}),()=>t.icon&&r.value?Oi("span",{class:"formkit-icon",innerHTML:r.value}):null}});const Zr=window.location.origin,wa=window.location.origin+"/api";console.log(Zr,wa,{}.DEV_BASE_API_URL);const MS=ke("a",{href:"/",class:"brand"},"Vaunt",-1),RS={class:"nav-links"},PS=["href"],DS=St({__name:"Navigation",setup(t){return(e,n)=>{const r=zn("router-link");return Me(),Ve("nav",null,[MS,ke("div",RS,[ae(r,{to:"/admin/"},{default:ot(()=>[Xt("Home")]),_:1}),ae(r,{to:"/admin/theme"},{default:ot(()=>[Xt("Theme")]),_:1}),ae(r,{to:"/admin/settings"},{default:ot(()=>[Xt("Settings")]),_:1}),ke("a",{href:`${_e(Zr)}/auth/logout`},"Logout",8,PS)])])}}}),IS=St({__name:"App",setup(t){return(e,n)=>{const r=zn("router-view");return Me(),Ve(Ot,null,[ae(DS),ke("main",null,[ae(r)])],64)}}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const zi=typeof window<"u";function $S(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ct=Object.assign;function hc(t,e){const n={};for(const r in e){const i=e[r];n[r]=qn(i)?i.map(t):t(i)}return n}const Go=()=>{},qn=Array.isArray,BS=/\/$/,NS=t=>t.replace(BS,"");function dc(t,e,n="/"){let r,i={},o="",s="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=e.slice(0,a),o=e.slice(a+1,l>-1?l:e.length),i=t(o)),l>-1&&(r=r||e.slice(0,l),s=e.slice(l,e.length)),r=VS(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function jS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Wd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function FS(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&co(e.matched[r],n.matched[i])&&S0(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function co(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function S0(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!HS(t[n],e[n]))return!1;return!0}function HS(t,e){return qn(t)?Kd(t,e):qn(e)?Kd(e,t):t===e}function Kd(t,e){return qn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function VS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var as;(function(t){t.pop="pop",t.push="push"})(as||(as={}));var Yo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Yo||(Yo={}));function US(t){if(!t)if(zi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),NS(t)}const zS=/^[^#]+#/;function qS(t,e){return t.replace(zS,"#")+e}function WS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const xa=()=>({left:window.pageXOffset,top:window.pageYOffset});function KS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=WS(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Jd(t,e){return(history.state?history.state.position-e:-1)+t}const su=new Map;function JS(t,e){su.set(t,e)}function GS(t){const e=su.get(t);return su.delete(t),e}let YS=()=>location.protocol+"//"+location.host;function C0(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let l=i.includes(t.slice(o))?t.slice(o).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),Wd(a,"")}return Wd(n,t)+r+i}function XS(t,e,n,r){let i=[],o=[],s=null;const l=({state:h})=>{const d=C0(t,location),g=n.value,v=e.value;let m=0;if(h){if(n.value=d,e.value=h,s&&s===g){s=null;return}m=v?h.position-v.position:0}else r(d);i.forEach(p=>{p(n.value,g,{delta:m,type:as.pop,direction:m?m>0?Yo.forward:Yo.back:Yo.unknown})})};function a(){s=n.value}function c(h){i.push(h);const d=()=>{const g=i.indexOf(h);g>-1&&i.splice(g,1)};return o.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(ct({},h.state,{scroll:xa()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:a,listen:c,destroy:f}}function Gd(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?xa():null}}function QS(t){const{history:e,location:n}=window,r={value:C0(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(a,c,u){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+a:YS()+t+a;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function s(a,c){const u=ct({},e.state,Gd(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});o(a,u,!0),r.value=a}function l(a,c){const u=ct({},i.value,e.state,{forward:a,scroll:xa()});o(u.current,u,!0);const f=ct({},Gd(r.value,a,null),{position:u.position+1},c);o(a,f,!1),r.value=a}return{location:r,state:i,push:l,replace:s}}function ZS(t){t=US(t);const e=QS(t),n=XS(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=ct({location:"",base:t,go:r,createHref:qS.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function eC(t){return typeof t=="string"||t&&typeof t=="object"}function E0(t){return typeof t=="string"||typeof t=="symbol"}const Dr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},A0=Symbol("");var Yd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Yd||(Yd={}));function uo(t,e){return ct(new Error,{type:t,[A0]:!0},e)}function mr(t,e){return t instanceof Error&&A0 in t&&(e==null||!!(t.type&e))}const Xd="[^/]+?",tC={sensitive:!1,strict:!1,start:!0,end:!0},nC=/[.+*?^${}()[\]/\\]/g;function rC(t,e){const n=ct({},tC,e),r=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(nC,"\\$&"),d+=40;else if(h.type===1){const{value:g,repeatable:v,optional:m,regexp:p}=h;o.push({name:g,repeatable:v,optional:m});const b=p||Xd;if(b!==Xd){d+=10;try{new RegExp(`(${b})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${g}" (${b}): `+w.message)}}let y=v?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(y=m&&c.length<2?`(?:/${y})`:"/"+y),m&&(y+="?"),i+=y,d+=20,m&&(d+=-8),v&&(d+=-20),b===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(s),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",g=o[h-1];f[g.name]=d&&g.repeatable?d.split("/"):d}return f}function a(c){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:g,repeatable:v,optional:m}=d,p=g in c?c[g]:"";if(qn(p)&&!v)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const b=qn(p)?p.join("/"):p;if(!b)if(m)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);u+=b}}return u||"/"}return{re:s,score:r,keys:o,parse:l,stringify:a}}function iC(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function oC(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=iC(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Qd(r))return 1;if(Qd(i))return-1}return i.length-r.length}function Qd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const sC={type:0,value:""},lC=/[a-zA-Z0-9_]/;function aC(t){if(!t)return[[]];if(t==="/")return[[sC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let l=0,a,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(c&&f(),s()):a===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:a==="("?n=2:lC.test(a)?h():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),s(),i}function cC(t,e,n){const r=rC(aC(t.path),n),i=ct(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function uC(t,e){const n=[],r=new Map;e=tp({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function o(u,f,h){const d=!h,g=fC(u);g.aliasOf=h&&h.record;const v=tp(e,u),m=[g];if("alias"in u){const y=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of y)m.push(ct({},g,{components:h?h.record.components:g.components,path:w,aliasOf:h?h.record:g}))}let p,b;for(const y of m){const{path:w}=y;if(f&&w[0]!=="/"){const x=f.record.path,S=x[x.length-1]==="/"?"":"/";y.path=f.record.path+(w&&S+w)}if(p=cC(y,f,v),h?h.alias.push(p):(b=b||p,b!==p&&b.alias.push(p),d&&u.name&&!ep(p)&&s(u.name)),g.children){const x=g.children;for(let S=0;S<x.length;S++)o(x[S],p,h&&h.children[S])}h=h||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&a(p)}return b?()=>{s(b)}:Go}function s(u){if(E0(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function l(){return n}function a(u){let f=0;for(;f<n.length&&oC(u,n[f])>=0&&(u.record.path!==n[f].record.path||!O0(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!ep(u)&&r.set(u.record.name,u)}function c(u,f){let h,d={},g,v;if("name"in u&&u.name){if(h=r.get(u.name),!h)throw uo(1,{location:u});v=h.record.name,d=ct(Zd(f.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),u.params&&Zd(u.params,h.keys.map(b=>b.name))),g=h.stringify(d)}else if("path"in u)g=u.path,h=n.find(b=>b.re.test(g)),h&&(d=h.parse(g),v=h.record.name);else{if(h=f.name?r.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw uo(1,{location:u,currentLocation:f});v=h.record.name,d=ct({},f.params,u.params),g=h.stringify(d)}const m=[];let p=h;for(;p;)m.unshift(p.record),p=p.parent;return{name:v,path:g,params:d,matched:m,meta:dC(m)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:l,getRecordMatcher:i}}function Zd(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function fC(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:hC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function hC(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function ep(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function dC(t){return t.reduce((e,n)=>ct(e,n.meta),{})}function tp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function O0(t,e){return e.children.some(n=>n===t||O0(t,n))}const T0=/#/g,pC=/&/g,mC=/\//g,gC=/=/g,yC=/\?/g,L0=/\+/g,bC=/%5B/g,vC=/%5D/g,M0=/%5E/g,wC=/%60/g,R0=/%7B/g,xC=/%7C/g,P0=/%7D/g,_C=/%20/g;function Qf(t){return encodeURI(""+t).replace(xC,"|").replace(bC,"[").replace(vC,"]")}function kC(t){return Qf(t).replace(R0,"{").replace(P0,"}").replace(M0,"^")}function lu(t){return Qf(t).replace(L0,"%2B").replace(_C,"+").replace(T0,"%23").replace(pC,"%26").replace(wC,"`").replace(R0,"{").replace(P0,"}").replace(M0,"^")}function SC(t){return lu(t).replace(gC,"%3D")}function CC(t){return Qf(t).replace(T0,"%23").replace(yC,"%3F")}function EC(t){return t==null?"":CC(t).replace(mC,"%2F")}function Hl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function AC(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(L0," "),s=o.indexOf("="),l=Hl(s<0?o:o.slice(0,s)),a=s<0?null:Hl(o.slice(s+1));if(l in e){let c=e[l];qn(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function np(t){let e="";for(let n in t){const r=t[n];if(n=SC(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(qn(r)?r.map(o=>o&&lu(o)):[r&&lu(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function OC(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=qn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const TC=Symbol(""),rp=Symbol(""),_a=Symbol(""),Zf=Symbol(""),au=Symbol("");function Mo(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Fr(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const a=f=>{f===!1?l(uo(4,{from:n,to:e})):f instanceof Error?l(f):eC(f)?l(uo(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},c=t.call(r&&r.instances[i],e,n,a);let u=Promise.resolve(c);t.length<3&&(u=u.then(a)),u.catch(f=>l(f))})}function pc(t,e,n,r){const i=[];for(const o of t)for(const s in o.components){let l=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(LC(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Fr(c,n,r,o,s))}else{let a=l();i.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const u=$S(c)?c.default:c;o.components[s]=u;const h=(u.__vccOpts||u)[e];return h&&Fr(h,n,r,o,s)()}))}}return i}function LC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ip(t){const e=Wt(_a),n=Wt(Zf),r=Je(()=>e.resolve(_e(t.to))),i=Je(()=>{const{matched:a}=r.value,{length:c}=a,u=a[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(co.bind(null,u));if(h>-1)return h;const d=op(a[c-2]);return c>1&&op(u)===d&&f[f.length-1].path!==d?f.findIndex(co.bind(null,a[c-2])):h}),o=Je(()=>i.value>-1&&DC(n.params,r.value.params)),s=Je(()=>i.value>-1&&i.value===n.matched.length-1&&S0(n.params,r.value.params));function l(a={}){return PC(a)?e[_e(t.replace)?"replace":"push"](_e(t.to)).catch(Go):Promise.resolve()}return{route:r,href:Je(()=>r.value.href),isActive:o,isExactActive:s,navigate:l}}const MC=St({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ip,setup(t,{slots:e}){const n=Dn(ip(t)),{options:r}=Wt(_a),i=Je(()=>({[sp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[sp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Oi("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),RC=MC;function PC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function DC(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!qn(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function op(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sp=(t,e,n)=>t??e??n,IC=St({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Wt(au),i=Je(()=>t.route||r.value),o=Wt(rp,0),s=Je(()=>{let c=_e(o);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=Je(()=>i.value.matched[s.value]);zo(rp,Je(()=>s.value+1)),zo(TC,l),zo(au,i);const a=Be();return Qt(()=>[a.value,l.value,t.name],([c,u,f],[h,d,g])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!co(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,f=l.value,h=f&&f.components[u];if(!h)return lp(n.default,{Component:h,route:c});const d=f.props[u],g=d?d===!0?c.params:typeof d=="function"?d(c):d:null,m=Oi(h,ct({},g,e,{onVnodeUnmounted:p=>{p.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return lp(n.default,{Component:m,route:c})||m}}});function lp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const $C=IC;function BC(t){const e=uC(t.routes,t),n=t.parseQuery||AC,r=t.stringifyQuery||np,i=t.history,o=Mo(),s=Mo(),l=Mo(),a=v1(Dr);let c=Dr;zi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=hc.bind(null,U=>""+U),f=hc.bind(null,EC),h=hc.bind(null,Hl);function d(U,X){let Q,ue;return E0(U)?(Q=e.getRecordMatcher(U),ue=X):ue=U,e.addRoute(ue,Q)}function g(U){const X=e.getRecordMatcher(U);X&&e.removeRoute(X)}function v(){return e.getRoutes().map(U=>U.record)}function m(U){return!!e.getRecordMatcher(U)}function p(U,X){if(X=ct({},X||a.value),typeof U=="string"){const I=dc(n,U,X.path),B=e.resolve({path:I.path},X),H=i.createHref(I.fullPath);return ct(I,B,{params:h(B.params),hash:Hl(I.hash),redirectedFrom:void 0,href:H})}let Q;if("path"in U)Q=ct({},U,{path:dc(n,U.path,X.path).path});else{const I=ct({},U.params);for(const B in I)I[B]==null&&delete I[B];Q=ct({},U,{params:f(U.params)}),X.params=f(X.params)}const ue=e.resolve(Q,X),xe=U.hash||"";ue.params=u(h(ue.params));const Oe=jS(r,ct({},U,{hash:kC(xe),path:ue.path})),pe=i.createHref(Oe);return ct({fullPath:Oe,hash:xe,query:r===np?OC(U.query):U.query||{}},ue,{redirectedFrom:void 0,href:pe})}function b(U){return typeof U=="string"?dc(n,U,a.value.path):ct({},U)}function y(U,X){if(c!==U)return uo(8,{from:X,to:U})}function w(U){return C(U)}function x(U){return w(ct(b(U),{replace:!0}))}function S(U){const X=U.matched[U.matched.length-1];if(X&&X.redirect){const{redirect:Q}=X;let ue=typeof Q=="function"?Q(U):Q;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=b(ue):{path:ue},ue.params={}),ct({query:U.query,hash:U.hash,params:"path"in ue?{}:U.params},ue)}}function C(U,X){const Q=c=p(U),ue=a.value,xe=U.state,Oe=U.force,pe=U.replace===!0,I=S(Q);if(I)return C(ct(b(I),{state:typeof I=="object"?ct({},xe,I.state):xe,force:Oe,replace:pe}),X||Q);const B=Q;B.redirectedFrom=X;let H;return!Oe&&FS(r,ue,Q)&&(H=uo(16,{to:B,from:ue}),G(ue,ue,!0,!1)),(H?Promise.resolve(H):A(B,ue)).catch(z=>mr(z)?mr(z,2)?z:$(z):P(z,B,ue)).then(z=>{if(z){if(mr(z,2))return C(ct({replace:pe},b(z.to),{state:typeof z.to=="object"?ct({},xe,z.to.state):xe,force:Oe}),X||B)}else z=E(B,ue,!0,pe,xe);return M(B,ue,z),z})}function _(U,X){const Q=y(U,X);return Q?Promise.reject(Q):Promise.resolve()}function A(U,X){let Q;const[ue,xe,Oe]=NC(U,X);Q=pc(ue.reverse(),"beforeRouteLeave",U,X);for(const I of ue)I.leaveGuards.forEach(B=>{Q.push(Fr(B,U,X))});const pe=_.bind(null,U,X);return Q.push(pe),Hi(Q).then(()=>{Q=[];for(const I of o.list())Q.push(Fr(I,U,X));return Q.push(pe),Hi(Q)}).then(()=>{Q=pc(xe,"beforeRouteUpdate",U,X);for(const I of xe)I.updateGuards.forEach(B=>{Q.push(Fr(B,U,X))});return Q.push(pe),Hi(Q)}).then(()=>{Q=[];for(const I of U.matched)if(I.beforeEnter&&!X.matched.includes(I))if(qn(I.beforeEnter))for(const B of I.beforeEnter)Q.push(Fr(B,U,X));else Q.push(Fr(I.beforeEnter,U,X));return Q.push(pe),Hi(Q)}).then(()=>(U.matched.forEach(I=>I.enterCallbacks={}),Q=pc(Oe,"beforeRouteEnter",U,X),Q.push(pe),Hi(Q))).then(()=>{Q=[];for(const I of s.list())Q.push(Fr(I,U,X));return Q.push(pe),Hi(Q)}).catch(I=>mr(I,8)?I:Promise.reject(I))}function M(U,X,Q){for(const ue of l.list())ue(U,X,Q)}function E(U,X,Q,ue,xe){const Oe=y(U,X);if(Oe)return Oe;const pe=X===Dr,I=zi?history.state:{};Q&&(ue||pe?i.replace(U.fullPath,ct({scroll:pe&&I&&I.scroll},xe)):i.push(U.fullPath,xe)),a.value=U,G(U,X,Q,pe),$()}let k;function L(){k||(k=i.listen((U,X,Q)=>{if(!de.listening)return;const ue=p(U),xe=S(ue);if(xe){C(ct(xe,{replace:!0}),ue).catch(Go);return}c=ue;const Oe=a.value;zi&&JS(Jd(Oe.fullPath,Q.delta),xa()),A(ue,Oe).catch(pe=>mr(pe,12)?pe:mr(pe,2)?(C(pe.to,ue).then(I=>{mr(I,20)&&!Q.delta&&Q.type===as.pop&&i.go(-1,!1)}).catch(Go),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),P(pe,ue,Oe))).then(pe=>{pe=pe||E(ue,Oe,!1),pe&&(Q.delta&&!mr(pe,8)?i.go(-Q.delta,!1):Q.type===as.pop&&mr(pe,20)&&i.go(-1,!1)),M(ue,Oe,pe)}).catch(Go)}))}let R=Mo(),O=Mo(),T;function P(U,X,Q){$(U);const ue=O.list();return ue.length?ue.forEach(xe=>xe(U,X,Q)):console.error(U),Promise.reject(U)}function D(){return T&&a.value!==Dr?Promise.resolve():new Promise((U,X)=>{R.add([U,X])})}function $(U){return T||(T=!U,L(),R.list().forEach(([X,Q])=>U?Q(U):X()),R.reset()),U}function G(U,X,Q,ue){const{scrollBehavior:xe}=t;if(!zi||!xe)return Promise.resolve();const Oe=!Q&&GS(Jd(U.fullPath,0))||(ue||!Q)&&history.state&&history.state.scroll||null;return ua().then(()=>xe(U,X,Oe)).then(pe=>pe&&KS(pe)).catch(pe=>P(pe,U,X))}const ne=U=>i.go(U);let ce;const Pe=new Set,de={currentRoute:a,listening:!0,addRoute:d,removeRoute:g,hasRoute:m,getRoutes:v,resolve:p,options:t,push:w,replace:x,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:o.add,beforeResolve:s.add,afterEach:l.add,onError:O.add,isReady:D,install(U){const X=this;U.component("RouterLink",RC),U.component("RouterView",$C),U.config.globalProperties.$router=X,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>_e(a)}),zi&&!ce&&a.value===Dr&&(ce=!0,w(i.location).catch(xe=>{}));const Q={};for(const xe in Dr)Q[xe]=Je(()=>a.value[xe]);U.provide(_a,X),U.provide(Zf,Dn(Q)),U.provide(au,a);const ue=U.unmount;Pe.add(U),U.unmount=function(){Pe.delete(U),Pe.size<1&&(c=Dr,k&&k(),k=null,a.value=Dr,ce=!1,T=!1),ue()}}};return de}function Hi(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function NC(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const l=e.matched[s];l&&(t.matched.find(c=>co(c,l))?r.push(l):n.push(l));const a=t.matched[s];a&&(e.matched.find(c=>co(c,a))||i.push(a))}return[n,r,i]}function ka(){return Wt(_a)}function eh(){return Wt(Zf)}function D0(t,e){return function(){return t.apply(e,arguments)}}const{toString:I0}=Object.prototype,{getPrototypeOf:th}=Object,nh=(t=>e=>{const n=I0.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Lr=t=>(t=t.toLowerCase(),e=>nh(e)===t),Sa=t=>e=>typeof e===t,{isArray:Co}=Array,cs=Sa("undefined");function jC(t){return t!==null&&!cs(t)&&t.constructor!==null&&!cs(t.constructor)&&ei(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $0=Lr("ArrayBuffer");function FC(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$0(t.buffer),e}const HC=Sa("string"),ei=Sa("function"),B0=Sa("number"),rh=t=>t!==null&&typeof t=="object",VC=t=>t===!0||t===!1,dl=t=>{if(nh(t)!=="object")return!1;const e=th(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},UC=Lr("Date"),zC=Lr("File"),qC=Lr("Blob"),WC=Lr("FileList"),KC=t=>rh(t)&&ei(t.pipe),JC=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||I0.call(t)===e||ei(t.toString)&&t.toString()===e)},GC=Lr("URLSearchParams"),YC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cs(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Co(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let l;for(r=0;r<s;r++)l=o[r],e.call(null,t[l],l,t)}}function N0(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const j0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),F0=t=>!cs(t)&&t!==j0;function cu(){const{caseless:t}=F0(this)&&this||{},e={},n=(r,i)=>{const o=t&&N0(e,i)||i;dl(e[o])&&dl(r)?e[o]=cu(e[o],r):dl(r)?e[o]=cu({},r):Co(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Cs(arguments[r],n);return e}const XC=(t,e,n,{allOwnKeys:r}={})=>(Cs(e,(i,o)=>{n&&ei(i)?t[o]=D0(i,n):t[o]=i},{allOwnKeys:r}),t),QC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ZC=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},e2=(t,e,n,r)=>{let i,o,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&th(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},t2=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},n2=t=>{if(!t)return null;if(Co(t))return t;let e=t.length;if(!B0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},r2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&th(Uint8Array)),i2=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},o2=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},s2=Lr("HTMLFormElement"),l2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ap=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),a2=Lr("RegExp"),H0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Cs(n,(i,o)=>{e(i,o,t)!==!1&&(r[o]=i)}),Object.defineProperties(t,r)},c2=t=>{H0(t,(e,n)=>{if(ei(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ei(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},u2=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Co(t)?r(t):r(String(t).split(e)),n},f2=()=>{},h2=(t,e)=>(t=+t,Number.isFinite(t)?t:e),mc="abcdefghijklmnopqrstuvwxyz",cp="0123456789",V0={DIGIT:cp,ALPHA:mc,ALPHA_DIGIT:mc+mc.toUpperCase()+cp},d2=(t=16,e=V0.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function p2(t){return!!(t&&ei(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const m2=t=>{const e=new Array(10),n=(r,i)=>{if(rh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Co(r)?[]:{};return Cs(r,(s,l)=>{const a=n(s,i+1);!cs(a)&&(o[l]=a)}),e[i]=void 0,o}}return r};return n(t,0)},K={isArray:Co,isArrayBuffer:$0,isBuffer:jC,isFormData:JC,isArrayBufferView:FC,isString:HC,isNumber:B0,isBoolean:VC,isObject:rh,isPlainObject:dl,isUndefined:cs,isDate:UC,isFile:zC,isBlob:qC,isRegExp:a2,isFunction:ei,isStream:KC,isURLSearchParams:GC,isTypedArray:r2,isFileList:WC,forEach:Cs,merge:cu,extend:XC,trim:YC,stripBOM:QC,inherits:ZC,toFlatObject:e2,kindOf:nh,kindOfTest:Lr,endsWith:t2,toArray:n2,forEachEntry:i2,matchAll:o2,isHTMLForm:s2,hasOwnProperty:ap,hasOwnProp:ap,reduceDescriptors:H0,freezeMethods:c2,toObjectSet:u2,toCamelCase:l2,noop:f2,toFiniteNumber:h2,findKey:N0,global:j0,isContextDefined:F0,ALPHABET:V0,generateString:d2,isSpecCompliantForm:p2,toJSONObject:m2};function tt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}K.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const U0=tt.prototype,z0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{z0[t]={value:t}});Object.defineProperties(tt,z0);Object.defineProperty(U0,"isAxiosError",{value:!0});tt.from=(t,e,n,r,i,o)=>{const s=Object.create(U0);return K.toFlatObject(t,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),tt.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const g2=null;function uu(t){return K.isPlainObject(t)||K.isArray(t)}function q0(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function up(t,e,n){return t?t.concat(e).map(function(i,o){return i=q0(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function y2(t){return K.isArray(t)&&!t.some(uu)}const b2=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function Ca(t,e,n){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,m){return!K.isUndefined(m[v])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(K.isDate(g))return g.toISOString();if(!a&&K.isBlob(g))throw new tt("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(g)||K.isTypedArray(g)?a&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,v,m){let p=g;if(g&&!m&&typeof g=="object"){if(K.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(K.isArray(g)&&y2(g)||(K.isFileList(g)||K.endsWith(v,"[]"))&&(p=K.toArray(g)))return v=q0(v),p.forEach(function(y,w){!(K.isUndefined(y)||y===null)&&e.append(s===!0?up([v],w,o):s===null?v:v+"[]",c(y))}),!1}return uu(g)?!0:(e.append(up(m,v,o),c(g)),!1)}const f=[],h=Object.assign(b2,{defaultVisitor:u,convertValue:c,isVisitable:uu});function d(g,v){if(!K.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),K.forEach(g,function(p,b){(!(K.isUndefined(p)||p===null)&&i.call(e,p,K.isString(b)?b.trim():b,v,h))===!0&&d(p,v?v.concat(b):[b])}),f.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return d(t),e}function fp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function ih(t,e){this._pairs=[],t&&Ca(t,this,e)}const W0=ih.prototype;W0.append=function(e,n){this._pairs.push([e,n])};W0.toString=function(e){const n=e?function(r){return e.call(this,r,fp)}:fp;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function v2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function K0(t,e,n){if(!e)return t;const r=n&&n.encode||v2,i=n&&n.serialize;let o;if(i?o=i(e,n):o=K.isURLSearchParams(e)?e.toString():new ih(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class w2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(r){r!==null&&e(r)})}}const hp=w2,J0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x2=typeof URLSearchParams<"u"?URLSearchParams:ih,_2=typeof FormData<"u"?FormData:null,k2=typeof Blob<"u"?Blob:null,S2=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),C2=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ir={isBrowser:!0,classes:{URLSearchParams:x2,FormData:_2,Blob:k2},isStandardBrowserEnv:S2,isStandardBrowserWebWorkerEnv:C2,protocols:["http","https","file","blob","url","data"]};function E2(t,e){return Ca(t,new ir.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return ir.isNode&&K.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function A2(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function O2(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function G0(t){function e(n,r,i,o){let s=n[o++];const l=Number.isFinite(+s),a=o>=n.length;return s=!s&&K.isArray(i)?i.length:s,a?(K.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!K.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&K.isArray(i[s])&&(i[s]=O2(i[s])),!l)}if(K.isFormData(t)&&K.isFunction(t.entries)){const n={};return K.forEachEntry(t,(r,i)=>{e(A2(r),i,n,0)}),n}return null}const T2={"Content-Type":void 0};function L2(t,e,n){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ea={transitional:J0,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=K.isObject(e);if(o&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return i&&i?JSON.stringify(G0(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return E2(e,this.formSerializer).toString();if((l=K.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return Ca(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),L2(e)):e}],transformResponse:[function(e){const n=this.transitional||Ea.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&K.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?tt.from(l,tt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};K.forEach(["delete","get","head"],function(e){Ea.headers[e]={}});K.forEach(["post","put","patch"],function(e){Ea.headers[e]=K.merge(T2)});const oh=Ea,M2=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),R2=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&M2[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},dp=Symbol("internals");function Ro(t){return t&&String(t).trim().toLowerCase()}function pl(t){return t===!1||t==null?t:K.isArray(t)?t.map(pl):String(t)}function P2(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function D2(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function gc(t,e,n,r,i){if(K.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!K.isString(e)){if(K.isString(r))return e.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(e)}}function I2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $2(t,e){const n=K.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Aa{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(l,a,c){const u=Ro(a);if(!u)throw new Error("header name must be a non-empty string");const f=K.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||a]=pl(l))}const s=(l,a)=>K.forEach(l,(c,u)=>o(c,u,a));return K.isPlainObject(e)||e instanceof this.constructor?s(e,n):K.isString(e)&&(e=e.trim())&&!D2(e)?s(R2(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Ro(e),e){const r=K.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return P2(i);if(K.isFunction(n))return n.call(this,i,r);if(K.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ro(e),e){const r=K.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||gc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Ro(s),s){const l=K.findKey(r,s);l&&(!n||gc(r,r[l],l,n))&&(delete r[l],i=!0)}}return K.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||gc(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return K.forEach(this,(i,o)=>{const s=K.findKey(r,o);if(s){n[s]=pl(i),delete n[o];return}const l=e?I2(o):String(o).trim();l!==o&&delete n[o],n[l]=pl(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return K.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&K.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[dp]=this[dp]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=Ro(s);r[l]||($2(i,s),r[l]=!0)}return K.isArray(e)?e.forEach(o):o(e),this}}Aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.freezeMethods(Aa.prototype);K.freezeMethods(Aa);const wr=Aa;function yc(t,e){const n=this||oh,r=e||n,i=wr.from(r.headers);let o=r.data;return K.forEach(t,function(l){o=l.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Y0(t){return!!(t&&t.__CANCEL__)}function Es(t,e,n){tt.call(this,t??"canceled",tt.ERR_CANCELED,e,n),this.name="CanceledError"}K.inherits(Es,tt,{__CANCEL__:!0});function B2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new tt("Request failed with status code "+n.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const N2=ir.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,l){const a=[];a.push(n+"="+encodeURIComponent(r)),K.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),K.isString(o)&&a.push("path="+o),K.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function j2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function F2(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function X0(t,e){return t&&!j2(e)?F2(t,e):e}const H2=ir.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const l=K.isString(s)?i(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function V2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function U2(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=r[o];s||(s=c),n[i]=a,r[i]=c;let f=o,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const d=u&&c-u;return d?Math.round(h*1e3/d):void 0}}function pp(t,e){let n=0;const r=U2(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-n,a=r(l),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&c?(s-o)/a:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const z2=typeof XMLHttpRequest<"u",q2=z2&&function(t){return new Promise(function(n,r){let i=t.data;const o=wr.from(t.headers).normalize(),s=t.responseType;let l;function a(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}K.isFormData(i)&&(ir.isStandardBrowserEnv||ir.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const d=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(d+":"+g))}const u=X0(t.baseURL,t.url);c.open(t.method.toUpperCase(),K0(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function f(){if(!c)return;const d=wr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:t,request:c};B2(function(p){n(p),a()},function(p){r(p),a()},v),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new tt("Request aborted",tt.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new tt("Network Error",tt.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const v=t.transitional||J0;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),r(new tt(g,v.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,t,c)),c=null},ir.isStandardBrowserEnv){const d=(t.withCredentials||H2(u))&&t.xsrfCookieName&&N2.read(t.xsrfCookieName);d&&o.set(t.xsrfHeaderName,d)}i===void 0&&o.setContentType(null),"setRequestHeader"in c&&K.forEach(o.toJSON(),function(g,v){c.setRequestHeader(v,g)}),K.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",pp(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",pp(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=d=>{c&&(r(!d||d.type?new Es(null,t,c):d),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const h=V2(u);if(h&&ir.protocols.indexOf(h)===-1){r(new tt("Unsupported protocol "+h+":",tt.ERR_BAD_REQUEST,t));return}c.send(i||null)})},ml={http:g2,xhr:q2};K.forEach(ml,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const W2={getAdapter:t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=K.isString(n)?ml[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new tt(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(K.hasOwnProp(ml,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!K.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ml};function bc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Es(null,t)}function mp(t){return bc(t),t.headers=wr.from(t.headers),t.data=yc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),W2.getAdapter(t.adapter||oh.adapter)(t).then(function(r){return bc(t),r.data=yc.call(t,t.transformResponse,r),r.headers=wr.from(r.headers),r},function(r){return Y0(r)||(bc(t),r&&r.response&&(r.response.data=yc.call(t,t.transformResponse,r.response),r.response.headers=wr.from(r.response.headers))),Promise.reject(r)})}const gp=t=>t instanceof wr?t.toJSON():t;function fo(t,e){e=e||{};const n={};function r(c,u,f){return K.isPlainObject(c)&&K.isPlainObject(u)?K.merge.call({caseless:f},c,u):K.isPlainObject(u)?K.merge({},u):K.isArray(u)?u.slice():u}function i(c,u,f){if(K.isUndefined(u)){if(!K.isUndefined(c))return r(void 0,c,f)}else return r(c,u,f)}function o(c,u){if(!K.isUndefined(u))return r(void 0,u)}function s(c,u){if(K.isUndefined(u)){if(!K.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,u)=>i(gp(c),gp(u),!0)};return K.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const f=a[u]||i,h=f(t[u],e[u],u);K.isUndefined(h)&&f!==l||(n[u]=h)}),n}const Q0="1.3.4",sh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const yp={};sh.transitional=function(e,n,r){function i(o,s){return"[Axios v"+Q0+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(e===!1)throw new tt(i(s," has been removed"+(n?" in "+n:"")),tt.ERR_DEPRECATED);return n&&!yp[s]&&(yp[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,l):!0}};function K2(t,e,n){if(typeof t!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const l=t[o],a=l===void 0||s(l,o,t);if(a!==!0)throw new tt("option "+o+" must be "+a,tt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tt("Unknown option "+o,tt.ERR_BAD_OPTION)}}const fu={assertOptions:K2,validators:sh},Ir=fu.validators;class Vl{constructor(e){this.defaults=e,this.interceptors={request:new hp,response:new hp}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&fu.assertOptions(r,{silentJSONParsing:Ir.transitional(Ir.boolean),forcedJSONParsing:Ir.transitional(Ir.boolean),clarifyTimeoutError:Ir.transitional(Ir.boolean)},!1),i!==void 0&&fu.assertOptions(i,{encode:Ir.function,serialize:Ir.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=o&&K.merge(o.common,o[n.method]),s&&K.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=wr.concat(s,o);const l=[];let a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(a=a&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,f=0,h;if(!a){const g=[mp.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,c),h=g.length,u=Promise.resolve(n);f<h;)u=u.then(g[f++],g[f++]);return u}h=l.length;let d=n;for(f=0;f<h;){const g=l[f++],v=l[f++];try{d=g(d)}catch(m){v.call(this,m);break}}try{u=mp.call(this,d)}catch(g){return Promise.reject(g)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=fo(this.defaults,e);const n=X0(e.baseURL,e.url);return K0(n,e.params,e.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(e){Vl.prototype[e]=function(n,r){return this.request(fo(r||{},{method:e,url:n,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,l){return this.request(fo(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Vl.prototype[e]=n(),Vl.prototype[e+"Form"]=n(!0)});const gl=Vl;class lh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,l){r.reason||(r.reason=new Es(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new lh(function(i){e=i}),cancel:e}}}const J2=lh;function G2(t){return function(n){return t.apply(null,n)}}function Y2(t){return K.isObject(t)&&t.isAxiosError===!0}const hu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hu).forEach(([t,e])=>{hu[e]=t});const X2=hu;function Z0(t){const e=new gl(t),n=D0(gl.prototype.request,e);return K.extend(n,gl.prototype,e,{allOwnKeys:!0}),K.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Z0(fo(t,i))},n}const $t=Z0(oh);$t.Axios=gl;$t.CanceledError=Es;$t.CancelToken=J2;$t.isCancel=Y0;$t.VERSION=Q0;$t.toFormData=Ca;$t.AxiosError=tt;$t.Cancel=$t.CanceledError;$t.all=function(e){return Promise.all(e)};$t.spread=G2;$t.isAxiosError=Y2;$t.mergeConfig=fo;$t.AxiosHeaders=wr;$t.formToJSON=t=>G0(K.isHTMLForm(t)?new FormData(t):t);$t.HttpStatusCode=X2;$t.default=$t;const ah=$t,ht=ah.create({baseURL:wa,withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}});ht.defaults.withCredentials=!0;const or=xs("article",{state:()=>({articles:[]}),actions:{async fetchData(){try{const t=await ht.get("/articles");return this.articles=t.data,!0}catch{return!1}},get(t){return this.articles.find(e=>e.id==t)},async create(t){for(const i in t)typeof t[i]=="string"&&(t[i]=t[i].replace(/\r/g,""));const e=new FormData;e.append("name",t.name),e.append("description",t.description),e.append("category",String(t.category_id)||"0");const n="[]";e.append("block_data",n),t.thumbnail.forEach(i=>{e.append("thumbnail-name",i.name),e.append("thumbnail",i.file)});const r=await ht.post("/articles",e);return this.articles.push(r.data),r.data},async createWithMarkdown(t){for(const r in t)typeof t[r]=="string"&&(t[r]=t[r].replace(/\r/g,""));const e=new FormData;e.append("name",t.name),e.append("description",t.description),e.append("category",String(t.category_id)||"0"),t.thumbnail.forEach(r=>{e.append("thumbnail-name",r.name),e.append("thumbnail",r.file)}),t.markdown.forEach(r=>{e.append("markdown",r.file)});const n=await ht.post("/articles/md",e);return this.articles.push(n.data),n.data},async remove(t){await ht.delete(`/articles/${t}`),this.articles=this.articles.filter(e=>e.id!=t)},async update(t,e){for(const r in e)typeof e[r]=="string"&&(e[r]=e[r].replace(/\r/g,""));let n=this.get(t);if(n){const r=new FormData;r.append("name",e.name),r.append("description",e.description),r.append("category_id",String(e.category_id));let i="";return e.thumbnail.forEach(o=>{i=o.name,r.append("thumbnail-name",o.name),r.append("thumbnail",o.file)}),await ht.put(`/articles/${t}`,r),n.name=e.name,n.description=e.description,n.category_id=e.category_id||0,i&&(n.image_src=`/uploads/img/${i}`),!0}return!1},async changeCategory(t,e){const n=this.get(t);if(n){const r=new FormData;r.append("category",String(e)),await ht.put(`/articles/${t}`,r),n.category_id=e}},async publish(t){await new Promise(r=>setTimeout(r,300));const e=await ht.get(`/publish?article=${t}`),n=new URL(wa);window.open(n.origin+e.data,"_self")},async changeVisibility(t){const e=new FormData;let n=this.get(t).show;e.append("show",String(!n)),await ht.put(`/articles/${t}`,e),this.get(t).show=!n}}}),gn=xs("category",{state:()=>({categories:[]}),actions:{async fetchData(){try{const t=await ht.get("/categories");return this.categories=t.data,!0}catch{return!1}},get(t){return this.categories.find(e=>e.id==t)},async create(t){for(const r in t)typeof t[r]=="string"&&(t[r]=t[r].replace(/\r/g,""));const e=new FormData;e.append("name",t.name);const n=await ht.post("/categories",e);return this.categories.push(n.data),n.data},async remove(t){await ht.delete(`/categories/${t}`),this.categories=this.categories.filter(e=>e.id!=t)},async update(t,e){for(const r in e)typeof e[r]=="string"&&(e[r]=e[r].replace(/\r/g,""));const n=this.get(t);if(n){const r=new FormData;r.append("name",e.name),await ht.put(`/categories/${t}`,r),n.name=e.name}}}}),Q2={class:"article-preview"},Z2={class:"article-card"},eE={class:"description"},tE={class:"date"},nE={class:"category-pill"},rE={class:"thumbnail"},iE=["src"],oE={class:"buttons-container"},sE=St({__name:"ArticleThumbnail",props:{articleId:null,withSettings:{type:Boolean}},setup(t){const e=t,n=or(),r=gn(),i=ka(),o=Be(!1),s=Je(()=>n.get(e.articleId)),l=["Jan","Feb","Mar","Apr","Jun","Jul","Aug","Sep","Oct","Nov","Dev"],a=Je(()=>{let h=new Date(s.value.updated_at);return`${l[h.getMonth()]} ${h.getDate()}`}),c=Je(()=>Zr+s.value.image_src);async function u(){if(window.confirm(`Are you sure you want to delete article "${s.value.name}"?`))try{await n.remove(s.value.id),i.push("/admin")}catch(h){console.log(h)}}async function f(){try{await n.publish(s.value.id)}catch{}finally{o.value=!0}}return(h,d)=>{var m;const g=zn("FormKit"),v=zn("router-link");return Me(),Ve("div",Q2,[ke("div",Z2,[ke("h1",null,Yt(_e(s).name),1),ke("p",eE,Yt(_e(s).description),1),ke("p",tE,Yt(_e(a)),1),ke("div",nE,Yt((m=_e(r).get(_e(s).category_id))==null?void 0:m.name),1)]),ke("div",rE,[ke("img",{alt:"thumbnail",src:_e(c)},null,8,iE)]),ke("div",oE,[ae(g,{type:"button",onClick:f},{default:ot(()=>[Xt("Publish")]),_:1}),ae(v,{to:`/admin/edit/${_e(s).id}`},{default:ot(()=>[ae(g,{type:"button"},{default:ot(()=>[Xt("Edit")]),_:1})]),_:1},8,["to"]),t.withSettings?$n("",!0):(Me(),kr(v,{key:0,to:`/admin/article/${_e(s).id}`},{default:ot(()=>[ae(g,{type:"button"},{default:ot(()=>[Xt("Settings")]),_:1})]),_:1},8,["to"])),ae(g,{"outer-class":"delete-btn",type:"button",onClick:u},{default:ot(()=>[Xt("Delete")]),_:1})])])}}});const Zt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},du=Zt(sE,[["__scopeId","data-v-ac734a7b"]]),ey=t=>(Ar("data-v-e5c47851"),t=t(),Or(),t),lE={class:"home-container"},aE=ey(()=>ke("h1",null,"My Articles",-1)),cE={class:"utility-bar"},uE={class:"search"},fE={class:"categories-container"},hE={class:"category-name"},dE={class:"articles"},pE=ey(()=>ke("h1",{class:"category-name"},"Without category:",-1)),mE={class:"articles"},gE=St({__name:"Home",setup(t){const e=or(),n=gn(),r=Be(""),i=Je(()=>r.value==""?e.articles:e.articles.filter(s=>s.name.toLowerCase().includes(r.value.toLowerCase())));function o(s){return i.value.filter(l=>l.category_id==s)}return(s,l)=>{const a=zn("router-link");return Me(),Ve("div",lE,[aE,ke("div",cE,[ae(a,{to:"/admin/create"},{default:ot(()=>[ae(_e(Ft),{type:"button","prefix-icon":"add"},{default:ot(()=>[Xt("Create Article")]),_:1})]),_:1}),ke("div",uE,[ae(_e(Ft),{type:"search",placeholder:"Search ...","prefix-icon":"search",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=c=>r.value=c)},null,8,["modelValue"])]),ae(a,{to:"/admin/create-category",class:"add-category-btn"},{default:ot(()=>[ae(_e(Ft),{type:"button","prefix-icon":"add"},{default:ot(()=>[Xt("Add Category")]),_:1})]),_:1}),ae(a,{to:"/admin/create-markdown"},{default:ot(()=>[ae(_e(Ft),{type:"button","prefix-icon":"add"},{default:ot(()=>[Xt("Import Markdown")]),_:1})]),_:1})]),ke("div",fE,[(Me(!0),Ve(Ot,null,Gr(_e(n).categories,c=>(Me(),Ve(Ot,null,[ke("h1",hE,"Category: "+Yt(c.name),1),ke("section",dE,[(Me(!0),Ve(Ot,null,Gr(o(c.id),u=>(Me(),kr(du,{"article-id":u.id},null,8,["article-id"]))),256))])],64))),256)),pE,ke("section",mE,[(Me(!0),Ve(Ot,null,Gr(o(0),c=>(Me(),kr(du,{"article-id":c.id},null,8,["article-id"]))),256))])])])}}});const yE=Zt(gE,[["__scopeId","data-v-e5c47851"]]),bE=t=>(Ar("data-v-f94c9da7"),t=t(),Or(),t),vE={class:"create-article"},wE=bE(()=>ke("h1",null,"Create Article",-1)),xE={key:0,class:"error"},_E=St({__name:"CreateArticle",setup(t){const e=or(),n=gn(),r=ka(),i=Be(""),o=Be(!1),s=async a=>{i.value="";try{const c=await e.create(a);r.push(`/admin/edit/${c.id}`)}catch(c){i.value=c.response.data}finally{o.value=!0}},l=Je(()=>{let a=[];return n.categories.forEach(c=>{a.push({label:c.name,value:c.id})}),a});return(a,c)=>(Me(),Ve("div",vE,[wE,ae(_e(Ft),{type:"form",style:{width:"25em"},onSubmit:s},{default:ot(()=>[ae(_e(Ft),{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Article Name"}),ae(_e(Ft),{type:"textarea",rows:"10",name:"description",id:"description",validation:"required",label:"Description",value:"Short article description..."}),ae(_e(Ft),{type:"file",accept:".png, .jpg, .jpeg","file-item-icon":"fileImage","no-files-icon":"fileImage",label:"Thumbnail",name:"thumbnail",help:"Add a thumnbnail image"}),ae(_e(Ft),{type:"select",label:"Article Category",name:"category_id",placeholder:"Select a category (not required)",options:_e(l)},null,8,["options"]),i.value?(Me(),Ve("p",xE,Yt(i.value),1)):$n("",!0)]),_:1})]))}});const kE=Zt(_E,[["__scopeId","data-v-f94c9da7"]]),SE={};function CE(t,e){return Me(),Ve("h1",null,"404")}const EE=Zt(SE,[["render",CE]]),As=xs("block",{state:()=>({blocks:[],names:["heading","paragraph","image","linkTool","quote","embed","table","code","list","alert"],icons:["h1","text","img","link","quote","embed","table","code","list","alert"]}),actions:{async fetchData(t){try{const e=await ht.get(`/blocks?article=${t}`);this.blocks=e.data;for(let n=0;n<this.blocks.length;n++)this.blocks[n].data=JSON.parse(this.blocks[n].data);return!0}catch{return!1}},async save(t){const e=[];for(let r=0;r<this.blocks.length;r++)e.push(Object.assign({},this.blocks[r])),e[r].data=JSON.stringify(e[r].data);const n=JSON.stringify(e);await ht.post(`/blocks?article=${t}`,n)},async removeImage(t){const e=new FormData;e.append("image",t.split("/").pop()||""),e.append("article",window.location.pathname.split("/").pop()),await ht.post("delete-image",e)}}}),AE={class:"block-icon"},OE=["src"],TE={key:0,class:"block-text"},LE={key:1,class:"block-name"},ME=St({__name:"Block",props:{block:null,active:{type:Boolean}},setup(t){const e=t,n=As(),r=Je(()=>{if(e.block.type=="heading")return`/admin/svg/h${e.block.data.level}.svg`;let s=n.names.indexOf(e.block.type);return`/admin/svg/${n.icons[s]}.svg`}),i=Je(()=>{let s=ws(e.block.type);return s=="LinkTool"&&(s="Link"),s}),o=Je(()=>e.block.data.text);return(s,l)=>(Me(),Ve("div",{class:ia(["block",{active:t.active}])},[ke("div",AE,[ke("img",{class:"block-icon",src:_e(r)},null,8,OE)]),t.block.type=="heading"?(Me(),Ve("p",TE,Yt(_e(o)),1)):(Me(),Ve("p",LE,Yt(_e(i)),1))],2))}});const bp=Zt(ME,[["__scopeId","data-v-97a713e2"]]);class it{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),rr.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),rr.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Xo(this),o=new Xo(e);for(let s=n,l=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new Xo(this,e)}iterRange(e,n=this.length){return new ty(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new ny(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?it.empty:e.length<=32?new At(e):rr.from(At.split(e,[]))}}class At extends it{constructor(e,n=RE(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],l=i+s.length;if((n?r:l)>=e)return new PE(i,l,r,s);i=l+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new At(vp(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),l=yl(o.text,s.text.slice(),0,o.length);if(l.length<=32)r.push(new At(l,s.length+o.length));else{let a=l.length>>1;r.push(new At(l.slice(0,a)),new At(l.slice(a)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof At))return super.replace(e,n,r);let i=yl(this.text,yl(r.text,vp(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new At(i,o):rr.from(At.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let l=this.text[s],a=o+l.length;o>e&&s&&(i+=r),e<a&&n>o&&(i+=l.slice(Math.max(0,e-o),n-o)),o=a+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new At(r,i)),r=[],i=-1);return i>-1&&n.push(new At(r,i)),n}}class rr extends it{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],l=i+s.length,a=r+s.lines-1;if((n?a:l)>=e)return s.lineInner(e,n,r,i);i=l+1,r=a+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let l=this.children[o],a=s+l.length;if(e<=a&&n>=s){let c=i&((s<=e?1:0)|(a>=n?2:0));s>=e&&a<=n&&!c?r.push(l):l.decompose(e-s,n-s,r,c)}s=a+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],l=o+s.length;if(e>=o&&n<=l){let a=s.replace(e-o,n-o,r),c=this.lines-s.lines+a.lines;if(a.lines<c>>5-1&&a.lines>c>>5+1){let u=this.children.slice();return u[i]=a,new rr(u,this.length-(n-e)+r.length)}return super.replace(o,l,a)}o=l+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let l=this.children[o],a=s+l.length;s>e&&o&&(i+=r),e<a&&n>s&&(i+=l.sliceString(e-s,n-s,r)),s=a+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof rr))return 0;let r=0,[i,o,s,l]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==l)return r;let a=this.children[i],c=e.children[o];if(a!=c)return r+a.scanIdentical(c,n);r+=a.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let g of e)g.flatten(d);return new At(d,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,l=[],a=0,c=-1,u=[];function f(d){let g;if(d.lines>o&&d instanceof rr)for(let v of d.children)f(v);else d.lines>s&&(a>s||!a)?(h(),l.push(d)):d instanceof At&&a&&(g=u[u.length-1])instanceof At&&d.lines+g.lines<=32?(a+=d.lines,c+=d.length+1,u[u.length-1]=new At(g.text.concat(d.text),g.length+1+d.length)):(a+d.lines>i&&h(),a+=d.lines,c+=d.length+1,u.push(d))}function h(){a!=0&&(l.push(u.length==1?u[0]:rr.from(u,c)),c=-1,a=u.length=0)}for(let d of e)f(d);return h(),l.length==1?l[0]:new rr(l,n)}}it.empty=new At([""],0);function RE(t){let e=-1;for(let n of t)e+=n.length+1;return e}function yl(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let l=t[o],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),s?(e[e.length-1]+=l,s=!1):e.push(l)),i=a+1}return e}function vp(t,e,n){return yl(t,[""],e,n)}class Xo{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof At?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,l=i instanceof At?i.text.length:i.children.length;if(s==(n>0?l:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof At){let a=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,a.length>Math.max(0,e))return this.value=e==0?a:n>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=i.children[s+(n<0?-1:0)];e>a.length?(e-=a.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(a),this.offsets.push(n>0?1:(a instanceof At?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class ty{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Xo(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class ny{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(it.prototype[Symbol.iterator]=function(){return this.iter()},Xo.prototype[Symbol.iterator]=ty.prototype[Symbol.iterator]=ny.prototype[Symbol.iterator]=function(){return this});class PE{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}let Zi="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Zi.length;t++)Zi[t]+=Zi[t-1];function DE(t){for(let e=1;e<Zi.length;e+=2)if(Zi[e]>t)return Zi[e-1]<=t;return!1}function wp(t){return t>=127462&&t<=127487}const xp=8205;function vn(t,e,n=!0,r=!0){return(n?ry:IE)(t,e,r)}function ry(t,e,n){if(e==t.length)return e;e&&iy(t.charCodeAt(e))&&oy(t.charCodeAt(e-1))&&e--;let r=bl(t,e);for(e+=pu(r);e<t.length;){let i=bl(t,e);if(r==xp||i==xp||n&&DE(i))e+=pu(i),r=i;else if(wp(i)){let o=0,s=e-2;for(;s>=0&&wp(bl(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function IE(t,e,n){for(;e>0;){let r=ry(t,e-2,n);if(r<e)return r;e--}return 0}function iy(t){return t>=56320&&t<57344}function oy(t){return t>=55296&&t<56320}function bl(t,e){let n=t.charCodeAt(e);if(!oy(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return iy(r)?(n-55296<<10)+(r-56320)+65536:n}function pu(t){return t<65536?1:2}const mu=/\r\n?|\n/;var yn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(yn||(yn={}));class cr{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){gu(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new cr(e)}composeDesc(e){return this.empty?e:e.empty?this:sy(this,e)}mapDesc(e,n=!1){return e.empty?this:yu(this,e,n)}mapPos(e,n=-1,r=yn.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],a=this.sections[s++],c=i+l;if(a<0){if(c>e)return o+(e-i);o+=l}else{if(r!=yn.Simple&&c>=e&&(r==yn.TrackDel&&i<e&&c>e||r==yn.TrackBefore&&i<e||r==yn.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!l)return e==i||n<0?o:o+a;o+=a}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],l=i+o;if(s>=0&&i<=n&&l>=e)return i<e&&l>n?"cover":!0;i=l}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new cr(e)}static create(e){return new cr(e)}}class Mt extends cr{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return gu(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return yu(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=s;let a=i>>1;for(;r.length<a;)r.push(it.empty);r.push(s?e.slice(o,o+s):it.empty)}o+=s}return new Mt(n,r)}compose(e){return this.empty?e:e.empty?this:sy(this,e,!0)}map(e,n=!1){return e.empty?this:yu(this,e,n,!0)}iterChanges(e,n=!1){gu(this,e,n)}get desc(){return cr.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new us(this);e:for(let s=0,l=0;;){let a=s==e.length?1e9:e[s++];for(;l<a||l==a&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,a-l);Jt(i,u,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;Jt(n,u,f),f>0&&zr(r,n,o.text),o.forward(u),l+=u}let c=e[s++];for(;l<c;){if(o.done)break e;let u=Math.min(o.len,c-l);Jt(n,u,-1),Jt(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),l+=u}}return{changes:new Mt(n,r),filtered:cr.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,l=null;function a(u=!1){if(!u&&!i.length)return;s<n&&Jt(i,n-s,-1);let f=new Mt(i,o);l=l?l.compose(f.map(l)):f,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof Mt){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:f,to:h=f,insert:d}=u;if(f>h||f<0||h>n)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${n})`);let g=d?typeof d=="string"?it.of(d.split(r||mu)):d:it.empty,v=g.length;if(f==h&&v==0)return;f<s&&a(),f>s&&Jt(i,f-s,-1),Jt(i,h-f,v),zr(o,i,g),s=h}}return c(e),a(!l),l}static empty(e){return new Mt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(it.empty);r[i]=it.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new Mt(n,r)}static createSet(e,n){return new Mt(e,n)}}function Jt(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function zr(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(it.empty);t.push(n)}}function gu(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let l=t.sections[s++],a=t.sections[s++];if(a<0)i+=l,o+=l;else{let c=i,u=o,f=it.empty;for(;c+=l,u+=a,a&&r&&(f=f.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)l=t.sections[s++],a=t.sections[s++];e(i,c,o,u,f),i=c,o=u}}}function yu(t,e,n,r=!1){let i=[],o=r?[]:null,s=new us(t),l=new us(e);for(let a=-1;;)if(s.ins==-1&&l.ins==-1){let c=Math.min(s.len,l.len);Jt(i,c,-1),s.forward(c),l.forward(c)}else if(l.ins>=0&&(s.ins<0||a==s.i||s.off==0&&(l.len<s.len||l.len==s.len&&!n))){let c=l.len;for(Jt(i,l.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&a<s.i&&s.len<=u&&(Jt(i,0,s.ins),o&&zr(o,i,s.text),a=s.i),s.forward(u),c-=u}l.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(l.ins==-1){let f=Math.min(u,l.len);c+=f,u-=f,l.forward(f)}else if(l.ins==0&&l.len<u)u-=l.len,l.next();else break;Jt(i,c,a<s.i?s.ins:0),o&&a<s.i&&zr(o,i,s.text),a=s.i,s.forward(s.len-u)}else{if(s.done&&l.done)return o?Mt.createSet(i,o):cr.create(i);throw new Error("Mismatched change set lengths")}}function sy(t,e,n=!1){let r=[],i=n?[]:null,o=new us(t),s=new us(e);for(let l=!1;;){if(o.done&&s.done)return i?Mt.createSet(r,i):cr.create(r);if(o.ins==0)Jt(r,o.len,0,l),o.next();else if(s.len==0&&!s.done)Jt(r,0,s.ins,l),i&&zr(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;Jt(r,a,u,l),i&&u&&zr(i,r,s.text)}else s.ins==-1?(Jt(r,o.off?0:o.len,a,l),i&&zr(i,r,o.textBit(a))):(Jt(r,o.off?0:o.len,s.off?0:s.ins,l),i&&!s.off&&zr(i,r,s.text));l=(o.ins>a||s.ins>=0&&s.len>a)&&(l||r.length>c),o.forward2(a),s.forward(a)}}}}class us{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?it.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?it.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class xi{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new xi(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return re.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return re.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return re.range(e.anchor,e.head)}static create(e,n,r){return new xi(e,n,r)}}class re{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:re.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new re([this.main],0)}addRange(e,n=!0){return re.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,re.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new re(e.ranges.map(n=>xi.fromJSON(n)),e.main)}static single(e,n=e){return new re([re.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return re.normalized(e.slice(),n);r=o.to}return new re(e,n)}static cursor(e,n=0,r,i){return xi.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,n,r,i){let o=(r??33554431)<<5|(i==null?3:Math.min(2,i));return n<e?xi.create(n,e,24|o):xi.create(e,n,(n>e?4:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,a=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?re.range(a,l):re.range(l,a))}}return new re(e,n)}}function ly(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let ch=0;class Re{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=ch++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}static define(e={}){return new Re(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:uh),!!e.static,e.enables)}of(e){return new vl([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new vl(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new vl(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function uh(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class vl{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=ch++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,l=this.type==2,a=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?a=!0:f=="selection"?c=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||u.push(e[f.id]);return{create(f){return f.values[s]=r(f),1},update(f,h){if(a&&h.docChanged||c&&(h.docChanged||h.selection)||bu(f,u)){let d=r(f);if(l?!_p(d,f.values[s],i):!i(d,f.values[s]))return f.values[s]=d,1}return 0},reconfigure:(f,h)=>{let d,g=h.config.address[o];if(g!=null){let v=zl(h,g);if(this.dependencies.every(m=>m instanceof Re?h.facet(m)===f.facet(m):m instanceof Mr?h.field(m,!1)==f.field(m,!1):!0)||(l?_p(d=r(f),v,i):i(d=r(f),v)))return f.values[s]=v,0}else d=r(f);return f.values[s]=d,1}}}}function _p(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function bu(t,e){let n=!1;for(let r of e)Qo(t,r)&1&&(n=!0);return n}function $E(t,e,n){let r=n.map(a=>t[a.id]),i=n.map(a=>a.type),o=r.filter(a=>!(a&1)),s=t[e.id]>>1;function l(a){let c=[];for(let u=0;u<r.length;u++){let f=zl(a,r[u]);if(i[u]==2)for(let h of f)c.push(h);else c.push(f)}return e.combine(c)}return{create(a){for(let c of r)Qo(a,c);return a.values[s]=l(a),1},update(a,c){if(!bu(a,o))return 0;let u=l(a);return e.compare(u,a.values[s])?0:(a.values[s]=u,1)},reconfigure(a,c){let u=bu(a,r),f=c.config.facets[e.id],h=c.facet(e);if(f&&!u&&uh(n,f))return a.values[s]=h,0;let d=l(a);return e.compare(d,h)?(a.values[s]=h,0):(a.values[s]=d,1)}}}const kp=Re.define({static:!0});class Mr{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new Mr(ch++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(kp).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,kp.of({field:this,create:e})]}get extension(){return this}}const wi={lowest:4,low:3,default:2,high:1,highest:0};function Po(t){return e=>new ay(e,t)}const fh={highest:Po(wi.highest),high:Po(wi.high),default:Po(wi.default),low:Po(wi.low),lowest:Po(wi.lowest)};class ay{constructor(e,n){this.inner=e,this.prec=n}}class Oa{of(e){return new vu(this,e)}reconfigure(e){return Oa.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class vu{constructor(e,n){this.compartment=e,this.inner=n}}class Ul{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let h of BE(e,n,s))h instanceof Mr?i.push(h):(o[h.facet.id]||(o[h.facet.id]=[])).push(h);let l=Object.create(null),a=[],c=[];for(let h of i)l[h.id]=c.length<<1,c.push(d=>h.slot(d));let u=r==null?void 0:r.config.facets;for(let h in o){let d=o[h],g=d[0].facet,v=u&&u[h]||[];if(d.every(m=>m.type==0))if(l[g.id]=a.length<<1|1,uh(v,d))a.push(r.facet(g));else{let m=g.combine(d.map(p=>p.value));a.push(r&&g.compare(m,r.facet(g))?r.facet(g):m)}else{for(let m of d)m.type==0?(l[m.id]=a.length<<1|1,a.push(m.value)):(l[m.id]=c.length<<1,c.push(p=>m.dynamicSlot(p)));l[g.id]=c.length<<1,c.push(m=>$E(m,g,d))}}let f=c.map(h=>h(l));return new Ul(e,s,f,l,a,o)}}function BE(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,l){let a=i.get(s);if(a!=null){if(a<=l)return;let c=r[a].indexOf(s);c>-1&&r[a].splice(c,1),s instanceof vu&&n.delete(s.compartment)}if(i.set(s,l),Array.isArray(s))for(let c of s)o(c,l);else if(s instanceof vu){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,l)}else if(s instanceof ay)o(s.inner,s.prec);else if(s instanceof Mr)r[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof vl)r[l].push(s),s.facet.extensions&&o(s.facet.extensions,wi.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,l)}}return o(t,wi.default),r.reduce((s,l)=>s.concat(l))}function Qo(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function zl(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const cy=Re.define(),uy=Re.define({combine:t=>t.some(e=>e),static:!0}),fy=Re.define({combine:t=>t.length?t[0]:void 0,static:!0}),hy=Re.define(),dy=Re.define(),py=Re.define(),my=Re.define({combine:t=>t.length?t[0]:!1});class ai{constructor(e,n){this.type=e,this.value=n}static define(){return new NE}}class NE{of(e){return new ai(this,e)}}class jE{constructor(e){this.map=e}of(e){return new Rt(this,e)}}class Rt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Rt(this.type,n)}is(e){return this.type==e}static define(e={}){return new jE(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}Rt.reconfigure=Rt.define();Rt.appendConfig=Rt.define();class Pt{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&ly(r,n.newLength),o.some(l=>l.type==Pt.time)||(this.annotations=o.concat(Pt.time.of(Date.now())))}static create(e,n,r,i,o,s){return new Pt(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Pt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Pt.time=ai.define();Pt.userEvent=ai.define();Pt.addToHistory=ai.define();Pt.remote=ai.define();function FE(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function gy(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=Mt.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Rt.mapEffects(t.effects,i).concat(Rt.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function wu(t,e,n){let r=e.selection,i=eo(e.annotations);return e.userEvent&&(i=i.concat(Pt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Mt?e.changes:Mt.of(e.changes||[],n,t.facet(fy)),selection:r&&(r instanceof re?r:re.single(r.anchor,r.head)),effects:eo(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function yy(t,e,n){let r=wu(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=gy(r,wu(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=Pt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return VE(n?HE(i):i)}function HE(t){let e=t.startState,n=!0;for(let i of e.facet(hy)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:FE(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Mt.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=Pt.create(e,i,t.selection&&t.selection.map(o),Rt.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(dy);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Pt?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Pt?t=o[0]:t=yy(e,eo(o),!1)}return t}function VE(t){let e=t.startState,n=e.facet(py),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=gy(r,wu(e,o,t.changes.newLength),!0))}return r==t?t:Pt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const UE=[];function eo(t){return t==null?UE:Array.isArray(t)?t:[t]}var br=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(br||(br={}));const zE=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let xu;try{xu=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function qE(t){if(xu)return xu.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||zE.test(n)))return!0}return!1}function WE(t){return e=>{if(!/\S/.test(e))return br.Space;if(qE(e))return br.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return br.Word;return br.Other}}class rt{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Qo(this,l<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Qo(this,r),zl(this,r)}update(...e){return yy(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(Oa.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,a)=>i.set(a,l)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(Rt.reconfigure)?(n=null,r=s.value):s.is(Rt.appendConfig)&&(n=null,r=eo(r).concat(s.value));let o;n?o=e.startState.values.slice():(n=Ul.resolve(r,i,this),o=new rt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,a)=>a.reconfigure(l,this),null).values),new rt(n,e.newDoc,e.newSelection,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:re.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=eo(r.effects);for(let l=1;l<n.ranges.length;l++){let a=e(n.ranges[l]),c=this.changes(a.changes),u=c.map(i);for(let h=0;h<l;h++)o[h]=o[h].map(u);let f=i.mapDesc(c,!0);o.push(a.range.map(f)),i=i.compose(u),s=Rt.mapEffects(s,u).concat(Rt.mapEffects(eo(a.effects),f))}return{changes:i,selection:re.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof Mt?e:Mt.of(e,this.doc.length,this.facet(rt.lineSeparator))}toText(e){return it.of(e.split(this.facet(rt.lineSeparator)||mu))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Qo(this,n),zl(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Mr&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],l=e[o];i.push(s.init(a=>s.spec.fromJSON(l,a)))}}return rt.create({doc:e.doc,selection:re.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Ul.resolve(e.extensions||[],new Map),r=e.doc instanceof it?e.doc:it.of((e.doc||"").split(n.staticFacet(rt.lineSeparator)||mu)),i=e.selection?e.selection instanceof re?e.selection:re.single(e.selection.anchor,e.selection.head):re.single(0);return ly(i,r.length),n.staticFacet(uy)||(i=i.asSingle()),new rt(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(rt.tabSize)}get lineBreak(){return this.facet(rt.lineSeparator)||`
`}get readOnly(){return this.facet(my)}phrase(e,...n){for(let r of this.facet(rt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(cy))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return WE(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,l=e-r;for(;s>0;){let a=vn(n,s,!1);if(o(n.slice(a,s))!=br.Word)break;s=a}for(;l<i;){let a=vn(n,l);if(o(n.slice(l,a))!=br.Word)break;l=a}return s==l?null:re.range(s+r,l+r)}}rt.allowMultipleSelections=uy;rt.tabSize=Re.define({combine:t=>t.length?t[0]:4});rt.lineSeparator=fy;rt.readOnly=my;rt.phrases=Re.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});rt.languageData=cy;rt.changeFilter=hy;rt.transactionFilter=dy;rt.transactionExtender=py;Oa.reconfigure=Rt.define();function hh(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],l=r[o];if(l===void 0)r[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class ho{eq(e){return this==e}range(e,n=e){return _u.create(e,n,this)}}ho.prototype.startSide=ho.prototype.endSide=0;ho.prototype.point=!1;ho.prototype.mapMode=yn.TrackDel;let _u=class by{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new by(e,n,r)}};function ku(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class dh{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,l=o.length;;){if(s==l)return s;let a=s+l>>1,c=o[a]-e||(r?this.value[a].endSide:this.value[a].startSide)-n;if(a==s)return c>=0?s:l;c>=0?l=a:s=a+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],u=this.from[a]+e,f=this.to[a]+e,h,d;if(u==f){let g=n.mapPos(u,c.startSide,c.mapMode);if(g==null||(h=d=g,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide),d<h)))continue}else if(h=n.mapPos(u,c.startSide),d=n.mapPos(f,c.endSide),h>d||h==d&&c.startSide>0&&c.endSide<=0)continue;(d-h||c.endSide-c.startSide)<0||(s<0&&(s=h),c.point&&(l=Math.max(l,d-h)),r.push(c),i.push(h-s),o.push(d-s))}return{mapped:r.length?new dh(i,o,r,l):null,pos:s}}}class mt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new mt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(ku)),this.isEmpty)return n.length?mt.of(n):this;let l=new vy(this,null,-1).goto(0),a=0,c=[],u=new fs;for(;l.value||a<n.length;)if(a<n.length&&(l.from-n[a].from||l.startSide-n[a].value.startSide)>=0){let f=n[a++];u.addInner(f.from,f.to,f.value)||c.push(f)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==n.length||this.chunkEnd(l.chunkIndex)<n[a].from)&&(!s||i>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&u.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||i>l.to||o<l.from||s(l.from,l.to,l.value))&&(u.addInner(l.from,l.to,l.value)||c.push(_u.create(l.from,l.to,l.value))),l.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?mt.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s],c=e.touchesRange(l,l+a.length);if(c===!1)i=Math.max(i,a.maxPoint),n.push(a),r.push(e.mapPos(l));else if(c===!0){let{mapped:u,pos:f}=a.map(l,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new mt(r,n,o||mt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return hs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return hs.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),a=Sp(s,l,r),c=new Do(s,a,o),u=new Do(l,a,o);r.iterGaps((f,h,d)=>Cp(c,f,u,h,d,i)),r.empty&&r.length==0&&Cp(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let o=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=Sp(o,s),a=new Do(o,l,0).goto(r),c=new Do(s,l,0).goto(r);for(;;){if(a.to!=c.to||!Su(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>i)return!0;a.next(),c.next()}}static spans(e,n,r,i,o=-1){let s=new Do(e,null,o).goto(n),l=n,a=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),f=s.pointFrom<n?u.length+1:Math.min(u.length,a);i.point(l,c,s.point,u,f,s.pointRank),a=Math.min(s.openEnd(c),u.length)}else c>l&&(i.span(l,c,s.active,a),a=s.openEnd(c));if(s.to>r)return a+(s.point&&s.to>r?1:0);l=s.to,s.next()}}static of(e,n=!1){let r=new fs;for(let i of e instanceof _u?[e]:n?KE(e):e)r.add(i.from,i.to,i.value);return r.finish()}}mt.empty=new mt([],[],null,-1);function KE(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(ku(e,r)>0)return t.slice().sort(ku);e=r}return t}mt.empty.nextLayer=mt.empty;class fs{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new dh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new fs)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(mt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=mt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function Sp(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let l=r.get(o.chunk[s]);l!=null&&(n?n.mapPos(l):l)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(l,l+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class vy{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class hs{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new vy(s,n,r,o));return i.length==1?i[0]:new hs(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)vc(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)vc(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),vc(this.heap,0)}}}function vc(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Do{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=hs.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Vs(this.active,e),Vs(this.activeTo,e),Vs(this.activeRank,e),this.minActive=Ep(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=o;)n++;Us(this.active,n,r),Us(this.activeTo,n,i),Us(this.activeRank,n,o),e&&Us(e,n,this.cursor.from),this.minActive=Ep(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Vs(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function Cp(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,l=r,a=r-e;for(;;){let c=t.to+a-n.to||t.endSide-n.endSide,u=c<0?t.to+a:n.to,f=Math.min(u,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Su(t.activeForPoint(t.to+a),n.activeForPoint(n.to))||o.comparePoint(l,f,t.point,n.point):f>l&&!Su(t.active,n.active)&&o.compareRange(l,f,t.active,n.active),u>s)break;l=u,c<=0&&t.next(),c>=0&&n.next()}}function Su(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Vs(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Us(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function Ep(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function ph(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=vn(t,i));return r}function JE(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=vn(t,i)}return r===!0?-1:t.length}const Cu="",Ap=typeof Symbol>"u"?"__"+Cu:Symbol.for(Cu),Eu=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ti{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,a,c){let u=[],f=/^@(\w+)\b/.exec(s[0]),h=f&&f[1]=="keyframes";if(f&&l==null)return a.push(s[0]+";");for(let d in l){let g=l[d];if(/&/.test(d))o(d.split(/,\s*/).map(v=>s.map(m=>v.replace(/&/,m))).reduce((v,m)=>v.concat(m)),g,a);else if(g&&typeof g=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(i(d),g,u,h)}else g!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+g+";")}(u.length||h)&&a.push((r&&!f&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Op[Ap]||1;return Op[Ap]=e+1,Cu+e.toString(36)}static mount(e,n){(e[Eu]||new GE(e)).mount(Array.isArray(n)?n:[n])}}let zs=null;class GE{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(zs)return e.adoptedStyleSheets=[zs.sheet,...e.adoptedStyleSheets],e[Eu]=zs;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],zs=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[Eu]=this}mount(e){let n=this.sheet,r=0,i=0;for(let o=0;o<e.length;o++){let s=e[o],l=this.modules.indexOf(s);if(l<i&&l>-1&&(this.modules.splice(l,1),i--,l=-1),l==-1){if(this.modules.splice(i++,0,s),n)for(let a=0;a<s.rules.length;a++)n.insertRule(s.rules[a],r++)}else{for(;i<l;)r+=this.modules[i++].rules.length;r+=s.rules.length,i++}}if(!n){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+`
`;this.styleTag.textContent=o}}}var ni={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ds={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Tp=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),YE=typeof navigator<"u"&&/Mac/.test(navigator.platform),XE=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),QE=YE||Tp&&+Tp[1]<57;for(var Ut=0;Ut<10;Ut++)ni[48+Ut]=ni[96+Ut]=String(Ut);for(var Ut=1;Ut<=24;Ut++)ni[Ut+111]="F"+Ut;for(var Ut=65;Ut<=90;Ut++)ni[Ut]=String.fromCharCode(Ut+32),ds[Ut]=String.fromCharCode(Ut);for(var wc in ni)ds.hasOwnProperty(wc)||(ds[wc]=ni[wc]);function ZE(t){var e=QE&&(t.ctrlKey||t.altKey||t.metaKey)||XE&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ds:ni)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function ql(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function po(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function eA(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function wl(t,e){if(!e.anchorNode)return!1;try{return po(t,e.anchorNode)}catch{return!1}}function ps(t){return t.nodeType==3?mo(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Wl(t,e,n,r){return n?Lp(t,e,n,r,-1)||Lp(t,e,n,r,1):!1}function Kl(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Lp(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ms(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=Kl(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?ms(t):0}else return!1}}function ms(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}const wy={left:0,right:0,top:0,bottom:0};function mh(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function tA(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function nA(t,e,n,r,i,o,s,l){let a=t.ownerDocument,c=a.defaultView||window;for(let u=t;u;)if(u.nodeType==1){let f,h=u==a.body;if(h)f=tA(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let v=u.getBoundingClientRect();f={left:v.left,right:v.left+u.clientWidth,top:v.top,bottom:v.top+u.clientHeight}}let d=0,g=0;if(i=="nearest")e.top<f.top?(g=-(f.top-e.top+s),n>0&&e.bottom>f.bottom+g&&(g=e.bottom-f.bottom+g+s)):e.bottom>f.bottom&&(g=e.bottom-f.bottom+s,n<0&&e.top-g<f.top&&(g=-(f.top+g-e.top+s)));else{let v=e.bottom-e.top,m=f.bottom-f.top;g=(i=="center"&&v<=m?e.top+v/2-m/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-m+s)-f.top}if(r=="nearest"?e.left<f.left?(d=-(f.left-e.left+o),n>0&&e.right>f.right+d&&(d=e.right-f.right+d+o)):e.right>f.right&&(d=e.right-f.right+o,n<0&&e.left<f.left+d&&(d=-(f.left+d-e.left+o))):d=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==l?e.left-o:e.right-(f.right-f.left)+o)-f.left,d||g)if(h)c.scrollBy(d,g);else{let v=0,m=0;if(g){let p=u.scrollTop;u.scrollTop+=g,m=u.scrollTop-p}if(d){let p=u.scrollLeft;u.scrollLeft+=d,v=u.scrollLeft-p}e={left:e.left-v,top:e.top-m,right:e.right-v,bottom:e.bottom-m},v&&Math.abs(v-d)<1&&(r="nearest"),m&&Math.abs(m-g)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function rA(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class iA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Vi=null;function xy(t){if(t.setActive)return t.setActive();if(Vi)return t.focus(Vi);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Vi==null?{get preventScroll(){return Vi={preventScroll:!0},!0}}:void 0),!Vi){Vi=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let Mp;function mo(t,e,n=e){let r=Mp||(Mp=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function to(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function oA(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function _y(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function sA(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(;;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=ms(n))}else{if(n==t)return!0;r=Kl(n),n=n.parentNode}}class zt{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new zt(e.parentNode,Kl(e),n)}static after(e,n){return new zt(e.parentNode,Kl(e)+1,n)}}const gh=[];class yt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,n){return null}sync(e,n){if(this.dirty&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.dirty){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let l=yt.get(o);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.dirty=0}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=Rp(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=Rp(o)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,n),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=ms(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!yt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,l=-1;for(let a=0,c=r,u=r;a<this.children.length;a++){let f=this.children[a],h=c+f.length;if(c<e&&h>n)return f.domBoundsAround(e,n,c);if(h>=e&&i==-1&&(i=a,o=c),c>n&&f.dom.parentNode==this.dom){s=a,l=u;break}u=h,c=h+f.breakAfter}return{from:o,to:l<0?r+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=gh){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&o.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ky(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}yt.prototype.breakAfter=0;function Rp(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class ky{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function Sy(t,e,n,r,i,o,s,l,a){let{children:c}=t,u=c.length?c[e]:null,f=o.length?o[o.length-1]:null,h=f?f.breakAfter:s;if(!(e==r&&u&&!s&&!h&&o.length<2&&u.merge(n,i,o.length?f:null,n==0,l,a))){if(r<c.length){let d=c[r];d&&i<d.length?(e==r&&(d=d.split(i),i=0),!h&&f&&d.merge(0,i,f,!0,0,a)?o[o.length-1]=d:(i&&d.merge(0,i,null,!1,0,a),o.push(d))):d!=null&&d.breakAfter&&(f?f.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,l,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,l,a)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function Cy(t,e,n,r,i,o){let s=t.childCursor(),{i:l,off:a}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),f=e-n;for(let h of r)f+=h.length;t.length+=f,Sy(t,c,u,l,a,r,0,i,o)}let bn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Au=typeof document<"u"?document:{documentElement:{style:{}}};const Ou=/Edge\/(\d+)/.exec(bn.userAgent),Ey=/MSIE \d/.test(bn.userAgent),Tu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bn.userAgent),Ta=!!(Ey||Tu||Ou),Pp=!Ta&&/gecko\/(\d+)/i.test(bn.userAgent),xc=!Ta&&/Chrome\/(\d+)/.exec(bn.userAgent),Dp="webkitFontSmoothing"in Au.documentElement.style,Ay=!Ta&&/Apple Computer/.test(bn.vendor),Ip=Ay&&(/Mobile\/\w+/.test(bn.userAgent)||bn.maxTouchPoints>2);var ve={mac:Ip||/Mac/.test(bn.platform),windows:/Win/.test(bn.platform),linux:/Linux|X11/.test(bn.platform),ie:Ta,ie_version:Ey?Au.documentMode||6:Tu?+Tu[1]:Ou?+Ou[1]:0,gecko:Pp,gecko_version:Pp?+(/Firefox\/(\d+)/.exec(bn.userAgent)||[0,0])[1]:0,chrome:!!xc,chrome_version:xc?+xc[1]:0,ios:Ip,android:/Android\b/.test(bn.userAgent),webkit:Dp,safari:Ay,webkit_version:Dp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Au.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const lA=256;class ri extends yt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return r&&(!(r instanceof ri)||this.length-(n-e)+r.length>lA)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new ri(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new zt(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Lu(this.dom,e,n)}}class hr extends yt{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(_y(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof hr&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(Cy(this,e,n,r?r.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let l of this.children){let a=r+l.length;a>e&&n.push(r<e?l.split(e-r):l),i<0&&r>=e&&(i=o),r=a,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new hr(this.mark,n,s)}domAtPos(e){return Ly(this,e)}coordsAt(e,n){return Ry(this,e,n)}}function Lu(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?ve.chrome||ve.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let l=mo(t,i,o).getClientRects();if(!l.length)return wy;let a=l[(s?s<0:n>=0)?0:l.length-1];return ve.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?mh(a,s<0):a||null}class qr extends yt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}static create(e,n,r){return new(e.customView||qr)(e,n,r)}split(e){let n=qr.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof qr)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e.length==this.length&&e instanceof qr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return it.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):it.empty}domAtPos(e){return e==0?zt.before(this.dom):zt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.dom.getClientRects(),i=null;if(!r.length)return wy;for(let o=e>0?r.length-1:0;i=r[o],!(e>0?o==0:o==r.length-1||i.top<i.bottom);o+=e>0?-1:1);return this.length?i:mh(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Oy extends qr{domAtPos(e){let{topView:n,text:r}=this.widget;return n?Mu(e,0,n,r,(i,o)=>i.domAtPos(o),i=>new zt(r,Math.min(i,r.nodeValue.length))):new zt(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:r,text:i}=this.widget;return r?Ty(e,n,r,i):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:r,text:i}=this.widget;return r?Mu(e,n,r,i,(o,s,l)=>o.coordsAt(s,l),(o,s)=>Lu(i,o,s)):Lu(i,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Mu(t,e,n,r,i,o){if(n instanceof hr){for(let s=n.dom.firstChild;s;s=s.nextSibling){let l=yt.get(s);if(!l)return o(t,e);let a=po(s,r),c=l.length+(a?r.nodeValue.length:0);if(t<c||t==c&&l.getSide()<=0)return a?Mu(t,e,l,r,i,o):i(l,t,e);t-=c}return i(n,n.length,-1)}else return n.dom==r?o(t,e):i(n,t,e)}function Ty(t,e,n,r){if(n instanceof hr){let i=0;for(let o of n.children){let s=po(o.dom,r);if(po(o.dom,t))return i+(s?Ty(t,e,o,r):o.localPosFromDOM(t,e));i+=s?r.nodeValue.length:o.length}}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}class go extends yt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof go&&e.side==this.side}split(){return new go(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?zt.before(this.dom):zt.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let n=this.dom.getBoundingClientRect(),r=aA(this,this.side>0?-1:1);return r&&r.top<n.bottom&&r.bottom>n.top?{left:n.left,right:n.right,top:r.top,bottom:r.bottom}:n}get overrideDOMText(){return it.empty}}ri.prototype.children=qr.prototype.children=go.prototype.children=gh;function aA(t,e){let n=t.parent,r=n?n.children.indexOf(t):-1;for(;n&&r>=0;)if(e<0?r>0:r<n.children.length){let i=n.children[r+e];if(i instanceof ri){let o=i.coordsAt(e<0?i.length:0,e);if(o)return o}r+=e}else if(n instanceof hr&&n.parent)r=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent;else{let i=n.dom.lastChild;if(i&&i.nodeName=="BR")return i.getClientRects()[0];break}}function Ly(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],l=o+s.length;if(!(l==o&&s.getSide()<=0)){if(e>o&&e<l&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new zt(n,0)}function My(t,e,n){let r,{children:i}=t;n>0&&e instanceof hr&&i.length&&(r=i[i.length-1])instanceof hr&&r.mark.eq(e.mark)?My(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Ry(t,e,n){let r=null,i=-1,o=null,s=-1;function l(c,u){for(let f=0,h=0;f<c.children.length&&h<=u;f++){let d=c.children[f],g=h+d.length;g>=u&&(d.children.length?l(d,u-h):!o&&(g>u||h==g&&d.getSide()>0)?(o=d,s=u-h):(h<u||h==g&&d.getSide()<0)&&(r=d,i=u-h)),h=g}}l(t,e);let a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):cA(t)}function cA(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=ps(e);return n[n.length-1]||null}function Ru(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function yh(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(r.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function Pu(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}class La{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Et=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Et||(Et={}));class gt extends ho{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Ma(e)}static widget(e){let n=e.side||0,r=!!e.block;return n+=r?n>0?3e8:-4e8:n>0?1e8:-1e8,new Mi(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=Py(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Mi(e,r,i,n,e.widget||null,!0)}static line(e){return new Os(e)}static set(e,n=!1){return mt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}gt.none=mt.empty;class Ma extends gt{constructor(e){let{start:n,end:r}=Py(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Ma&&this.tagName==e.tagName&&this.class==e.class&&yh(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Ma.prototype.point=!1;class Os extends gt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Os&&this.spec.class==e.spec.class&&yh(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Os.prototype.mapMode=yn.TrackBefore;Os.prototype.point=!0;class Mi extends gt{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?yn.TrackBefore:yn.TrackAfter:yn.TrackDel}get type(){return this.startSide<this.endSide?Et.WidgetRange:this.startSide<=0?Et.WidgetBefore:Et.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Mi&&uA(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Mi.prototype.point=!0;function Py(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function uA(t,e){return t==e||!!(t&&e&&t.compare(e))}function Du(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class on extends yt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof on))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),Cy(this,e,n,r?r.children:[],o,s),!0}split(e){let n=new on;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){yh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){My(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=Ru(n,this.attrs||{})),r&&(this.attrs=Ru({class:r},this.attrs||{}))}domAtPos(e){return Ly(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var r;this.dom?this.dirty&4&&(_y(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Pu(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&yt.get(i)instanceof hr;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=yt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!ve.ios||!this.children.some(o=>o instanceof ri))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof ri)||/[^ -~]/.test(r.text))return null;let i=ps(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=Ry(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return Et.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof on)return o;if(s>n)break}i=s+o.breakAfter}return null}}class Ci extends yt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof Ci)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?zt.before(this.dom):zt.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Ci(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return gh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):it.empty}domBoundsAround(){return null}become(e){return e instanceof Ci&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class bh{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ci&&e.type==Et.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new on),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(qs(new go(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(qs(new ri(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Mi){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=n-e;if(r instanceof Mi)if(r.block){let{type:a}=r;a==Et.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ci(r.widget||new $p("div"),l,a))}else{let a=qr.create(r.widget||new $p("span"),l,l?0:r.startSide),c=this.atCursorPos&&!a.isEditable&&o<=i.length&&(e<n||r.startSide>0),u=!a.isEditable&&(e<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(f.append(qs(new go(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(qs(a,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new bh(e,n,r,o);return s.openEnd=mt.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function qs(t,e){for(let n of e)t=new hr(n,[t],t.length);return t}class $p extends La{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Dy=Re.define(),Iy=Re.define(),$y=Re.define(),By=Re.define(),Iu=Re.define(),Ny=Re.define(),jy=Re.define(),Fy=Re.define({combine:t=>t.some(e=>e)}),fA=Re.define({combine:t=>t.some(e=>e)});class Jl{constructor(e,n="nearest",r="nearest",i=5,o=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}map(e){return e.empty?this:new Jl(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Bp=Rt.define({map:(t,e)=>t.map(e)});function Yr(t,e,n){let r=t.facet(By);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Ra=Re.define({combine:t=>t.length?t[0]:!0});let hA=0;const Ho=Re.define();class ii{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:o}=n||{};return new ii(hA++,e,r,s=>{let l=[Ho.of(s)];return o&&l.push(gs.of(a=>{let c=a.plugin(s);return c?o(c):gt.none})),i&&l.push(i(s)),l})}static fromClass(e,n){return ii.define(r=>new e(r),n)}}class _c{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Yr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Yr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Yr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Hy=Re.define(),vh=Re.define(),gs=Re.define(),Vy=Re.define(),Uy=Re.define(),Vo=Re.define();class ur{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new ur(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,l=0;;i++){let a=i==e.length?null:e[i],c=s-l,u=a?a.fromB:1e9;for(;o<n.length&&n[o]<u;){let f=n[o],h=n[o+1],d=Math.max(l,f),g=Math.min(u,h);if(d<=g&&new ur(d+c,g+c,d,g).addToSet(r),h>u)break;o+=2}if(!a)return r;new ur(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),s=a.toA,l=a.toB}}}class Gl{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Mt.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,l,a)=>i.push(new ur(o,s,l,a))),this.changedRanges=i}static create(e,n,r){return new Gl(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var qt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(qt||(qt={}));const $u=qt.LTR,dA=qt.RTL;function zy(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const pA=zy("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),mA=zy("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Bu=Object.create(null),Yn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Bu[e]=n,Bu[n]=-e}function gA(t){return t<=247?pA[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?mA[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const yA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class no{constructor(e,n,r){this.from=e,this.to=n,this.level=r}get dir(){return this.level%2?dA:$u}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=n&&l.to>=n){if(l.level==r)return s;(o<0||(i!=0?i<0?l.from<n:l.to>n:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}const kt=[];function bA(t,e){let n=t.length,r=e==$u?1:2,i=e==$u?2:1;if(!t||r==1&&!yA.test(t))return qy(n);for(let s=0,l=r,a=r;s<n;s++){let c=gA(t.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),kt[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=r,a=r;s<n;s++){let c=kt[s];if(c==128)s<n-1&&l==kt[s+1]&&l&24?c=kt[s]=l:kt[s]=256;else if(c==64){let u=s+1;for(;u<n&&kt[u]==64;)u++;let f=s&&l==8||u<n&&kt[u]==8?a==1?1:8:256;for(let h=s;h<u;h++)kt[h]=f;s=u-1}else c==8&&a==1&&(kt[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,f;s<n;s++)if(u=Bu[c=t.charCodeAt(s)])if(u<0){for(let h=l-3;h>=0;h-=3)if(Yn[h+1]==-u){let d=Yn[h+2],g=d&2?r:d&4?d&1?i:r:0;g&&(kt[s]=kt[Yn[h]]=g),l=h;break}}else{if(Yn.length==189)break;Yn[l++]=s,Yn[l++]=c,Yn[l++]=a}else if((f=kt[s])==2||f==1){let h=f==r;a=h?0:1;for(let d=l-3;d>=0;d-=3){let g=Yn[d+2];if(g&2)break;if(h)Yn[d+2]|=2;else{if(g&4)break;Yn[d+2]|=4}}}for(let s=0;s<n;s++)if(kt[s]==256){let l=s+1;for(;l<n&&kt[l]==256;)l++;let a=(s?kt[s-1]:r)==1,c=(l<n?kt[l]:r)==1,u=a==c?a?1:2:r;for(let f=s;f<l;f++)kt[f]=u;s=l-1}let o=[];if(r==1)for(let s=0;s<n;){let l=s,a=kt[s++]!=1;for(;s<n&&a==(kt[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,f=kt[--c]!=2;for(;c>l&&f==(kt[c-1]!=2);)c--;o.push(new no(c,u,f?2:1))}else o.push(new no(l,s,0))}else for(let s=0;s<n;){let l=s,a=kt[s++]==2;for(;s<n&&a==(kt[s]==2);)s++;o.push(new no(l,s,a?1:2))}return o}function qy(t){return[new no(0,t,0)]}let Wy="";function vA(t,e,n,r,i){var o;let s=r.head-t.from,l=-1;if(s==0){if(!i||!t.length)return null;e[0].level!=n&&(s=e[0].side(!1,n),l=0)}else if(s==t.length){if(i)return null;let h=e[e.length-1];h.level!=n&&(s=h.side(!0,n),l=e.length-1)}l<0&&(l=no.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc));let a=e[l];s==a.side(i,n)&&(a=e[l+=i?1:-1],s=a.side(!i,n));let c=i==(a.dir==n),u=vn(t.text,s,c);if(Wy=t.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(i,n))return re.cursor(u+t.from,c?-1:1,a.level);let f=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return!f&&a.level!=n?re.cursor(i?t.to:t.from,i?-1:1,n):f&&f.level<a.level?re.cursor(f.side(!i,n)+t.from,i?1:-1,f.level):re.cursor(u+t.from,i?-1:1,a.level)}const Wr="";class Ky{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(rt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Wr}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let o=i.nextSibling;if(o==n)break;let s=yt.get(i),l=yt.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:Np(i))||Np(o)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(l=i.exec(n))&&(o=l.index,s=l[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=yt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function Np(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class jp{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Fp extends yt{constructor(e){super(),this.view=e,this.compositionDeco=gt.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new on],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ur(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=gt.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=xA(this.view,e.changes)),(ve.ie||ve.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,i=this.updateDeco(),o=CA(r,i,e.changes);return n=ur.extendWithRanges(n,o),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=ve.chrome||ve.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.dirty=0,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ci&&o.widget instanceof Hp&&i.push(o.dom);r.updateGaps(i)}updateChildren(e,n){let r=this.childCursor(n);for(let i=e.length-1;;i--){let o=i>=0?e[i]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:f,openStart:h,openEnd:d}=bh.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:g,off:v}=r.findPos(l,1),{i:m,off:p}=r.findPos(s,-1);Sy(this,m,p,g,v,u,f,h,d)}}updateSelection(e=!1,n=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(n||this.mayControlSelection()))return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,o=this.domAtPos(i.anchor),s=i.empty?o:this.domAtPos(i.head);if(ve.gecko&&i.empty&&wA(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new zt(a,0),r=!0}let l=this.view.observer.selectionRange;(r||!l.focusNode||!Wl(o.node,o.offset,l.anchorNode,l.anchorOffset)||!Wl(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{ve.android&&ve.chrome&&this.dom.contains(l.focusNode)&&EA(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=ql(this.view.root);if(a)if(i.empty){if(ve.gecko){let c=kA(o.node,o.offset);if(c&&c!=3){let u=Gy(o.node,o.offset,c==1?1:-1);u&&(o=new zt(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),i.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=i.bidiLevel)}else if(a.extend){a.collapse(o.node,o.offset);try{a.extend(s.node,s.offset)}catch{}}else{let c=document.createRange();i.anchor>i.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new zt(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new zt(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,r=ql(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=on.find(this,n.head);if(!s)return;let l=s.posAtStart;if(n.head==l||n.head==l+s.length)return;let a=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!a||!c||a.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||wl(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let n=e;n;){let r=yt.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof on)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let o=this.children[i],s=r-o.breakAfter-o.length;if(e>s||e==s&&o.type!=Et.WidgetBefore&&o.type!=Et.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==Et.WidgetBefore&&n>-2))return o.coordsAt(e-s,n);r=s}}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==qt.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],h=c+f.length;if(h>i)break;if(c>=r){let d=f.dom.getBoundingClientRect();if(n.push(d.height),s){let g=f.dom.lastChild,v=g?ps(g):[];if(v.length){let m=v[v.length-1],p=a?m.right-d.left:d.right-m.left;p>l&&(l=p,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?qt.RTL:qt.LTR}measureTextSize(){for(let o of this.children)if(o instanceof on){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=ps(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new ky(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let l=n.lineBlockAt(s).bottom-n.lineBlockAt(r).top;e.push(gt.replace({widget:new Hp(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return gt.set(e)}updateDeco(){let e=this.view.state.facet(gs).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(Uy).map(f=>f(this.view)))if(u){let{left:f,right:h,top:d,bottom:g}=u;f!=null&&(o=Math.max(o,f)),h!=null&&(s=Math.max(s,h)),d!=null&&(l=Math.max(l,d)),g!=null&&(a=Math.max(a,g))}let c={left:r.left-o,top:r.top-l,right:r.right+s,bottom:r.bottom+a};nA(this.view.scrollDOM,c,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==qt.LTR)}}function wA(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class Hp extends La{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Jy(t){let e=t.observer.selectionRange,n=e.focusNode&&Gy(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof on){let i=n;for(;i.parentNode!=r.dom;)i=i.parentNode;let o=i.previousSibling;for(;o&&!yt.get(o);)o=o.previousSibling;let s=o?yt.get(o).posAtEnd:r.posAtStart;return{from:s,to:s,node:i,text:n}}else{for(;;){let{parent:o}=r;if(!o)return null;if(o instanceof on)break;r=o}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:n}}}function xA(t,e){let n=Jy(t);if(!n)return gt.none;let{from:r,to:i,node:o,text:s}=n,l=e.mapPos(r,1),a=Math.max(l,e.mapPos(i,-1)),{state:c}=t,u=o.nodeType==3?o.nodeValue:new Ky([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),Wr)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,Wr)==u)l=a-u.length;else return gt.none;else if(c.doc.sliceString(l,a,Wr)!=u)return gt.none;let f=yt.get(o);return f instanceof Oy?f=f.widget.topView:f&&(f.parent=null),gt.set(gt.replace({widget:new _A(o,s,f),inclusive:!0}).range(l,a))}class _A extends La{constructor(e,n,r){super(),this.top=e,this.text=n,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return Oy}}function Gy(t,e,n){if(n<=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=ms(r);else break}if(n>=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function kA(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class SA{constructor(){this.changes=[]}compareRange(e,n){Du(e,n,this.changes)}comparePoint(e,n){Du(e,n,this.changes)}}function CA(t,e,n){let r=new SA;return mt.compare(t,e,n,r),r.changes}function EA(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function AA(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return re.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,l=o;n<0?s=vn(i.text,o,!1):l=vn(i.text,o);let a=r(i.text.slice(s,l));for(;s>0;){let c=vn(i.text,s,!1);if(r(i.text.slice(c,s))!=a)break;s=c}for(;l<i.length;){let c=vn(i.text,l);if(r(i.text.slice(l,c))!=a)break;l=c}return re.range(s+i.from,l+i.from)}function OA(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function TA(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function kc(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function Vp(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Up(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Nu(t,e,n){let r,i,o,s,l=!1,a,c,u,f;for(let g=t.firstChild;g;g=g.nextSibling){let v=ps(g);for(let m=0;m<v.length;m++){let p=v[m];i&&kc(i,p)&&(p=Vp(Up(p,i.bottom),i.top));let b=OA(e,p),y=TA(n,p);if(b==0&&y==0)return g.nodeType==3?zp(g,e,n):Nu(g,e,n);if(!r||s>y||s==y&&o>b){r=g,i=p,o=b,s=y;let w=y?n<p.top?-1:1:b?e<p.left?-1:1:0;l=!w||(w>0?m<v.length-1:m>0)}b==0?n>p.bottom&&(!u||u.bottom<p.bottom)?(a=g,u=p):n<p.top&&(!f||f.top>p.top)&&(c=g,f=p):u&&kc(u,p)?u=Up(u,p.bottom):f&&kc(f,p)&&(f=Vp(f,p.top))}}if(u&&u.bottom>=n?(r=a,i=u):f&&f.top<=n&&(r=c,i=f),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return zp(r,h,n);if(l&&r.contentEditable!="false")return Nu(r,h,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function zp(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let l=0;l<r;l++){let a=mo(t,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<o){let h=e>=(u.left+u.right)/2,d=h;if((ve.chrome||ve.gecko)&&mo(t,l).getBoundingClientRect().left==u.right&&(d=!h),f<=0)return{node:t,offset:l+(d?1:0)};i=l+(d?1:0),o=f}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function Yy(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),l=s.top+t.viewState.paddingTop,a,{docHeight:c}=t.viewState,{x:u,y:f}=e,h=f-l;if(h<0)return 0;if(h>c)return t.state.doc.length;for(let w=t.defaultLineHeight/2,x=!1;a=t.elementAtHeight(h),a.type!=Et.Text;)for(;h=r>0?a.bottom+w:a.top-w,!(h>=0&&h<=c);){if(x)return n?null:0;x=!0,r=-r}f=l+h;let d=a.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:qp(t,s,a,u,f);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:qp(t,s,a,u,f);let g=t.dom.ownerDocument,v=t.root.elementFromPoint?t.root:g,m=v.elementFromPoint(u,f);m&&!t.contentDOM.contains(m)&&(m=null),m||(u=Math.max(s.left+1,Math.min(s.right-1,u)),m=v.elementFromPoint(u,f),m&&!t.contentDOM.contains(m)&&(m=null));let p,b=-1;if(m&&((i=t.docView.nearest(m))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let w=g.caretPositionFromPoint(u,f);w&&({offsetNode:p,offset:b}=w)}else if(g.caretRangeFromPoint){let w=g.caretRangeFromPoint(u,f);w&&({startContainer:p,startOffset:b}=w,(!t.contentDOM.contains(p)||ve.safari&&LA(p,b,u)||ve.chrome&&MA(p,b,u))&&(p=void 0))}}if(!p||!t.docView.dom.contains(p)){let w=on.find(t.docView,d);if(!w)return h>a.top+a.height/2?a.to:a.from;({node:p,offset:b}=Nu(w.dom,u,f))}let y=t.docView.nearest(p);if(!y)return null;if(y.isWidget&&((o=y.dom)===null||o===void 0?void 0:o.nodeType)==1){let w=y.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?y.posAtStart:y.posAtEnd}else return y.localPosFromDOM(p,b)+y.posAtStart}function qp(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let l=Math.floor((i-n.top)/t.defaultLineHeight);o+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+JE(s,o,t.state.tabSize)}function LA(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return mo(t,r-1,r).getBoundingClientRect().left>n}function MA(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():mo(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function RA(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=!r||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=t.dom.getBoundingClientRect(),c=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(c==qt.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return re.cursor(u,n?-1:1)}let s=on.find(t.docView,e.head),l=s?n?s.posAtEnd:s.posAtStart:n?i.to:i.from;return re.cursor(l,n?-1:1)}function Wp(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let l=e,a=null;;){let c=vA(i,o,s,l,n),u=Wy;if(!c){if(i.number==(n?t.state.doc.lines:1))return l;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),c=re.cursor(n?i.from:i.to)}if(a){if(!a(u))return l}else{if(!r)return c;a=r(u)}l=c}}function PA(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==br.Space&&(i=s),i==s}}function DA(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return re.cursor(i,e.assoc);let s=e.goalColumn,l,a=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i),u=t.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let d=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-d.from))),l=(o<0?d.top:d.bottom)+u}let f=a.left+s,h=r??t.defaultLineHeight>>1;for(let d=0;;d+=10){let g=l+(h+d)*o,v=Yy(t,{x:f,y:g},!1,o);if(g<a.top||g>a.bottom||(o<0?v<i:v>i))return re.cursor(v,e.assoc,void 0,s)}}function Sc(t,e,n){let r=t.state.facet(Vy).map(i=>i(t));for(;;){let i=!1;for(let o of r)o.between(n.from-1,n.from+1,(s,l,a)=>{n.from>s&&n.from<l&&(n=e.head>n.from?re.cursor(s,1):re.cursor(l,-1),i=!0)});if(!i)return n}}class IA{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let n=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in Dt){let i=Dt[r];e.contentDOM.addEventListener(r,o=>{Kp(e,o)&&n(i,o)},ju[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(n(Dt.mousedown,r),!r.defaultPrevented&&r.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),ve.chrome&&ve.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,ve.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var r;let i;this.customHandlers=[];for(let o of n)if(i=(r=o.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:i});for(let s in i)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{Kp(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let o=i.handlers[e];if(o)try{if(o.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(s){Yr(n.state,s)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(o){Yr(e.state,o)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(ve.android&&ve.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return ve.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((r=Xy.find(i=>i.keyCode==n.keyCode))&&!n.ctrlKey||$A.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=r||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,to(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:ve.safari&&!ve.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Xy=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],$A="dthko",Qy=[16,17,18,20,91,92,224,225];function Ws(t){return t*.7+8}class BA{constructor(e,n,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=rA(e.contentDOM);let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(rt.allowMultipleSelections)&&NA(e,n),this.dragMove=jA(e,n),this.dragging=FA(e,n)&&nb(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,i=0,o=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=o.left?r=-Ws(o.left-e.clientX):e.clientX>=o.right&&(r=Ws(e.clientX-o.right)),e.clientY<=o.top?i=-Ws(o.top-e.clientY):e.clientY>=o.bottom&&(i=Ws(e.clientY-o.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let n=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!n.eq(this.view.state.selection)||n.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function NA(t,e){let n=t.state.facet(Dy);return n.length?n[0](e):ve.mac?e.metaKey:e.ctrlKey}function jA(t,e){let n=t.state.facet(Iy);return n.length?n[0](e):ve.mac?!e.altKey:!e.ctrlKey}function FA(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=ql(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function Kp(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=yt.get(n))&&r.ignoreEvent(e))return!1;return!0}const Dt=Object.create(null),ju=Object.create(null),Zy=ve.ie&&ve.ie_version<15||ve.ios&&ve.webkit_version<604;function HA(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),eb(t,n.value)},50)}function eb(t,e){let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(Fu!=null&&n.selection.ranges.every(a=>a.empty)&&Fu==o.toString()){let a=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let f=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:f},range:re.cursor(c.from+f.length)}})}else s?r=n.changeByRange(a=>{let c=o.line(i++);return{changes:{from:a.from,to:a.to,insert:c.text},range:re.cursor(a.from+c.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Dt.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():Qy.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};Dt.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Dt.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};ju.touchstart=ju.touchmove={passive:!0};Dt.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of t.state.facet($y))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=zA(t,e)),n){let r=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new BA(t,e,n,r)),r&&t.observer.ignore(()=>xy(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function Jp(t,e,n,r){if(r==1)return re.cursor(e,n);if(r==2)return AA(t.state,e,n);{let i=on.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,l=i?i.posAtEnd:o.to;return l<t.state.doc.length&&l==o.to&&l++,re.range(s,l)}}let tb=(t,e)=>t>=e.top&&t<=e.bottom,Gp=(t,e,n)=>tb(e,n)&&t>=n.left&&t<=n.right;function VA(t,e,n,r){let i=on.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Gp(n,r,s))return-1;let l=i.coordsAt(o,1);return l&&Gp(n,r,l)?1:s&&tb(r,s)?-1:1}function Yp(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:VA(t,n,e.clientX,e.clientY)}}const UA=ve.ie&&ve.ie_version<=11;let Xp=null,Qp=0,Zp=0;function nb(t){if(!UA)return t.detail;let e=Xp,n=Zp;return Xp=t,Zp=Date.now(),Qp=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Qp+1)%3:1}function zA(t,e){let n=Yp(t,e),r=nb(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,l){let a=Yp(t,o),c=Jp(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!s){let u=Jp(t,n.pos,n.bias,r),f=Math.min(u.from,c.from),h=Math.max(u.to,c.to);c=f<c.from?re.range(f,h):re.range(h,f)}return s?i.replaceRange(i.main.extend(c.from,c.to)):l&&i.ranges.length>1&&i.ranges.some(u=>u.eq(c))?qA(i,c):l?i.addRange(c):re.create([c])}}}function qA(t,e){for(let n=0;;n++)if(t.ranges[n].eq(e))return re.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}Dt.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function em(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=t.inputState,s=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:i,insert:n},a=t.state.changes(s?[s,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"})}Dt.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,o=()=>{++i==n.length&&em(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[s]=l.result),o()},l.readAsText(n[s])}}else em(t,e,e.dataTransfer.getData("Text"),!0)};Dt.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=Zy?null:e.clipboardData;n?(eb(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):HA(t)};function WA(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function KA(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let Fu=null;Dt.copy=Dt.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=KA(t.state);if(!n&&!i)return;Fu=i?n:null;let o=Zy?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",n)):WA(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const rb=ai.define();function ib(t,e){let n=[];for(let r of t.facet(jy)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:rb.of(!0)}):null}function ob(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=ib(t.state,e);n?t.dispatch(n):t.update([])}},10)}Dt.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),ob(t)};Dt.blur=t=>{t.observer.clearSelectionRange(),ob(t)};Dt.compositionstart=Dt.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Dt.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,ve.chrome&&ve.android&&t.observer.flushSoon(),setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};Dt.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Dt.beforeinput=(t,e)=>{var n;let r;if(ve.chrome&&ve.android&&(r=Xy.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const tm=["pre-wrap","normal","pre-line","break-spaces"];class JA{constructor(e){this.lineWrapping=e,this.doc=it.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return tm.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let l=tm.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,a){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class GA{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class yr{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new yr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var pt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(pt||(pt={}));const xl=.001;class sn{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>xl&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return sn.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:a,toA:c,fromB:u,toB:f}=i[l],h=o.lineAt(a,pt.ByPosNoHeight,r.setDoc(n),0,0),d=h.to>=c?h:o.lineAt(c,pt.ByPosNoHeight,r,0,0);for(f+=d.to-c,c=d.to;l>0&&h.from<=i[l-1].toA;)a=i[l-1].fromA,u=i[l-1].fromB,l--,a<h.from&&(h=o.lineAt(a,pt.ByPosNoHeight,r,0,0));u+=h.from-a,a=h.from;let g=wh.build(r.setDoc(s),e,u,f);o=o.replace(a,c,g)}return o.updateHeight(r,0)}static empty(){return new mn(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let l=e[n-1];l.break?e.splice(--n,1,l.left,null,l.right):e.splice(--n,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(o>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,o-=l.size}else break;else if(i<o){let l=e[n++];l&&(i+=l.size)}else{let l=e[--r];l&&(o+=l.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new YA(sn.of(e.slice(0,n)),s,sn.of(e.slice(r)))}}sn.prototype.size=1;class sb extends sn{constructor(e,n,r){super(e,n),this.type=r}blockAt(e,n,r,i){return new yr(i,this.length,r,this.height,this.type)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class mn extends sb{constructor(e,n){super(e,n,Et.Text),this.collapsed=0,this.widgetHeight=0}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof mn||i instanceof Vt&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Vt?i=new mn(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):sn.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Vt extends sn{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*o);s=a/o,l=(this.height-a)/(this.length-o-1)}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:l}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:l,perChar:a}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),u=n.doc.lineAt(c),f=l+u.length*a,h=Math.max(r,e-f/2);return new yr(u.from,u.length,h,f,Et.Text)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-r)/l))),{from:u,length:f}=n.doc.line(o+c);return new yr(u,f,r+l*c,l,Et.Text)}}lineAt(e,n,r,i,o){if(n==pt.ByHeight)return this.blockAt(e,r,i,o);if(n==pt.ByPosNoHeight){let{from:d,to:g}=r.doc.lineAt(e);return new yr(d,g-d,0,0,Et.Text)}let{firstLine:s,perLine:l,perChar:a}=this.heightMetrics(r,o),c=r.doc.lineAt(e),u=l+c.length*a,f=c.number-s,h=i+l*f+a*(c.from-o-f);return new yr(c.from,c.length,Math.max(i,Math.min(h,i+this.height-u)),u,Et.Text)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:l,perLine:a,perChar:c}=this.heightMetrics(r,o);for(let u=e,f=i;u<=n;){let h=r.doc.lineAt(u);if(u==e){let g=h.number-l;f+=a*g+c*(e-o-g)}let d=a+c*h.length;s(new yr(h.from,h.length,f,d,Et.Text)),f+=d,u=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof Vt?r[r.length-1]=new Vt(o.length+i):r.push(null,new Vt(i-1))}if(e>0){let o=r[0];o instanceof Vt?r[0]=new Vt(e+o.length):r.unshift(new Vt(e-1),null)}return sn.of(r)}decomposeLeft(e,n){n.push(new Vt(e-1),null)}decomposeRight(e,n){n.push(null,new Vt(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],l=Math.max(n,i.from),a=-1;for(i.from>n&&s.push(new Vt(i.from-n-1).updateHeight(e,n));l<=o&&i.more;){let u=e.doc.lineAt(l).length;s.length&&s.push(null);let f=i.heights[i.index++];a==-1?a=f:Math.abs(f-a)>=xl&&(a=-2);let h=new mn(u,f);h.outdated=!1,s.push(h),l+=u+1}l<=o&&s.push(null,new Vt(o-l).updateHeight(e,l));let c=sn.of(s);return(a<0||Math.abs(c.height-this.height)>=xl||Math.abs(a-this.heightMetrics(e,n).perLine)>=xl)&&(e.heightChanged=!0),c}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class YA extends sn{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,l=o+this.left.length+this.break,a=n==pt.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=n==pt.ByPosNoHeight?pt.ByPosNoHeight:pt.ByPos;return a?c.join(this.right.lineAt(l,u,r,s,l)):this.left.lineAt(l,u,r,i,o).join(c)}forEachLine(e,n,r,i,o,s){let l=i+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,n,r,i,o,s),n>=a&&this.right.forEachLine(e,n,r,l,a,s);else{let c=this.lineAt(a,pt.ByPos,r,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,o,s),c.to>=e&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,l,a,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of r)o.push(l);if(e>0&&nm(o,s-1),n<this.length){let l=o.length;this.decomposeRight(n,o),nm(o,l)}return sn.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?sn.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,l=n+o.length+this.break,a=null;return i&&i.from<=n+o.length&&i.more?a=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=l+s.length&&i.more?a=s=s.updateHeight(e,l,r,i):s.updateHeight(e,l,r),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function nm(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Vt&&(r=t[e+1])instanceof Vt&&t.splice(e-1,3,new Vt(n.length+1+r.length))}const XA=5;class wh{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof mn?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new mn(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new sb(o,i,r.type)):(o||i>=XA)&&this.addLineDeco(i,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new mn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Vt(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof mn)return e;let n=new mn(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine(),e.type==Et.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Et.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof mn)&&!this.isCovered?this.nodes.push(new mn(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof mn&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new wh(r,e);return mt.spans(n,r,i,o,0),o.finish(r)}}function QA(t,e,n){let r=new ZA;return mt.compare(t,e,n,r,0),r.changes}class ZA{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Du(e,n,this.changes,5)}}function eO(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let h=u.getBoundingClientRect();o=Math.max(o,h.left),s=Math.min(s,h.right),l=Math.max(l,h.top),a=c==t.parentNode?h.bottom:Math.min(a,h.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function tO(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Cc{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e){return gt.replace({widget:new nO(this.size,e)}).range(this.from,this.to)}}class nO extends La{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class rm{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=im,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=qt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(vh).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new JA(n),this.stateDeco=e.facet(gs).filter(r=>typeof r!="function"),this.heightMap=sn.empty().applyChanges(this.stateDeco,it.empty,this.heightOracle.setDoc(e.doc),[new ur(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=gt.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new Ks(o,s))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?im:new oO(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Uo(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(gs).filter(c=>typeof c!="function");let i=e.changedRanges,o=ur.extendWithRanges(i,QA(r,this.stateDeco,e?e.changes:Mt.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(fA)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?qt.RTL:qt.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=n.getBoundingClientRect(),a=s||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let c=0,u=0,f=parseInt(r.paddingTop)||0,h=parseInt(r.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=(this.printing?tO:eO)(n,this.paddingTop),g=d.top-this.pixelViewport.top,v=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let p=l.width;if((this.contentDOMWidth!=p||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),a){let y=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(y)&&(s=!0),s||i.lineWrapping&&Math.abs(p-this.contentDOMWidth)>i.charWidth){let{lineHeight:w,charWidth:x,textHeight:S}=e.docView.measureTextSize();s=w>0&&i.refresh(o,w,x,S,p/x,y),s&&(e.docView.minWidth=0,c|=8)}g>0&&v>0?u=Math.max(g,v):g<0&&v<0&&(u=Math.min(g,v)),i.heightChanged=!1;for(let w of this.viewports){let x=w.from==this.viewport.from?y:e.docView.measureVisibleLineHeights(w);this.heightMap=(s?sn.empty().applyChanges(this.stateDeco,it.empty,this.heightOracle,[new ur(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new GA(w.from,x))}i.heightChanged&&(c|=2)}let b=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:l}=this,a=new Ks(i.lineAt(s-r*1e3,pt.ByHeight,o,0,0).from,i.lineAt(l+(1-r)*1e3,pt.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,pt.ByPos,o,0,0),h;n.y=="center"?h=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<a.from?h=f.top:h=f.bottom-u,a=new Ks(i.lineAt(h-1e3/2,pt.ByHeight,o,0,0).from,i.lineAt(h+u+1e3/2,pt.ByHeight,o,0,0).to)}}return a}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Ks(this.heightMap.lineAt(r,pt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,pt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,pt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,pt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=l+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Cc(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=qt.LTR&&!r)return[];let l=[],a=(c,u,f,h)=>{if(u-c<o)return;let d=this.state.selection.main,g=[d.from];d.empty||g.push(d.to);for(let m of g)if(m>c&&m<u){a(c,m-10,f,h),a(m+10,u,f,h);return}let v=iO(e,m=>m.from>=f.from&&m.to<=f.to&&Math.abs(m.from-c)<o&&Math.abs(m.to-u)<o&&!g.some(p=>m.from<p&&m.to>p));if(!v){if(u<f.to&&n&&r&&n.visibleRanges.some(m=>m.from<=u&&m.to>=u)){let m=n.moveToLineBoundary(re.cursor(u),!1,!0).head;m>c&&(u=m)}v=new Cc(c,u,this.gapSize(f,c,u,h))}l.push(v)};for(let c of this.viewportLines){if(c.length<s)continue;let u=rO(c.from,c.to,this.stateDeco);if(u.total<s)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,d;if(r){let g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,m;if(f!=null){let p=Gs(u,f),b=((this.visibleBottom-this.visibleTop)/2+g)/c.height;v=p-b,m=p+b}else v=(this.visibleTop-c.top-g)/c.height,m=(this.visibleBottom-c.top+g)/c.height;h=Js(u,v),d=Js(u,m)}else{let g=u.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,m,p;if(f!=null){let b=Gs(u,f),y=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/g;m=b-y,p=b+y}else m=(this.pixelViewport.left-v)/g,p=(this.pixelViewport.right+v)/g;h=Js(u,m),d=Js(u,p)}h>c.from&&a(c.from,h,c,u),d<c.to&&a(d,c.to,c,u)}return l}gapSize(e,n,r,i){let o=Gs(i,r)-Gs(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){Cc.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=gt.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];mt.spans(e,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Uo(this.heightMap.lineAt(e,pt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Uo(this.heightMap.lineAt(this.scaler.fromDOM(e),pt.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Uo(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ks{constructor(e,n){this.from=e,this.to=n}}function rO(t,e,n){let r=[],i=t,o=0;return mt.spans(n,t,e,{span(){},point(s,l){s>i&&(r.push({from:i,to:s}),o+=s-i),i=l}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Js({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],l=s-o;if(r<=l)return o+r;r-=l}}function Gs(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function iO(t,e){for(let n of t)if(e(n))return n}const im={toDOM(t){return t},fromDOM(t){return t},scale:1};class oO{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:l,to:a})=>{let c=n.lineAt(l,pt.ByPos,e,0,0).top,u=n.lineAt(a,pt.ByPos,e,0,0).bottom;return i+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}function Uo(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new yr(t.from,t.length,n,r-n,Array.isArray(t.type)?t.type.map(i=>Uo(i,e)):t.type)}const Ys=Re.define({combine:t=>t.join(" ")}),Hu=Re.define({combine:t=>t.indexOf(!0)>-1}),Vu=ti.newName(),lb=ti.newName(),ab=ti.newName(),cb={"&light":"."+lb,"&dark":"."+ab};function Uu(t,e,n){return new ti(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const sO=Uu("."+Vu,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},cb);class lO{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let l=o||s?[]:cO(e),a=new Ky(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=uO(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!po(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),c=s&&s.node==l.anchorNode&&s.offset==l.anchorOffset||!po(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset);this.newSel=re.single(c,a)}}}function ub(t,e){let n,{newSel:r}=e,i=t.state.selection.main;if(e.bounds){let{from:o,to:s}=e.bounds,l=i.from,a=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||ve.android&&e.text.length<s-o)&&(l=i.to,a="end");let c=aO(t.state.doc.sliceString(o,s,Wr),e.text,l-o,a);c&&(ve.chrome&&t.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Wr+Wr&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:it.of(e.text.slice(c.from,c.toB).split(Wr))})}else r&&(!t.hasFocus&&t.state.facet(Ra)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(ve.mac||ve.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=re.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:it.of([" "])}):ve.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=re.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:it.of([" "])}),n){let o=t.state;if(ve.ios&&t.inputState.flushIOSKey(t)||ve.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&to(t.contentDOM,"Enter",13)||n.from==i.from-1&&n.to==i.to&&n.insert.length==0&&to(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&to(t.contentDOM,"Delete",46)))return!0;let s=n.insert.toString();if(t.state.facet(Ny).some(c=>c(t,n.from,n.to,s)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let l;if(n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let c=i.from<n.from?o.sliceDoc(i.from,n.from):"",u=i.to>n.to?o.sliceDoc(n.to,i.to):"";l=o.replaceSelection(t.state.toText(c+n.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let c=o.changes(n),u=r&&!o.selection.main.eq(r.main)&&r.main.to<=c.newLength?r.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let f=t.state.sliceDoc(n.from,n.to),h=Jy(t)||t.state.doc.lineAt(i.head),d=i.to-n.to,g=i.to-i.from;l=o.changeByRange(v=>{if(v.from==i.from&&v.to==i.to)return{changes:c,range:u||v.map(c)};let m=v.to-d,p=m-f.length;if(v.to-v.from!=g||t.state.sliceDoc(p,m)!=f||h&&v.to>=h.from&&v.from<=h.to)return{range:v};let b=o.changes({from:p,to:m,insert:n.insert}),y=v.to-i.to;return{changes:b,range:u?re.range(Math.max(0,u.anchor+y),Math.max(0,u.head+y)):v.map(b)}})}else l={changes:c,selection:u&&o.selection.replaceRange(u)}}let a="input.type";return t.composing&&(a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(l,{scrollIntoView:!0,userEvent:a}),!0}else if(r&&!r.main.eq(i)){let o=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),s=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:s}),!0}else return!1}function aO(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,l=e.length;for(;s>0&&l>0&&t.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(r=="end"){let a=Math.max(0,o-Math.min(s,l));n-=s+a-o}if(s<o&&t.length<e.length){let a=n<=o&&n>=s?o-n:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=n<=o&&n>=l?o-n:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function cO(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new jp(n,r)),(i!=n||o!=r)&&e.push(new jp(i,o))),e}function uO(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?re.single(n+e,r+e):null}const fO={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ec=ve.ie&&ve.ie_version<=11;class hO{constructor(e){this.view=e,this.active=!1,this.selectionRange=new iA,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ve.ie&&ve.ie_version<=11||ve.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),Ec&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ra)?r.root.activeElement!=this.dom:!wl(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ve.ie&&ve.ie_version<=11||ve.android&&ve.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Wl(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=ve.safari&&e.root.nodeType==11&&eA(this.dom.ownerDocument)==this.dom&&dO(this.view)||ql(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=wl(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&sA(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,fO),Ec&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Ec&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),!this.flush()&&o.force&&to(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&wl(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new lO(this.view,e,n,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let r=this.view.state,i=ub(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let r=om(n,e.previousSibling||e.target.previousSibling,-1),i=om(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function om(t,e,n){for(;e;){let r=yt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function dO(t){let e=null;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return Wl(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}class qe{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||oA(e.parent)||document,this.viewState=new rm(e.state||rt.create(e)),this.plugins=this.state.facet(Ho).map(n=>new _c(n));for(let n of this.plugins)n.update(this);this.observer=new hO(this),this.inputState=new IA(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Fp(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Pt?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let h of e){if(h.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=h.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,l=0,a=null;e.some(h=>h.annotation(rb))?(this.inputState.notifiedFocused=s,l=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,a=ib(o,s),a||(l=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(rt.phrases)!=this.state.facet(rt.phrases))return this.setState(o);i=Gl.create(this,o,e),i.flags|=l;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;f=new Jl(d.empty?d:re.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(Bp)&&(f=d.value)}this.viewState.update(i,f),this.bidiCache=Yl.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Vo)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Ys)!=i.state.facet(Ys)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let h of this.state.facet(Iu))h(i);(a||u)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),u&&!ub(this,u)&&c.force&&to(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new rm(e),this.plugins=e.facet(Ho).map(r=>new _c(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new Fp(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Ho),r=e.state.facet(Ho);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new _c(o));else{let l=this.plugins[s];l.mustUpdate=e,i.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:r,scrollTop:i,clientHeight:o}=this.scrollDOM,s=i>r-o-4?r:i;try{for(let l=0;;l++){this.updateState=1;let a=this.viewport,c=this.viewState.lineBlockAtHeight(s),u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(m=>{try{return m.read(this)}catch(p){return Yr(this.state,p),sm}}),d=Gl.create(this,this.state,[]),g=!1,v=!1;d.flags|=u,n?n.flags|=u:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),g=this.docView.update(d));for(let m=0;m<f.length;m++)if(h[m]!=sm)try{let p=f[m];p.write&&p.write(h[m],this)}catch(p){Yr(this.state,p)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,v=!0;else{let m=this.viewState.lineBlockAt(c.from).top-c.top;(m>1||m<-1)&&(this.scrollDOM.scrollTop+=m,v=!0)}if(g&&this.docView.updateSelection(!0),this.viewport.from==a.from&&this.viewport.to==a.to&&!v&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(Iu))l(n)}get themeClasses(){return Vu+" "+(this.state.facet(Hu)?ab:lb)+" "+this.state.facet(Ys)}updateAttrs(){let e=lm(this,Hy,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ra)?"true":"false",class:"cm-content",style:`${ve.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),lm(this,vh,n);let r=this.observer.ignore(()=>{let i=Pu(this.contentDOM,this.contentAttrs,n),o=Pu(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(qe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Vo),ti.mount(this.root,this.styleModules.concat(sO).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return Sc(this,e,Wp(this,e,n,r))}moveByGroup(e,n){return Sc(this,e,Wp(this,e,n,r=>PA(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return RA(this,e,n,r)}moveVertically(e,n,r){return Sc(this,e,DA(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),Yy(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[no.find(o,e-i.from,-1,n)];return mh(r,s.dir==qt.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Fy)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>pO)return qy(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=bA(e.text,n);return this.bidiCache.push(new Yl(e.from,e.to,n,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ve.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{xy(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Bp.of(new Jl(typeof e=="number"?re.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return ii.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=ti.newName(),i=[Ys.of(r),Vo.of(Uu(`.${r}`,e))];return n&&n.dark&&i.push(Hu.of(!0)),i}static baseTheme(e){return fh.lowest(Vo.of(Uu("."+Vu,e,cb)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&yt.get(r)||yt.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}qe.styleModule=Vo;qe.inputHandler=Ny;qe.focusChangeEffect=jy;qe.perLineTextDirection=Fy;qe.exceptionSink=By;qe.updateListener=Iu;qe.editable=Ra;qe.mouseSelectionStyle=$y;qe.dragMovesSelection=Iy;qe.clickAddsSelectionRange=Dy;qe.decorations=gs;qe.atomicRanges=Vy;qe.scrollMargins=Uy;qe.darkTheme=Hu;qe.contentAttributes=vh;qe.editorAttributes=Hy;qe.lineWrapping=qe.contentAttributes.of({class:"cm-lineWrapping"});qe.announce=Rt.define();const pO=4096,sm={};class Yl{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:qt.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new Yl(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.order))}return r}}function lm(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&Ru(s,n)}return n}const mO=ve.mac?"mac":ve.windows?"win":ve.linux?"linux":"key";function gO(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,l;for(let a=0;a<n.length-1;++a){const c=n[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),l&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Xs(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const yO=fh.default(qe.domEventHandlers({keydown(t,e){return xO(bO(e.state),t,e,"editor")}})),fb=Re.define({enables:yO}),am=new WeakMap;function bO(t){let e=t.facet(fb),n=am.get(e);return n||am.set(e,n=wO(e.reduce((r,i)=>r.concat(i),[]))),n}let Ur=null;const vO=4e3;function wO(t,e=mO){let n=Object.create(null),r=Object.create(null),i=(s,l)=>{let a=r[s];if(a==null)r[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,c)=>{var u,f;let h=n[s]||(n[s]=Object.create(null)),d=l.split(/ (?!$)/).map(m=>gO(m,e));for(let m=1;m<d.length;m++){let p=d.slice(0,m).join(" ");i(p,!0),h[p]||(h[p]={preventDefault:!0,run:[b=>{let y=Ur={view:b,prefix:p,scope:s};return setTimeout(()=>{Ur==y&&(Ur=null)},vO),!0}]})}let g=d.join(" ");i(g,!1);let v=h[g]||(h[g]={preventDefault:!1,run:((f=(u=h._any)===null||u===void 0?void 0:u.run)===null||f===void 0?void 0:f.slice())||[]});a&&v.run.push(a),c&&(v.preventDefault=!0)};for(let s of t){let l=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of l){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,run:[]});for(let f in u)u[f].run.push(s.any)}let a=s[e]||s.key;if(a)for(let c of l)o(c,a,s.run,s.preventDefault),s.shift&&o(c,"Shift-"+a,s.shift,s.preventDefault)}return n}function xO(t,e,n,r){let i=ZE(e),o=bl(i,0),s=pu(o)==i.length&&i!=" ",l="",a=!1;Ur&&Ur.view==n&&Ur.scope==r&&(l=Ur.prefix+" ",(a=Qy.indexOf(e.keyCode)<0)&&(Ur=null));let c=new Set,u=g=>{if(g){for(let v of g.run)if(!c.has(v)&&(c.add(v),v(n,e)))return!0;g.preventDefault&&(a=!0)}return!1},f=t[r],h,d;if(f){if(u(f[l+Xs(i,e,!s)]))return!0;if(s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ve.windows&&e.ctrlKey&&e.altKey)&&(h=ni[e.keyCode])&&h!=i){if(u(f[l+Xs(h,e,!0)]))return!0;if(e.shiftKey&&(d=ds[e.keyCode])!=i&&d!=h&&u(f[l+Xs(d,e,!1)]))return!0}else if(s&&e.shiftKey&&u(f[l+Xs(i,e,!0)]))return!0;if(u(f._any))return!0}return a}const _O=!ve.ios,kO={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};_O&&(kO[".cm-line"].caretColor="transparent !important");function SO(){return EO}const CO=gt.line({class:"cm-activeLine"}),EO=ii.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(CO.range(i.from)),e=i.from)}return gt.set(n)}},{decorations:t=>t.decorations});class oi extends ho{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}oi.prototype.elementClass="";oi.prototype.toDOM=void 0;oi.prototype.mapMode=yn.TrackBefore;oi.prototype.startSide=oi.prototype.endSide=-1;oi.prototype.point=!0;const _l=Re.define(),kl=Re.define(),zu=Re.define({combine:t=>t.some(e=>e)});function AO(t){let e=[OO];return t&&t.fixed===!1&&e.push(zu.of(!0)),e}const OO=ii.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(kl).map(e=>new um(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(zu),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(zu)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=mt.iter(this.view.state.facet(_l),this.view.viewport.from),r=[],i=this.gutters.map(o=>new TO(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let s;if(Array.isArray(o.type)){for(let l of o.type)if(l.type==Et.Text){s=l;break}}else s=o.type==Et.Text?o:void 0;if(s){r.length&&(r=[]),hb(n,r,o.from);for(let l of i)l.line(this.view,s,r)}}for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(kl),n=t.state.facet(kl),r=t.docChanged||t.heightChanged||t.viewportChanged||!mt.eq(t.startState.facet(_l),t.state.facet(_l),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new um(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>qe.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==qt.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function cm(t){return Array.isArray(t)?t:[t]}function hb(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class TO{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=mt.iter(e.markers,n.from)}line(e,n,r){let i=[];hb(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;if(i.length==0&&!s.config.renderEmptyElements)return;let l=n.top-this.height;if(this.i==s.elements.length){let a=new db(e,n.height,l,i);s.elements.push(a),s.dom.appendChild(a.dom)}else s.elements[this.i].update(e,n.height,l,i);this.height=n.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class um{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let a=o.getBoundingClientRect();s=(a.top+a.bottom)/2}else s=i.clientY;let l=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,l,i)&&i.preventDefault()});this.markers=cm(n.markers(e)),n.initialSpacer&&(this.spacer=new db(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=cm(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!mt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class db{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),LO(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<n.length?n[o++]:null,c=!1;if(a){let u=a.elementClass;u&&(r+=" "+u);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(a)){l=f,c=!0;break}}else l=this.markers.length;for(;s<l;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!a)break;a.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function LO(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const MO=Re.define(),Ki=Re.define({combine(t){return hh(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(l,a,c)=>o(l,a,c)||s(l,a,c):s}return r}})}});class Ac extends oi{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Oc(t,e){return t.state.facet(Ki).formatNumber(e,t.state)}const RO=kl.compute([Ki],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(MO)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new Ac(Oc(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:e=>e.startState.facet(Ki)!=e.state.facet(Ki),initialSpacer(e){return new Ac(Oc(e,fm(e.state.doc.lines)))},updateSpacer(e,n){let r=Oc(n.view,fm(n.view.state.doc.lines));return r==e.number?e:new Ac(r)},domEventHandlers:t.facet(Ki).domEventHandlers}));function PO(t={}){return[Ki.of(t),AO(),RO]}function fm(t){let e=9;for(;e<t;)e=e*10+9;return e}const DO=new class extends oi{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},IO=_l.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(DO.range(i)))}return mt.of(e)});function $O(){return IO}const BO=1024;let NO=0,kn=class{constructor(e,n){this.from=e,this.to=n}};class We{constructor(e={}){this.id=NO++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=an.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}We.closedBy=new We({deserialize:t=>t.split(" ")});We.openedBy=new We({deserialize:t=>t.split(" ")});We.group=new We({deserialize:t=>t.split(" ")});We.contextHash=new We({perNode:!0});We.lookAhead=new We({perNode:!0});We.mounted=new We({perNode:!0});class jO{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}}const FO=Object.create(null);class an{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):FO,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new an(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(We.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(We.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}an.none=new an("",Object.create(null),0,8);class xh{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new an(r.name,i,r.id,r.flags):r)}return new xh(n)}}const Qs=new WeakMap,hm=new WeakMap;var Ct;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Ct||(Ct={}));class dt{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let e=this.prop(We.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new ys(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Qs.get(this)||this.topNode,o=new ys(i);return o.moveTo(e,n),Qs.set(this,o._tree),o}get topNode(){return new On(this,0,0,null)}resolve(e,n=0){let r=yo(Qs.get(this)||this.topNode,e,n,!1);return Qs.set(this,r),r}resolveInner(e,n=0){let r=yo(hm.get(this)||this.topNode,e,n,!0);return hm.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e;for(let s=this.cursor((e.mode||0)|Ct.IncludeAnonymous);;){let l=!1;if(s.from<=o&&s.to>=i&&(s.type.isAnonymous||n(s)!==!1)){if(s.firstChild())continue;l=!0}for(;l&&r&&!s.type.isAnonymous&&r(s),!s.nextSibling();){if(!s.parent())return;l=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Sh(an.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new dt(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new dt(an.none,n,r,i)))}static build(e){return VO(e)}}dt.empty=new dt(an.none,[],[],0);class _h{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new _h(this.buffer,this.index)}}class $i{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return an.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,l=-1;for(let a=e;a!=n&&!(pb(o,i,s[a+1],s[a+2])&&(l=a,r>0));a=s[a+3]);return l}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let l=e,a=0;l<n;){o[a++]=i[l++],o[a++]=i[l++]-r;let c=o[a++]=i[l++]-r;o[a++]=i[l++]-e,s=Math.max(s,c)}return new $i(o,s,this.set)}}function pb(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function mb(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function yo(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof On&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:Ct.IgnoreOverlays;if(r)for(let s=t,l=s.parent;l;s=l,l=s.parent)s instanceof On&&s.index<0&&((i=l.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=l);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class On{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:l,positions:a}=s._tree,c=n>0?l.length:-1;e!=c;e+=n){let u=l[e],f=a[e]+s.from;if(pb(i,r,f,f+u.length)){if(u instanceof $i){if(o&Ct.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,n,r-f,i);if(h>-1)return new sr(new HO(s,u,e,f),null,h)}else if(o&Ct.IncludeAnonymous||!u.type.isAnonymous||kh(u)){let h;if(!(o&Ct.IgnoreMounts)&&u.props&&(h=u.prop(We.mounted))&&!h.overlay)return new On(h.tree,f,e,s);let d=new On(u,f,e,s);return o&Ct.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&Ct.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Ct.IgnoreOverlays)&&(i=this._tree.prop(We.mounted))&&i.overlay){let o=e-this.from;for(let{from:s,to:l}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?l>=o:l>o))return new On(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new ys(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return yo(this,e,n,!1)}resolveInner(e,n=0){return yo(this,e,n,!0)}enterUnfinishedNodesBefore(e){return mb(this,e)}getChild(e,n=null,r=null){let i=Xl(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Xl(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Ql(this,e)}}function Xl(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function Ql(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class HO{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class sr{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new sr(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Ct.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new sr(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new sr(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new sr(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new ys(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new dt(this.type,e,n,this.to-this.from)}resolve(e,n=0){return yo(this,e,n,!1)}resolveInner(e,n=0){return yo(this,e,n,!0)}enterUnfinishedNodesBefore(e){return mb(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=Xl(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Xl(this,e,n,r)}get node(){return this}matchContext(e){return Ql(this,e)}}class ys{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof On)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof On?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Ct.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ct.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ct.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let l=r._tree.children[o];if(this.mode&Ct.IncludeAnonymous||l instanceof $i||!l.type.isAnonymous||kh(l))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new sr(this.buffer,n,this.stack[i]);return this.bufferNode=new sr(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Ql(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Ql(this.node,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function kh(t){return t.children.some(e=>e instanceof $i||!e.type.isAnonymous||kh(e))}function VO(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=BO,reused:o=[],minRepeatType:s=r.types.length}=t,l=Array.isArray(n)?new _h(n,n.length):n,a=r.types,c=0,u=0;function f(w,x,S,C,_){let{id:A,start:M,end:E,size:k}=l,L=u;for(;k<0;)if(l.next(),k==-1){let D=o[A];S.push(D),C.push(M-w);return}else if(k==-3){c=A;return}else if(k==-4){u=A;return}else throw new RangeError(`Unrecognized record size: ${k}`);let R=a[A],O,T,P=M-w;if(E-M<=i&&(T=v(l.pos-x,_))){let D=new Uint16Array(T.size-T.skip),$=l.pos-T.size,G=D.length;for(;l.pos>$;)G=m(T.start,D,G);O=new $i(D,E-T.start,r),P=T.start-w}else{let D=l.pos-k;l.next();let $=[],G=[],ne=A>=s?A:-1,ce=0,Pe=E;for(;l.pos>D;)ne>=0&&l.id==ne&&l.size>=0?(l.end<=Pe-i&&(d($,G,M,ce,l.end,Pe,ne,L),ce=$.length,Pe=l.end),l.next()):f(M,D,$,G,ne);if(ne>=0&&ce>0&&ce<$.length&&d($,G,M,ce,M,Pe,ne,L),$.reverse(),G.reverse(),ne>-1&&ce>0){let de=h(R);O=Sh(R,$,G,0,$.length,0,E-M,de,de)}else O=g(R,$,G,E-M,L-E)}S.push(O),C.push(P)}function h(w){return(x,S,C)=>{let _=0,A=x.length-1,M,E;if(A>=0&&(M=x[A])instanceof dt){if(!A&&M.type==w&&M.length==C)return M;(E=M.prop(We.lookAhead))&&(_=S[A]+M.length+E)}return g(w,x,S,C,_)}}function d(w,x,S,C,_,A,M,E){let k=[],L=[];for(;w.length>C;)k.push(w.pop()),L.push(x.pop()+S-_);w.push(g(r.types[M],k,L,A-_,E-A)),x.push(_-S)}function g(w,x,S,C,_=0,A){if(c){let M=[We.contextHash,c];A=A?[M].concat(A):[M]}if(_>25){let M=[We.lookAhead,_];A=A?[M].concat(A):[M]}return new dt(w,x,S,C,A)}function v(w,x){let S=l.fork(),C=0,_=0,A=0,M=S.end-i,E={size:0,start:0,skip:0};e:for(let k=S.pos-w;S.pos>k;){let L=S.size;if(S.id==x&&L>=0){E.size=C,E.start=_,E.skip=A,A+=4,C+=4,S.next();continue}let R=S.pos-L;if(L<0||R<k||S.start<M)break;let O=S.id>=s?4:0,T=S.start;for(S.next();S.pos>R;){if(S.size<0)if(S.size==-3)O+=4;else break e;else S.id>=s&&(O+=4);S.next()}_=T,C+=L,A+=O}return(x<0||C==w)&&(E.size=C,E.start=_,E.skip=A),E.size>4?E:void 0}function m(w,x,S){let{id:C,start:_,end:A,size:M}=l;if(l.next(),M>=0&&C<s){let E=S;if(M>4){let k=l.pos-(M-4);for(;l.pos>k;)S=m(w,x,S)}x[--S]=E,x[--S]=A-w,x[--S]=_-w,x[--S]=C}else M==-3?c=C:M==-4&&(u=C);return S}let p=[],b=[];for(;l.pos>0;)f(t.start||0,t.bufferStart||0,p,b,-1);let y=(e=t.length)!==null&&e!==void 0?e:p.length?b[0]+p[0].length:0;return new dt(a[t.topID],p.reverse(),b.reverse(),y)}const dm=new WeakMap;function Sl(t,e){if(!t.isAnonymous||e instanceof $i||e.type!=t)return 1;let n=dm.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof dt)){n=1;break}n+=Sl(t,r)}dm.set(e,n)}return n}function Sh(t,e,n,r,i,o,s,l,a){let c=0;for(let g=r;g<i;g++)c+=Sl(t,e[g]);let u=Math.ceil(c*1.5/8),f=[],h=[];function d(g,v,m,p,b){for(let y=m;y<p;){let w=y,x=v[y],S=Sl(t,g[y]);for(y++;y<p;y++){let C=Sl(t,g[y]);if(S+C>=u)break;S+=C}if(y==w+1){if(S>u){let C=g[w];d(C.children,C.positions,0,C.children.length,v[w]+b);continue}f.push(g[w])}else{let C=v[y-1]+g[y-1].length-x;f.push(Sh(t,g,v,w,y,x,C,null,a))}h.push(x+b-o)}}return d(e,n,r,i,0),(l||a)(f,h,s)}class pP{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof sr?this.setBuffer(e.context.buffer,e.index,n):e instanceof On&&this.map.set(e.tree,n)}get(e){return e instanceof sr?this.getBuffer(e.context.buffer,e.index):e instanceof On?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class xr{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new xr(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let u=l<n.length?n[l]:null,f=u?u.fromA:1e9;if(f-a>=r)for(;s&&s.from<f;){let h=s;if(a>=h.from||f<=h.to||c){let d=Math.max(h.from,a)-c,g=Math.min(h.to,f)-c;h=d>=g?null:new xr(d,g,h.tree,h.offset+c,l>0,!!u)}if(h&&i.push(h),s.to>f)break;s=o<e.length?e[o++]:null}if(!u)break;a=u.toA,c=u.toA-u.toB}return i}}class gb{startParse(e,n,r){return typeof e=="string"&&(e=new UO(e)),r=r?r.length?r.map(i=>new kn(i.from,i.to)):[new kn(0,0)]:[new kn(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class UO{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function mP(t){return(e,n,r,i)=>new qO(e,t,n,r,i)}class pm{constructor(e,n,r,i,o){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.ranges=o}}class zO{constructor(e,n,r,i,o,s,l){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=l,this.depth=0,this.ranges=[]}}const qu=new We({perNode:!0});class qO{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new dt(r.type,r.children,r.positions,r.length,r.propValues.concat([[qu,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[We.mounted.id]=new jO(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].ranges[0].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new JO(this.fragments),n=null,r=null,i=new ys(new On(this.baseTree,this.ranges[0].from,0,null),Ct.IncludeAnonymous|Ct.IgnoreMounts);e:for(let o,s;this.stoppedAt==null||i.from<this.stoppedAt;){let l=!0,a;if(e.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let f=u.from+c.pos,h=u.to+c.pos;f>=i.from&&h<=i.to&&!n.ranges.some(d=>d.from<h&&d.to>f)&&n.ranges.push({from:f,to:h})}}l=!1}else if(r&&(s=WO(r.ranges,i.from,i.to)))l=s!=2;else if(!i.type.isAnonymous&&i.from<i.to&&(o=this.nest(i,this.input))){i.tree||KO(i);let c=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new zO(o.parser,o.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=ym(this.ranges,o.overlay||[new kn(i.from,i.to)]);u.length&&this.inner.push(new pm(o.parser,o.parser.startParse(this.input,bm(c,u),u),o.overlay?o.overlay.map(f=>new kn(f.from-i.from,f.to-i.from)):null,i.tree,u)),o.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):l=!1}}else n&&(a=n.predicate(i))&&(a===!0&&(a=new kn(i.from,i.to)),a.from<a.to&&n.ranges.push(a));if(l&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=ym(this.ranges,n.ranges);c.length&&this.inner.splice(n.index,0,new pm(n.parser,n.parser.startParse(this.input,bm(n.mounts,c),c),n.ranges.map(u=>new kn(u.from-n.start,u.to-n.start)),n.target,c)),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function WO(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function mm(t,e,n,r,i,o){if(e<n){let s=t.buffer[e+1];r.push(t.slice(e,n,s)),i.push(s-o)}}function KO(t){let{node:e}=t,n=0;do t.parent(),n++;while(!t.tree);let r=0,i=t.tree,o=0;for(;o=i.positions[r]+t.from,!(o<=e.from&&o+i.children[r].length>=e.to);r++);let s=i.children[r],l=s.buffer;function a(c,u,f,h,d){let g=c;for(;l[g+2]+o<=e.from;)g=l[g+3];let v=[],m=[];mm(s,c,g,v,m,h);let p=l[g+1],b=l[g+2],y=p+o==e.from&&b+o==e.to&&l[g]==e.type.id;return v.push(y?e.toTree():a(g+4,l[g+3],s.set.types[l[g]],p,b-p)),m.push(p-h),mm(s,l[g+3],u,v,m,h),new dt(f,v,m,d)}i.children[r]=a(0,l.length,an.none,0,s.length);for(let c=0;c<=n;c++)t.childAfter(e.from)}class gm{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(Ct.IncludeAnonymous|Ct.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,Ct.IgnoreOverlays|Ct.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof dt)n=n.children[0];else break}return!1}}class JO{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(qu))!==null&&n!==void 0?n:r.to,this.inner=new gm(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(qu))!==null&&e!==void 0?e:n.to,this.inner=new gm(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(We.mounted);if(s&&s.parser==n)for(let l=this.fragI;l<this.fragments.length;l++){let a=this.fragments[l];if(a.from>=o.to)break;a.tree==this.curFrag.tree&&i.push({frag:a,pos:o.from-a.offset,mount:s})}}}return i}}function ym(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,l=t[i].from;for(;o<r.length;o++){let a=r[o];if(a.from>=l)break;a.to<=s||(n||(r=n=e.slice()),a.from<s?(n[o]=new kn(a.from,s),a.to>l&&n.splice(o+1,0,new kn(l,a.to))):a.to>l?n[o--]=new kn(l,a.to):n.splice(o--,1))}}return r}function GO(t,e,n,r){let i=0,o=0,s=!1,l=!1,a=-1e9,c=[];for(;;){let u=i==t.length?1e9:s?t[i].to:t[i].from,f=o==e.length?1e9:l?e[o].to:e[o].from;if(s!=l){let h=Math.max(a,n),d=Math.min(u,f,r);h<d&&c.push(new kn(h,d))}if(a=Math.min(u,f),a==1e9)break;u==a&&(s?(s=!1,i++):s=!0),f==a&&(l?(l=!1,o++):l=!0)}return c}function bm(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let s=r+(i.overlay?i.overlay[0].from:0),l=s+i.tree.length,a=Math.max(o.from,s),c=Math.min(o.to,l);if(i.overlay){let u=i.overlay.map(h=>new kn(h.from+r,h.to+r)),f=GO(e,u,a,c);for(let h=0,d=a;;h++){let g=h==f.length,v=g?c:f[h].from;if(v>d&&n.push(new xr(d,v,i.tree,-s,o.from>=d||o.openStart,o.to<=v||o.openEnd)),g)break;d=f[h].to}}else n.push(new xr(a,c,i.tree,-s,o.from>=s||o.openStart,o.to<=l||o.openEnd))}return n}let YO=0;class tr{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=YO++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new tr([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new Zl;return n=>n.modified.indexOf(e)>-1?n:Zl.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let XO=0;class Zl{constructor(){this.instances=[],this.id=XO++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(l=>l.base==e&&QO(n,l.modified));if(r)return r;let i=[],o=new tr(i,e,n);for(let l of n)l.instances.push(o);let s=ZO(n);for(let l of e.set)if(!l.modified.length)for(let a of s)i.push(Zl.get(l,a));return o}}function QO(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function ZO(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function eT(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,l=i;for(let f=0;;){if(l=="..."&&f>0&&f+3==i.length){s=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!h)throw new RangeError("Invalid path: "+i);if(o.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let d=i[f++];if(f==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);l=i.slice(f)}let a=o.length-1,c=o[a];if(!c)throw new RangeError("Invalid path: "+i);let u=new ea(r,s,a>0?o.slice(0,a):null);e[c]=u.sort(e[c])}}return yb.add(e)}const yb=new We;class ea{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}ea.empty=new ea([],2,null);function bb(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let l of o)for(let a of l.set){let c=n[a.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function tT(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function nT(t,e,n,r=0,i=t.length){let o=new rT(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class rT{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:l,to:a}=e;if(l>=r||a<=n)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let c=i,u=iT(e)||ea.empty,f=tT(o,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(e.from,c),u.opaque)return;let h=e.tree&&e.tree.prop(We.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+l,1),g=this.highlighters.filter(m=>!m.scope||m.scope(h.tree.type)),v=e.firstChild();for(let m=0,p=l;;m++){let b=m<h.overlay.length?h.overlay[m]:null,y=b?b.from+l:a,w=Math.max(n,p),x=Math.min(r,y);if(w<x&&v)for(;e.from<x&&(this.highlightRange(e,w,x,i,o),this.startSpan(Math.min(x,e.to),c),!(e.to>=y||!e.nextSibling())););if(!b||y>r)break;p=b.to+l,p>n&&(this.highlightRange(d.cursor(),Math.max(n,b.from+l),Math.min(r,p),i,g),this.startSpan(p,c))}v&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function iT(t){let e=t.type.prop(yb);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const se=tr.define,Zs=se(),Hr=se(),vm=se(Hr),wm=se(Hr),Vr=se(),el=se(Vr),Tc=se(Vr),Zn=se(),pi=se(Zn),Xn=se(),Qn=se(),Wu=se(),Io=se(Wu),tl=se(),q={comment:Zs,lineComment:se(Zs),blockComment:se(Zs),docComment:se(Zs),name:Hr,variableName:se(Hr),typeName:vm,tagName:se(vm),propertyName:wm,attributeName:se(wm),className:se(Hr),labelName:se(Hr),namespace:se(Hr),macroName:se(Hr),literal:Vr,string:el,docString:se(el),character:se(el),attributeValue:se(el),number:Tc,integer:se(Tc),float:se(Tc),bool:se(Vr),regexp:se(Vr),escape:se(Vr),color:se(Vr),url:se(Vr),keyword:Xn,self:se(Xn),null:se(Xn),atom:se(Xn),unit:se(Xn),modifier:se(Xn),operatorKeyword:se(Xn),controlKeyword:se(Xn),definitionKeyword:se(Xn),moduleKeyword:se(Xn),operator:Qn,derefOperator:se(Qn),arithmeticOperator:se(Qn),logicOperator:se(Qn),bitwiseOperator:se(Qn),compareOperator:se(Qn),updateOperator:se(Qn),definitionOperator:se(Qn),typeOperator:se(Qn),controlOperator:se(Qn),punctuation:Wu,separator:se(Wu),bracket:Io,angleBracket:se(Io),squareBracket:se(Io),paren:se(Io),brace:se(Io),content:Zn,heading:pi,heading1:se(pi),heading2:se(pi),heading3:se(pi),heading4:se(pi),heading5:se(pi),heading6:se(pi),contentSeparator:se(Zn),list:se(Zn),quote:se(Zn),emphasis:se(Zn),strong:se(Zn),link:se(Zn),monospace:se(Zn),strikethrough:se(Zn),inserted:se(),deleted:se(),changed:se(),invalid:se(),meta:tl,documentMeta:se(tl),annotation:se(tl),processingInstruction:se(tl),definition:tr.defineModifier(),constant:tr.defineModifier(),function:tr.defineModifier(),standard:tr.defineModifier(),local:tr.defineModifier(),special:tr.defineModifier()};bb([{tag:q.link,class:"tok-link"},{tag:q.heading,class:"tok-heading"},{tag:q.emphasis,class:"tok-emphasis"},{tag:q.strong,class:"tok-strong"},{tag:q.keyword,class:"tok-keyword"},{tag:q.atom,class:"tok-atom"},{tag:q.bool,class:"tok-bool"},{tag:q.url,class:"tok-url"},{tag:q.labelName,class:"tok-labelName"},{tag:q.inserted,class:"tok-inserted"},{tag:q.deleted,class:"tok-deleted"},{tag:q.literal,class:"tok-literal"},{tag:q.string,class:"tok-string"},{tag:q.number,class:"tok-number"},{tag:[q.regexp,q.escape,q.special(q.string)],class:"tok-string2"},{tag:q.variableName,class:"tok-variableName"},{tag:q.local(q.variableName),class:"tok-variableName tok-local"},{tag:q.definition(q.variableName),class:"tok-variableName tok-definition"},{tag:q.special(q.variableName),class:"tok-variableName2"},{tag:q.definition(q.propertyName),class:"tok-propertyName tok-definition"},{tag:q.typeName,class:"tok-typeName"},{tag:q.namespace,class:"tok-namespace"},{tag:q.className,class:"tok-className"},{tag:q.macroName,class:"tok-macroName"},{tag:q.propertyName,class:"tok-propertyName"},{tag:q.operator,class:"tok-operator"},{tag:q.comment,class:"tok-comment"},{tag:q.meta,class:"tok-meta"},{tag:q.invalid,class:"tok-invalid"},{tag:q.punctuation,class:"tok-punctuation"}]);var Lc;const _i=new We;function vb(t){return Re.define({combine:t?e=>e.concat(t):void 0})}const oT=new We;class Sn{constructor(e,n,r=[],i=""){this.data=e,this.name=i,rt.prototype.hasOwnProperty("tree")||Object.defineProperty(rt.prototype,"tree",{get(){return Wn(this)}}),this.parser=n,this.extension=[wo.of(this),rt.languageData.of((o,s,l)=>{let a=xm(o,s,l),c=a.type.prop(_i);if(!c)return[];let u=o.facet(c),f=a.type.prop(oT);if(f){let h=a.resolve(s-a.from,l);for(let d of f)if(d.test(h,o)){let g=o.facet(d.facet);return d.type=="replace"?g:g.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return xm(e,n,r).type.prop(_i)==this.data}findRegions(e){let n=e.facet(wo);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(_i)==this.data){r.push({from:s,to:s+o.length});return}let l=o.prop(We.mounted);if(l){if(l.tree.prop(_i)==this.data){if(l.overlay)for(let a of l.overlay)r.push({from:a.from+s,to:a.to+s});else r.push({from:s,to:s+o.length});return}else if(l.overlay){let a=r.length;if(i(l.tree,l.overlay[0].from+s),r.length>a)return}}for(let a=0;a<o.children.length;a++){let c=o.children[a];c instanceof dt&&i(c,o.positions[a]+s)}};return i(Wn(e),0),r}get allowsNesting(){return!0}}Sn.setState=Rt.define();function xm(t,e,n){let r=t.facet(wo),i=Wn(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,Ct.ExcludeBuffers))o.type.isTop&&(i=o);return i}class Ku extends Sn{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=vb(e.languageData);return new Ku(n,e.parser.configure({props:[_i.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Ku(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Wn(t){let e=t.field(Sn.state,!1);return e?e.tree:dt.empty}class sT{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let $o=null;class bo{constructor(e,n,r=[],i,o,s,l,a){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new bo(e,n,[],dt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new sT(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=dt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(xr.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(xr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=$o;$o=this;try{return e()}finally{$o=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=_m(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,u,f,h)=>a.push({fromA:c,toA:u,fromB:f,toB:h})),r=xr.applyChanges(r,a),i=dt.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&l.push({from:u,to:f})}}}return new bo(this.parser,n,r,i,o,s,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=_m(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends gb{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let a=$o;if(a){for(let c of i)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=s,new dt(an.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return $o}}function _m(t,e,n){return xr.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class vo{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new vo(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=bo.create(e.facet(wo).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new vo(r)}}Sn.state=Mr.define({create:vo.init,update(t,e){for(let n of e.effects)if(n.is(Sn.setState))return n.value;return e.startState.facet(wo)!=e.state.facet(wo)?vo.init(e.state):t.apply(e)}});let wb=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(wb=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Mc=typeof navigator<"u"&&(!((Lc=navigator.scheduling)===null||Lc===void 0)&&Lc.isInputPending)?()=>navigator.scheduling.isInputPending():null,lT=ii.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Sn.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Sn.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=wb(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Sn.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!Mc?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<i&&r.doc.length>i+1e3,a=o.context.work(()=>Mc&&Mc()||Date.now()>s,i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Sn.setState.of(new vo(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Yr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),wo=Re.define({combine(t){return t.length?t[0]:null},enables:t=>[Sn.state,lT,qe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class aT{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class j{constructor(e,n,r,i,o,s=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new j(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(o=>o==n))return i;if(r)for(let i of e)for(let o of i.alias){let s=n.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(n[s-1])&&!/\w/.test(n[s+o.length])))return i}return null}}const xb=Re.define(),Pa=Re.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Ri(t){let e=t.facet(Pa);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function bs(t,e){let n="",r=t.tabSize,i=t.facet(Pa)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function Ch(t,e){t instanceof rt&&(t=new Da(t));for(let r of t.state.facet(xb)){let i=r(t,e);if(i!==void 0)return i}let n=Wn(t.state);return n?uT(t,n,e):null}class Da{constructor(e,n={}){this.state=e,this.options=n,this.unit=Ri(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return ph(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const cT=new We;function uT(t,e,n){return _b(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function fT(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function hT(t){let e=t.type.prop(cT);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(We.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>kb(s,!0,1,void 0,o&&!fT(s)?i.from:void 0)}return t.parent==null?dT:null}function _b(t,e,n){for(;t;t=t.parent){let r=hT(t);if(r)return r(Eh.create(n,e,t))}return null}function dT(){return 0}class Eh extends Da{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}static create(e,n,r){return new Eh(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(pT(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?_b(e,this.pos,this.base):0}}function pT(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function mT(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let l=n.to;;){let a=e.childAfter(l);if(!a||a==r)return null;if(!a.type.isSkipped)return a.from<s?n:null;l=a.to}}function yP({closing:t,align:e=!0,units:n=1}){return r=>kb(r,e,n,t)}function kb(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,l=r&&o.slice(s,s+r.length)==r||i==t.pos+s,a=e?mT(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}const bP=t=>t.baseIndent;function vP({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const gT=200;function yT(){return rt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+gT)return t;let o=n.sliceString(i.from,r);if(!e.some(c=>c.test(o)))return t;let{state:s}=t,l=-1,a=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==l)continue;l=u.from;let f=Ch(s,u.from);if(f==null)continue;let h=/^\s*/.exec(u.text)[0],d=bs(s,f);h!=d&&a.push({from:u.from,to:u.from+h.length,insert:d})}return a.length?[t,{changes:a,sequential:!0}]:t})}const wP=Re.define(),xP=new We;function _P(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class Ts{constructor(e,n){this.specs=e;let r;function i(l){let a=ti.newName();return(r||(r=Object.create(null)))["."+a]=l,a}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof Sn?l=>l.prop(_i)==s.data:s?l=>l==s:void 0,this.style=bb(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=r?new ti(r):null,this.themeType=n.themeType}static define(e,n){return new Ts(e,n||{})}}const Ju=Re.define(),Sb=Re.define({combine(t){return t.length?[t[0]]:null}});function Rc(t){let e=t.facet(Ju);return e.length?e:t.facet(Sb)}function Cb(t,e){let n=[vT],r;return t instanceof Ts&&(t.module&&n.push(qe.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(Sb.of(t)):r?n.push(Ju.computeN([qe.darkTheme],i=>i.facet(qe.darkTheme)==(r=="dark")?[t]:[])):n.push(Ju.of(t)),n}class bT{constructor(e){this.markCache=Object.create(null),this.tree=Wn(e.state),this.decorations=this.buildDeco(e,Rc(e.state))}update(e){let n=Wn(e.state),r=Rc(e.state),i=r!=Rc(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return gt.none;let r=new fs;for(let{from:i,to:o}of e.visibleRanges)nT(this.tree,n,(s,l,a)=>{r.add(s,l,this.markCache[a]||(this.markCache[a]=gt.mark({class:a})))},i,o);return r.finish()}}const vT=fh.high(ii.fromClass(bT,{decorations:t=>t.decorations})),wT=Ts.define([{tag:q.meta,color:"#404740"},{tag:q.link,textDecoration:"underline"},{tag:q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strong,fontWeight:"bold"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.keyword,color:"#708"},{tag:[q.atom,q.bool,q.url,q.contentSeparator,q.labelName],color:"#219"},{tag:[q.literal,q.inserted],color:"#164"},{tag:[q.string,q.deleted],color:"#a11"},{tag:[q.regexp,q.escape,q.special(q.string)],color:"#e40"},{tag:q.definition(q.variableName),color:"#00f"},{tag:q.local(q.variableName),color:"#30a"},{tag:[q.typeName,q.namespace],color:"#085"},{tag:q.className,color:"#167"},{tag:[q.special(q.variableName),q.macroName],color:"#256"},{tag:q.definition(q.propertyName),color:"#00c"},{tag:q.comment,color:"#940"},{tag:q.invalid,color:"#f00"}]),xT=qe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Eb=1e4,Ab="()[]{}",Ob=Re.define({combine(t){return hh(t,{afterCursor:!0,brackets:Ab,maxScanDistance:Eb,renderMatch:ST})}}),_T=gt.mark({class:"cm-matchingBracket"}),kT=gt.mark({class:"cm-nonmatchingBracket"});function ST(t){let e=[],n=t.matched?_T:kT;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const CT=Mr.define({create(){return gt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(Ob);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=lr(e.state,i.head,-1,r)||i.head>0&&lr(e.state,i.head-1,1,r)||r.afterCursor&&(lr(e.state,i.head,1,r)||i.head<e.state.doc.length&&lr(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return gt.set(n,!0)},provide:t=>qe.decorations.from(t)}),ET=[CT,xT];function AT(t={}){return[Ob.of(t),ET]}const OT=new We;function Gu(t,e,n){let r=t.prop(e<0?We.openedBy:We.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function Yu(t){let e=t.type.prop(OT);return e?e(t.node):t}function lr(t,e,n,r={}){let i=r.maxScanDistance||Eb,o=r.brackets||Ab,s=Wn(t),l=s.resolveInner(e,n);for(let a=l;a;a=a.parent){let c=Gu(a.type,n,o);if(c&&a.from<a.to){let u=Yu(a);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return TT(t,e,n,a,u,c,o)}}return LT(t,e,n,s,l.type,i,o)}function TT(t,e,n,r,i,o,s){let l=r.parent,a={from:i.from,to:i.to},c=0,u=l==null?void 0:l.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let f=Yu(u);return{start:a,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(Gu(u.type,n,s))c++;else if(Gu(u.type,-n,s)){if(c==0){let f=Yu(u);return{start:a,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function LT(t,e,n,r,i,o,s){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let h=0;!u.next().done&&h<=o;){let d=u.value;n<0&&(h+=d.length);let g=e+h*n;for(let v=n>0?0:d.length-1,m=n>0?d.length:-1;v!=m;v+=n){let p=s.indexOf(d[v]);if(!(p<0||r.resolveInner(g+v,1).type!=i))if(p%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:g+v,to:g+v+1},matched:p>>1==a>>1};f--}}n>0&&(h+=d.length)}return u.done?{start:c,matched:!1}:null}function km(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let s=r;s<e;s++)t.charCodeAt(s)==9?o+=n-o%n:o++;return o}class Tb{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=km(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:km(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=s=>r?s.toLowerCase():s,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function MT(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||RT,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||Oh}}function RT(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const Sm=new WeakMap;class Ia extends Sn{constructor(e){let n=vb(e.languageData),r=MT(e),i,o=new class extends gb{createParse(s,l,a){return new DT(i,s,l,a)}};super(n,o,[xb.of((s,l)=>this.getIndent(s,l))],e.name),this.topNode=BT(n),i=this,this.streamParser=r,this.stateAfter=new We({perNode:!0}),this.tokenTable=e.tokenTable?new Pb(r.tokenTable):$T}static define(e){return new Ia(e)}getIndent(e,n){let r=Wn(e.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let o,{overrideIndentation:s}=e.options;s&&(o=Sm.get(e.state),o!=null&&o<n-1e4&&(o=void 0));let l=Ah(this,r,0,i.from,o??n),a,c;if(l?(c=l.state,a=l.pos+1):(c=this.streamParser.startState(e.unit),a=0),n-a>1e4)return null;for(;a<n;){let f=e.state.doc.lineAt(a),h=Math.min(n,f.to);if(f.length){let d=s?s(f.from):-1,g=new Tb(f.text,e.state.tabSize,e.unit,d<0?void 0:d);for(;g.pos<h-f.from;)Mb(this.streamParser.token,g,c)}else this.streamParser.blankLine(c,e.unit);if(h==n)break;a=f.to+1}let u=e.lineAt(n);return s&&o==null&&Sm.set(e.state,u.from),this.streamParser.indent(c,/^\s*(.*)/.exec(u.text)[1],e)}get allowsNesting(){return!1}}function Ah(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let s=e.children.length-1;s>=0;s--){let l=e.children[s],a=n+e.positions[s],c=l instanceof dt&&a<i&&Ah(t,l,a,r,i);if(c)return c}return null}function Lb(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let s=e.positions[o],l=e.children[o],a;if(s<r&&l instanceof dt){if(!(a=Lb(t,l,n-s,r-s,i)))break;return i?new dt(e.type,e.children.slice(0,o).concat(a),e.positions.slice(0,o+1),s+a.length):a}}return null}function PT(t,e,n,r){for(let i of e){let o=i.from+(i.openStart?25:0),s=i.to-(i.openEnd?25:0),l=o<=n&&s>n&&Ah(t,i.tree,0-i.offset,n,s),a;if(l&&(a=Lb(t,i.tree,n+i.offset,l.pos+i.offset,!1)))return{state:l.state,tree:a}}return{state:t.streamParser.startState(r?Ri(r):4),tree:dt.empty}}class DT{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=bo.get(),s=i[0].from,{state:l,tree:a}=PT(e,r,s,o==null?void 0:o.state);this.state=l,this.parsedPos=this.chunkStart=s+a.length;for(let c=0;c<a.children.length;c++)this.chunks.push(a.children[c]),this.chunkPos.push(a.positions[c]);o&&this.parsedPos<o.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Ri(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=bo.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let s=this.ranges[i].from,l=this.lineAfter(s);n+=l,r=s+l.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let s=this.ranges[++this.rangeIndex].from;n+=s-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i,o){if(this.ranges.length>1){o=this.skipGapsTo(n,o,1),n+=o;let s=this.chunk.length;o=this.skipGapsTo(r,o,-1),r+=o,i+=this.chunk.length-s}return this.chunk.push(e,n,r,i),o}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,s=new Tb(n,e?e.state.tabSize:4,e?Ri(e.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let l=Mb(o.token,s,this.state);if(l&&(i=this.emitToken(this.lang.tokenTable.resolve(l),this.parsedPos+s.start,this.parsedPos+s.pos,4,i)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=dt.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:IT,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new dt(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new dt(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function Mb(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const Oh=Object.create(null),vs=[an.none],IT=new xh(vs),Cm=[],Rb=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Rb[t]=Db(Oh,e);class Pb{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),Rb)}resolve(e){return e?this.table[e]||(this.table[e]=Db(this.extra,e)):0}}const $T=new Pb(Oh);function Pc(t,e){Cm.indexOf(t)>-1||(Cm.push(t),console.warn(e))}function Db(t,e){let n=null;for(let o of e.split(".")){let s=t[o]||q[o];s?typeof s=="function"?n?n=s(n):Pc(o,`Modifier ${o} used at start of tag`):n?Pc(o,`Tag ${o} used as modifier`):n=s:Pc(o,`Unknown highlighting tag ${o}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=an.define({id:vs.length,name:r,props:[eT({[r]:n})]});return vs.push(i),i.id}function BT(t){let e=an.define({id:vs.length,name:"Document",props:[_i.add(()=>t)]});return vs.push(e),e}const NT=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Lh(t.state,n.from);return r.line?jT(t):r.block?HT(t):!1};function Th(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const jT=Th(zT,0),FT=Th(Ib,0),HT=Th((t,e)=>Ib(t,e,UT(e)),0);function Lh(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Bo=50;function VT(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Bo,r),s=t.sliceDoc(i,i+Bo),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(s)[0].length,c=o.length-l;if(o.slice(c-e.length,c)==e&&s.slice(a,a+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+a,margin:a&&1}};let u,f;i-r<=2*Bo?u=f=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+Bo),f=t.sliceDoc(i-Bo,i));let h=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(f)[0].length,g=f.length-d-n.length;return u.slice(h,h+e.length)==e&&f.slice(g,g+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(f.charAt(g-1))?1:0}}:null}function UT(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from,to:i.to})}return e}function Ib(t,e,n=e.selection.ranges){let r=n.map(o=>Lh(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>VT(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,l;s<i.length;s++)if(l=i[s]){let a=r[s],{open:c,close:u}=l;o.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:o}}return null}function zT(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let l=r.length,a=1e9,c=Lh(e,o).line;if(c){for(let u=o;u<=s;){let f=e.doc.lineAt(u);if(f.from>i&&(o==s||s>f.from)){i=f.from;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,g=f.text.slice(h,h+c.length)==c?h:-1;h<f.text.length&&h<a&&(a=h),r.push({line:f,comment:g,token:c,indent:h,empty:d,single:!1})}u=f.to+1}if(a<1e9)for(let u=l;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=a);r.length==l+1&&(r[l].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:c,empty:u,single:f}of r)(f||!u)&&o.push({from:l.from+c,insert:a+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:a}of r)if(l>=0){let c=s.from+l,u=c+a.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const Xu=ai.define(),qT=ai.define(),WT=Re.define(),$b=Re.define({combine(t){return hh(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}});function KT(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const Bb=Mr.define({create(){return ar.empty},update(t,e){let n=e.state.facet($b),r=e.annotation(Xu);if(r){let a=e.docChanged?re.single(KT(e.changes)):void 0,c=hn.fromTransaction(e,a),u=r.side,f=u==0?t.undone:t.done;return c?f=ta(f,f.length,n.minDepth,c):f=Fb(f,e.startState.selection),new ar(u==0?r.rest:f,u==0?f:r.rest)}let i=e.annotation(qT);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Pt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=hn.fromTransaction(e),s=e.annotation(Pt.time),l=e.annotation(Pt.userEvent);return o?t=t.addChanges(o,s,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,l,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new ar(t.done.map(hn.fromJSON),t.undone.map(hn.fromJSON))}});function JT(t={}){return[Bb,$b.of(t),qe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?Nb:e.inputType=="historyRedo"?Qu:null;return r?(e.preventDefault(),r(n)):!1}})]}function $a(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(Bb,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const Nb=$a(0,!1),Qu=$a(1,!1),GT=$a(0,!0),YT=$a(1,!0);class hn{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new hn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new hn(e.changes&&Mt.fromJSON(e.changes),[],e.mapped&&cr.fromJSON(e.mapped),e.startSelection&&re.fromJSON(e.startSelection),e.selectionsAfter.map(re.fromJSON))}static fromTransaction(e,n){let r=Cn;for(let i of e.startState.facet(WT)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new hn(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Cn)}static selection(e){return new hn(void 0,Cn,void 0,void 0,e)}}function ta(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function XT(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,s,l)=>{for(let a=0;a<n.length;){let c=n[a++],u=n[a++];l>=c&&s<=u&&(r=!0)}}),r}function QT(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function jb(t,e){return t.length?e.length?t.concat(e):t:e}const Cn=[],ZT=200;function Fb(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-ZT));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ta(t,t.length-1,1e9,n.setSelAfter(r)))}else return[hn.selection([e])]}function eL(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Dc(t,e){if(!t.length)return t;let n=t.length,r=Cn;for(;n;){let i=tL(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[hn.selection(r)]:Cn}function tL(t,e,n){let r=jb(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):Cn,n);if(!t.changes)return hn.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new hn(i,Rt.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}const nL=/^(input\.type|delete)($|\.)/;class ar{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ar(this.done,this.undone):this}addChanges(e,n,r,i,o){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!r||nL.test(r))&&(!l.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,XT(l.changes,e.changes))||r=="input.type.compose")?s=ta(s,s.length-1,i.minDepth,new hn(e.changes.compose(l.changes),jb(e.effects,l.effects),l.mapped,l.startSelection,Cn)):s=ta(s,s.length,i.minDepth,e),new ar(s,Cn,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Cn;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&QT(o[o.length-1],e)?this:new ar(Fb(this.done,e),this.undone,n,r)}addMapping(e){return new ar(Dc(this.done,e),Dc(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1];if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:Xu.of({side:e,rest:eL(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=i.length==1?Cn:i.slice(0,i.length-1);return o.mapped&&(s=Dc(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:Xu.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ar.empty=new ar(Cn,Cn);const rL=[{key:"Mod-z",run:Nb,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Qu,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Qu,preventDefault:!0},{key:"Mod-u",run:GT,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:YT,preventDefault:!0}];function Eo(t,e){return re.create(t.ranges.map(e),t.mainIndex)}function dr(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Kn({state:t,dispatch:e},n){let r=Eo(t.selection,n);return r.eq(t.selection)?!1:(e(dr(t,r)),!0)}function Ba(t,e){return re.cursor(e?t.to:t.from)}function Hb(t,e){return Kn(t,n=>n.empty?t.moveByChar(n,e):Ba(n,e))}function en(t){return t.textDirectionAt(t.state.selection.main.head)==qt.LTR}const Vb=t=>Hb(t,!en(t)),Ub=t=>Hb(t,en(t));function zb(t,e){return Kn(t,n=>n.empty?t.moveByGroup(n,e):Ba(n,e))}const iL=t=>zb(t,!en(t)),oL=t=>zb(t,en(t));function sL(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Na(t,e,n){let r=Wn(t).resolveInner(e.head),i=n?We.closedBy:We.openedBy;for(let a=e.head;;){let c=n?r.childAfter(a):r.childBefore(a);if(!c)break;sL(t,c,i)?r=c:a=n?c.to:c.from}let o=r.type.prop(i),s,l;return o&&(s=n?lr(t,r.from,1):lr(t,r.to,-1))&&s.matched?l=n?s.end.to:s.end.from:l=n?r.to:r.from,re.cursor(l,n?-1:1)}const lL=t=>Kn(t,e=>Na(t.state,e,!en(t))),aL=t=>Kn(t,e=>Na(t.state,e,en(t)));function qb(t,e){return Kn(t,n=>{if(!n.empty)return Ba(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const Wb=t=>qb(t,!1),Kb=t=>qb(t,!0);function Jb(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(qe.scrollMargins)){let s=o(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function Gb(t,e){let n=Jb(t),{state:r}=t,i=Eo(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):Ba(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),a=l.top+n.marginTop,c=l.bottom-n.marginBottom;s&&s.top>a&&s.bottom<c&&(o=qe.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-a}))}return t.dispatch(dr(r,i),{effects:o}),!0}const Em=t=>Gb(t,!1),Zu=t=>Gb(t,!0);function ci(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=re.cursor(r.from+o))}return i}const cL=t=>Kn(t,e=>ci(t,e,!0)),uL=t=>Kn(t,e=>ci(t,e,!1)),fL=t=>Kn(t,e=>ci(t,e,!en(t))),hL=t=>Kn(t,e=>ci(t,e,en(t))),dL=t=>Kn(t,e=>re.cursor(t.lineBlockAt(e.head).from,1)),pL=t=>Kn(t,e=>re.cursor(t.lineBlockAt(e.head).to,-1));function mL(t,e,n){let r=!1,i=Eo(t.selection,o=>{let s=lr(t,o.head,-1)||lr(t,o.head,1)||o.head>0&&lr(t,o.head-1,1)||o.head<t.doc.length&&lr(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return n?re.range(o.anchor,l):re.cursor(l)});return r?(e(dr(t,i)),!0):!1}const gL=({state:t,dispatch:e})=>mL(t,e,!1);function Tn(t,e){let n=Eo(t.state.selection,r=>{let i=e(r);return re.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(dr(t.state,n)),!0)}function Yb(t,e){return Tn(t,n=>t.moveByChar(n,e))}const Xb=t=>Yb(t,!en(t)),Qb=t=>Yb(t,en(t));function Zb(t,e){return Tn(t,n=>t.moveByGroup(n,e))}const yL=t=>Zb(t,!en(t)),bL=t=>Zb(t,en(t)),vL=t=>Tn(t,e=>Na(t.state,e,!en(t))),wL=t=>Tn(t,e=>Na(t.state,e,en(t)));function ev(t,e){return Tn(t,n=>t.moveVertically(n,e))}const tv=t=>ev(t,!1),nv=t=>ev(t,!0);function rv(t,e){return Tn(t,n=>t.moveVertically(n,e,Jb(t).height))}const Am=t=>rv(t,!1),Om=t=>rv(t,!0),xL=t=>Tn(t,e=>ci(t,e,!0)),_L=t=>Tn(t,e=>ci(t,e,!1)),kL=t=>Tn(t,e=>ci(t,e,!en(t))),SL=t=>Tn(t,e=>ci(t,e,en(t))),CL=t=>Tn(t,e=>re.cursor(t.lineBlockAt(e.head).from)),EL=t=>Tn(t,e=>re.cursor(t.lineBlockAt(e.head).to)),Tm=({state:t,dispatch:e})=>(e(dr(t,{anchor:0})),!0),Lm=({state:t,dispatch:e})=>(e(dr(t,{anchor:t.doc.length})),!0),Mm=({state:t,dispatch:e})=>(e(dr(t,{anchor:t.selection.main.anchor,head:0})),!0),Rm=({state:t,dispatch:e})=>(e(dr(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),AL=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),OL=({state:t,dispatch:e})=>{let n=Fa(t).map(({from:r,to:i})=>re.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:re.create(n),userEvent:"select"})),!0},TL=({state:t,dispatch:e})=>{let n=Eo(t.selection,r=>{var i;let o=Wn(t).resolveInner(r.head,1);for(;!(o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from||!(!((i=o.parent)===null||i===void 0)&&i.parent));)o=o.parent;return re.range(o.to,o.from)});return e(dr(t,n)),!0},LL=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=re.create([n.main]):n.main.empty||(r=re.create([re.cursor(n.main.head)])),r?(e(dr(t,r)),!0):!1};function ja(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let a=e(s);a<s?(n="delete.backward",a=nl(t,a,!1)):a>s&&(n="delete.forward",a=nl(t,a,!0)),s=Math.min(s,a),l=Math.max(l,a)}else s=nl(t,s,!1),l=nl(t,l,!0);return s==l?{range:o}:{changes:{from:s,to:l},range:re.cursor(s)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?qe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function nl(t,e,n){if(t instanceof qe)for(let r of t.state.facet(qe.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const iv=(t,e)=>ja(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),o,s;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(o=i.text.slice(0,n-i.from))){if(o[o.length-1]=="	")return n-1;let l=ph(o,r.tabSize),a=l%Ri(r)||Ri(r);for(let c=0;c<a&&o[o.length-1-c]==" ";c++)n--;s=n}else s=vn(i.text,n-i.from,e,e)+i.from,s==n&&i.number!=(e?r.doc.lines:1)&&(s+=e?1:-1);return s}),ef=t=>iv(t,!1),ov=t=>iv(t,!0),sv=(t,e)=>ja(t,n=>{let r=n,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let l=null;;){if(r==(e?o.to:o.from)){r==n&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=vn(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),u=s(c);if(l!=null&&u!=l)break;(c!=" "||r!=n)&&(l=u),r=a}return r}),lv=t=>sv(t,!1),ML=t=>sv(t,!0),av=t=>ja(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),RL=t=>ja(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),PL=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:it.of(["",""])},range:re.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},DL=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:vn(o.text,i-o.from,!1)+o.from,l=i==o.to?i+1:vn(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:t.doc.slice(i,l).append(t.doc.slice(s,i))},range:re.cursor(l)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Fa(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function cv(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of Fa(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),l=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let a of o.ranges)i.push(re.range(Math.min(t.doc.length,a.anchor+l),Math.min(t.doc.length,a.head+l)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let a of o.ranges)i.push(re.range(a.anchor-l,a.head-l))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:re.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const IL=({state:t,dispatch:e})=>cv(t,e,!1),$L=({state:t,dispatch:e})=>cv(t,e,!0);function uv(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Fa(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const BL=({state:t,dispatch:e})=>uv(t,e,!1),NL=({state:t,dispatch:e})=>uv(t,e,!0),jL=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Fa(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Eo(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function FL(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Wn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(We.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const HL=fv(!1),VL=fv(!0);function fv(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,l=e.doc.lineAt(o),a=!t&&o==s&&FL(e,o);t&&(o=s=(s<=l.to?l:e.doc.lineAt(s)).to);let c=new Da(e,{simulateBreak:o,simulateDoubleBreak:!!a}),u=Ch(c,o);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(o).text)[0].length);s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:o,to:s}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let f=["",bs(e,u)];return a&&f.push(bs(e,c.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:it.of(f)},range:re.cursor(o+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Mh(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let l=t.doc.lineAt(s);l.number>n&&(r.empty||r.to>l.from)&&(e(l,i,r),n=l.number),s=l.to+1}let o=t.changes(i);return{changes:i,range:re.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const UL=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Da(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=Mh(t,(o,s,l)=>{let a=Ch(r,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let c=/^\s*/.exec(o.text)[0],u=bs(t,a);(c!=u||l.from<o.from+c.length)&&(n[o.from]=a,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},hv=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Mh(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Pa)})}),{userEvent:"input.indent"})),!0),dv=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Mh(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=ph(i,t.tabSize),s=0,l=bs(t,Math.max(0,o-Ri(t)));for(;s<i.length&&s<l.length&&i.charCodeAt(s)==l.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),zL=[{key:"Ctrl-b",run:Vb,shift:Xb,preventDefault:!0},{key:"Ctrl-f",run:Ub,shift:Qb},{key:"Ctrl-p",run:Wb,shift:tv},{key:"Ctrl-n",run:Kb,shift:nv},{key:"Ctrl-a",run:dL,shift:CL},{key:"Ctrl-e",run:pL,shift:EL},{key:"Ctrl-d",run:ov},{key:"Ctrl-h",run:ef},{key:"Ctrl-k",run:av},{key:"Ctrl-Alt-h",run:lv},{key:"Ctrl-o",run:PL},{key:"Ctrl-t",run:DL},{key:"Ctrl-v",run:Zu}],qL=[{key:"ArrowLeft",run:Vb,shift:Xb,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:iL,shift:yL,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:fL,shift:kL,preventDefault:!0},{key:"ArrowRight",run:Ub,shift:Qb,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:oL,shift:bL,preventDefault:!0},{mac:"Cmd-ArrowRight",run:hL,shift:SL,preventDefault:!0},{key:"ArrowUp",run:Wb,shift:tv,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Tm,shift:Mm},{mac:"Ctrl-ArrowUp",run:Em,shift:Am},{key:"ArrowDown",run:Kb,shift:nv,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Lm,shift:Rm},{mac:"Ctrl-ArrowDown",run:Zu,shift:Om},{key:"PageUp",run:Em,shift:Am},{key:"PageDown",run:Zu,shift:Om},{key:"Home",run:uL,shift:_L,preventDefault:!0},{key:"Mod-Home",run:Tm,shift:Mm},{key:"End",run:cL,shift:xL,preventDefault:!0},{key:"Mod-End",run:Lm,shift:Rm},{key:"Enter",run:HL},{key:"Mod-a",run:AL},{key:"Backspace",run:ef,shift:ef},{key:"Delete",run:ov},{key:"Mod-Backspace",mac:"Alt-Backspace",run:lv},{key:"Mod-Delete",mac:"Alt-Delete",run:ML},{mac:"Mod-Backspace",run:RL},{mac:"Mod-Delete",run:av}].concat(zL.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),WL=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:lL,shift:vL},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:aL,shift:wL},{key:"Alt-ArrowUp",run:IL},{key:"Shift-Alt-ArrowUp",run:BL},{key:"Alt-ArrowDown",run:$L},{key:"Shift-Alt-ArrowDown",run:NL},{key:"Escape",run:LL},{key:"Mod-Enter",run:VL},{key:"Alt-l",mac:"Ctrl-l",run:OL},{key:"Mod-i",run:TL,preventDefault:!0},{key:"Mod-[",run:dv},{key:"Mod-]",run:hv},{key:"Mod-Alt-\\",run:UL},{key:"Shift-Mod-k",run:jL},{key:"Shift-Mod-\\",run:gL},{key:"Mod-/",run:NT},{key:"Alt-A",run:FT}].concat(qL),KL={key:"Tab",run:hv,shift:dv},pv=t=>(Ar("data-v-eb1ffb25"),t=t(),Or(),t),JL=pv(()=>ke("p",{class:"content"},"CURRENT BLOCK",-1)),GL=pv(()=>ke("p",{class:"content"},"CONTENT",-1)),YL={class:"block-container"},XL=St({__name:"BlocksContainer",setup(t){const e=As(),n=Be(0),r=Be(0),i=Je(()=>e.blocks.filter(a=>a.type=="heading"&&a.data.level<=3)),o=Je(()=>{const a={};let c=0;return e.blocks.forEach((u,f)=>{u.type=="heading"&&u.data.level<=3?a[f]=c++:a[f]=-1}),a});function s(){const a=document.querySelector(".ce-block--focused"),c=a.parentNode,u=Array.prototype.indexOf.call(c.children,a);r.value=u,a.children[0].children[0].classList.contains("ce-header")==!0?n.value=o.value[u]:n.value=-1}function l(a){const c=document.querySelector(".document-container"),u=document.querySelectorAll(".ce-block"),f=document.querySelector(".ce-block--focused");f&&f.classList.remove("ce-block--focused");const h=Object.values(o.value).indexOf(a);h!=-1&&(u.item(h).classList.add("ce-block--focused"),c.scrollTo({behavior:"smooth",top:u.item(h).offsetTop}),n.value=a,r.value=a)}return pa(()=>{document.getElementById("editor").addEventListener("click",s)}),Pf(()=>{document.getElementById("editor").removeEventListener("click",s)}),(a,c)=>(Me(),Ve(Ot,null,[JL,ae(bp,{block:_e(e).blocks[r.value],active:"",onClick:c[0]||(c[0]=u=>l(r.value))},null,8,["block"]),GL,ke("div",YL,[(Me(!0),Ve(Ot,null,Gr(_e(i),(u,f)=>(Me(),kr(bp,{block:u,active:n.value==f,onClick:h=>l(f)},null,8,["block","active","onClick"]))),256))])],64))}});const QL=Zt(XL,[["__scopeId","data-v-eb1ffb25"]]);function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tf={},ZL={get exports(){return tf},set exports(t){tf=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=14)}([function(n,r,i){var o=i(5),s=i(6),l=i(7),a=i(9);n.exports=function(c,u){return o(c)||s(c,u)||l(c,u)||a()}},function(n,r){function i(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=i=function(s){return typeof s}:n.exports=i=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}n.exports=i},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r){function i(o,s,l){var a,c,u,f,h;function d(){var v=Date.now()-f;v<s&&v>=0?a=setTimeout(d,s-v):(a=null,l||(h=o.apply(u,c),u=c=null))}s==null&&(s=100);var g=function(){u=this,c=arguments,f=Date.now();var v=l&&!a;return a||(a=setTimeout(d,s)),v&&(h=o.apply(u,c),u=c=null),h};return g.clear=function(){a&&(clearTimeout(a),a=null)},g.flush=function(){a&&(h=o.apply(u,c),u=c=null,clearTimeout(a),a=null)},g}i.debounce=i,n.exports=i},function(n,r){n.exports=function(i){if(Array.isArray(i))return i}},function(n,r){n.exports=function(i,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var s=[],l=!0,a=!1,c=void 0;try{for(var u,f=i[Symbol.iterator]();!(l=(u=f.next()).done)&&(s.push(u.value),!o||s.length!==o);l=!0);}catch(h){a=!0,c=h}finally{try{l||f.return==null||f.return()}finally{if(a)throw c}}return s}}},function(n,r,i){var o=i(8);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){var o=i(11),s=i(12);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var x=document.querySelector(w);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[w]=x}return y[w]}}(),a=[];function c(y){for(var w=-1,x=0;x<a.length;x++)if(a[x].identifier===y){w=x;break}return w}function u(y,w){for(var x={},S=[],C=0;C<y.length;C++){var _=y[C],A=w.base?_[0]+w.base:_[0],M=x[A]||0,E="".concat(A," ").concat(M);x[A]=M+1;var k=c(E),L={css:_[1],media:_[2],sourceMap:_[3]};k!==-1?(a[k].references++,a[k].updater(L)):a.push({identifier:E,updater:b(L,w),references:1}),S.push(E)}return S}function f(y){var w=document.createElement("style"),x=y.attributes||{};if(x.nonce===void 0){var S=i.nc;S&&(x.nonce=S)}if(Object.keys(x).forEach(function(_){w.setAttribute(_,x[_])}),typeof y.insert=="function")y.insert(w);else{var C=l(y.insert||"head");if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");C.appendChild(w)}return w}var h,d=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function g(y,w,x,S){var C=x?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(y.styleSheet)y.styleSheet.cssText=d(w,C);else{var _=document.createTextNode(C),A=y.childNodes;A[w]&&y.removeChild(A[w]),A.length?y.insertBefore(_,A[w]):y.appendChild(_)}}function v(y,w,x){var S=x.css,C=x.media,_=x.sourceMap;if(C?y.setAttribute("media",C):y.removeAttribute("media"),_&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),y.styleSheet)y.styleSheet.cssText=S;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(S))}}var m=null,p=0;function b(y,w){var x,S,C;if(w.singleton){var _=p++;x=m||(m=f(w)),S=g.bind(null,x,_,!1),C=g.bind(null,x,_,!0)}else x=f(w),S=v.bind(null,x,w),C=function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(x)};return S(y),function(A){if(A){if(A.css===y.css&&A.media===y.media&&A.sourceMap===y.sourceMap)return;S(y=A)}else C()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var x=u(y=y||[],w);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var C=0;C<x.length;C++){var _=c(x[C]);a[_].references--}for(var A=u(S,w),M=0;M<x.length;M++){var E=c(x[M]);a[E].references===0&&(a[E].updater(),a.splice(E,1))}x=A}}}},function(n,r,i){(r=i(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var d=(v=h,m=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(p," */")),g=h.sources.map(function(b){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(b," */")});return[f].concat(g).concat([d]).join(`
`)}var v,m,p;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var d=0;d<l.length;d++){var g=[].concat(l[d]);c&&u[g[0]]||(a&&(g[2]?g[2]="".concat(a," and ").concat(g[2]):g[2]=a),s.push(g))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return v});var o=i(1),s=i.n(o),l=i(0),a=i.n(l),c=i(2),u=i.n(c),f=i(3),h=i.n(f),d={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(m){var p=a()(m,2),b=p[0],y=p[1];if(!y&&b)return b;var w={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return y=y.slice(1).split("&").map(function(x){var S=x.split("="),C=a()(S,2),_=C[0],A=C[1];return b||_!=="v"?w[_]?A==="LL"||A.startsWith("RDMM")||A.startsWith("FL")?null:"".concat(w[_],"=").concat(A):null:(b=A,null)}).filter(function(x){return!!x}),b+"?"+y.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(m){return m.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(m){return m.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(m){return m.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(m){return m.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(m){return m[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(m){return m.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},g=(i(10),i(4)),v=function(){function m(p){var b=p.data,y=p.api,w=p.readOnly;u()(this,m),this.api=y,this._data={},this.element=null,this.readOnly=w,this.data=b}return h()(m,[{key:"render",value:function(){var p=this;if(!this.data.service){var b=document.createElement("div");return this.element=b,b}var y=m.services[this.data.service].html,w=document.createElement("div"),x=document.createElement("div"),S=document.createElement("template"),C=this.createPreloader();w.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),x.classList.add(this.CSS.input,this.CSS.caption),w.appendChild(C),x.contentEditable=!this.readOnly,x.dataset.placeholder=this.api.i18n.t("Enter a caption"),x.innerHTML=this.data.caption||"",S.innerHTML=y,S.content.firstChild.setAttribute("src",this.data.embed),S.content.firstChild.classList.add(this.CSS.content);var _=this.embedIsReady(w);return w.appendChild(S.content.firstChild),w.appendChild(x),_.then(function(){w.classList.remove(p.CSS.containerLoading)}),this.element=w,w}},{key:"createPreloader",value:function(){var p=document.createElement("preloader"),b=document.createElement("div");return b.textContent=this.data.source,p.classList.add(this.CSS.preloader),b.classList.add(this.CSS.url),p.appendChild(b),p}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(p){var b=p.detail,y=b.key,w=b.data,x=m.services[y],S=x.regex,C=x.embedUrl,_=x.width,A=x.height,M=x.id,E=M===void 0?function(R){return R.shift()}:M,k=S.exec(w).slice(1),L=C.replace(/<%= remote_id %>/g,E(k));this.data={service:y,source:w,embed:L,width:_,height:A}}},{key:"embedIsReady",value:function(p){var b=null;return new Promise(function(y,w){(b=new MutationObserver(Object(g.debounce)(y,450))).observe(p,{childList:!0,subtree:!0})}).then(function(){b.disconnect()})}},{key:"data",set:function(p){if(!(p instanceof Object))throw Error("Embed Tool data should be object");var b=p.service,y=p.source,w=p.embed,x=p.width,S=p.height,C=p.caption,_=C===void 0?"":C;this._data={service:b||this.data.service,source:y||this.data.source,embed:w||this.data.embed,width:x||this.data.width,height:S||this.data.height,caption:_||this.data.caption||""};var A=this.element;A&&A.parentNode.replaceChild(this.render(),A)},get:function(){if(this.element){var p=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=p?p.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(p){var b=p.config,y=(b===void 0?{}:b).services,w=y===void 0?{}:y,x=Object.entries(d),S=Object.entries(w).filter(function(_){var A=a()(_,2),M=(A[0],A[1]);return typeof M=="boolean"&&M===!0}).map(function(_){return a()(_,1)[0]}),C=Object.entries(w).filter(function(_){var A=a()(_,2),M=(A[0],A[1]);return s()(M)==="object"}).filter(function(_){var A=a()(_,2),M=(A[0],A[1]);return m.checkServiceConfig(M)}).map(function(_){var A=a()(_,2),M=A[0],E=A[1];return[M,{regex:E.regex,embedUrl:E.embedUrl,html:E.html,height:E.height,width:E.width,id:E.id}]});S.length&&(x=x.filter(function(_){var A=a()(_,1)[0];return S.includes(A)})),x=x.concat(C),m.services=x.reduce(function(_,A){var M=a()(A,2),E=M[0],k=M[1];return E in _?(_[E]=Object.assign({},_[E],k),_):(_[E]=k,_)},{}),m.patterns=x.reduce(function(_,A){var M=a()(A,2),E=M[0],k=M[1];return _[E]=k.regex,_},{})}},{key:"checkServiceConfig",value:function(p){var b=p.regex,y=p.embedUrl,w=p.html,x=p.height,S=p.width,C=p.id,_=b&&b instanceof RegExp&&y&&typeof y=="string"&&w&&typeof w=="string";return _=(_=(_=_&&(C===void 0||C instanceof Function))&&(x===void 0||Number.isFinite(x)))&&(S===void 0||Number.isFinite(S))}},{key:"pasteConfig",get:function(){return{patterns:m.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),m}()}]).default})})(ZL);const eM=Ln(tf);var nf={},tM={get exports(){return nf},set exports(t){nf=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=18)}([function(n,r,i){n.exports=i(11)},function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r,i){var o=i(7),s=i(8),l=i(9),a=i(10);n.exports=function(c){return o(c)||s(c)||l(c)||a()}},function(n,r){function i(o,s,l,a,c,u,f){try{var h=o[u](f),d=h.value}catch(g){return void l(g)}h.done?s(d):Promise.resolve(d).then(a,c)}n.exports=function(o){return function(){var s=this,l=arguments;return new Promise(function(a,c){var u=o.apply(s,l);function f(d){i(u,a,c,f,h,"next",d)}function h(d){i(u,a,c,f,h,"throw",d)}f(void 0)})}}},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r,i){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var c=s[a]={i:a,l:!1,exports:{}};return o[a].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=o,l.c=s,l.d=function(a,c,u){l.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},l.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,c){if(1&c&&(a=l(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(l.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)l.d(u,f,function(h){return a[h]}.bind(null,f));return u},l.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(c,"a",c),c},l.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},l.p="",l(l.s=3)}([function(o,s){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}o.exports=l},function(o,s,l){(function(a){var c=l(2),u=setTimeout;function f(){}function h(y){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(y,this)}function d(y,w){for(;y._state===3;)y=y._value;y._state!==0?(y._handled=!0,h._immediateFn(function(){var x=y._state===1?w.onFulfilled:w.onRejected;if(x!==null){var S;try{S=x(y._value)}catch(C){return void v(w.promise,C)}g(w.promise,S)}else(y._state===1?g:v)(w.promise,y._value)})):y._deferreds.push(w)}function g(y,w){try{if(w===y)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var x=w.then;if(w instanceof h)return y._state=3,y._value=w,void m(y);if(typeof x=="function")return void b((S=x,C=w,function(){S.apply(C,arguments)}),y)}y._state=1,y._value=w,m(y)}catch(_){v(y,_)}var S,C}function v(y,w){y._state=2,y._value=w,m(y)}function m(y){y._state===2&&y._deferreds.length===0&&h._immediateFn(function(){y._handled||h._unhandledRejectionFn(y._value)});for(var w=0,x=y._deferreds.length;w<x;w++)d(y,y._deferreds[w]);y._deferreds=null}function p(y,w,x){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof w=="function"?w:null,this.promise=x}function b(y,w){var x=!1;try{y(function(S){x||(x=!0,g(w,S))},function(S){x||(x=!0,v(w,S))})}catch(S){if(x)return;x=!0,v(w,S)}}h.prototype.catch=function(y){return this.then(null,y)},h.prototype.then=function(y,w){var x=new this.constructor(f);return d(this,new p(y,w,x)),x},h.prototype.finally=c.a,h.all=function(y){return new h(function(w,x){if(!y||y.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(y);if(S.length===0)return w([]);var C=S.length;function _(M,E){try{if(E&&(typeof E=="object"||typeof E=="function")){var k=E.then;if(typeof k=="function")return void k.call(E,function(L){_(M,L)},x)}S[M]=E,--C==0&&w(S)}catch(L){x(L)}}for(var A=0;A<S.length;A++)_(A,S[A])})},h.resolve=function(y){return y&&typeof y=="object"&&y.constructor===h?y:new h(function(w){w(y)})},h.reject=function(y){return new h(function(w,x){x(y)})},h.race=function(y){return new h(function(w,x){for(var S=0,C=y.length;S<C;S++)y[S].then(w,x)})},h._immediateFn=typeof a=="function"&&function(y){a(y)}||function(y){u(y,0)},h._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},s.a=h}).call(this,l(5).setImmediate)},function(o,s,l){s.a=function(a){var c=this.constructor;return this.then(function(u){return c.resolve(a()).then(function(){return u})},function(u){return c.resolve(a()).then(function(){return c.reject(u)})})}},function(o,s,l){function a(p){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(p)}l(4);var c,u,f,h,d,g,v=l(8),m=(u=function(p){return new Promise(function(b,y){p=h(p),p=d(p);var w=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");w.open(p.method,p.url),w.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(p.headers).forEach(function(S){var C=p.headers[S];w.setRequestHeader(S,C)});var x=p.ratio;w.upload.addEventListener("progress",function(S){var C=Math.round(S.loaded/S.total*100),_=Math.ceil(C*x/100);p.progress(_)},!1),w.addEventListener("progress",function(S){var C=Math.round(S.loaded/S.total*100),_=Math.ceil(C*(100-x)/100)+x;p.progress(_)},!1),w.onreadystatechange=function(){if(w.readyState===4){var S=w.response;try{S=JSON.parse(S)}catch{}var C=v.parseHeaders(w.getAllResponseHeaders()),_={body:S,code:w.status,headers:C};w.status===200?b(_):y(_)}},w.send(p.data)})},f=function(p){return p.method="POST",u(p)},h=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(p.url&&typeof p.url!="string")throw new Error("Url must be a string");if(p.url=p.url||"",p.method&&typeof p.method!="string")throw new Error("`method` must be a string or null");if(p.method=p.method?p.method.toUpperCase():"GET",p.headers&&a(p.headers)!=="object")throw new Error("`headers` must be an object or null");if(p.headers=p.headers||{},p.type&&(typeof p.type!="string"||!Object.values(c).includes(p.type)))throw new Error("`type` must be taken from module's contentType library");if(p.progress&&typeof p.progress!="function")throw new Error("`progress` must be a function or null");if(p.progress=p.progress||function(b){},p.beforeSend=p.beforeSend||function(b){},p.ratio&&typeof p.ratio!="number")throw new Error("`ratio` must be a number");if(p.ratio<0||p.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(p.ratio=p.ratio||90,p.accept&&typeof p.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(p.accept=p.accept||"*/*",p.multiple&&typeof p.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(p.multiple=p.multiple||!1,p.fieldName&&typeof p.fieldName!="string")throw new Error("`fieldName` must be a string");return p.fieldName=p.fieldName||"files",p},d=function(p){switch(p.method){case"GET":var b=g(p.data,c.URLENCODED);delete p.data,p.url=/\?/.test(p.url)?p.url+"&"+b:p.url+"?"+b;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var y=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(p);(v.isFormData(p.data)||v.isFormElement(p.data))&&(y=c.FORM),p.data=g(p.data,y),y!==m.contentType.FORM&&(p.headers["content-type"]=y)}return p},g=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return v.urlEncode(p);case c.JSON:return v.jsonEncode(p);case c.FORM:return v.formEncode(p);default:return p}},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(p){return p.method="GET",u(p)},post:f,transport:function(p){return p=h(p),v.selectFiles(p).then(function(b){for(var y=new FormData,w=0;w<b.length;w++)y.append(p.fieldName,b[w],b[w].name);return v.isObject(p.data)&&Object.keys(p.data).forEach(function(x){var S=p.data[x];y.append(x,S)}),p.beforeSend&&p.beforeSend(b),p.data=y,f(p)})},selectFiles:function(p){return delete(p=h(p)).beforeSend,v.selectFiles(p)}});o.exports=m},function(o,s,l){l.r(s);var a=l(1);window.Promise=window.Promise||a.a},function(o,s,l){(function(a){var c=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function f(h,d){this._id=h,this._clearFn=d}s.setTimeout=function(){return new f(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h&&h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(h,d){clearTimeout(h._idleTimeoutId),h._idleTimeout=d},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var d=h._idleTimeout;d>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},d))},l(6),s.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(o,s,l){(function(a,c){(function(u,f){if(!u.setImmediate){var h,d,g,v,m,p=1,b={},y=!1,w=u.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(u);x=x&&x.setTimeout?x:u,{}.toString.call(u.process)==="[object process]"?h=function(_){c.nextTick(function(){C(_)})}:function(){if(u.postMessage&&!u.importScripts){var _=!0,A=u.onmessage;return u.onmessage=function(){_=!1},u.postMessage("","*"),u.onmessage=A,_}}()?(v="setImmediate$"+Math.random()+"$",m=function(_){_.source===u&&typeof _.data=="string"&&_.data.indexOf(v)===0&&C(+_.data.slice(v.length))},u.addEventListener?u.addEventListener("message",m,!1):u.attachEvent("onmessage",m),h=function(_){u.postMessage(v+_,"*")}):u.MessageChannel?((g=new MessageChannel).port1.onmessage=function(_){C(_.data)},h=function(_){g.port2.postMessage(_)}):w&&"onreadystatechange"in w.createElement("script")?(d=w.documentElement,h=function(_){var A=w.createElement("script");A.onreadystatechange=function(){C(_),A.onreadystatechange=null,d.removeChild(A),A=null},d.appendChild(A)}):h=function(_){setTimeout(C,0,_)},x.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var A=new Array(arguments.length-1),M=0;M<A.length;M++)A[M]=arguments[M+1];var E={callback:_,args:A};return b[p]=E,h(p),p++},x.clearImmediate=S}function S(_){delete b[_]}function C(_){if(y)setTimeout(C,0,_);else{var A=b[_];if(A){y=!0;try{(function(M){var E=M.callback,k=M.args;switch(k.length){case 0:E();break;case 1:E(k[0]);break;case 2:E(k[0],k[1]);break;case 3:E(k[0],k[1],k[2]);break;default:E.apply(void 0,k)}})(A)}finally{S(_),y=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,l(0),l(7))},function(o,s){var l,a,c=o.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function h(x){if(l===setTimeout)return setTimeout(x,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout(x,0);try{return l(x,0)}catch{try{return l.call(null,x,0)}catch{return l.call(this,x,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:u}catch{l=u}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var d,g=[],v=!1,m=-1;function p(){v&&d&&(v=!1,d.length?g=d.concat(g):m=-1,g.length&&b())}function b(){if(!v){var x=h(p);v=!0;for(var S=g.length;S;){for(d=g,g=[];++m<S;)d&&d[m].run();m=-1,S=g.length}d=null,v=!1,function(C){if(a===clearTimeout)return clearTimeout(C);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(C);try{a(C)}catch{try{return a.call(null,C)}catch{return a.call(this,C)}}}(x)}}function y(x,S){this.fun=x,this.array=S}function w(){}c.nextTick=function(x){var S=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)S[C-1]=arguments[C];g.push(new y(x,S)),g.length!==1||v||h(b)},y.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(x){return[]},c.binding=function(x){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(x){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(o,s,l){function a(u,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var c=l(9);o.exports=function(){function u(){(function(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}var f,h;return f=u,(h=[{key:"urlEncode",value:function(d){return c(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var g=new FormData;return Object.keys(d).forEach(function(v){var m=d[v];g.append(v,m)}),g}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g,v){var m=document.createElement("INPUT");m.type="file",d.multiple&&m.setAttribute("multiple","multiple"),d.accept&&m.setAttribute("accept",d.accept),m.style.display="none",document.body.appendChild(m),m.addEventListener("change",function(p){var b=p.target.files;g(b),document.body.removeChild(m)},!1),m.click()})}},{key:"parseHeaders",value:function(d){var g=d.trim().split(/[\r\n]+/),v={};return g.forEach(function(m){var p=m.split(": "),b=p.shift(),y=p.join(": ");b&&(v[b]=y)}),v}}])&&a(f,h),u}()},function(o,s){var l=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(c,u,f,h){return u=u||null,f=f||"&",h=h||null,c?function(d){for(var g=new Array,v=0;v<d.length;v++)d[v]&&g.push(d[v]);return g}(Object.keys(c).map(function(d){var g,v,m=d;if(h&&(m=h+"["+m+"]"),typeof c[d]=="object"&&c[d]!==null)g=a(c[d],null,f,m);else{u&&(v=m,m=!isNaN(parseFloat(v))&&isFinite(v)?u+Number(m):m);var p=c[d];p=(p=(p=(p=p===!0?"1":p)===!1?"0":p)===0?"0":p)||"",g=l(m)+"="+l(p)}return g})).join(f).replace(/[!'()*]/g,""):""};o.exports=a}])},function(n,r,i){var o=i(2);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,r){n.exports=function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}},function(n,r,i){var o=i(2);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(s):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){var o=function(s){var l=Object.prototype,a=l.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function d(O,T,P,D){var $=T&&T.prototype instanceof m?T:m,G=Object.create($.prototype),ne=new k(D||[]);return G._invoke=function(ce,Pe,de){var U="suspendedStart";return function(X,Q){if(U==="executing")throw new Error("Generator is already running");if(U==="completed"){if(X==="throw")throw Q;return R()}for(de.method=X,de.arg=Q;;){var ue=de.delegate;if(ue){var xe=A(ue,de);if(xe){if(xe===v)continue;return xe}}if(de.method==="next")de.sent=de._sent=de.arg;else if(de.method==="throw"){if(U==="suspendedStart")throw U="completed",de.arg;de.dispatchException(de.arg)}else de.method==="return"&&de.abrupt("return",de.arg);U="executing";var Oe=g(ce,Pe,de);if(Oe.type==="normal"){if(U=de.done?"completed":"suspendedYield",Oe.arg===v)continue;return{value:Oe.arg,done:de.done}}Oe.type==="throw"&&(U="completed",de.method="throw",de.arg=Oe.arg)}}}(O,P,ne),G}function g(O,T,P){try{return{type:"normal",arg:O.call(T,P)}}catch(D){return{type:"throw",arg:D}}}s.wrap=d;var v={};function m(){}function p(){}function b(){}var y={};y[u]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==l&&a.call(x,u)&&(y=x);var S=b.prototype=m.prototype=Object.create(y);function C(O){["next","throw","return"].forEach(function(T){O[T]=function(P){return this._invoke(T,P)}})}function _(O,T){var P;this._invoke=function(D,$){function G(){return new T(function(ne,ce){(function Pe(de,U,X,Q){var ue=g(O[de],O,U);if(ue.type!=="throw"){var xe=ue.arg,Oe=xe.value;return Oe&&typeof Oe=="object"&&a.call(Oe,"__await")?T.resolve(Oe.__await).then(function(pe){Pe("next",pe,X,Q)},function(pe){Pe("throw",pe,X,Q)}):T.resolve(Oe).then(function(pe){xe.value=pe,X(xe)},function(pe){return Pe("throw",pe,X,Q)})}Q(ue.arg)})(D,$,ne,ce)})}return P=P?P.then(G,G):G()}}function A(O,T){var P=O.iterator[T.method];if(P===void 0){if(T.delegate=null,T.method==="throw"){if(O.iterator.return&&(T.method="return",T.arg=void 0,A(O,T),T.method==="throw"))return v;T.method="throw",T.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var D=g(P,O.iterator,T.arg);if(D.type==="throw")return T.method="throw",T.arg=D.arg,T.delegate=null,v;var $=D.arg;return $?$.done?(T[O.resultName]=$.value,T.next=O.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,v):$:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,v)}function M(O){var T={tryLoc:O[0]};1 in O&&(T.catchLoc=O[1]),2 in O&&(T.finallyLoc=O[2],T.afterLoc=O[3]),this.tryEntries.push(T)}function E(O){var T=O.completion||{};T.type="normal",delete T.arg,O.completion=T}function k(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(M,this),this.reset(!0)}function L(O){if(O){var T=O[u];if(T)return T.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var P=-1,D=function $(){for(;++P<O.length;)if(a.call(O,P))return $.value=O[P],$.done=!1,$;return $.value=void 0,$.done=!0,$};return D.next=D}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=S.constructor=b,b.constructor=p,b[h]=p.displayName="GeneratorFunction",s.isGeneratorFunction=function(O){var T=typeof O=="function"&&O.constructor;return!!T&&(T===p||(T.displayName||T.name)==="GeneratorFunction")},s.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,b):(O.__proto__=b,h in O||(O[h]="GeneratorFunction")),O.prototype=Object.create(S),O},s.awrap=function(O){return{__await:O}},C(_.prototype),_.prototype[f]=function(){return this},s.AsyncIterator=_,s.async=function(O,T,P,D,$){$===void 0&&($=Promise);var G=new _(d(O,T,P,D),$);return s.isGeneratorFunction(T)?G:G.next().then(function(ne){return ne.done?ne.value:G.next()})},C(S),S[h]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},s.keys=function(O){var T=[];for(var P in O)T.push(P);return T.reverse(),function D(){for(;T.length;){var $=T.pop();if($ in O)return D.value=$,D.done=!1,D}return D.done=!0,D}},s.values=L,k.prototype={constructor:k,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!O)for(var T in this)T.charAt(0)==="t"&&a.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var T=this;function P(Pe,de){return G.type="throw",G.arg=O,T.next=Pe,de&&(T.method="next",T.arg=void 0),!!de}for(var D=this.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D],G=$.completion;if($.tryLoc==="root")return P("end");if($.tryLoc<=this.prev){var ne=a.call($,"catchLoc"),ce=a.call($,"finallyLoc");if(ne&&ce){if(this.prev<$.catchLoc)return P($.catchLoc,!0);if(this.prev<$.finallyLoc)return P($.finallyLoc)}else if(ne){if(this.prev<$.catchLoc)return P($.catchLoc,!0)}else{if(!ce)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return P($.finallyLoc)}}}},abrupt:function(O,T){for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var $=D;break}}$&&(O==="break"||O==="continue")&&$.tryLoc<=T&&T<=$.finallyLoc&&($=null);var G=$?$.completion:{};return G.type=O,G.arg=T,$?(this.method="next",this.next=$.finallyLoc,v):this.complete(G)},complete:function(O,T){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&T&&(this.next=T),v},finish:function(O){for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T];if(P.finallyLoc===O)return this.complete(P.completion,P.afterLoc),E(P),v}},catch:function(O){for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T];if(P.tryLoc===O){var D=P.completion;if(D.type==="throw"){var $=D.arg;E(P)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(O,T,P){return this.delegate={iterator:L(O),resultName:T,nextLoc:P},this.method==="next"&&(this.arg=void 0),v}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,r,i){var o=i(13),s=i(14);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var x=document.querySelector(w);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[w]=x}return y[w]}}(),a=[];function c(y){for(var w=-1,x=0;x<a.length;x++)if(a[x].identifier===y){w=x;break}return w}function u(y,w){for(var x={},S=[],C=0;C<y.length;C++){var _=y[C],A=w.base?_[0]+w.base:_[0],M=x[A]||0,E="".concat(A," ").concat(M);x[A]=M+1;var k=c(E),L={css:_[1],media:_[2],sourceMap:_[3]};k!==-1?(a[k].references++,a[k].updater(L)):a.push({identifier:E,updater:b(L,w),references:1}),S.push(E)}return S}function f(y){var w=document.createElement("style"),x=y.attributes||{};if(x.nonce===void 0){var S=i.nc;S&&(x.nonce=S)}if(Object.keys(x).forEach(function(_){w.setAttribute(_,x[_])}),typeof y.insert=="function")y.insert(w);else{var C=l(y.insert||"head");if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");C.appendChild(w)}return w}var h,d=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function g(y,w,x,S){var C=x?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(y.styleSheet)y.styleSheet.cssText=d(w,C);else{var _=document.createTextNode(C),A=y.childNodes;A[w]&&y.removeChild(A[w]),A.length?y.insertBefore(_,A[w]):y.appendChild(_)}}function v(y,w,x){var S=x.css,C=x.media,_=x.sourceMap;if(C?y.setAttribute("media",C):y.removeAttribute("media"),_&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),y.styleSheet)y.styleSheet.cssText=S;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(S))}}var m=null,p=0;function b(y,w){var x,S,C;if(w.singleton){var _=p++;x=m||(m=f(w)),S=g.bind(null,x,_,!1),C=g.bind(null,x,_,!0)}else x=f(w),S=v.bind(null,x,w),C=function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(x)};return S(y),function(A){if(A){if(A.css===y.css&&A.media===y.media&&A.sourceMap===y.sourceMap)return;S(y=A)}else C()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var x=u(y=y||[],w);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var C=0;C<x.length;C++){var _=c(x[C]);a[_].references--}for(var A=u(S,w),M=0;M<x.length;M++){var E=c(x[M]);a[E].references===0&&(a[E].updater(),a.splice(E,1))}x=A}}}},function(n,r,i){(r=i(15)(!1)).push([n.i,`.link-tool {
  position: relative;
}

  .link-tool__input {
    padding-left: 38px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .link-tool__input-holder {
      position: relative;
    }

  .link-tool__input-holder--error .link-tool__input {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
          background-color: #fff3f6;
          border-color: #f3e0e0;
          color: #a95a5a;
          box-shadow: inset 0 1px 3px 0 rgba(146, 62, 62, .05);
        }

  .link-tool__input[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }

  .link-tool__input[contentEditable=true][data-placeholder]:empty::before {
        opacity: 1;
      }

  .link-tool__input[contentEditable=true][data-placeholder]:empty:focus::before {
         opacity: 0;
       }

  .link-tool__progress {
    position: absolute;
    box-shadow: inset 0 1px 3px 0 rgba(102, 85, 107, 0.04);
    height: 100%;
    width: 0;
    background-color: #f4f5f7;
    z-index: -1;
  }

  .link-tool__progress--loading {
      -webkit-animation: progress 500ms ease-in;
      -webkit-animation-fill-mode: forwards;
    }

  .link-tool__progress--loaded {
      width: 100%;
    }

  .link-tool__content {
    display: block;
    padding: 25px;
    border-radius: 2px;
    box-shadow: 0 0 0 2px #fff;
    color: initial !important;
    text-decoration: none !important;
  }

  .link-tool__content::after {
      content: "";
      clear: both;
      display: table;
    }

  .link-tool__content--rendered {
      background: #fff;
      border: 1px solid rgba(201, 201, 204, 0.48);
      box-shadow: 0 1px 3px rgba(0,0,0, .1);
      border-radius: 6px;
      will-change: filter;
      animation: link-in 450ms 1 cubic-bezier(0.215, 0.61, 0.355, 1);
    }

  .link-tool__content--rendered:hover {
        box-shadow: 0 0 3px rgba(0,0,0, .16);
      }

  .link-tool__image {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    margin: 0 0 0 30px;
    width: 65px;
    height: 65px;
    border-radius: 3px;
    float: right;
  }

  .link-tool__title {
    font-size: 17px;
    font-weight: 600;
    line-height: 1.5em;
    margin: 0 0 10px 0;
  }

  .link-tool__title + .link-tool__anchor {
      margin-top: 25px;
    }

  .link-tool__description {
    margin: 0 0 20px 0;
    font-size: 15px;
    line-height: 1.55em;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .link-tool__anchor {
    display: block;
    font-size: 15px;
    line-height: 1em;
    color: #888 !important;
    border: 0 !important;
    padding: 0 !important;
  }

@keyframes link-in {
  from {
    filter: blur(5px);
  }

  to {
    filter: none;
  }
}

.codex-editor--narrow .link-tool__image {
  display: none;
}

@-webkit-keyframes progress {
  0% {
    width: 0;
  }
  100% {
    width: 85%;
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var d=(v=h,m=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(p," */")),g=h.sources.map(function(b){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(b," */")});return[f].concat(g).concat([d]).join(`
`)}var v,m,p;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var d=0;d<l.length;d++){var g=[].concat(l[d]);c&&u[g[0]]||(a&&(g[2]?g[2]="".concat(a," and ").concat(g[2]):g[2]=a),s.push(g))}},s}},function(n,r,i){(function(o){(function(s){var l=function(){try{return!!Symbol.iterator}catch{return!1}}(),a=function(h){var d={next:function(){var g=h.shift();return{done:g===void 0,value:g}}};return l&&(d[Symbol.iterator]=function(){return d}),d},c=function(h){return encodeURIComponent(h).replace(/%20/g,"+")},u=function(h){return decodeURIComponent(String(h).replace(/\+/g," "))};(function(){try{var h=s.URLSearchParams;return new h("?a=1").toString()==="a=1"&&typeof h.prototype.set=="function"}catch{return!1}})()||function(){var h=function(g){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var v=typeof g;if(v!=="undefined")if(v==="string")g!==""&&this._fromString(g);else if(g instanceof h){var m=this;g.forEach(function(w,x){m.append(x,w)})}else{if(g===null||v!=="object")throw new TypeError("Unsupported input's type for URLSearchParams");if(Object.prototype.toString.call(g)==="[object Array]")for(var p=0;p<g.length;p++){var b=g[p];if(Object.prototype.toString.call(b)!=="[object Array]"&&b.length===2)throw new TypeError("Expected [string, any] as entry at index "+p+" of URLSearchParams's input");this.append(b[0],b[1])}else for(var y in g)g.hasOwnProperty(y)&&this.append(y,g[y])}},d=h.prototype;d.append=function(g,v){g in this._entries?this._entries[g].push(String(v)):this._entries[g]=[String(v)]},d.delete=function(g){delete this._entries[g]},d.get=function(g){return g in this._entries?this._entries[g][0]:null},d.getAll=function(g){return g in this._entries?this._entries[g].slice(0):[]},d.has=function(g){return g in this._entries},d.set=function(g,v){this._entries[g]=[String(v)]},d.forEach=function(g,v){var m;for(var p in this._entries)if(this._entries.hasOwnProperty(p)){m=this._entries[p];for(var b=0;b<m.length;b++)g.call(v,m[b],p,this)}},d.keys=function(){var g=[];return this.forEach(function(v,m){g.push(m)}),a(g)},d.values=function(){var g=[];return this.forEach(function(v){g.push(v)}),a(g)},d.entries=function(){var g=[];return this.forEach(function(v,m){g.push([m,v])}),a(g)},l&&(d[Symbol.iterator]=d.entries),d.toString=function(){var g=[];return this.forEach(function(v,m){g.push(c(m)+"="+c(v))}),g.join("&")},s.URLSearchParams=h}();var f=s.URLSearchParams.prototype;typeof f.sort!="function"&&(f.sort=function(){var h=this,d=[];this.forEach(function(v,m){d.push([m,v]),h._entries||h.delete(m)}),d.sort(function(v,m){return v[0]<m[0]?-1:v[0]>m[0]?1:0}),h._entries&&(h._entries={});for(var g=0;g<d.length;g++)this.append(d[g][0],d[g][1])}),typeof f._fromString!="function"&&Object.defineProperty(f,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(h){if(this._entries)this._entries={};else{var d=[];this.forEach(function(p,b){d.push(b)});for(var g=0;g<d.length;g++)this.delete(d[g])}var v,m=(h=h.replace(/^\?/,"")).split("&");for(g=0;g<m.length;g++)v=m[g].split("="),this.append(u(v[0]),v.length>1?u(v[1]):"")}})})(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:this),function(s){if(function(){try{var a=new s.URL("b","http://a");return a.pathname="c d",a.href==="http://a/c%20d"&&a.searchParams}catch{return!1}}()||function(){var a=s.URL,c=function(f,h){typeof f!="string"&&(f=String(f));var d,g=document;if(h&&(s.location===void 0||h!==s.location.href)){(d=(g=document.implementation.createHTMLDocument("")).createElement("base")).href=h,g.head.appendChild(d);try{if(d.href.indexOf(h)!==0)throw new Error(d.href)}catch(S){throw new Error("URL unable to set base "+h+" due to "+S)}}var v=g.createElement("a");v.href=f,d&&(g.body.appendChild(v),v.href=v.href);var m=g.createElement("input");if(m.type="url",m.value=f,v.protocol===":"||!/:/.test(v.href)||!m.checkValidity()&&!h)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:v});var p=new s.URLSearchParams(this.search),b=!0,y=!0,w=this;["append","delete","set"].forEach(function(S){var C=p[S];p[S]=function(){C.apply(p,arguments),b&&(y=!1,w.search=p.toString(),y=!0)}}),Object.defineProperty(this,"searchParams",{value:p,enumerable:!0});var x=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==x&&(x=this.search,y&&(b=!1,this.searchParams._fromString(this.search),b=!0))}})},u=c.prototype;["hash","host","hostname","port","protocol"].forEach(function(f){(function(h){Object.defineProperty(u,h,{get:function(){return this._anchorElement[h]},set:function(d){this._anchorElement[h]=d},enumerable:!0})})(f)}),Object.defineProperty(u,"search",{get:function(){return this._anchorElement.search},set:function(f){this._anchorElement.search=f,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(u,{toString:{get:function(){var f=this;return function(){return f.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(f){this._anchorElement.href=f,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(f){this._anchorElement.pathname=f},enumerable:!0},origin:{get:function(){var f={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],h=this._anchorElement.port!=f&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(h?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(f){},enumerable:!0},username:{get:function(){return""},set:function(f){},enumerable:!0}}),c.createObjectURL=function(f){return a.createObjectURL.apply(a,arguments)},c.revokeObjectURL=function(f){return a.revokeObjectURL.apply(a,arguments)},s.URL=c}(),s.location!==void 0&&!("origin"in s.location)){var l=function(){return s.location.protocol+"//"+s.location.hostname+(s.location.port?":"+s.location.port:"")};try{Object.defineProperty(s.location,"origin",{get:l,enumerable:!0})}catch{setInterval(function(){s.location.origin=l()},100)}}}(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:this)}).call(this,i(17))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){i.r(r),i.d(r,"default",function(){return p});var o=i(3),s=i.n(o),l=i(0),a=i.n(l),c=i(4),u=i.n(c),f=i(5),h=i.n(f),d=i(1),g=i.n(d),v=(i(12),i(16),i(6)),m=i.n(v),p=function(){function b(w){var x=w.data,S=w.config,C=w.api,_=w.readOnly;h()(this,b),this.api=C,this.readOnly=_,this.config={endpoint:S.endpoint||"",headers:S.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=x}var y;return g()(b,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>',title:"Link"}}},{key:"enableLineBreaks",get:function(){return!0}}]),g()(b,[{key:"render",value:function(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}},{key:"save",value:function(){return this.data}},{key:"validate",value:function(){return this.data.link.trim()!==""}},{key:"makeInputHolder",value:function(){var w=this,x=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",function(S){w.startFetching(S)}),this.nodes.input.addEventListener("keydown",function(S){var C=S.ctrlKey||S.metaKey;switch(S.keyCode){case 13:S.preventDefault(),S.stopPropagation(),w.startFetching(S);break;case 65:C&&w.selectLinkUrl(S)}})),x.appendChild(this.nodes.progress),x.appendChild(this.nodes.input),x}},{key:"startFetching",value:function(w){var x=this.nodes.input.textContent;w.type==="paste"&&(x=(w.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(x)}},{key:"removeErrorStyle",value:function(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}},{key:"selectLinkUrl",value:function(w){w.preventDefault(),w.stopPropagation();var x=window.getSelection(),S=new Range,C=x.anchorNode.parentNode.closest(".".concat(this.CSS.inputHolder)).querySelector(".".concat(this.CSS.inputEl));S.selectNodeContents(C),x.removeAllRanges(),x.addRange(S)}},{key:"prepareLinkPreview",value:function(){var w=this.make("a",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),w}},{key:"showLinkPreview",value:function(w){var x=w.image,S=w.title,C=w.description;this.nodes.container.appendChild(this.nodes.linkContent),x&&x.url&&(this.nodes.linkImage.style.backgroundImage="url("+x.url+")",this.nodes.linkContent.appendChild(this.nodes.linkImage)),S&&(this.nodes.linkTitle.textContent=S,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),C&&(this.nodes.linkDescription.textContent=C,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),this.nodes.linkContent.classList.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}},{key:"showProgress",value:function(){this.nodes.progress.classList.add(this.CSS.progressLoading)}},{key:"hideProgress",value:function(){var w=this;return new Promise(function(x){w.nodes.progress.classList.remove(w.CSS.progressLoading),w.nodes.progress.classList.add(w.CSS.progressLoaded),setTimeout(x,500)})}},{key:"applyErrorStyle",value:function(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}},{key:"fetchLinkData",value:(y=u()(a.a.mark(function w(x){var S,C;return a.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return this.showProgress(),this.data={link:x},_.prev=2,_.next=5,m.a.get({url:this.config.endpoint,headers:this.config.headers,data:{url:x}});case 5:S=_.sent,C=S.body,this.onFetch(C),_.next=13;break;case 10:_.prev=10,_.t0=_.catch(2),this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"));case 13:case"end":return _.stop()}},w,this,[[2,10]])})),function(w){return y.apply(this,arguments)})},{key:"onFetch",value:function(w){var x=this;if(w&&w.success){var S=w.meta,C=w.link||this.data.link;this.data={meta:S,link:C},S?this.hideProgress().then(function(){x.nodes.inputHolder.remove(),x.showLinkPreview(S)}):this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"))}else this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"))}},{key:"fetchingFailed",value:function(w){this.api.notifier.show({message:w,style:"error"}),this.applyErrorStyle()}},{key:"make",value:function(w){var x,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=document.createElement(w);Array.isArray(S)?(x=_.classList).add.apply(x,s()(S)):S&&_.classList.add(S);for(var A in C)_[A]=C[A];return _}},{key:"data",set:function(w){this._data=Object.assign({},{link:w.link||this._data.link,meta:w.meta||this._data.meta})},get:function(){return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}}]),b}()}]).default})})(tM);const nM=Ln(nf);var rf={},rM={get exports(){return rf},set exports(t){rf=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=4)}([function(n,r,i){var o=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var x=document.querySelector(w);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[w]=x}return y[w]}}(),a=[];function c(y){for(var w=-1,x=0;x<a.length;x++)if(a[x].identifier===y){w=x;break}return w}function u(y,w){for(var x={},S=[],C=0;C<y.length;C++){var _=y[C],A=w.base?_[0]+w.base:_[0],M=x[A]||0,E="".concat(A," ").concat(M);x[A]=M+1;var k=c(E),L={css:_[1],media:_[2],sourceMap:_[3]};k!==-1?(a[k].references++,a[k].updater(L)):a.push({identifier:E,updater:b(L,w),references:1}),S.push(E)}return S}function f(y){var w=document.createElement("style"),x=y.attributes||{};if(x.nonce===void 0){var S=i.nc;S&&(x.nonce=S)}if(Object.keys(x).forEach(function(_){w.setAttribute(_,x[_])}),typeof y.insert=="function")y.insert(w);else{var C=l(y.insert||"head");if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");C.appendChild(w)}return w}var h,d=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function g(y,w,x,S){var C=x?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(y.styleSheet)y.styleSheet.cssText=d(w,C);else{var _=document.createTextNode(C),A=y.childNodes;A[w]&&y.removeChild(A[w]),A.length?y.insertBefore(_,A[w]):y.appendChild(_)}}function v(y,w,x){var S=x.css,C=x.media,_=x.sourceMap;if(C?y.setAttribute("media",C):y.removeAttribute("media"),_&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),y.styleSheet)y.styleSheet.cssText=S;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(S))}}var m=null,p=0;function b(y,w){var x,S,C;if(w.singleton){var _=p++;x=m||(m=f(w)),S=g.bind(null,x,_,!1),C=g.bind(null,x,_,!0)}else x=f(w),S=v.bind(null,x,w),C=function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(x)};return S(y),function(A){if(A){if(A.css===y.css&&A.media===y.media&&A.sourceMap===y.sourceMap)return;S(y=A)}else C()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var x=u(y=y||[],w);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var C=0;C<x.length;C++){var _=c(x[C]);a[_].references--}for(var A=u(S,w),M=0;M<x.length;M++){var E=c(x[M]);a[E].references===0&&(a[E].updater(),a.splice(E,1))}x=A}}}},function(n,r,i){(r=i(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var d=(v=h,m=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(p," */")),g=h.sources.map(function(b){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(b," */")});return[f].concat(g).concat([d]).join(`
`)}var v,m,p;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var d=0;d<l.length;d++){var g=[].concat(l[d]);c&&u[g[0]]||(a&&(g[2]?g[2]="".concat(a," and ").concat(g[2]):g[2]=a),s.push(g))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return l}),i(0);function o(a,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}function s(a,c,u){return c&&o(a.prototype,c),u&&o(a,u),a}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var l=function(){function a(c){var u=c.data,f=c.config,h=c.api,d=c.readOnly;(function(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=h,this.readOnly=d,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=f.placeholder?f.placeholder:a.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=f.preserveBlank!==void 0&&f.preserveBlank,this.data=u}return s(a,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(a,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),a}()}]).default})})(rM);const iM=Ln(rf);var of={},oM={get exports(){return of},set exports(t){of=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",f=a[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),d=f.sources.map(function(v){return"/*# sourceURL="+f.sourceRoot+v+" */"});return[u].concat(d).concat([h]).join(`
`)}var g;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(_){var A={};return function(M){if(typeof M=="function")return M();if(A[M]===void 0){var E=function(k){return document.querySelector(k)}.call(this,M);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}A[M]=E}return A[M]}}(),u=null,f=0,h=[],d=i(4);function g(_,A){for(var M=0;M<_.length;M++){var E=_[M],k=l[E.id];if(k){k.refs++;for(var L=0;L<k.parts.length;L++)k.parts[L](E.parts[L]);for(;L<E.parts.length;L++)k.parts.push(w(E.parts[L],A))}else{var R=[];for(L=0;L<E.parts.length;L++)R.push(w(E.parts[L],A));l[E.id]={id:E.id,refs:1,parts:R}}}}function v(_,A){for(var M=[],E={},k=0;k<_.length;k++){var L=_[k],R=A.base?L[0]+A.base:L[0],O={css:L[1],media:L[2],sourceMap:L[3]};E[R]?E[R].parts.push(O):M.push(E[R]={id:R,parts:[O]})}return M}function m(_,A){var M=c(_.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=h[h.length-1];if(_.insertAt==="top")E?E.nextSibling?M.insertBefore(A,E.nextSibling):M.appendChild(A):M.insertBefore(A,M.firstChild),h.push(A);else if(_.insertAt==="bottom")M.appendChild(A);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var k=c(_.insertInto+" "+_.insertAt.before);M.insertBefore(A,k)}}function p(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var A=h.indexOf(_);A>=0&&h.splice(A,1)}function b(_){var A=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),y(A,_.attrs),m(_,A),A}function y(_,A){Object.keys(A).forEach(function(M){_.setAttribute(M,A[M])})}function w(_,A){var M,E,k,L;if(A.transform&&_.css){if(!(L=A.transform(_.css)))return function(){};_.css=L}if(A.singleton){var R=f++;M=u||(u=b(A)),E=C.bind(null,M,R,!1),k=C.bind(null,M,R,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(O){var T=document.createElement("link");return O.attrs.type===void 0&&(O.attrs.type="text/css"),O.attrs.rel="stylesheet",y(T,O.attrs),m(O,T),T}(A),E=function(O,T,P){var D=P.css,$=P.sourceMap,G=T.convertToAbsoluteUrls===void 0&&$;(T.convertToAbsoluteUrls||G)&&(D=d(D)),$&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify($))))+" */");var ne=new Blob([D],{type:"text/css"}),ce=O.href;O.href=URL.createObjectURL(ne),ce&&URL.revokeObjectURL(ce)}.bind(null,M,A),k=function(){p(M),M.href&&URL.revokeObjectURL(M.href)}):(M=b(A),E=function(O,T){var P=T.css,D=T.media;if(D&&O.setAttribute("media",D),O.styleSheet)O.styleSheet.cssText=P;else{for(;O.firstChild;)O.removeChild(O.firstChild);O.appendChild(document.createTextNode(P))}}.bind(null,M),k=function(){p(M)});return E(_),function(O){if(O){if(O.css===_.css&&O.media===_.media&&O.sourceMap===_.sourceMap)return;E(_=O)}else k()}}n.exports=function(_,A){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(A=A||{}).attrs=typeof A.attrs=="object"?A.attrs:{},A.singleton||typeof A.singleton=="boolean"||(A.singleton=a()),A.insertInto||(A.insertInto="head"),A.insertAt||(A.insertAt="bottom");var M=v(_,A);return g(M,A),function(E){for(var k=[],L=0;L<M.length;L++){var R=M[L];(O=l[R.id]).refs--,k.push(O)}for(E&&g(v(E,A),A),L=0;L<k.length;L++){var O;if((O=k[L]).refs===0){for(var T=0;T<O.parts.length;T++)O.parts[T]();delete l[O.id]}}}};var x,S=(x=[],function(_,A){return x[_]=A,x.filter(Boolean).join(`
`)});function C(_,A,M,E){var k=M?"":E.css;if(_.styleSheet)_.styleSheet.cssText=S(A,k);else{var L=document.createTextNode(k),R=_.childNodes;R[A]&&_.removeChild(R[A]),R.length?_.insertBefore(L,R[A]):_.appendChild(L)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,d){return d}).replace(/^'(.*)'$/,function(h,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(c){return function(u){if(Array.isArray(u)){for(var f=0,h=new Array(u.length);f<u.length;f++)h[f]=u[f];return h}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function l(c,u,f){return u&&s(c.prototype,u),f&&s(c,f),c}i.d(r,"default",function(){return a});var a=function(){function c(u){var f=u.data,h=u.config,d=u.api,g=u.readOnly;(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,c);var v=c.ALIGNMENTS,m=c.DEFAULT_ALIGNMENT;this.api=d,this.readOnly=g,this.quotePlaceholder=h.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=h.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:f.text||"",caption:f.caption||"",alignment:Object.values(v).includes(f.alignment)&&f.alignment||h.defaultAlignment||m}}return l(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text,"  ").concat(u.caption):u.text}}}}]),l(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),f=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),h=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return f.dataset.placeholder=this.quotePlaceholder,h.dataset.placeholder=this.captionPlaceholder,u.appendChild(f),u.appendChild(h),u}},{key:"save",value:function(u){var f=u.querySelector(".".concat(this.CSS.text)),h=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:f.innerHTML,caption:h.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(f){return{icon:f.icon,label:u.api.i18n.t("Align ".concat((h=f.name,h[0].toUpperCase()+h.substr(1)))),onActivate:function(){return u._toggleTune(f.name)},isActive:u.data.alignment===f.name,closeOnActivate:!0};var h})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var f,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=document.createElement(u);Array.isArray(h)?(f=g.classList).add.apply(f,o(h)):h&&g.classList.add(h);for(var v in d)g[v]=d[v];return g}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(oM);const sM=Ln(of);var sf={},lM={get exports(){return sf},set exports(t){sf=t}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={384:(s,l,a)=>{a.d(l,{Z:()=>f});var c=a(645),u=a.n(c)()(function(h){return h[1]});u.push([s.id,`.cdx-nested-list {
  margin: 0;
  padding: 0;
  outline: none;
  counter-reset: item;
  list-style: none;
}

  .cdx-nested-list__item {
    line-height: 1.6em;
    display: flex;
    margin: 2px 0;
  }

  .cdx-nested-list__item [contenteditable]{
      outline: none;
    }

  .cdx-nested-list__item-body {
      flex-grow: 2;
    }

  .cdx-nested-list__item-content,
    .cdx-nested-list__item-children {
      flex-basis: 100%;
    }

  .cdx-nested-list__item-content {
      word-break: break-word;
      white-space: pre-wrap;
    }

  .cdx-nested-list__item-children {}

  .cdx-nested-list__item::before {
      counter-increment: item;
      margin-right: 5px;
      white-space: nowrap;
    }

  .cdx-nested-list--ordered > .cdx-nested-list__item::before {
    content: counters(item, ".") ". ";
  }

  .cdx-nested-list--unordered > .cdx-nested-list__item::before {
    content: "";
  }

  .cdx-nested-list__settings {
    display: flex;
  }

  .cdx-nested-list__settings .cdx-settings-button {
      width: 50%;
    }
`,""]);const f=u},645:s=>{s.exports=function(l){var a=[];return a.toString=function(){return this.map(function(c){var u=l(c);return c[2]?"@media ".concat(c[2]," {").concat(u,"}"):u}).join("")},a.i=function(c,u,f){typeof c=="string"&&(c=[[null,c,""]]);var h={};if(f)for(var d=0;d<this.length;d++){var g=this[d][0];g!=null&&(h[g]=!0)}for(var v=0;v<c.length;v++){var m=[].concat(c[v]);f&&h[m[0]]||(u&&(m[2]?m[2]="".concat(u," and ").concat(m[2]):m[2]=u),a.push(m))}},a}},379:(s,l,a)=>{var c,u=function(){var S={};return function(C){if(S[C]===void 0){var _=document.querySelector(C);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}S[C]=_}return S[C]}}(),f=[];function h(S){for(var C=-1,_=0;_<f.length;_++)if(f[_].identifier===S){C=_;break}return C}function d(S,C){for(var _={},A=[],M=0;M<S.length;M++){var E=S[M],k=C.base?E[0]+C.base:E[0],L=_[k]||0,R="".concat(k," ").concat(L);_[k]=L+1;var O=h(R),T={css:E[1],media:E[2],sourceMap:E[3]};O!==-1?(f[O].references++,f[O].updater(T)):f.push({identifier:R,updater:x(T,C),references:1}),A.push(R)}return A}function g(S){var C=document.createElement("style"),_=S.attributes||{};if(_.nonce===void 0){var A=a.nc;A&&(_.nonce=A)}if(Object.keys(_).forEach(function(E){C.setAttribute(E,_[E])}),typeof S.insert=="function")S.insert(C);else{var M=u(S.insert||"head");if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(C)}return C}var v,m=(v=[],function(S,C){return v[S]=C,v.filter(Boolean).join(`
`)});function p(S,C,_,A){var M=_?"":A.media?"@media ".concat(A.media," {").concat(A.css,"}"):A.css;if(S.styleSheet)S.styleSheet.cssText=m(C,M);else{var E=document.createTextNode(M),k=S.childNodes;k[C]&&S.removeChild(k[C]),k.length?S.insertBefore(E,k[C]):S.appendChild(E)}}function b(S,C,_){var A=_.css,M=_.media,E=_.sourceMap;if(M?S.setAttribute("media",M):S.removeAttribute("media"),E&&typeof btoa<"u"&&(A+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(E))))," */")),S.styleSheet)S.styleSheet.cssText=A;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(A))}}var y=null,w=0;function x(S,C){var _,A,M;if(C.singleton){var E=w++;_=y||(y=g(C)),A=p.bind(null,_,E,!1),M=p.bind(null,_,E,!0)}else _=g(C),A=b.bind(null,_,C),M=function(){(function(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k)})(_)};return A(S),function(k){if(k){if(k.css===S.css&&k.media===S.media&&k.sourceMap===S.sourceMap)return;A(S=k)}else M()}}s.exports=function(S,C){(C=C||{}).singleton||typeof C.singleton=="boolean"||(C.singleton=(c===void 0&&(c=!!(window&&document&&document.all&&!window.atob)),c));var _=d(S=S||[],C);return function(A){if(A=A||[],Object.prototype.toString.call(A)==="[object Array]"){for(var M=0;M<_.length;M++){var E=h(_[M]);f[E].references--}for(var k=d(A,C),L=0;L<_.length;L++){var R=h(_[L]);f[R].references===0&&(f[R].updater(),f.splice(R,1))}_=k}}}}},r={};function i(s){var l=r[s];if(l!==void 0)return l.exports;var a=r[s]={id:s,exports:{}};return n[s](a,a.exports,i),a.exports}i.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return i.d(l,{a:l}),l},i.d=(s,l)=>{for(var a in l)i.o(l,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:l[a]})},i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l);var o={};return(()=>{function s(v,m=null,p={}){const b=document.createElement(v);Array.isArray(m)?b.classList.add(...m):m&&b.classList.add(m);for(const y in p)b[y]=p[y];return b}function l(v){const m=s("div");return m.appendChild(v),m.innerHTML}function a(v){let m;return v.nodeType!==Node.ELEMENT_NODE?m=v.textContent:(m=v.innerHTML,m=m.replaceAll("<br>","")),m.trim().length===0}i.d(o,{default:()=>g});class c{constructor(){this.savedFakeCaret=void 0}save(){const m=c.range,p=s("span");p.hidden=!0,m.insertNode(p),this.savedFakeCaret=p}restore(){if(!this.savedFakeCaret)return;const m=window.getSelection(),p=new Range;p.setStartAfter(this.savedFakeCaret),p.setEndAfter(this.savedFakeCaret),m.removeAllRanges(),m.addRange(p),setTimeout(()=>{this.savedFakeCaret.remove()},150)}static get range(){const m=window.getSelection();return m&&m.rangeCount?m.getRangeAt(0):null}static extractFragmentFromCaretPositionTillTheEnd(){const m=window.getSelection();if(!m.rangeCount)return;const p=m.getRangeAt(0);let b=p.startContainer;b.nodeType!==Node.ELEMENT_NODE&&(b=b.parentNode);const y=b.closest("[contenteditable]");p.deleteContents();const w=p.cloneRange();return w.selectNodeContents(y),w.setStart(p.endContainer,p.endOffset),w.extractContents()}static focus(m,p=!0){const b=document.createRange(),y=window.getSelection();b.selectNodeContents(m),b.collapse(p),y.removeAllRanges(),y.addRange(b)}static isAtStart(){const m=window.getSelection();if(m.focusOffset>0)return!1;const p=m.focusNode;return c.getHigherLevelSiblings(p,"left").every(b=>a(b))}static getHigherLevelSiblings(m,p="left"){let b=m;const y=[];for(;b.parentNode&&b.parentNode.contentEditable!=="true";)b=b.parentNode;const w=p==="left"?"previousSibling":"nextSibling";for(;b[w];)b=b[w],y.push(b);return y}}const u='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';var f=i(379),h=i.n(f),d=i(384);h()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;class g{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:u,title:"List"}}constructor({data:m,config:p,api:b,readOnly:y}){this.nodes={wrapper:null},this.api=b,this.readOnly=y,this.config=p,this.defaultListStyle=this.config.defaultStyle==="ordered"?"ordered":"unordered";const w={style:this.defaultListStyle,items:[]};this.data=m&&Object.keys(m).length?m:w,this.caret=new c}render(){return this.nodes.wrapper=this.makeListWrapper(this.data.style,[this.CSS.baseBlock]),this.data.items.length?this.appendItems(this.data.items,this.nodes.wrapper):this.appendItems([{content:"",items:[]}],this.nodes.wrapper),this.readOnly||this.nodes.wrapper.addEventListener("keydown",m=>{switch(m.key){case"Enter":this.enterPressed(m);break;case"Backspace":this.backspace(m);break;case"Tab":m.shiftKey?this.shiftTab(m):this.addTab(m)}},!1),this.nodes.wrapper}renderSettings(){return[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>'},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:u}].map(m=>({name:m.name,icon:m.icon,label:m.label,isActive:this.data.style===m.name,closeOnActivate:!0,onActivate:()=>{this.listStyle=m.name}}))}static get pasteConfig(){return{tags:["OL","UL","LI"]}}onPaste(m){const p=m.detail.data;this.data=this.pasteHandler(p);const b=this.nodes.wrapper;b&&b.parentNode.replaceChild(this.render(),b)}pasteHandler(m){const{tagName:p}=m;let b,y;switch(p){case"OL":b="ordered",y="ol";break;case"UL":case"LI":b="unordered",y="ul"}const w={style:b,items:[]},x=S=>Array.from(S.querySelectorAll(":scope > li")).map(C=>{var M;const _=C.querySelector(`:scope > ${y}`),A=_?x(_):[];return{content:((M=C==null?void 0:C.firstChild)==null?void 0:M.textContent)||"",items:A}});return w.items=x(m),w}appendItems(m,p){m.forEach(b=>{const y=this.createItem(b.content,b.items);p.appendChild(y)})}createItem(m,p=[]){const b=s("li",this.CSS.item),y=s("div",this.CSS.itemBody),w=s("div",this.CSS.itemContent,{innerHTML:m,contentEditable:!this.readOnly});return y.appendChild(w),b.appendChild(y),p&&p.length>0&&this.addChildrenList(b,p),b}save(){const m=p=>Array.from(p.querySelectorAll(`:scope > .${this.CSS.item}`)).map(b=>{const y=b.querySelector(`.${this.CSS.itemChildren}`);return{content:this.getItemContent(b),items:y?m(y):[]}});return{style:this.data.style,items:m(this.nodes.wrapper)}}addChildrenList(m,p){const b=m.querySelector(`.${this.CSS.itemBody}`),y=this.makeListWrapper(void 0,[this.CSS.itemChildren]);this.appendItems(p,y),b.appendChild(y)}makeListWrapper(m=this.listStyle,p=[]){const b=m==="ordered"?"ol":"ul",y=m==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered;return p.push(y),s(b,[this.CSS.wrapper,...p])}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-nested-list",wrapperOrdered:"cdx-nested-list--ordered",wrapperUnordered:"cdx-nested-list--unordered",item:"cdx-nested-list__item",itemBody:"cdx-nested-list__item-body",itemContent:"cdx-nested-list__item-content",itemChildren:"cdx-nested-list__item-children",settingsWrapper:"cdx-nested-list__settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(m){const p=Array.from(this.nodes.wrapper.querySelectorAll(`.${this.CSS.wrapper}`));p.push(this.nodes.wrapper),p.forEach(b=>{b.classList.toggle(this.CSS.wrapperUnordered,m==="unordered"),b.classList.toggle(this.CSS.wrapperOrdered,m==="ordered")}),this.data.style=m}get currentItem(){let m=window.getSelection().anchorNode;return m.nodeType!==Node.ELEMENT_NODE&&(m=m.parentNode),m.closest(`.${this.CSS.item}`)}enterPressed(m){const p=this.currentItem;m.stopPropagation(),m.preventDefault();const b=this.getItemContent(p).trim().length===0,y=p.parentNode===this.nodes.wrapper,w=p.nextElementSibling===null;if(y&&w&&b)return void this.getOutOfList();if(w&&b)return void this.unshiftItem();const x=l(c.extractFragmentFromCaretPositionTillTheEnd()),S=p.querySelector(`.${this.CSS.itemChildren}`),C=this.createItem(x,void 0);S&&Array.from(S.querySelectorAll(`.${this.CSS.item}`)).length>0?S.prepend(C):p.after(C),this.focusItem(C)}unshiftItem(){const m=this.currentItem,p=m.parentNode.closest(`.${this.CSS.item}`);if(!p)return;this.caret.save(),p.after(m),this.caret.restore();const b=p.querySelector(`.${this.CSS.itemChildren}`);b.children.length===0&&b.remove()}getItemContent(m){const p=m.querySelector(`.${this.CSS.itemContent}`);return a(p)?"":p.innerHTML}focusItem(m,p=!0){const b=m.querySelector(`.${this.CSS.itemContent}`);c.focus(b,p)}getOutOfList(){this.currentItem.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}backspace(m){if(!c.isAtStart())return;m.preventDefault();const p=this.currentItem,b=p.previousSibling,y=p.parentNode.closest(`.${this.CSS.item}`);if(!b&&!y)return;let w;if(m.stopPropagation(),b){const _=b.querySelectorAll(`.${this.CSS.item}`);w=Array.from(_).pop()||b}else w=y;const x=l(c.extractFragmentFromCaretPositionTillTheEnd()),S=w.querySelector(`.${this.CSS.itemContent}`);c.focus(S,!1),this.caret.save(),S.insertAdjacentHTML("beforeend",x);let C=p.querySelectorAll(`.${this.CSS.itemChildren} > .${this.CSS.item}`);C=Array.from(C),C=C.filter(_=>_.parentNode.closest(`.${this.CSS.item}`)===p),C.reverse().forEach(_=>{b?w.after(_):p.after(_)}),p.remove(),this.caret.restore()}addTab(m){m.stopPropagation(),m.preventDefault();const p=this.currentItem,b=p.previousSibling;if(!b)return;const y=b.querySelector(`.${this.CSS.itemChildren}`);if(this.caret.save(),y)y.appendChild(p);else{const w=this.makeListWrapper(void 0,[this.CSS.itemChildren]),x=b.querySelector(`.${this.CSS.itemBody}`);w.appendChild(p),x.appendChild(w)}this.caret.restore()}shiftTab(m){m.stopPropagation(),m.preventDefault(),this.unshiftItem()}static joinRecursive(m){return m.items.map(p=>`${p.content} ${g.joinRecursive(p)}`).join("")}static get conversionConfig(){return{export:m=>g.joinRecursive(m),import:m=>({items:[{content:m,items:[]}],style:"unordered"})}}}})(),o.default})()})})(lM);const aM=Ln(sf);var lf={},cM={get exports(){return lf},set exports(t){lf=t}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=9)}([function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r,i){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var c=s[a]={i:a,l:!1,exports:{}};return o[a].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=o,l.c=s,l.d=function(a,c,u){l.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},l.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,c){if(1&c&&(a=l(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(l.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)l.d(u,f,function(h){return a[h]}.bind(null,f));return u},l.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(c,"a",c),c},l.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},l.p="",l(l.s=3)}([function(o,s){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}o.exports=l},function(o,s,l){(function(a){var c=l(2),u=setTimeout;function f(){}function h(y){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],b(y,this)}function d(y,w){for(;y._state===3;)y=y._value;y._state!==0?(y._handled=!0,h._immediateFn(function(){var x=y._state===1?w.onFulfilled:w.onRejected;if(x!==null){var S;try{S=x(y._value)}catch(C){return void v(w.promise,C)}g(w.promise,S)}else(y._state===1?g:v)(w.promise,y._value)})):y._deferreds.push(w)}function g(y,w){try{if(w===y)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var x=w.then;if(w instanceof h)return y._state=3,y._value=w,void m(y);if(typeof x=="function")return void b((S=x,C=w,function(){S.apply(C,arguments)}),y)}y._state=1,y._value=w,m(y)}catch(_){v(y,_)}var S,C}function v(y,w){y._state=2,y._value=w,m(y)}function m(y){y._state===2&&y._deferreds.length===0&&h._immediateFn(function(){y._handled||h._unhandledRejectionFn(y._value)});for(var w=0,x=y._deferreds.length;w<x;w++)d(y,y._deferreds[w]);y._deferreds=null}function p(y,w,x){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof w=="function"?w:null,this.promise=x}function b(y,w){var x=!1;try{y(function(S){x||(x=!0,g(w,S))},function(S){x||(x=!0,v(w,S))})}catch(S){if(x)return;x=!0,v(w,S)}}h.prototype.catch=function(y){return this.then(null,y)},h.prototype.then=function(y,w){var x=new this.constructor(f);return d(this,new p(y,w,x)),x},h.prototype.finally=c.a,h.all=function(y){return new h(function(w,x){if(!y||y.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(y);if(S.length===0)return w([]);var C=S.length;function _(M,E){try{if(E&&(typeof E=="object"||typeof E=="function")){var k=E.then;if(typeof k=="function")return void k.call(E,function(L){_(M,L)},x)}S[M]=E,--C==0&&w(S)}catch(L){x(L)}}for(var A=0;A<S.length;A++)_(A,S[A])})},h.resolve=function(y){return y&&typeof y=="object"&&y.constructor===h?y:new h(function(w){w(y)})},h.reject=function(y){return new h(function(w,x){x(y)})},h.race=function(y){return new h(function(w,x){for(var S=0,C=y.length;S<C;S++)y[S].then(w,x)})},h._immediateFn=typeof a=="function"&&function(y){a(y)}||function(y){u(y,0)},h._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},s.a=h}).call(this,l(5).setImmediate)},function(o,s,l){s.a=function(a){var c=this.constructor;return this.then(function(u){return c.resolve(a()).then(function(){return u})},function(u){return c.resolve(a()).then(function(){return c.reject(u)})})}},function(o,s,l){function a(b){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(b)}l(4);var c,u,f,h,d,g,v,m=l(8),p=(u=function(b){return new Promise(function(y,w){b=h(b),(b=d(b)).beforeSend&&b.beforeSend();var x=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");x.open(b.method,b.url),x.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(b.headers).forEach(function(C){var _=b.headers[C];x.setRequestHeader(C,_)});var S=b.ratio;x.upload.addEventListener("progress",function(C){var _=Math.round(C.loaded/C.total*100),A=Math.ceil(_*S/100);b.progress(Math.min(A,100))},!1),x.addEventListener("progress",function(C){var _=Math.round(C.loaded/C.total*100),A=Math.ceil(_*(100-S)/100)+S;b.progress(Math.min(A,100))},!1),x.onreadystatechange=function(){if(x.readyState===4){var C=x.response;try{C=JSON.parse(C)}catch{}var _=m.parseHeaders(x.getAllResponseHeaders()),A={body:C,code:x.status,headers:_};v(x.status)?y(A):w(A)}},x.send(b.data)})},f=function(b){return b.method="POST",u(b)},h=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(b.url&&typeof b.url!="string")throw new Error("Url must be a string");if(b.url=b.url||"",b.method&&typeof b.method!="string")throw new Error("`method` must be a string or null");if(b.method=b.method?b.method.toUpperCase():"GET",b.headers&&a(b.headers)!=="object")throw new Error("`headers` must be an object or null");if(b.headers=b.headers||{},b.type&&(typeof b.type!="string"||!Object.values(c).includes(b.type)))throw new Error("`type` must be taken from module's contentType library");if(b.progress&&typeof b.progress!="function")throw new Error("`progress` must be a function or null");if(b.progress=b.progress||function(y){},b.beforeSend=b.beforeSend||function(y){},b.ratio&&typeof b.ratio!="number")throw new Error("`ratio` must be a number");if(b.ratio<0||b.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(b.ratio=b.ratio||90,b.accept&&typeof b.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(b.accept=b.accept||"*/*",b.multiple&&typeof b.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(b.multiple=b.multiple||!1,b.fieldName&&typeof b.fieldName!="string")throw new Error("`fieldName` must be a string");return b.fieldName=b.fieldName||"files",b},d=function(b){switch(b.method){case"GET":var y=g(b.data,c.URLENCODED);delete b.data,b.url=/\?/.test(b.url)?b.url+"&"+y:b.url+"?"+y;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var w=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(b);(m.isFormData(b.data)||m.isFormElement(b.data))&&(w=c.FORM),b.data=g(b.data,w),w!==p.contentType.FORM&&(b.headers["content-type"]=w)}return b},g=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return m.urlEncode(b);case c.JSON:return m.jsonEncode(b);case c.FORM:return m.formEncode(b);default:return b}},v=function(b){return b>=200&&b<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(b){return b.method="GET",u(b)},post:f,transport:function(b){return b=h(b),m.selectFiles(b).then(function(y){for(var w=new FormData,x=0;x<y.length;x++)w.append(b.fieldName,y[x],y[x].name);m.isObject(b.data)&&Object.keys(b.data).forEach(function(C){var _=b.data[C];w.append(C,_)});var S=b.beforeSend;return b.beforeSend=function(){return S(y)},b.data=w,f(b)})},selectFiles:function(b){return delete(b=h(b)).beforeSend,m.selectFiles(b)}});o.exports=p},function(o,s,l){l.r(s);var a=l(1);window.Promise=window.Promise||a.a},function(o,s,l){(function(a){var c=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function f(h,d){this._id=h,this._clearFn=d}s.setTimeout=function(){return new f(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h&&h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(h,d){clearTimeout(h._idleTimeoutId),h._idleTimeout=d},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var d=h._idleTimeout;d>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},d))},l(6),s.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(o,s,l){(function(a,c){(function(u,f){if(!u.setImmediate){var h,d,g,v,m,p=1,b={},y=!1,w=u.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(u);x=x&&x.setTimeout?x:u,{}.toString.call(u.process)==="[object process]"?h=function(_){c.nextTick(function(){C(_)})}:function(){if(u.postMessage&&!u.importScripts){var _=!0,A=u.onmessage;return u.onmessage=function(){_=!1},u.postMessage("","*"),u.onmessage=A,_}}()?(v="setImmediate$"+Math.random()+"$",m=function(_){_.source===u&&typeof _.data=="string"&&_.data.indexOf(v)===0&&C(+_.data.slice(v.length))},u.addEventListener?u.addEventListener("message",m,!1):u.attachEvent("onmessage",m),h=function(_){u.postMessage(v+_,"*")}):u.MessageChannel?((g=new MessageChannel).port1.onmessage=function(_){C(_.data)},h=function(_){g.port2.postMessage(_)}):w&&"onreadystatechange"in w.createElement("script")?(d=w.documentElement,h=function(_){var A=w.createElement("script");A.onreadystatechange=function(){C(_),A.onreadystatechange=null,d.removeChild(A),A=null},d.appendChild(A)}):h=function(_){setTimeout(C,0,_)},x.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var A=new Array(arguments.length-1),M=0;M<A.length;M++)A[M]=arguments[M+1];var E={callback:_,args:A};return b[p]=E,h(p),p++},x.clearImmediate=S}function S(_){delete b[_]}function C(_){if(y)setTimeout(C,0,_);else{var A=b[_];if(A){y=!0;try{(function(M){var E=M.callback,k=M.args;switch(k.length){case 0:E();break;case 1:E(k[0]);break;case 2:E(k[0],k[1]);break;case 3:E(k[0],k[1],k[2]);break;default:E.apply(void 0,k)}})(A)}finally{S(_),y=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,l(0),l(7))},function(o,s){var l,a,c=o.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function h(x){if(l===setTimeout)return setTimeout(x,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout(x,0);try{return l(x,0)}catch{try{return l.call(null,x,0)}catch{return l.call(this,x,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:u}catch{l=u}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var d,g=[],v=!1,m=-1;function p(){v&&d&&(v=!1,d.length?g=d.concat(g):m=-1,g.length&&b())}function b(){if(!v){var x=h(p);v=!0;for(var S=g.length;S;){for(d=g,g=[];++m<S;)d&&d[m].run();m=-1,S=g.length}d=null,v=!1,function(C){if(a===clearTimeout)return clearTimeout(C);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(C);try{a(C)}catch{try{return a.call(null,C)}catch{return a.call(this,C)}}}(x)}}function y(x,S){this.fun=x,this.array=S}function w(){}c.nextTick=function(x){var S=new Array(arguments.length-1);if(arguments.length>1)for(var C=1;C<arguments.length;C++)S[C-1]=arguments[C];g.push(new y(x,S)),g.length!==1||v||h(b)},y.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(x){return[]},c.binding=function(x){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(x){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(o,s,l){function a(u,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var c=l(9);o.exports=function(){function u(){(function(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")})(this,u)}var f,h;return f=u,(h=[{key:"urlEncode",value:function(d){return c(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var g=new FormData;return Object.keys(d).forEach(function(v){var m=d[v];g.append(v,m)}),g}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g,v){var m=document.createElement("INPUT");m.type="file",d.multiple&&m.setAttribute("multiple","multiple"),d.accept&&m.setAttribute("accept",d.accept),m.style.display="none",document.body.appendChild(m),m.addEventListener("change",function(p){var b=p.target.files;g(b),document.body.removeChild(m)},!1),m.click()})}},{key:"parseHeaders",value:function(d){var g=d.trim().split(/[\r\n]+/),v={};return g.forEach(function(m){var p=m.split(": "),b=p.shift(),y=p.join(": ");b&&(v[b]=y)}),v}}])&&a(f,h),u}()},function(o,s){var l=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(c,u,f,h){return u=u||null,f=f||"&",h=h||null,c?function(d){for(var g=new Array,v=0;v<d.length;v++)d[v]&&g.push(d[v]);return g}(Object.keys(c).map(function(d){var g,v,m=d;if(h&&(m=h+"["+m+"]"),typeof c[d]=="object"&&c[d]!==null)g=a(c[d],null,f,m);else{u&&(v=m,m=!isNaN(parseFloat(v))&&isFinite(v)?u+Number(m):m);var p=c[d];p=(p=(p=(p=p===!0?"1":p)===!1?"0":p)===0?"0":p)||"",g=l(m)+"="+l(p)}return g})).join(f).replace(/[!'()*]/g,""):""};o.exports=a}])},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r,i){n.exports=i(10)},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r,i){var o=i(4);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){function i(o,s,l,a,c,u,f){try{var h=o[u](f),d=h.value}catch(g){return void l(g)}h.done?s(d):Promise.resolve(d).then(a,c)}n.exports=function(o){return function(){var s=this,l=arguments;return new Promise(function(a,c){var u=o.apply(s,l);function f(d){i(u,a,c,f,h,"next",d)}function h(d){i(u,a,c,f,h,"throw",d)}f(void 0)})}}},function(n,r,i){var o=i(15),s=i(16),l=i(5),a=i(17);n.exports=function(c){return o(c)||s(c)||l(c)||a()}},function(n,r,i){var o=i(18),s=i(19),l=i(5),a=i(20);n.exports=function(c,u){return o(c)||s(c,u)||l(c,u)||a()}},function(n,r,i){n.exports=i(21)},function(n,r,i){var o=function(s){var l=Object.prototype,a=l.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function d(O,T,P,D){var $=T&&T.prototype instanceof m?T:m,G=Object.create($.prototype),ne=new k(D||[]);return G._invoke=function(ce,Pe,de){var U="suspendedStart";return function(X,Q){if(U==="executing")throw new Error("Generator is already running");if(U==="completed"){if(X==="throw")throw Q;return R()}for(de.method=X,de.arg=Q;;){var ue=de.delegate;if(ue){var xe=A(ue,de);if(xe){if(xe===v)continue;return xe}}if(de.method==="next")de.sent=de._sent=de.arg;else if(de.method==="throw"){if(U==="suspendedStart")throw U="completed",de.arg;de.dispatchException(de.arg)}else de.method==="return"&&de.abrupt("return",de.arg);U="executing";var Oe=g(ce,Pe,de);if(Oe.type==="normal"){if(U=de.done?"completed":"suspendedYield",Oe.arg===v)continue;return{value:Oe.arg,done:de.done}}Oe.type==="throw"&&(U="completed",de.method="throw",de.arg=Oe.arg)}}}(O,P,ne),G}function g(O,T,P){try{return{type:"normal",arg:O.call(T,P)}}catch(D){return{type:"throw",arg:D}}}s.wrap=d;var v={};function m(){}function p(){}function b(){}var y={};y[u]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(L([])));x&&x!==l&&a.call(x,u)&&(y=x);var S=b.prototype=m.prototype=Object.create(y);function C(O){["next","throw","return"].forEach(function(T){O[T]=function(P){return this._invoke(T,P)}})}function _(O,T){var P;this._invoke=function(D,$){function G(){return new T(function(ne,ce){(function Pe(de,U,X,Q){var ue=g(O[de],O,U);if(ue.type!=="throw"){var xe=ue.arg,Oe=xe.value;return Oe&&typeof Oe=="object"&&a.call(Oe,"__await")?T.resolve(Oe.__await).then(function(pe){Pe("next",pe,X,Q)},function(pe){Pe("throw",pe,X,Q)}):T.resolve(Oe).then(function(pe){xe.value=pe,X(xe)},function(pe){return Pe("throw",pe,X,Q)})}Q(ue.arg)})(D,$,ne,ce)})}return P=P?P.then(G,G):G()}}function A(O,T){var P=O.iterator[T.method];if(P===void 0){if(T.delegate=null,T.method==="throw"){if(O.iterator.return&&(T.method="return",T.arg=void 0,A(O,T),T.method==="throw"))return v;T.method="throw",T.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var D=g(P,O.iterator,T.arg);if(D.type==="throw")return T.method="throw",T.arg=D.arg,T.delegate=null,v;var $=D.arg;return $?$.done?(T[O.resultName]=$.value,T.next=O.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,v):$:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,v)}function M(O){var T={tryLoc:O[0]};1 in O&&(T.catchLoc=O[1]),2 in O&&(T.finallyLoc=O[2],T.afterLoc=O[3]),this.tryEntries.push(T)}function E(O){var T=O.completion||{};T.type="normal",delete T.arg,O.completion=T}function k(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(M,this),this.reset(!0)}function L(O){if(O){var T=O[u];if(T)return T.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var P=-1,D=function $(){for(;++P<O.length;)if(a.call(O,P))return $.value=O[P],$.done=!1,$;return $.value=void 0,$.done=!0,$};return D.next=D}}return{next:R}}function R(){return{value:void 0,done:!0}}return p.prototype=S.constructor=b,b.constructor=p,b[h]=p.displayName="GeneratorFunction",s.isGeneratorFunction=function(O){var T=typeof O=="function"&&O.constructor;return!!T&&(T===p||(T.displayName||T.name)==="GeneratorFunction")},s.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,b):(O.__proto__=b,h in O||(O[h]="GeneratorFunction")),O.prototype=Object.create(S),O},s.awrap=function(O){return{__await:O}},C(_.prototype),_.prototype[f]=function(){return this},s.AsyncIterator=_,s.async=function(O,T,P,D,$){$===void 0&&($=Promise);var G=new _(d(O,T,P,D),$);return s.isGeneratorFunction(T)?G:G.next().then(function(ne){return ne.done?ne.value:G.next()})},C(S),S[h]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},s.keys=function(O){var T=[];for(var P in O)T.push(P);return T.reverse(),function D(){for(;T.length;){var $=T.pop();if($ in O)return D.value=$,D.done=!1,D}return D.done=!0,D}},s.values=L,k.prototype={constructor:k,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!O)for(var T in this)T.charAt(0)==="t"&&a.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var T=this;function P(Pe,de){return G.type="throw",G.arg=O,T.next=Pe,de&&(T.method="next",T.arg=void 0),!!de}for(var D=this.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D],G=$.completion;if($.tryLoc==="root")return P("end");if($.tryLoc<=this.prev){var ne=a.call($,"catchLoc"),ce=a.call($,"finallyLoc");if(ne&&ce){if(this.prev<$.catchLoc)return P($.catchLoc,!0);if(this.prev<$.finallyLoc)return P($.finallyLoc)}else if(ne){if(this.prev<$.catchLoc)return P($.catchLoc,!0)}else{if(!ce)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return P($.finallyLoc)}}}},abrupt:function(O,T){for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var $=D;break}}$&&(O==="break"||O==="continue")&&$.tryLoc<=T&&T<=$.finallyLoc&&($=null);var G=$?$.completion:{};return G.type=O,G.arg=T,$?(this.method="next",this.next=$.finallyLoc,v):this.complete(G)},complete:function(O,T){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&T&&(this.next=T),v},finish:function(O){for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T];if(P.finallyLoc===O)return this.complete(P.completion,P.afterLoc),E(P),v}},catch:function(O){for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T];if(P.tryLoc===O){var D=P.completion;if(D.type==="throw"){var $=D.arg;E(P)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(O,T,P){return this.delegate={iterator:L(O),resultName:T,nextLoc:P},this.method==="next"&&(this.arg=void 0),v}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,r,i){var o=i(12),s=i(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1},a=(o(s,l),s.locals?s.locals:{});n.exports=a},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var x=document.querySelector(w);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}y[w]=x}return y[w]}}(),a=[];function c(y){for(var w=-1,x=0;x<a.length;x++)if(a[x].identifier===y){w=x;break}return w}function u(y,w){for(var x={},S=[],C=0;C<y.length;C++){var _=y[C],A=w.base?_[0]+w.base:_[0],M=x[A]||0,E="".concat(A," ").concat(M);x[A]=M+1;var k=c(E),L={css:_[1],media:_[2],sourceMap:_[3]};k!==-1?(a[k].references++,a[k].updater(L)):a.push({identifier:E,updater:b(L,w),references:1}),S.push(E)}return S}function f(y){var w=document.createElement("style"),x=y.attributes||{};if(x.nonce===void 0){var S=i.nc;S&&(x.nonce=S)}if(Object.keys(x).forEach(function(_){w.setAttribute(_,x[_])}),typeof y.insert=="function")y.insert(w);else{var C=l(y.insert||"head");if(!C)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");C.appendChild(w)}return w}var h,d=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function g(y,w,x,S){var C=x?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(y.styleSheet)y.styleSheet.cssText=d(w,C);else{var _=document.createTextNode(C),A=y.childNodes;A[w]&&y.removeChild(A[w]),A.length?y.insertBefore(_,A[w]):y.appendChild(_)}}function v(y,w,x){var S=x.css,C=x.media,_=x.sourceMap;if(C?y.setAttribute("media",C):y.removeAttribute("media"),_&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(_))))," */")),y.styleSheet)y.styleSheet.cssText=S;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(S))}}var m=null,p=0;function b(y,w){var x,S,C;if(w.singleton){var _=p++;x=m||(m=f(w)),S=g.bind(null,x,_,!1),C=g.bind(null,x,_,!0)}else x=f(w),S=v.bind(null,x,w),C=function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(x)};return S(y),function(A){if(A){if(A.css===y.css&&A.media===y.media&&A.sourceMap===y.sourceMap)return;S(y=A)}else C()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var x=u(y=y||[],w);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var C=0;C<x.length;C++){var _=c(x[C]);a[_].references--}for(var A=u(S,w),M=0;M<x.length;M++){var E=c(x[M]);a[E].references===0&&(a[E].updater(),a.splice(E,1))}x=A}}}},function(n,r,i){(r=i(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var d=(v=h,m=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(m),"/*# ".concat(p," */")),g=h.sources.map(function(b){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(b," */")});return[f].concat(g).concat([d]).join(`
`)}var v,m,p;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var d=0;d<l.length;d++){var g=[].concat(l[d]);c&&u[g[0]]||(a&&(g[2]?g[2]="".concat(a," and ").concat(g[2]):g[2]=a),s.push(g))}},s}},function(n,r,i){var o=i(4);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,r){n.exports=function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(i){if(Array.isArray(i))return i}},function(n,r){n.exports=function(i,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var s=[],l=!0,a=!1,c=void 0;try{for(var u,f=i[Symbol.iterator]();!(l=(u=f.next()).done)&&(s.push(u.value),!o||s.length!==o);l=!0);}catch(h){a=!0,c=h}finally{try{l||f.return==null||f.return()}finally{if(a)throw c}}return s}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){i.r(r),i.d(r,"default",function(){return _});var o=i(3),s=i.n(o),l=i(6),a=i.n(l),c=i(2),u=i.n(c),f=i(0),h=i.n(f);i(11);const d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var g=i(7),v=i.n(g);function m(A){var M,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=document.createElement(A);Array.isArray(E)?(M=L.classList).add.apply(M,v()(E)):E&&L.classList.add(E);for(var R in k)L[R]=k[R];return L}var p=function(){function A(M){var E=M.api,k=M.config,L=M.onSelectFile,R=M.readOnly;u()(this,A),this.api=E,this.config=k,this.onSelectFile=L,this.readOnly=R,this.nodes={wrapper:m("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:m("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:m("div",this.CSS.imagePreloader),caption:m("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(A,[{key:"render",value:function(M){return M.file&&Object.keys(M.file).length!==0?this.toggleStatus(A.status.UPLOADING):this.toggleStatus(A.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var M=this,E=m("div",[this.CSS.button]);return E.innerHTML=this.config.buttonContent||"".concat(d," ").concat(this.api.i18n.t("Select an Image")),E.addEventListener("click",function(){M.onSelectFile()}),E}},{key:"showPreloader",value:function(M){this.nodes.imagePreloader.style.backgroundImage="url(".concat(M,")"),this.toggleStatus(A.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(A.status.EMPTY)}},{key:"fillImage",value:function(M){var E=this,k=/\.mp4$/.test(M)?"VIDEO":"IMG",L={src:M},R="load";k==="VIDEO"&&(L.autoplay=!0,L.loop=!0,L.muted=!0,L.playsinline=!0,R="loadeddata"),this.nodes.imageEl=m(k,this.CSS.imageEl,L),this.nodes.imageEl.addEventListener(R,function(){E.toggleStatus(A.status.FILLED),E.nodes.imagePreloader&&(E.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(M){this.nodes.caption&&(this.nodes.caption.innerHTML=M)}},{key:"toggleStatus",value:function(M){for(var E in A.status)Object.prototype.hasOwnProperty.call(A.status,E)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(A.status[E]),M===A.status[E])}},{key:"applyTune",value:function(M,E){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(M),E)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),A}(),b=i(8),y=i.n(b),w=i(1),x=i.n(w);function S(A){return A&&typeof A.then=="function"}var C=function(){function A(M){var E=M.config,k=M.onUpload,L=M.onError;u()(this,A),this.config=E,this.onUpload=k,this.onError=L}return h()(A,[{key:"uploadSelectedFile",value:function(M){var E=this,k=M.onPreview,L=function(R){var O=new FileReader;O.readAsDataURL(R),O.onload=function(T){k(T.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?x.a.selectFiles({accept:this.config.types}).then(function(R){L(R[0]);var O=E.config.uploader.uploadByFile(R[0]);return S(O)||console.warn("Custom uploader method uploadByFile should return a Promise"),O}):x.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(R){L(R[0])},fieldName:this.config.field}).then(function(R){return R.body})).then(function(R){E.onUpload(R)}).catch(function(R){E.onError(R)})}},{key:"uploadByUrl",value:function(M){var E,k=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?S(E=this.config.uploader.uploadByUrl(M))||console.warn("Custom uploader method uploadByUrl should return a Promise"):E=x.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:M},this.config.additionalRequestData),type:x.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(L){return L.body}),E.then(function(L){k.onUpload(L)}).catch(function(L){k.onError(L)})}},{key:"uploadByFile",value:function(M,E){var k,L=this,R=E.onPreview,O=new FileReader;if(O.readAsDataURL(M),O.onload=function(P){R(P.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")S(k=this.config.uploader.uploadByFile(M))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var T=new FormData;T.append(this.config.field,M),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(P){var D=y()(P,2),$=D[0],G=D[1];T.append($,G)}),k=x.a.post({url:this.config.endpoints.byFile,data:T,type:x.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(P){return P.body})}k.then(function(P){L.onUpload(P)}).catch(function(P){L.onError(P)})}}]),A}(),_=function(){function A(E){var k=this,L=E.data,R=E.config,O=E.api,T=E.readOnly;u()(this,A),this.api=O,this.readOnly=T,this.config={endpoints:R.endpoints||"",additionalRequestData:R.additionalRequestData||{},additionalRequestHeaders:R.additionalRequestHeaders||{},field:R.field||"image",types:R.types||"image/*",captionPlaceholder:this.api.i18n.t(R.captionPlaceholder||"Caption"),buttonContent:R.buttonContent||"",uploader:R.uploader||void 0,actions:R.actions||[]},this.uploader=new C({config:this.config,onUpload:function(P){return k.onUpload(P)},onError:function(P){return k.uploadingFailed(P)}}),this.ui=new p({api:O,config:this.config,onSelectFile:function(){k.uploader.uploadSelectedFile({onPreview:function(P){k.ui.showPreloader(P)}})},readOnly:T}),this._data={},this.data=L}var M;return h()(A,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:d,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),h()(A,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(E){return E.file&&E.file.url}},{key:"save",value:function(){var E=this.ui.nodes.caption;return this._data.caption=E.innerHTML,this.data}},{key:"renderSettings",value:function(){var E=this;return A.tunes.concat(this.config.actions).map(function(k){return{icon:k.icon,label:E.api.i18n.t(k.title),name:k.name,toggle:k.toggle,isActive:E.data[k.name],onActivate:function(){typeof k.action!="function"?E.tuneToggled(k.name):k.action(k.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(M=a()(s.a.mark(function E(k){var L,R,O,T,P;return s.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:D.t0=k.type,D.next=D.t0==="tag"?3:D.t0==="pattern"?15:D.t0==="file"?18:21;break;case 3:if(L=k.detail.data,!/^blob:/.test(L.src)){D.next=13;break}return D.next=7,fetch(L.src);case 7:return R=D.sent,D.next=10,R.blob();case 10:return O=D.sent,this.uploadFile(O),D.abrupt("break",21);case 13:return this.uploadUrl(L.src),D.abrupt("break",21);case 15:return T=k.detail.data,this.uploadUrl(T),D.abrupt("break",21);case 18:return P=k.detail.file,this.uploadFile(P),D.abrupt("break",21);case 21:case"end":return D.stop()}},E,this)})),function(E){return M.apply(this,arguments)})},{key:"onUpload",value:function(E){E.success&&E.file?this.image=E.file:this.uploadingFailed("incorrect response: "+JSON.stringify(E))}},{key:"uploadingFailed",value:function(E){console.log("Image Tool: uploading failed because of",E),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(E){this.setTune(E,!this._data[E])}},{key:"setTune",value:function(E,k){var L=this;this._data[E]=k,this.ui.applyTune(E,k),E==="stretched"&&Promise.resolve().then(function(){var R=L.api.blocks.getCurrentBlockIndex();L.api.blocks.stretchBlock(R,k)}).catch(function(R){console.error(R)})}},{key:"uploadFile",value:function(E){var k=this;this.uploader.uploadByFile(E,{onPreview:function(L){k.ui.showPreloader(L)}})}},{key:"uploadUrl",value:function(E){this.ui.showPreloader(E),this.uploader.uploadByUrl(E)}},{key:"data",set:function(E){var k=this;this.image=E.file,this._data.caption=E.caption||"",this.ui.fillCaption(this._data.caption),A.tunes.forEach(function(L){var R=L.name,O=E[R]!==void 0&&(E[R]===!0||E[R]==="true");k.setTune(R,O)})},get:function(){return this._data}},{key:"image",set:function(E){this._data.file=E||{},E&&E.url&&this.ui.fillImage(E.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),A}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(cM);const uM=Ln(lf);var af={},fM={get exports(){return af},set exports(t){af=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",f=a[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),d=f.sources.map(function(v){return"/*# sourceURL="+f.sourceRoot+v+" */"});return[u].concat(d).concat([h]).join(`
`)}var g;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(E){return document.querySelector(E)},u=function(E){var k={};return function(L){if(typeof L=="function")return L();if(k[L]===void 0){var R=c.call(this,L);if(window.HTMLIFrameElement&&R instanceof window.HTMLIFrameElement)try{R=R.contentDocument.head}catch{R=null}k[L]=R}return k[L]}}(),f=null,h=0,d=[],g=i(4);function v(E,k){for(var L=0;L<E.length;L++){var R=E[L],O=l[R.id];if(O){O.refs++;for(var T=0;T<O.parts.length;T++)O.parts[T](R.parts[T]);for(;T<R.parts.length;T++)O.parts.push(x(R.parts[T],k))}else{var P=[];for(T=0;T<R.parts.length;T++)P.push(x(R.parts[T],k));l[R.id]={id:R.id,refs:1,parts:P}}}}function m(E,k){for(var L=[],R={},O=0;O<E.length;O++){var T=E[O],P=k.base?T[0]+k.base:T[0],D={css:T[1],media:T[2],sourceMap:T[3]};R[P]?R[P].parts.push(D):L.push(R[P]={id:P,parts:[D]})}return L}function p(E,k){var L=u(E.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=d[d.length-1];if(E.insertAt==="top")R?R.nextSibling?L.insertBefore(k,R.nextSibling):L.appendChild(k):L.insertBefore(k,L.firstChild),d.push(k);else if(E.insertAt==="bottom")L.appendChild(k);else{if(typeof E.insertAt!="object"||!E.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var O=u(E.insertInto+" "+E.insertAt.before);L.insertBefore(k,O)}}function b(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E);var k=d.indexOf(E);k>=0&&d.splice(k,1)}function y(E){var k=document.createElement("style");return E.attrs.type===void 0&&(E.attrs.type="text/css"),w(k,E.attrs),p(E,k),k}function w(E,k){Object.keys(k).forEach(function(L){E.setAttribute(L,k[L])})}function x(E,k){var L,R,O,T;if(k.transform&&E.css){if(!(T=k.transform(E.css)))return function(){};E.css=T}if(k.singleton){var P=h++;L=f||(f=y(k)),R=_.bind(null,L,P,!1),O=_.bind(null,L,P,!0)}else E.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(D){var $=document.createElement("link");return D.attrs.type===void 0&&(D.attrs.type="text/css"),D.attrs.rel="stylesheet",w($,D.attrs),p(D,$),$}(k),R=M.bind(null,L,k),O=function(){b(L),L.href&&URL.revokeObjectURL(L.href)}):(L=y(k),R=A.bind(null,L),O=function(){b(L)});return R(E),function(D){if(D){if(D.css===E.css&&D.media===E.media&&D.sourceMap===E.sourceMap)return;R(E=D)}else O()}}n.exports=function(E,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=a()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var L=m(E,k);return v(L,k),function(R){for(var O=[],T=0;T<L.length;T++){var P=L[T];(D=l[P.id]).refs--,O.push(D)}for(R&&v(m(R,k),k),T=0;T<O.length;T++){var D;if((D=O[T]).refs===0){for(var $=0;$<D.parts.length;$++)D.parts[$]();delete l[D.id]}}}};var S,C=(S=[],function(E,k){return S[E]=k,S.filter(Boolean).join(`
`)});function _(E,k,L,R){var O=L?"":R.css;if(E.styleSheet)E.styleSheet.cssText=C(k,O);else{var T=document.createTextNode(O),P=E.childNodes;P[k]&&E.removeChild(P[k]),P.length?E.insertBefore(T,P[k]):E.appendChild(T)}}function A(E,k){var L=k.css,R=k.media;if(R&&E.setAttribute("media",R),E.styleSheet)E.styleSheet.cssText=L;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(L))}}function M(E,k,L){var R=L.css,O=L.sourceMap,T=k.convertToAbsoluteUrls===void 0&&O;(k.convertToAbsoluteUrls||T)&&(R=g(R)),O&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */");var P=new Blob([R],{type:"text/css"}),D=E.href;E.href=URL.createObjectURL(P),D&&URL.revokeObjectURL(D)}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,d){return d}).replace(/^'(.*)'$/,function(h,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i.d(r,"default",function(){return l}),i(0);function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function s(a,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var l=function(){function a(h){var d=h.data,g=h.config,v=h.api,m=h.readOnly;(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=v,this.readOnly=m,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=g,this._data=this.normalizeData(d),this._element=this.getTag()}var c,u,f;return c=a,f=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(h){var d={};return o(h)!=="object"&&(h={}),d.text=h.text||"",d.level=parseInt(h.level)||this.defaultLevel.number,d}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var h=this;return this.levels.map(function(d){return{icon:d.svg,label:h.api.i18n.t("Heading ".concat(d.number)),onActivate:function(){return h.setLevel(d.number)},closeOnActivate:!0,isActive:h.currentLevel.number===d.number}})}},{key:"setLevel",value:function(h){this.data={level:h,text:this.data.text}}},{key:"merge",value:function(h){var d={text:this.data.text+h.text,level:this.data.level};this.data=d}},{key:"validate",value:function(h){return h.text.trim()!==""}},{key:"save",value:function(h){return{text:h.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var h=document.createElement(this.currentLevel.tag);return h.innerHTML=this._data.text||"",h.classList.add(this._CSS.wrapper),h.contentEditable=this.readOnly?"false":"true",h.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),h}},{key:"onPaste",value:function(h){var d=h.detail.data,g=this.defaultLevel.number;switch(d.tagName){case"H1":g=1;break;case"H2":g=2;break;case"H3":g=3;break;case"H4":g=4;break;case"H5":g=5;break;case"H6":g=6}this._settings.levels&&(g=this._settings.levels.reduce(function(v,m){return Math.abs(m-g)<Math.abs(v-g)?m:v})),this.data={level:g,text:d.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(h){if(this._data=this.normalizeData(h),h.level!==void 0&&this._element.parentNode){var d=this.getTag();d.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(d,this._element),this._element=d}h.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var h=this,d=this.levels.find(function(g){return g.number===h._data.level});return d||(d=this.defaultLevel),d}},{key:"defaultLevel",get:function(){var h=this;if(this._settings.defaultLevel){var d=this.levels.find(function(g){return g.number===h._settings.defaultLevel});if(d)return d;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var h=this,d=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?d.filter(function(g){return h._settings.levels.includes(g.number)}):d}}])&&s(c.prototype,u),f&&s(c,f),a}()}]).default})})(fM);const hM=Ln(af);var cf={},dM={get exports(){return cf},set exports(t){cf=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=6)}([function(n,r){n.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><rect width="18" height="18" fill="#F4F5F7" rx="2"></rect><circle cx="11.5" cy="6.5" r="1.5"></circle><circle cx="11.5" cy="11.5" r="1.5"></circle><circle cx="6.5" cy="6.5" r="1.5"></circle><circle cx="6.5" cy="11.5" r="1.5"></circle></svg>'},function(n,r,i){var o=i(2);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(3)(!1)).push([n.i,'.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4;}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border);}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative;}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color;}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px;}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border);}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal;}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity;}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translateX(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity;}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,0.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;padding:6px;display:none;will-change:opacity,transform;}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm);}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:rgba(0,0,0,.1);}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}',""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",f=a[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),d=f.sources.map(function(v){return"/*# sourceURL="+f.sourceRoot+v+" */"});return[u].concat(d).concat([h]).join(`
`)}var g;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(E,k){return k?k.querySelector(E):document.querySelector(E)},u=function(E){var k={};return function(L,R){if(typeof L=="function")return L();if(k[L]===void 0){var O=c.call(this,L,R);if(window.HTMLIFrameElement&&O instanceof window.HTMLIFrameElement)try{O=O.contentDocument.head}catch{O=null}k[L]=O}return k[L]}}(),f=null,h=0,d=[],g=i(5);function v(E,k){for(var L=0;L<E.length;L++){var R=E[L],O=l[R.id];if(O){O.refs++;for(var T=0;T<O.parts.length;T++)O.parts[T](R.parts[T]);for(;T<R.parts.length;T++)O.parts.push(x(R.parts[T],k))}else{var P=[];for(T=0;T<R.parts.length;T++)P.push(x(R.parts[T],k));l[R.id]={id:R.id,refs:1,parts:P}}}}function m(E,k){for(var L=[],R={},O=0;O<E.length;O++){var T=E[O],P=k.base?T[0]+k.base:T[0],D={css:T[1],media:T[2],sourceMap:T[3]};R[P]?R[P].parts.push(D):L.push(R[P]={id:P,parts:[D]})}return L}function p(E,k){var L=u(E.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=d[d.length-1];if(E.insertAt==="top")R?R.nextSibling?L.insertBefore(k,R.nextSibling):L.appendChild(k):L.insertBefore(k,L.firstChild),d.push(k);else if(E.insertAt==="bottom")L.appendChild(k);else{if(typeof E.insertAt!="object"||!E.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var O=u(E.insertAt.before,L);L.insertBefore(k,O)}}function b(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E);var k=d.indexOf(E);k>=0&&d.splice(k,1)}function y(E){var k=document.createElement("style");if(E.attrs.type===void 0&&(E.attrs.type="text/css"),E.attrs.nonce===void 0){var L=function(){return i.nc}();L&&(E.attrs.nonce=L)}return w(k,E.attrs),p(E,k),k}function w(E,k){Object.keys(k).forEach(function(L){E.setAttribute(L,k[L])})}function x(E,k){var L,R,O,T;if(k.transform&&E.css){if(!(T=typeof k.transform=="function"?k.transform(E.css):k.transform.default(E.css)))return function(){};E.css=T}if(k.singleton){var P=h++;L=f||(f=y(k)),R=_.bind(null,L,P,!1),O=_.bind(null,L,P,!0)}else E.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(D){var $=document.createElement("link");return D.attrs.type===void 0&&(D.attrs.type="text/css"),D.attrs.rel="stylesheet",w($,D.attrs),p(D,$),$}(k),R=M.bind(null,L,k),O=function(){b(L),L.href&&URL.revokeObjectURL(L.href)}):(L=y(k),R=A.bind(null,L),O=function(){b(L)});return R(E),function(D){if(D){if(D.css===E.css&&D.media===E.media&&D.sourceMap===E.sourceMap)return;R(E=D)}else O()}}n.exports=function(E,k){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(k=k||{}).attrs=typeof k.attrs=="object"?k.attrs:{},k.singleton||typeof k.singleton=="boolean"||(k.singleton=a()),k.insertInto||(k.insertInto="head"),k.insertAt||(k.insertAt="bottom");var L=m(E,k);return v(L,k),function(R){for(var O=[],T=0;T<L.length;T++){var P=L[T];(D=l[P.id]).refs--,O.push(D)}for(R&&v(m(R,k),k),T=0;T<O.length;T++){var D;if((D=O[T]).refs===0){for(var $=0;$<D.parts.length;$++)D.parts[$]();delete l[D.id]}}}};var S,C=(S=[],function(E,k){return S[E]=k,S.filter(Boolean).join(`
`)});function _(E,k,L,R){var O=L?"":R.css;if(E.styleSheet)E.styleSheet.cssText=C(k,O);else{var T=document.createTextNode(O),P=E.childNodes;P[k]&&E.removeChild(P[k]),P.length?E.insertBefore(T,P[k]):E.appendChild(T)}}function A(E,k){var L=k.css,R=k.media;if(R&&E.setAttribute("media",R),E.styleSheet)E.styleSheet.cssText=L;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(L))}}function M(E,k,L){var R=L.css,O=L.sourceMap,T=k.convertToAbsoluteUrls===void 0&&O;(k.convertToAbsoluteUrls||T)&&(R=g(R)),O&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(O))))+" */");var P=new Blob([R],{type:"text/css"}),D=E.href;E.href=URL.createObjectURL(P),D&&URL.revokeObjectURL(D)}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,d){return d}).replace(/^'(.*)'$/,function(h,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){function o(E,k,L={}){const R=document.createElement(E);Array.isArray(k)?R.classList.add(...k):k&&R.classList.add(k);for(const O in L)Object.prototype.hasOwnProperty.call(L,O)&&(R[O]=L[O]);return R}function s(E){const k=E.getBoundingClientRect();return{y1:Math.floor(k.top+window.pageYOffset),x1:Math.floor(k.left+window.pageXOffset),x2:Math.floor(k.right+window.pageXOffset),y2:Math.floor(k.bottom+window.pageYOffset)}}function l(E,k){const L=s(E),R=s(k);return{fromTopBorder:R.y1-L.y1,fromLeftBorder:R.x1-L.x1,fromRightBorder:L.x2-R.x2,fromBottomBorder:L.y2-R.y2}}function a(E,k){return k.parentNode.insertBefore(E,k)}function c(E,k=!0){const L=document.createRange(),R=window.getSelection();L.selectNodeContents(E),L.collapse(k),R.removeAllRanges(),R.addRange(L)}i.r(r);class u{constructor({items:k}){this.items=k,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=o("div",u.CSS.popover),this.items.forEach((k,L)=>{const R=o("div",u.CSS.item),O=o("div",u.CSS.itemIcon,{innerHTML:k.icon}),T=o("div",u.CSS.itemLabel,{textContent:k.label});R.dataset.index=L,R.appendChild(O),R.appendChild(T),this.wrapper.appendChild(R),this.itemEls.push(R)}),this.wrapper.addEventListener("click",k=>{this.popoverClicked(k)}),this.wrapper}popoverClicked(k){const L=k.target.closest("."+u.CSS.item);if(!L)return;const R=L.dataset.index,O=this.items[R];!O.confirmationRequired||this.hasConfirmationState(L)?O.onClick():this.setConfirmationState(L)}setConfirmationState(k){k.classList.add(u.CSS.itemConfirmState)}clearConfirmationState(k){k.classList.remove(u.CSS.itemConfirmState)}hasConfirmationState(k){return k.classList.contains(u.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(u.CSS.popoverOpened)}open(){this.items.forEach((k,L)=>{typeof k.hideIf=="function"&&this.itemEls[L].classList.toggle(u.CSS.itemHidden,k.hideIf())}),this.wrapper.classList.add(u.CSS.popoverOpened)}close(){this.wrapper.classList.remove(u.CSS.popoverOpened),this.itemEls.forEach(k=>{this.clearConfirmationState(k)})}}var f=i(0),h=i.n(f);class d{constructor({api:k,items:L,onOpen:R,onClose:O,cssModifier:T=""}){this.api=k,this.items=L,this.onOpen=R,this.onClose=O,this.cssModifier=T,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const k=o("div",[d.CSS.toolbox,this.cssModifier?`${d.CSS.toolbox}--${this.cssModifier}`:""]),L=this.createPopover(),R=this.createToggler();return k.appendChild(R),k.appendChild(L),k}createToggler(){const k=o("div",d.CSS.toggler,{innerHTML:h.a});return k.addEventListener("click",()=>{this.togglerClicked()}),k}createPopover(){return this.popover=new u({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(k){const L=k();Object.entries(L).forEach(([R,O])=>{this.wrapper.style[R]=O}),this.wrapper.classList.add(d.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(d.CSS.toolboxShowed)}}const g='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',v='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',m="tc-wrap",p="tc-wrap--readonly",b="tc-table",y="tc-row",w="tc-table--heading",x="tc-row--selected",S="tc-cell",C="tc-cell--selected",_="tc-add-row",A="tc-add-column";class M{constructor(k,L,R,O){this.readOnly=k,this.api=L,this.data=R,this.config=O,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=T=>{const P=T.target.closest("."+b)!==null,D=T.target.closest("."+m)===null;(P||D)&&this.hideToolboxes();const $=T.target.closest("."+_),G=T.target.closest("."+A);$&&$.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):G&&G.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",function(k,L){let R=0;return function(...O){const T=new Date().getTime();if(!(T-R<k))return R=T,L(...O)}}(150,k=>this.onMouseMoveInTable(k)),{passive:!0}),this.table.onkeypress=k=>this.onKeyPressListener(k),this.table.addEventListener("keydown",k=>this.onKeyDownListener(k)),this.table.addEventListener("focusin",k=>this.focusInTableListener(k))}createColumnToolbox(){return new d({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:g,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new d({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:g,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(k,L){return this.table.querySelectorAll(`.${y}:nth-child(${k}) .${S}`)[L-1]}getRow(k){return this.table.querySelector(`.${y}:nth-child(${k})`)}getRowByCell(k){return k.parentElement}getRowFirstCell(k){return k.querySelector(`.${S}:first-child`)}setCellContent(k,L,R){this.getCell(k,L).innerHTML=R}addColumn(k=-1,L=!1){let R=this.numberOfColumns;for(let O=1;O<=this.numberOfRows;O++){let T;const P=this.createCell();if(k>0&&k<=R?(T=this.getCell(O,k),a(P,T)):T=this.getRow(O).appendChild(P),O===1){const D=this.getCell(O,k>0?k:R+1);D&&L&&c(D)}}this.addHeadingAttrToFirstRow()}addRow(k=-1,L=!1){let R,O=o("div",y);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let T=this.numberOfColumns;k>0&&k<=this.numberOfRows?R=a(O,this.getRow(k)):R=this.table.appendChild(O),this.fillRow(R,T),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const P=this.getRowFirstCell(R);return P&&L&&c(P),R}deleteColumn(k){for(let L=1;L<=this.numberOfRows;L++){const R=this.getCell(L,k);if(!R)return;R.remove()}}deleteRow(k){this.getRow(k).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=o("div",m),this.table=o("div",b),this.readOnly&&this.wrapper.classList.add(p),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const k=o("div",A,{innerHTML:v}),L=o("div",_,{innerHTML:v});this.wrapper.appendChild(k),this.wrapper.appendChild(L)}}computeInitialSize(){const k=this.data&&this.data.content,L=Array.isArray(k),R=!!L&&k.length,O=L?k.length:void 0,T=R?k[0].length:void 0,P=Number.parseInt(this.config&&this.config.rows),D=Number.parseInt(this.config&&this.config.cols),$=!isNaN(P)&&P>0?P:void 0,G=!isNaN(D)&&D>0?D:void 0;return{rows:O||$||2,cols:T||G||2}}resize(){const{rows:k,cols:L}=this.computeInitialSize();for(let R=0;R<k;R++)this.addRow();for(let R=0;R<L;R++)this.addColumn()}fill(){const k=this.data;if(k&&k.content)for(let L=0;L<k.content.length;L++)for(let R=0;R<k.content[L].length;R++)this.setCellContent(L+1,R+1,k.content[L][R])}fillRow(k,L){for(let R=1;R<=L;R++){const O=this.createCell();k.appendChild(O)}}createCell(){return o("div",S,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${y}:first-child .${S}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(k){const{row:L,column:R}=this.getHoveredCell(k);this.hoveredColumn=R,this.hoveredRow=L,this.updateToolboxesPosition()}onKeyPressListener(k){if(k.key==="Enter"){if(k.shiftKey)return!0;this.moveCursorToNextRow()}return k.key!=="Enter"}onKeyDownListener(k){k.key==="Tab"&&k.stopPropagation()}focusInTableListener(k){const L=k.target,R=this.getRowByCell(L);this.focusedCell={row:Array.from(this.table.querySelectorAll("."+y)).indexOf(R)+1,column:Array.from(R.querySelectorAll("."+S)).indexOf(L)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:k,column:L}=this.focusedCell;return this.getCell(k,L)}updateToolboxesPosition(k=this.hoveredRow,L=this.hoveredColumn){this.isColumnMenuShowing||L>0&&L<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${L} - 1) * 2))`})),this.isRowMenuShowing||k>0&&k<=this.numberOfRows&&this.toolboxRow.show(()=>{const R=this.getRow(k),{fromTopBorder:O}=l(this.table,R),{height:T}=R.getBoundingClientRect();return{top:Math.ceil(O+T/2)+"px"}})}setHeadingsSetting(k){this.tunes.withHeadings=k,k?(this.table.classList.add(w),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(w),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let k=1;k<=this.numberOfColumns;k++){let L=this.getCell(1,k);L&&L.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let k=1;k<=this.numberOfColumns;k++){let L=this.getCell(1,k);L&&L.removeAttribute("heading")}}selectRow(k){const L=this.getRow(k);L&&(this.selectedRow=k,L.classList.add(x))}unselectRow(){if(this.selectedRow<=0)return;const k=this.table.querySelector("."+x);k&&k.classList.remove(x),this.selectedRow=0}selectColumn(k){for(let L=1;L<=this.numberOfRows;L++){const R=this.getCell(L,k);R&&R.classList.add(C)}this.selectedColumn=k}unselectColumn(){if(this.selectedColumn<=0)return;let k=this.table.querySelectorAll("."+C);Array.from(k).forEach(L=>{L.classList.remove(C)}),this.selectedColumn=0}getHoveredCell(k){let L=this.hoveredRow,R=this.hoveredColumn;const{width:O,height:T,x:P,y:D}=function($,G){const ne=$.getBoundingClientRect(),{width:ce,height:Pe,x:de,y:U}=ne,{clientX:X,clientY:Q}=G;return{width:ce,height:Pe,x:X-de,y:Q-U}}(this.table,k);return P>=0&&(R=this.binSearch(this.numberOfColumns,$=>this.getCell(1,$),({fromLeftBorder:$})=>P<$,({fromRightBorder:$})=>P>O-$)),D>=0&&(L=this.binSearch(this.numberOfRows,$=>this.getCell($,1),({fromTopBorder:$})=>D<$,({fromBottomBorder:$})=>D>T-$)),{row:L||this.hoveredRow,column:R||this.hoveredColumn}}binSearch(k,L,R,O){let T,P=0,D=k+1,$=0;for(;P<D-1&&$<10;){T=Math.ceil((P+D)/2);const G=L(T),ne=l(this.table,G);if(R(ne))D=T;else{if(!O(ne))break;P=T}$++}return T}getData(){const k=[];for(let L=1;L<=this.numberOfRows;L++){const R=this.table.querySelector(`.${y}:nth-child(${L})`),O=Array.from(R.querySelectorAll("."+S));O.every(T=>!T.textContent.trim())||k.push(O.map(T=>T.innerHTML))}return k}destroy(){document.removeEventListener("click",this.documentClicked)}}i(1),r.default=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:E,config:k,api:L,readOnly:R}){this.api=L,this.readOnly=R,this.config=k,this.data={withHeadings:this.getConfig("withHeadings",!1,E),content:E&&E.content?E.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new M(this.readOnly,this.api,this.data,this.config),this.container=o("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const E=this.table.getData();return{withHeadings:this.data.withHeadings,content:E}}destroy(){this.table.destroy()}getConfig(E,k,L){const R=this.data||L;return R?R[E]?R[E]:k:this.config&&this.config[E]?this.config[E]:k}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(E){const k=E.detail.data,L=k.querySelector(":scope > thead, tr:first-of-type th"),R=Array.from(k.querySelectorAll("tr")).map(O=>Array.from(O.querySelectorAll("th, td")).map(T=>T.innerHTML));this.data={withHeadings:L!==null,content:R},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}}]).default})})(dM);const pM=Ln(cf);var uf={},mM={get exports(){return uf},set exports(t){uf=t}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={424:(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var c=a(81),u=a.n(c),f=a(645),h=a.n(f)()(u());h.push([s.id,`.ce-block--drop-target .ce-block__content:before {
  content: "";
  position: absolute;
  top: 50%;
  left: -20px;
  margin-top: -1px;
  height: 8px;
  width: 8px;
  border: solid #a0a0a0;
  border-width: 1px 1px 0 0;
  -webkit-transform-origin: right;
  transform-origin: right;
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.ce-block--drop-target .ce-block__content:after {
  background: none;
}`,""]);const d=h},645:s=>{s.exports=function(l){var a=[];return a.toString=function(){return this.map(function(c){var u="",f=c[5]!==void 0;return c[4]&&(u+="@supports (".concat(c[4],") {")),c[2]&&(u+="@media ".concat(c[2]," {")),f&&(u+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),u+=l(c),f&&(u+="}"),c[2]&&(u+="}"),c[4]&&(u+="}"),u}).join("")},a.i=function(c,u,f,h,d){typeof c=="string"&&(c=[[null,c,void 0]]);var g={};if(f)for(var v=0;v<this.length;v++){var m=this[v][0];m!=null&&(g[m]=!0)}for(var p=0;p<c.length;p++){var b=[].concat(c[p]);f&&g[b[0]]||(d!==void 0&&(b[5]===void 0||(b[1]="@layer".concat(b[5].length>0?" ".concat(b[5]):""," {").concat(b[1],"}")),b[5]=d),u&&(b[2]&&(b[1]="@media ".concat(b[2]," {").concat(b[1],"}")),b[2]=u),h&&(b[4]?(b[1]="@supports (".concat(b[4],") {").concat(b[1],"}"),b[4]=h):b[4]="".concat(h)),a.push(b))}},a}},81:s=>{s.exports=function(l){return l[1]}},406:(s,l,a)=>{var c=a(424);typeof c=="string"&&(c=[[s.id,c,""]]),a(723)(c,{hmr:!0,transform:void 0,insertInto:void 0}),c.locals&&(s.exports=c.locals)},723:(s,l,a)=>{var c,u,f={},h=(c=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=c.apply(this,arguments)),u}),d=function(O){return document.querySelector(O)},g=function(O){var T={};return function(P){if(typeof P=="function")return P();if(T[P]===void 0){var D=d.call(this,P);if(window.HTMLIFrameElement&&D instanceof window.HTMLIFrameElement)try{D=D.contentDocument.head}catch{D=null}T[P]=D}return T[P]}}(),v=null,m=0,p=[],b=a(947);function y(O,T){for(var P=0;P<O.length;P++){var D=O[P],$=f[D.id];if($){$.refs++;for(var G=0;G<$.parts.length;G++)$.parts[G](D.parts[G]);for(;G<D.parts.length;G++)$.parts.push(A(D.parts[G],T))}else{var ne=[];for(G=0;G<D.parts.length;G++)ne.push(A(D.parts[G],T));f[D.id]={id:D.id,refs:1,parts:ne}}}}function w(O,T){for(var P=[],D={},$=0;$<O.length;$++){var G=O[$],ne=T.base?G[0]+T.base:G[0],ce={css:G[1],media:G[2],sourceMap:G[3]};D[ne]?D[ne].parts.push(ce):P.push(D[ne]={id:ne,parts:[ce]})}return P}function x(O,T){var P=g(O.insertInto);if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var D=p[p.length-1];if(O.insertAt==="top")D?D.nextSibling?P.insertBefore(T,D.nextSibling):P.appendChild(T):P.insertBefore(T,P.firstChild),p.push(T);else if(O.insertAt==="bottom")P.appendChild(T);else{if(typeof O.insertAt!="object"||!O.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var $=g(O.insertInto+" "+O.insertAt.before);P.insertBefore(T,$)}}function S(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O);var T=p.indexOf(O);T>=0&&p.splice(T,1)}function C(O){var T=document.createElement("style");return O.attrs.type===void 0&&(O.attrs.type="text/css"),_(T,O.attrs),x(O,T),T}function _(O,T){Object.keys(T).forEach(function(P){O.setAttribute(P,T[P])})}function A(O,T){var P,D,$,G;if(T.transform&&O.css){if(!(G=T.transform(O.css)))return function(){};O.css=G}if(T.singleton){var ne=m++;P=v||(v=C(T)),D=k.bind(null,P,ne,!1),$=k.bind(null,P,ne,!0)}else O.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(P=function(ce){var Pe=document.createElement("link");return ce.attrs.type===void 0&&(ce.attrs.type="text/css"),ce.attrs.rel="stylesheet",_(Pe,ce.attrs),x(ce,Pe),Pe}(T),D=R.bind(null,P,T),$=function(){S(P),P.href&&URL.revokeObjectURL(P.href)}):(P=C(T),D=L.bind(null,P),$=function(){S(P)});return D(O),function(ce){if(ce){if(ce.css===O.css&&ce.media===O.media&&ce.sourceMap===O.sourceMap)return;D(O=ce)}else $()}}s.exports=function(O,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=h()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var P=w(O,T);return y(P,T),function(D){for(var $=[],G=0;G<P.length;G++){var ne=P[G];(ce=f[ne.id]).refs--,$.push(ce)}for(D&&y(w(D,T),T),G=0;G<$.length;G++){var ce;if((ce=$[G]).refs===0){for(var Pe=0;Pe<ce.parts.length;Pe++)ce.parts[Pe]();delete f[ce.id]}}}};var M,E=(M=[],function(O,T){return M[O]=T,M.filter(Boolean).join(`
`)});function k(O,T,P,D){var $=P?"":D.css;if(O.styleSheet)O.styleSheet.cssText=E(T,$);else{var G=document.createTextNode($),ne=O.childNodes;ne[T]&&O.removeChild(ne[T]),ne.length?O.insertBefore(G,ne[T]):O.appendChild(G)}}function L(O,T){var P=T.css,D=T.media;if(D&&O.setAttribute("media",D),O.styleSheet)O.styleSheet.cssText=P;else{for(;O.firstChild;)O.removeChild(O.firstChild);O.appendChild(document.createTextNode(P))}}function R(O,T,P){var D=P.css,$=P.sourceMap,G=T.convertToAbsoluteUrls===void 0&&$;(T.convertToAbsoluteUrls||G)&&(D=b(D)),$&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify($))))+" */");var ne=new Blob([D],{type:"text/css"}),ce=O.href;O.href=URL.createObjectURL(ne),ce&&URL.revokeObjectURL(ce)}},947:s=>{s.exports=function(l){var a=typeof window<"u"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var c=a.protocol+"//"+a.host,u=c+a.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(f,h){var d,g=h.trim().replace(/^"(.*)"$/,function(v,m){return m}).replace(/^'(.*)'$/,function(v,m){return m});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(g)?f:(d=g.indexOf("//")===0?g:g.indexOf("/")===0?c+g:u+g.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}}},r={};function i(s){var l=r[s];if(l!==void 0)return l.exports;var a=r[s]={id:s,exports:{}};return n[s](a,a.exports,i),a.exports}i.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return i.d(l,{a:l}),l},i.d=(s,l)=>{for(var a in l)i.o(l,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:l[a]})},i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{function s(a,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}i.d(o,{default:()=>l}),i(406);var l=function(){function a(h,d){var g=h.configuration,v=h.blocks,m=h.toolbar,p=h.save;(function(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")})(this,a),this.toolbar=m,this.borderStyle=d||"1px dashed #aaa",this.api=v,this.holder=typeof g.holder=="string"?document.getElementById(g.holder):g.holder,this.readOnly=g.readOnly,this.startBlock=null,this.endBlock=null,this.save=p,this.setDragListener(),this.setDropListener()}var c,u,f;return c=a,f=[{key:"isReadOnlySupported",get:function(){return!0}}],(u=[{key:"setElementCursor",value:function(h){if(h){var d=document.createRange(),g=window.getSelection();d.setStart(h.childNodes[0],0),d.collapse(!0),g.removeAllRanges(),g.addRange(d),h.focus()}}},{key:"setDragListener",value:function(){var h=this;if(!this.readOnly){var d=this.holder.querySelector(".ce-toolbar__settings-btn");d.setAttribute("draggable","true"),d.addEventListener("dragstart",function(){h.startBlock=h.api.getCurrentBlockIndex()}),d.addEventListener("drag",function(){if(h.toolbar.close(),!h.isTheOnlyBlock()){var g=h.holder.querySelectorAll(".ce-block"),v=h.holder.querySelector(".ce-block--drop-target");h.setElementCursor(v),h.setBorderBlocks(g,v)}})}}},{key:"setBorderBlocks",value:function(h,d){var g=this;Object.values(h).forEach(function(v){var m=v.querySelector(".ce-block__content");v!==d?(m.style.removeProperty("border-top"),m.style.removeProperty("border-bottom")):Object.keys(h).find(function(p){return h[p]===d})>g.startBlock?m.style.borderBottom=g.borderStyle||borderStyle:m.style.borderTop=g.borderStyle})}},{key:"setDropListener",value:function(){var h=this;document.addEventListener("drop",function(d){var g=d.target;if(h.holder.contains(g)&&h.startBlock!==null){var v=h.getDropTarget(g);if(v){var m=v.querySelector(".ce-block__content");m.style.removeProperty("border-top"),m.style.removeProperty("border-bottom"),h.endBlock=h.getTargetPosition(v),h.moveBlocks()}}h.startBlock=null})}},{key:"getDropTarget",value:function(h){return h.classList.contains("ce-block")?h:h.closest(".ce-block")}},{key:"getTargetPosition",value:function(h){return Array.from(h.parentNode.children).indexOf(h)}},{key:"isTheOnlyBlock",value:function(){return this.api.getBlocksCount()===1}},{key:"moveBlocks",value:function(){this.isTheOnlyBlock()||this.api.move(this.endBlock,this.startBlock)}}])&&s(c.prototype,u),f&&s(c,f),Object.defineProperty(c,"prototype",{writable:!1}),a}()})(),o.default})()})})(mM);const gM=Ln(uf);var ff={},yM={get exports(){return ff},set exports(t){ff=t}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={424:(o,s,l)=>{(s=l(645)(!1)).push([o.id,`.picker_wrapper.popup {
  z-index: 99;
  width: 170px;
  margin: 0;
  box-shadow: 0 0 10px 1px #eaeaea;
  background: #ffffff;
}

.picker_arrow {
  display: none;
}

.layout_default .picker_slider, .layout_default .picker_selector {
  padding: 5px;
}

.colorPlugin.ce-inline-tool {
  width: 32px;
  border-radius: 3px;
}

.colorPlugin.ce-inline-tool--active svg {
  fill: #3c99ff;
}

#color-left-btn {
  height: 35px;
  width: 18px;
  font-weight: 600;
  display: flex;
  align-items: center;
}

#color-left-btn:hover {
  border-radius: 5px 0 0 5px;
  background: rgba(203, 203, 203, 0.49);
}

#color-text {
  padding: 0 4px;
}

#color-btn-text {
  height: 15px;
}

`,""]),o.exports=s},645:o=>{o.exports=function(s){var l=[];return l.toString=function(){return this.map(function(a){var c=function(u,f){var h,d,g,v=u[1]||"",m=u[3];if(!m)return v;if(f&&typeof btoa=="function"){var p=(h=m,d=btoa(unescape(encodeURIComponent(JSON.stringify(h)))),g="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(d),"/*# ".concat(g," */")),b=m.sources.map(function(y){return"/*# sourceURL=".concat(m.sourceRoot||"").concat(y," */")});return[v].concat(b).concat([p]).join(`
`)}return[v].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(c,"}"):c}).join("")},l.i=function(a,c,u){typeof a=="string"&&(a=[[null,a,""]]);var f={};if(u)for(var h=0;h<this.length;h++){var d=this[h][0];d!=null&&(f[d]=!0)}for(var g=0;g<a.length;g++){var v=[].concat(a[g]);u&&f[v[0]]||(c&&(v[2]?v[2]="".concat(c," and ").concat(v[2]):v[2]=c),l.push(v))}},l}},548:(o,s,l)=>{var a=l(379),c=l(424);typeof(c=c.__esModule?c.default:c)=="string"&&(c=[[o.id,c,""]]),a(c,{insert:"head",singleton:!1}),o.exports=c.locals||{}},379:(o,s,l)=>{var a,c=function(){var x={};return function(S){if(x[S]===void 0){var C=document.querySelector(S);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}x[S]=C}return x[S]}}(),u=[];function f(x){for(var S=-1,C=0;C<u.length;C++)if(u[C].identifier===x){S=C;break}return S}function h(x,S){for(var C={},_=[],A=0;A<x.length;A++){var M=x[A],E=S.base?M[0]+S.base:M[0],k=C[E]||0,L="".concat(E," ").concat(k);C[E]=k+1;var R=f(L),O={css:M[1],media:M[2],sourceMap:M[3]};R!==-1?(u[R].references++,u[R].updater(O)):u.push({identifier:L,updater:w(O,S),references:1}),_.push(L)}return _}function d(x){var S=document.createElement("style"),C=x.attributes||{};if(C.nonce===void 0){var _=l.nc;_&&(C.nonce=_)}if(Object.keys(C).forEach(function(M){S.setAttribute(M,C[M])}),typeof x.insert=="function")x.insert(S);else{var A=c(x.insert||"head");if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(S)}return S}var g,v=(g=[],function(x,S){return g[x]=S,g.filter(Boolean).join(`
`)});function m(x,S,C,_){var A=C?"":_.media?"@media ".concat(_.media," {").concat(_.css,"}"):_.css;if(x.styleSheet)x.styleSheet.cssText=v(S,A);else{var M=document.createTextNode(A),E=x.childNodes;E[S]&&x.removeChild(E[S]),E.length?x.insertBefore(M,E[S]):x.appendChild(M)}}function p(x,S,C){var _=C.css,A=C.media,M=C.sourceMap;if(A?x.setAttribute("media",A):x.removeAttribute("media"),M&&typeof btoa<"u"&&(_+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(M))))," */")),x.styleSheet)x.styleSheet.cssText=_;else{for(;x.firstChild;)x.removeChild(x.firstChild);x.appendChild(document.createTextNode(_))}}var b=null,y=0;function w(x,S){var C,_,A;if(S.singleton){var M=y++;C=b||(b=d(S)),_=m.bind(null,C,M,!1),A=m.bind(null,C,M,!0)}else C=d(S),_=p.bind(null,C,S),A=function(){(function(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E)})(C)};return _(x),function(E){if(E){if(E.css===x.css&&E.media===x.media&&E.sourceMap===x.sourceMap)return;_(x=E)}else A()}}o.exports=function(x,S){(S=S||{}).singleton||typeof S.singleton=="boolean"||(S.singleton=(a===void 0&&(a=!!(window&&document&&document.all&&!window.atob)),a));var C=h(x=x||[],S);return function(_){if(_=_||[],Object.prototype.toString.call(_)==="[object Array]"){for(var A=0;A<C.length;A++){var M=f(C[A]);u[M].references--}for(var E=h(_,S),k=0;k<C.length;k++){var L=f(C[k]);u[L].references===0&&(u[L].updater(),u.splice(L,1))}C=E}}}},452:o=>{o.exports={markerIcon:`<svg fill="#000000" height="34px" width="34px" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="0 0 491.644 491.644" xml:space="preserve">
<g>
	<path d="M456.623,2.282c-42.758-20.283-141.107,96.84-223.473,264.224c-2.35,4.776-2.686,10.294-0.936,15.32
		c1.75,5.026,5.442,9.145,10.251,11.426L366.758,352.2c4.809,2.281,10.332,2.538,15.333,0.714c5.001-1.825,9.059-5.579,11.272-10.42
		C470.883,172.829,499.385,22.562,456.623,2.282z"/>
	<path d="M34.71,461.799l-17.257,16.708c-2.225,2.17-2.934,5.475-1.773,8.363c1.179,2.886,3.985,4.773,7.099,4.773h160.887
		c-1.364-5.043-0.921-10.445,1.391-15.306l7.919-16.692H40.036C38.036,459.646,36.129,460.419,34.71,461.799z"/>
	<path d="M264.766,448.864l-32.615-15.458c-1.046-0.502-2.161-0.744-3.257-0.744c-2.87,0-5.611,1.614-6.901,4.372l-22.001,46.384
		c-0.871,1.789-0.723,3.895,0.341,5.564c1.046,1.661,2.888,2.661,4.855,2.661h0.046l44.275-0.378
		c2.206-0.016,4.206-1.299,5.159-3.292l13.724-28.925c0.856-1.838,0.967-3.936,0.29-5.846
		C268.004,451.292,266.585,449.728,264.766,448.864z"/>
	<path d="M348.445,366.038l-112.572-51.392c-8.909-4.067-19.434-0.227-23.63,8.622c-2.551,5.378-3.58,11.353-2.975,17.275
		l5.2,50.909c0.703,6.882,4.983,12.884,11.261,15.792l60.031,27.797c6.688,3.097,14.548,2.179,20.343-2.375l45.983-36.137
		c4.931-3.875,7.487-10.041,6.743-16.269C358.086,374.032,354.151,368.642,348.445,366.038z"/>
</g>
</svg>`,textIcon:'<svg fill="#000000" viewBox="-6 0 512 512" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g><title>text</title><path d="M365 432L328 352 172 352 135 432 64 432 227 80 272 80 436 432 365 432ZM201 288L299 288 250 183 201 288Z"></path></g></svg>'}},138:(o,s,l)=>{const a=l(442),{markerIcon:c,textIcon:u}=l(452),{getDefaultColorCache:f,handleCSSVariables:h}=l(697);l(548).toString(),o.exports=class{constructor({config:d,api:g}){this.api=g,this.config=d,this.clickedOnLeft=!1,this.pluginType=this.config.type||"text",this.parentTag=this.pluginType==="marker"?"MARK":"FONT",this.hasCustomPicker=this.config.customPicker||!1,this.color=h(f(this.config.defaultColor,this.pluginType)),this.picker=null,this.icon=null,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add("colorPlugin"),this.button.classList.add(this.iconClasses.base),this.button.appendChild(this.createLeftButton()),this.button.appendChild(this.createRightButton(this)),this.button}createLeftButton(){return this.icon||(this.icon=document.createElement("div"),this.icon.id="color-left-btn",this.icon.appendChild(this.createButtonIcon()),this.icon.addEventListener("click",()=>this.clickedOnLeft=!0)),this.icon}createButtonIcon(){const d=document.createElement("div");d.id="color-btn-text";const g=this.pluginType==="marker"?c:u;return d.innerHTML=this.config.icon||g,d}createRightButton(d){return this.picker||(this.picker=new a.ColorPlugin({onColorPicked:function(g){d.color=g},hasCustomPicker:this.hasCustomPicker,defaultColor:this.config.defaultColor,colorCollections:this.config.colorCollections,type:this.pluginType})),this.picker}surround(d){if(!d)return;const g=this.api.selection.findParentTag("SPAN");g&&this.unwrap(g);const v=this.api.selection.findParentTag(this.parentTag);v?this.unwrap(v):this.wrap(d),this.clickedOnLeft=!1}wrap(d){const g=d.extractContents(),v=document.createElement(this.parentTag);v.appendChild(g),d.insertNode(v),this.pluginType==="marker"?this.wrapMarker(v):this.wrapTextColor(v),this.api.selection.expandToTag(v)}wrapMarker(d){d.style.backgroundColor=this.color;const g=this.api.selection.findParentTag("FONT");g&&(d.style.color=g.style.color)}wrapTextColor(d){d.style.color=this.color}unwrap(d){this.api.selection.expandToTag(d);const g=window.getSelection(),v=g.getRangeAt(0),m=v.extractContents();this.clickedOnLeft?this.removeWrapper(d):this.updateWrapper(d),v.insertNode(m),g.removeAllRanges(),g.addRange(v)}updateWrapper(d){this.pluginType==="marker"?d.style.backgroundColor=this.color:d.style.color=this.color}removeWrapper(d){d.parentNode.removeChild(d)}checkState(){const d=this.api.selection.findParentTag("SPAN"),g=this.api.selection.findParentTag(this.parentTag);let v=d?this.handleLegacyWrapper(d,g):g;return this.button.classList.toggle(this.iconClasses.active,!!v),!!v}handleLegacyWrapper(d,g){return this.pluginType==="marker"?d:g&d}static get sanitize(){return{font:!0,span:!0,mark:!0}}clear(){this.picker=null,this.icon=null}}},442:(o,s,l)=>{l.r(s),l.d(s,{ColorPlugin:()=>g});class a extends HTMLElement{static get observedAttributes(){return["disabled","icon","loading","href","htmltype"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host{ 
            position:relative; 
            display:inline-flex; 
            padding: .25em .625em;
            box-sizing:border-box; 
            vertical-align: middle;
            line-height: 1.8;
            width: 5px;
            overflow:hidden; 
            align-items:center;
            justify-content: center;
            font-size: 14px; 
            color: var(--fontColor,#333);  
            border-radius: var(--borderRadius,.25em);
            background: var(--fontColor,#333); 
            transition:background .3s,box-shadow .3s,border-color .3s,color .3s;
        }
        :host([shape="circle"]){ 
            border-radius:50%; 
        }
        /*
        :host(:not([disabled]):active){
            z-index:1;
            transform:translateY(.1em);
        }
        */
        :host([disabled]),:host([loading]){
            pointer-events: none; 
            opacity:.6; 
        }
        :host([block]){ 
            display:flex; 
        }
        :host([disabled]:not([type])){ 
            background:rgba(0,0,0,.1); 
        }
        :host([disabled]) .btn,:host([loading]) .btn{ 
            cursor: not-allowed; 
            pointer-events: all; 
        }
        :host(:not([type="primary"]):not([type="danger"]):not([disabled]):hover),
        :host(:not([type="primary"]):not([type="danger"]):focus-within),
        :host([type="flat"][focus]){ 
            color:var(--themeColor,#42b983); 
            border-color: var(--themeColor,#42b983); 
        }
        :host(:not([type="primary"]):not([type="danger"])) .btn::after{ 
            background-image: radial-gradient(circle, var(--themeColor,#42b983) 10%, transparent 10.01%); 
        }
        :host([type="primary"]){ 
            color: #fff; 
            background:var(--themeBackground,var(--themeColor,#42b983));
        }
        :host([type="danger"]){ 
            color: #fff; 
            background:var(--themeBackground,var(--dangerColor,#ff7875));
        }
        :host([type="dashed"]){ 
            border-style:dashed 
        }
        :host([type="flat"]),:host([type="primary"]),:host([type="danger"]){ 
            border:0;
            padding: calc( .25em + 1px ) calc( .625em + 1px );
        }
        :host([type="flat"]) .btn::before{ 
            content:''; 
            position:absolute; 
            background:var(--themeColor,#42b983);
            pointer-events:none; 
            left:0; 
            right:0; 
            top:0; 
            bottom:0; 
            opacity:0; 
            transition:.3s;
        }
        :host([type="flat"]:not([disabled]):hover) .btn::before{ 
            opacity:.1 
        }
        :host(:not([disabled]):hover){ 
            z-index:1 
        }
        :host([type="flat"]:focus-within) .btn:before,
        :host([type="flat"][focus]) .btn:before{ 
            opacity:.2; 
        }
        :host(:focus-within){ 
            /*box-shadow: 0 0 10px rgba(0,0,0,0.1);*/ 
        }
        .btn{ 
            background:none; 
            outline:0; 
            border:0; 
            position: 
            absolute; 
            left:0; 
            top:0;
            width:100%;
            height:100%;
            padding:0;
            user-select: none;
            cursor: unset;
        }
        xy-loading{ 
            margin-right: 0.35em;  
        }
        ::-moz-focus-inner{
            border:0;
        }
        .btn::before{
            content: "";
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            left:0;
            top:0;
            transition:.2s;
            background:#fff;
            opacity:0;
        }
        :host(:not([disabled]):active) .btn::before{ 
            opacity:.2;
        }
        .btn::after {
            content: "";
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            left: var(--x,0); 
            top: var(--y,0);
            pointer-events: none;
            background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);
            background-repeat: no-repeat;
            background-position: 50%;
            transform: translate(-50%,-50%) scale(10);
            opacity: 0;
            transition: transform .3s, opacity .8s;
        }
        .btn:not([disabled]):active::after {
            transform: translate(-50%,-50%) scale(0);
            opacity: .3;
            transition: 0s;
        }
        xy-icon{
            margin-right: 0.35em;
            transition: none;
        }
        :host(:empty) xy-icon{
            margin: auto;
        }
        :host(:empty){
            padding: .65em;
        }
        :host([type="flat"]:empty),:host([type="primary"]:empty){ 
            padding: calc( .65em + 1px );
        }
        ::slotted(xy-icon){
            transition: none;
        }
        :host([href]){
            cursor:pointer;
        }
        </style>
        <${this.href?"a":"button"} ${this.htmltype?'type="'+this.htmltype+'"':""} ${this.download&&this.href?'download="'+this.download+'"':""} ${this.href?'href="'+this.href+'" target="'+this.target+'" rel="'+this.rel+'"':""} class="btn" id="btn"></${this.href?"a":"button"}>${!this.loading&&this.icon&&this.icon!="null"?'<xy-icon id="icon" name='+this.icon+"></xy-icon>":""}<slot></slot>
        `}focus(){this.btn.focus()}get disabled(){return this.getAttribute("disabled")!==null}get toggle(){return this.getAttribute("toggle")!==null}get htmltype(){return this.getAttribute("htmltype")}get name(){return this.getAttribute("name")}get checked(){return this.getAttribute("checked")!==null}get href(){return this.getAttribute("href")}get target(){return this.getAttribute("target")||"_blank"}get rel(){return this.getAttribute("rel")}get download(){return this.getAttribute("download")}get icon(){return this.getAttribute("icon")}get loading(){return this.getAttribute("loading")!==null}set icon(m){this.setAttribute("icon",m)}set htmltype(m){this.setAttribute("htmltype",m)}set href(m){this.setAttribute("href",m)}set disabled(m){m===null||m===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}set checked(m){m===null||m===!1?this.removeAttribute("checked"):this.setAttribute("checked","")}set loading(m){m===null||m===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}connectedCallback(){this.btn=this.shadowRoot.getElementById("btn"),this.ico=this.shadowRoot.getElementById("icon"),this.load=document.createElement("xy-loading"),this.load.style.color="inherit",this.btn.addEventListener("mousedown",function(m){if(!this.disabled){const{left:p,top:b}=this.getBoundingClientRect();this.style.setProperty("--x",m.clientX-p+"px"),this.style.setProperty("--y",m.clientY-b+"px")}}),this.addEventListener("click",function(m){this.toggle&&(this.checked=!this.checked)}),this.btn.addEventListener("keydown",m=>{m.keyCode===13&&m.stopPropagation()}),this.disabled=this.disabled,this.loading=this.loading}attributeChangedCallback(m,p,b){m=="disabled"&&this.btn&&(b!==null?(this.btn.setAttribute("disabled","disabled"),this.href&&this.btn.removeAttribute("href")):(this.btn.removeAttribute("disabled"),this.href&&(this.btn.href=this.href))),m=="loading"&&this.btn&&(b!==null?(this.shadowRoot.prepend(this.load),this.btn.setAttribute("disabled","disabled")):(this.shadowRoot.removeChild(this.load),this.btn.removeAttribute("disabled"))),m=="icon"&&this.ico&&(this.ico.name=b),m=="href"&&this.btn&&(this.disabled||(this.btn.href=b)),m=="htmltype"&&this.btn&&(this.btn.type=b)}}customElements.get("xy-button")||customElements.define("xy-button",a);class c extends HTMLElement{static get observedAttributes(){return["disabled"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host {
            display:inline-flex;
        }
        ::slotted(xy-button:not(:first-of-type):not(:last-of-type)){
            border-radius:0;
        }
        ::slotted(xy-button){
            margin:0!important;
        }
        ::slotted(xy-button:not(:first-of-type)){
            margin-left:-1px!important;
        }
        ::slotted(xy-button[type]:not([type="dashed"]):not(:first-of-type)){
            margin-left:1px!important;
        }
        ::slotted(xy-button:first-of-type){
            border-top-right-radius: 0;
            border-bottom-right-radius: 0px;
        }
        ::slotted(xy-button:last-of-type){
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
        </style>
        <slot></slot>
        `}get disabled(){return this.getAttribute("disabled")!==null}set disabled(m){m===null||m===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}connectedCallback(){}attributeChangedCallback(m,p,b){}}customElements.get("xy-button-group")||customElements.define("xy-button-group",c);class u extends HTMLElement{static get observedAttributes(){return["open","title","oktext","canceltext","loading","type"]}constructor(m){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host{
            position:absolute;
            display:flex;
            box-shadow: 2px 2px 15px rgba(0,0,0,0.15);
            box-sizing: border-box;
            transform:scale(0);
            opacity:0.5;
            border-radius: 3px;
            z-index:10;
            transition:.3s cubic-bezier(.645, .045, .355, 1);
            transform-origin:inherit;
            background:#fff;
            visibility:hidden;
        }
        .popcon-content{
            box-sizing: border-box;
            display:flex;
            width: max-content;
            padding: 0 15px;
            flex:1;
            flex-direction:column;
        }
        .popcon-title {
            line-height: 30px;
            padding: 15px 30px 0 0;
            font-weight: 700;
            font-size: 14px;
            color: #4c5161;
            user-select: none;
            cursor: default;
        }
        .popcon-body {
            flex: 1;
            padding: 5px 0 15px 0;
        }
        .popcon-footer {
            padding: 3px 0 15px 0;
            margin-top: -3px;
            text-align: right;
            white-space: nowrap;
        }
        .btn-close{
            position:absolute;
            right:10px;
            top:10px;
            border:0;
        }
        .popcon-footer xy-button {
            font-size: .8em;
            margin-left: .8em;
        }
        .popcon-type{
            display:flex;
            width:30px;
            height:30px;
            font-size:22px;
            margin: 15px -10px 0 15px;
        }
        /*
        :host(:not([type="confirm"])) .popcon-type,
        :host(:not([type="confirm"])) .popcon-footer,
        :host(:not([type])) .popcon-title,
        :host(:not([type])) .btn-close{
            display:none;
        }
        */
        :host([type="confirm"]){
            min-width:250px;
        }
        :host([type="confirm"]) .popcon-body{
            font-size:14px;
        }
        :host(:not([type])) .popcon-content,:host(:not([type])) .popcon-body{
            padding: 0;
        }
        </style>
            ${(m||this.type)==="confirm"?'<xy-icon id="popcon-type" class="popcon-type" name="question-circle" color="var(--waringColor,#faad14)"></xy-icon>':""}
            <div class="popcon-content">
                ${(m||this.type)!==null?'<div class="popcon-title" id="title">'+this.title+'</div><xy-button class="btn-close" id="btn-close" icon="close"></xy-button>':""}
                <div class="popcon-body">
                    <slot></slot>
                </div>
                ${(m||this.type)==="confirm"?'<div class="popcon-footer"><xy-button id="btn-cancel">'+this.canceltext+'</xy-button><xy-button id="btn-submit" type="primary">'+this.oktext+"</xy-button></div>":""}
            </div>
        `}get open(){return this.getAttribute("open")!==null}get stopfocus(){return this.getAttribute("stopfocus")!==null}get title(){return this.getAttribute("title")||"popcon"}get type(){return this.getAttribute("type")}get oktext(){return this.getAttribute("oktext")||"confirm"}get canceltext(){return this.getAttribute("canceltext")||"cancel"}get loading(){return this.getAttribute("loading")!==null}set title(m){this.setAttribute("title",m)}set type(m){m===null||m===!1?this.removeAttribute("type"):this.setAttribute("type",m)}set oktext(m){this.setAttribute("oktext",m)}set canceltext(m){this.setAttribute("canceltext",m)}set open(m){m===null||m===!1?(this.removeAttribute("open"),this.parentNode.removeAttribute("open")):(this.setAttribute("open",""),this.parentNode.setAttribute("open",""),this.loading&&(this.loading=!1))}set loading(m){m===null||m===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}connectedCallback(){this.remove=!1,this.type&&(this.titles=this.shadowRoot.getElementById("title"),this.btnClose=this.shadowRoot.getElementById("btn-close")),this.type=="confirm"&&(this.btnCancel=this.shadowRoot.getElementById("btn-cancel"),this.btnSubmit=this.shadowRoot.getElementById("btn-submit")),this.addEventListener("transitionend",m=>{m.propertyName==="transform"&&this.open&&(this.type=="confirm"&&this.btnSubmit.focus(),this.type=="pane"&&this.btnClose.focus(),this.dispatchEvent(new CustomEvent("open")))}),this.addEventListener("transitionend",m=>{m.propertyName!=="transform"||this.open||(this.remove&&this.parentNode.removeChild(this),this.dispatchEvent(new CustomEvent("close")))}),this.addEventListener("click",m=>{m.target.closest("[autoclose]")&&(this.open=!1,window.xyActiveElement.focus())}),this.type&&this.btnClose.addEventListener("click",()=>{this.open=!1,window.xyActiveElement.focus()}),this.type=="confirm"&&(this.btnCancel.addEventListener("click",async()=>{this.dispatchEvent(new CustomEvent("cancel")),this.open=!1,window.xyActiveElement.focus()}),this.btnSubmit.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("submit")),this.loading||(this.open=!1,window.xyActiveElement.focus())}))}attributeChangedCallback(m,p,b){m=="open"&&this.shadowRoot&&b==null&&this.stopfocus,m=="loading"&&this.shadowRoot&&(this.btnSubmit.loading=b!==null),m=="title"&&this.titles&&b!==null&&(this.titles.innerHTML=b),m=="oktext"&&this.btnSubmit&&b!==null&&(this.btnSubmit.innerHTML=b),m=="canceltext"&&this.btnCancel&&b!==null&&(this.btnCancel.innerHTML=b)}}customElements.get("xy-popcon")||customElements.define("xy-popcon",u);class f extends HTMLElement{static get observedAttributes(){return["title","oktext","canceltext","loading","type"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host {
            display:inline-block;
            position:relative;
            overflow:visible;
        }
        :host([dir="top"]) ::slotted(xy-popcon){
            bottom:100%;
            left:50%;
            transform:translate(-50%,-10px) scale(0);
            transform-origin: center bottom;
        }
        :host([dir="top"]) ::slotted(xy-popcon[open]),
        :host([dir="top"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="top"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-50%,-10px) scale(1);
        }
        :host([dir="right"]) ::slotted(xy-popcon){
            left:100%;
            top:50%;
            transform:translate(10px,-50%) scale(0);
            transform-origin: left;
        }
        :host([dir="right"]) ::slotted(xy-popcon[open]),
        :host([dir="right"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="right"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px,-50%) scale(1);
        }
        :host([dir="bottom"]) ::slotted(xy-popcon){
            top:100%;
            left:50%;
            transform:translate(-50%,10px) scale(0);
            transform-origin: center top;
        }
        :host([dir="bottom"]) ::slotted(xy-popcon[open]),
        :host([dir="bottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-50%,10px) scale(1);
        }
        :host([dir="left"]) ::slotted(xy-popcon){
            right:100%;
            top:50%;
            transform:translate(-10px,-50%) scale(0);
            transform-origin: right;
        }
        :host([dir="left"]) ::slotted(xy-popcon[open]),
        :host([dir="left"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="left"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px,-50%) scale(1);
        }
        :host([dir="lefttop"]) ::slotted(xy-popcon){
            right:100%;
            top:0;
            transform:translate(-10px) scale(0);
            transform-origin: right top;
        }
        :host([dir="lefttop"]) ::slotted(xy-popcon[open]),
        :host([dir="lefttop"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="lefttop"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px) scale(1);
        }
        :host([dir="leftbottom"]) ::slotted(xy-popcon){
            right:100%;
            bottom:0;
            transform:translate(-10px) scale(0);
            transform-origin: right bottom;
        }
        :host([dir="leftbottom"]) ::slotted(xy-popcon[open]),
        :host([dir="leftbottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="leftbottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px) scale(1);
        }
        :host([dir="topleft"]) ::slotted(xy-popcon){
            bottom:100%;
            left:0;
            transform:translate(0,-10px) scale(0);
            transform-origin: left bottom;
        }
        :host([dir="topleft"]) ::slotted(xy-popcon[open]),
        :host([dir="topleft"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="topleft"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,-10px) scale(1);
        }
        :host([dir="topright"]) ::slotted(xy-popcon){
            bottom:100%;
            right:0;
            transform:translate(0,-10px) scale(0);
            transform-origin: right bottom;
        }
        :host([dir="topright"]) ::slotted(xy-popcon[open]),
        :host([dir="topright"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="topright"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,-10px) scale(1);
        }
        :host([dir="righttop"]) ::slotted(xy-popcon){
            left:100%;
            top:0;
            transform:translate(10px) scale(0);
            transform-origin: left top;
        }
        :host([dir="righttop"]) ::slotted(xy-popcon[open]),
        :host([dir="righttop"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="righttop"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px) scale(1);
        }
        :host([dir="rightbottom"]) ::slotted(xy-popcon){
            left:100%;
            bottom:0;
            transform:translate(10px) scale(0);
            transform-origin: left bottom;
        }
        :host([dir="rightbottom"]) ::slotted(xy-popcon[open]),
        :host([dir="rightbottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="rightbottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px) scale(1);
        }
        :host([dir="bottomleft"]) ::slotted(xy-popcon),
        :host(:not([dir])) ::slotted(xy-popcon){
            left:0;
            top:100%;
            transform:translate(0,10px) scale(0);
            transform-origin: left top;
        }
        :host(:not([dir])) ::slotted(xy-popcon[open]),
        :host(:not([dir])[trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host(:not([dir])[trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon),
        :host([dir="bottomleft"]) ::slotted(xy-popcon[open]),
        :host([dir="bottomleft"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottomleft"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,10px) scale(1);
        }
        :host([dir="bottomright"]) ::slotted(xy-popcon){
            right:0;
            top:100%;
            transform:translate(0,10px) scale(0);
            transform-origin: right top;
        }
        :host([dir="bottomright"]) ::slotted(xy-popcon[open]),
        :host([dir="bottomright"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottomright"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,10px) scale(1);
        }
        :host([trigger="contextmenu"]) ::slotted(xy-popcon){
            right:auto;
            bottom:auto;
            left:var(--x,0);
            top:var(--y,100%);
            transform-origin: left top;
            transform:translate(5px,5px) scale(0);
            transition: .15s;
        }
        :host([trigger="contextmenu"]) ::slotted(xy-popcon[open]){
            transform:translate(5px,5px) scale(1);
        }
        :host ::slotted(xy-popcon[open]),
        :host([trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            opacity:1;
            visibility:visible;
        }
        slot{
            border-radius: inherit;
        }
        </style>
        <slot></slot>
        `}get title(){return this.getAttribute("title")||"popcon"}get trigger(){return this.getAttribute("trigger")}get disabled(){return this.getAttribute("disabled")!==null}get type(){return this.getAttribute("type")}get accomplish(){return this.getAttribute("accomplish")!==null}get content(){return this.getAttribute("content")}get oktext(){return this.getAttribute("oktext")}get canceltext(){return this.getAttribute("canceltext")}get dir(){return this.getAttribute("dir")}get loading(){return this.getAttribute("loading")!==null}set dir(m){this.setAttribute("dir",m)}set title(m){this.setAttribute("title",m)}set type(m){this.setAttribute("type",m)}set oktext(m){this.setAttribute("oktext",m)}set canceltext(m){this.setAttribute("canceltext",m)}set loading(m){m===null||m===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}set disabled(m){m===null||m===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}show(m){if(this.popcon=this.querySelector("xy-popcon"),this.disabled)(this.popcon||this).dispatchEvent(new CustomEvent("submit"));else if(this.popcon||(this.popcon=new u(this.type),this.popcon.type=this.type,this.appendChild(this.popcon),this.popcon.title=this.title||"popover",this.popcon.innerHTML=this.content||"",this.type=="confirm"&&(this.popcon.oktext=this.oktext||"confirm",this.popcon.canceltext=this.canceltext||"cancel",this.popcon.onsubmit=()=>this.dispatchEvent(new CustomEvent("submit")),this.popcon.oncancel=()=>this.dispatchEvent(new CustomEvent("cancel")))),this.trigger==="contextmenu"){const{x:p,y:b}=this.getBoundingClientRect();this.popcon.style.setProperty("--x",m.clientX-p+"px"),this.popcon.style.setProperty("--y",m.clientY-b+"px"),this.popcon.open=!0}else(m.path||m.composedPath&&m.composedPath()).includes(this.popcon)||(window.xyActiveElement=document.activeElement,this.accomplish?this.popcon.open=!0:this.popcon.open=!this.popcon.open);return this.popcon}connectedCallback(){this.popcon=this.querySelector("xy-popcon"),this.trigger&&this.trigger!=="click"||this.addEventListener("click",this.show),this.trigger==="contextmenu"&&this.addEventListener("contextmenu",m=>{m.preventDefault(),(m.path||m.composedPath&&m.composedPath()).includes(this.popcon)||this.show(m)}),document.addEventListener("mousedown",m=>{const p=m.path||m.composedPath&&m.composedPath();(this.popcon&&!p.includes(this.popcon)&&!this.popcon.loading&&!p.includes(this.children[0])||this.trigger==="contextmenu"&&!p.includes(this.popcon)&&m.which=="1")&&(this.popcon.open=!1)})}attributeChangedCallback(m,p,b){m=="loading"&&this.popcon&&(this.popcon.loading=b!==null),m=="title"&&this.popcon&&b!==null&&(this.popcon.title=b),m=="oktext"&&this.popcon&&b!==null&&(this.popcon.oktext=b),m=="canceltext"&&this.popcon&&b!==null&&(this.popcon.canceltext=b)}}customElements.get("xy-popover")||customElements.define("xy-popover",f);var h=l(697);const d=["#ff1300","#EC7878","#9C27B0","#673AB7","#3F51B5","#0070FF","#03A9F4","#00BCD4","#4CAF50","#8BC34A","#CDDC39","#FFE500","#FFBF00","#FF9800","#795548","#9E9E9E","#5A5A5A","#FFF"];class g extends HTMLElement{static get observedAttributes(){return["disabled","dir"]}constructor(m){super();const p=this.attachShadow({mode:"open"});this.colorCollections=m.colorCollections||d,this.onColorPicked=m.onColorPicked,this.defaulColor=(0,h.handleCSSVariables)(m.defaultColor||this.colorCollections[0]),this.pluginType=m.type,this.hasCustomPicker=m.hasCustomPicker,this.customColor=(0,h.getCustomColorCache)(this.pluginType),p.innerHTML=`
        <style>
        :host{
            display:inline-block;
            width:15px;
            font-size:14px;
            border: none;
        }
        :host([block]){
            display:block;
        }
        :host([disabled]){
            pointer-events:none;
        }
        
        :host(:focus-within) xy-popover,:host(:hover) xy-popover{ 
            z-index: 2;
        }
        input[type="color"]{
            -webkit-appearance: none;
            outline: none;
            border: none;
        }
        xy-popover{
            width: 12px;
            height:35px;
            padding-right: 1px;
        }
        xy-popover:hover {
            border-radius: 0 5px 5px 0;
            background: rgba(203, 203, 203, 0.49);
        }
        .color-btn {
            border: 1px solid #cab9b9;
            margin: 18px 3px 2px 3px;
            width: 7px;
            height: 7px;
            opacity: 0.9;
            padding: 1px 0 1px 0;
            color: var(--themeColor, #42b983);
            background: var(--themeColor, #42b983);
            font-weight: bolder;
            border-radius: 2px;
        }
        .color-btn:hover {
            opacity: 1;
            z-index: auto;
        }
        xy-popover{
            display:block;
        }
        xy-popcon{
            position: fixed;
            min-width:100%;
        }
        #custom-picker {
            position: relative;
            top: -1px;
            background-color: rgb(250, 250, 250);
            border-color: rgb(255 118 21) rgb(245 80 80 / 74%) #89c1c9 #95d5b6;
            border-width: 3px;
            border-radius: 8px;
            height: 18px;
        }
        .pop-footer{
            display:flex;
            justify-content:flex-end;
            padding:0 .8em .8em;
        }
        .pop-footer xy-button{
            font-size: .8em;
            margin-left: .8em;
        }
        .color-btn::before{
            content:'';
            position:absolute;
            left:5px;
            top:5px;
            right:5px;
            bottom:5px;
            z-index:-1;
            background: linear-gradient(45deg, #ddd 25%,transparent 0,transparent 75%,#ddd 0 ), linear-gradient(45deg, #ddd 25%, transparent 0, transparent 75%, #ddd 0);
            background-position: 0 0,5px 5px;
            background-size: 10px 10px;
        }
        .color-sign {
           max-width: 220px;
           padding: 10px;
           display:grid;
           cursor: default;
           grid-template-columns: repeat(auto-fit, minmax(15px, 1fr));
           grid-gap: 10px;     
        }
        .color-sign>button {
            position: relative;
            width: 16px;
            height: 16px;
            border-radius: 6px;
            border: 1px solid #b8b9b49e;
            outline: 0;
            opacity: 0.9;
        }
        .color-sign>button:hover {
            cursor: pointer;
            opacity: 1;
        }
        .color-section {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .color-fire-btn {
            font-size: 17px;
            font-weight: bold;
            height: 28px;
            padding-top: 8px;
            padding-right: 1px;
            margin-left: 3px;
            padding-left: 3px;
            border-radius: 5px 0 0 5px;
        }
        .color-fire-btn:hover {
            font-size: 17px;
            font-weight: bold;
            background: rgba(203, 203, 203, 0.49);
            border-radius: 5px 0 0 5px;
        }
        </style>
        <section class="color-section">
            <xy-popover id="popover" ${this.dir?"dir='"+this.dir+"'":""}>
                <xy-button class="color-btn" id="color-btn" ${this.disabled?"disabled":""}>_</xy-button>
                <xy-popcon id="popcon">
                    <div class="color-sign" id="colors">
                        ${this.hasCustomPicker?'<button id="custom-picker" class="rainbow-mask"/>':""}
                        ${this.colorCollections.map(b=>'<button class="color-cube" style="background-color:'+b+'" data-color='+b+"></button>").join("")}
                    </div>
                </xy-popcon>
            </xy-popover>
        </section>`}focus(){this.colorBtn.focus()}connectedCallback(){this.popover=this.shadowRoot.getElementById("popover"),this.popcon=this.shadowRoot.getElementById("popcon"),this.colorBtn=this.shadowRoot.getElementById("color-btn"),this.colors=this.shadowRoot.getElementById("colors"),this.colors.addEventListener("click",m=>{const p=m.target.closest("button");p&&p.id!=="custom-picker"&&(this.nativeclick=!0,this.value=(0,h.handleCSSVariables)(p.dataset.color),this.onColorPicked(this.value))}),this.popover.addEventListener("click",()=>this.closeConverter()),this.hasCustomPicker&&this.setupCustomPicker(),this.value=this.defaultvalue}closeConverter(){var m;document.getElementsByClassName(h.CONVERTER_PANEL)[0]&&((m=document.getElementsByClassName(h.CONVERTER_BTN)[0])==null||m.click())}disconnectedCallback(){this.pickerInput&&document.body.removeChild(this.pickerInput)}setupCustomPicker(){let m=!1;this.customPicker=this.shadowRoot.getElementById("custom-picker");const p=this.customPicker;p.style.backgroundColor=this.customColor,this.customPicker.addEventListener("click",b=>{if(m)return void(m=!1);this.pickerInput&&document.body.removeChild(this.pickerInput),this.pickerInput=document.createElement("input");const y=this.pickerInput,w=this.popcon.getBoundingClientRect();y.setAttribute("type","color"),y.value=this.customColor,y.style.position="fixed",y.style.left=`${w.x+3}px`,y.style.top=`${w.y+10}px`,y.style.pointerEvents="none",y.style.zIndex="999",y.style.opacity="0",y.addEventListener("input",(0,h.throttle)(x=>{this.nativeclick=!0,this.value=(0,h.handleCSSVariables)(x.target.value),this.onColorPicked(this.value),(0,h.setCustomColorCache)(this.value,this.pluginType),p.style.backgroundColor=this.value,m=!0,p.click()},30)),document.body.appendChild(y),setTimeout(()=>{y.focus(),y.click()},0)})}get defaultvalue(){return this.defaulColor}get value(){return this.$value}get type(){return this.getAttribute("type")}get disabled(){return this.getAttribute("disabled")!==null}get dir(){return this.getAttribute("dir")}set dir(m){this.setAttribute("dir",m)}set disabled(m){m===null||m===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}set defaultvalue(m){this.setAttribute("defaultvalue",m)}set value(m){m&&(this.$value=m,this.colorBtn.style.setProperty("--themeColor",this.nativeclick?(0,h.setDefaultColorCache)(m,this.pluginType):(0,h.getDefaultColorCache)(m,this.pluginType)),this.nativeclick?(this.nativeclick=!1,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value}}))):this.colorPane?this.colorPane.value=this.value:this.defaultvalue=this.value)}attributeChangedCallback(m,p,b){m=="disabled"&&this.colorBtn&&(b!=null?this.colorBtn.setAttribute("disabled","disabled"):this.colorBtn.removeAttribute("disabled")),m=="dir"&&this.popover&&b!=null&&(this.popover.dir=b)}}customElements.get("xy-color-picker")||customElements.define("xy-color-picker",g)},697:(o,s,l)=>{l.r(s),l.d(s,{CONVERTER_BTN:()=>v,CONVERTER_PANEL:()=>m,getCustomColorCache:()=>g,getDefaultColorCache:()=>h,handleCSSVariables:()=>c,setCustomColorCache:()=>d,setDefaultColorCache:()=>f,throttle:()=>u});const a="editor-js-text-color-cache";function c(p){if(function(b){return(typeof(y=b)=="string"||y instanceof String)&&b.includes("--");var y}(p)){const b=function(y){const w=/\((.*?)\)/.exec(y);if(w)return w[1]}(p);return function(y){return window.getComputedStyle(document.documentElement).getPropertyValue(y)}(b)}return p}function u(p,b){let y;return(...w)=>{y||(y=setTimeout(()=>{p(...w),y=null},b))}}function f(p,b){return sessionStorage.setItem(`${a}-${b}`,JSON.stringify(p)),p}function h(p,b){const y=sessionStorage.getItem(`${a}-${b}`);return y?JSON.parse(y):p}function d(p,b){sessionStorage.setItem(`${a}-${b}-custom`,JSON.stringify(p))}function g(p){const b=sessionStorage.getItem(`${a}-${p}-custom`);return b?JSON.parse(b):null}const v="ce-inline-toolbar__dropdown",m="ce-conversion-toolbar--showed"}},r={};function i(o){var s=r[o];if(s!==void 0)return s.exports;var l=r[o]={id:o,exports:{}};return n[o](l,l.exports,i),l.exports}return i.d=(o,s)=>{for(var l in s)i.o(s,l)&&!i.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},i.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.nc=void 0,i(138)})())})(yM);const bM=Ln(ff);var hf={},vM={get exports(){return hf},set exports(t){hf=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",f=a[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(g=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(g))))+" */"),d=f.sources.map(function(v){return"/*# sourceURL="+f.sourceRoot+v+" */"});return[u].concat(d).concat([h]).join(`
`)}var g;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(_){var A={};return function(M){if(typeof M=="function")return M();if(A[M]===void 0){var E=function(k){return document.querySelector(k)}.call(this,M);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}A[M]=E}return A[M]}}(),u=null,f=0,h=[],d=i(4);function g(_,A){for(var M=0;M<_.length;M++){var E=_[M],k=l[E.id];if(k){k.refs++;for(var L=0;L<k.parts.length;L++)k.parts[L](E.parts[L]);for(;L<E.parts.length;L++)k.parts.push(w(E.parts[L],A))}else{var R=[];for(L=0;L<E.parts.length;L++)R.push(w(E.parts[L],A));l[E.id]={id:E.id,refs:1,parts:R}}}}function v(_,A){for(var M=[],E={},k=0;k<_.length;k++){var L=_[k],R=A.base?L[0]+A.base:L[0],O={css:L[1],media:L[2],sourceMap:L[3]};E[R]?E[R].parts.push(O):M.push(E[R]={id:R,parts:[O]})}return M}function m(_,A){var M=c(_.insertInto);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var E=h[h.length-1];if(_.insertAt==="top")E?E.nextSibling?M.insertBefore(A,E.nextSibling):M.appendChild(A):M.insertBefore(A,M.firstChild),h.push(A);else if(_.insertAt==="bottom")M.appendChild(A);else{if(typeof _.insertAt!="object"||!_.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var k=c(_.insertInto+" "+_.insertAt.before);M.insertBefore(A,k)}}function p(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_);var A=h.indexOf(_);A>=0&&h.splice(A,1)}function b(_){var A=document.createElement("style");return _.attrs.type===void 0&&(_.attrs.type="text/css"),y(A,_.attrs),m(_,A),A}function y(_,A){Object.keys(A).forEach(function(M){_.setAttribute(M,A[M])})}function w(_,A){var M,E,k,L;if(A.transform&&_.css){if(!(L=A.transform(_.css)))return function(){};_.css=L}if(A.singleton){var R=f++;M=u||(u=b(A)),E=C.bind(null,M,R,!1),k=C.bind(null,M,R,!0)}else _.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(M=function(O){var T=document.createElement("link");return O.attrs.type===void 0&&(O.attrs.type="text/css"),O.attrs.rel="stylesheet",y(T,O.attrs),m(O,T),T}(A),E=function(O,T,P){var D=P.css,$=P.sourceMap,G=T.convertToAbsoluteUrls===void 0&&$;(T.convertToAbsoluteUrls||G)&&(D=d(D)),$&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify($))))+" */");var ne=new Blob([D],{type:"text/css"}),ce=O.href;O.href=URL.createObjectURL(ne),ce&&URL.revokeObjectURL(ce)}.bind(null,M,A),k=function(){p(M),M.href&&URL.revokeObjectURL(M.href)}):(M=b(A),E=function(O,T){var P=T.css,D=T.media;if(D&&O.setAttribute("media",D),O.styleSheet)O.styleSheet.cssText=P;else{for(;O.firstChild;)O.removeChild(O.firstChild);O.appendChild(document.createTextNode(P))}}.bind(null,M),k=function(){p(M)});return E(_),function(O){if(O){if(O.css===_.css&&O.media===_.media&&O.sourceMap===_.sourceMap)return;E(_=O)}else k()}}n.exports=function(_,A){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(A=A||{}).attrs=typeof A.attrs=="object"?A.attrs:{},A.singleton||typeof A.singleton=="boolean"||(A.singleton=a()),A.insertInto||(A.insertInto="head"),A.insertAt||(A.insertAt="bottom");var M=v(_,A);return g(M,A),function(E){for(var k=[],L=0;L<M.length;L++){var R=M[L];(O=l[R.id]).refs--,k.push(O)}for(E&&g(v(E,A),A),L=0;L<k.length;L++){var O;if((O=k[L]).refs===0){for(var T=0;T<O.parts.length;T++)O.parts[T]();delete l[O.id]}}}};var x,S=(x=[],function(_,A){return x[_]=A,x.filter(Boolean).join(`
`)});function C(_,A,M,E){var k=M?"":E.css;if(_.styleSheet)_.styleSheet.cssText=S(A,k);else{var L=document.createTextNode(k),R=_.childNodes;R[A]&&_.removeChild(R[A]),R.length?_.insertBefore(L,R[A]):_.appendChild(L)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,d){return d}).replace(/^'(.*)'$/,function(h,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(a,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}function s(a,c,u){return c&&o(a.prototype,c),u&&o(a,u),a}i.d(r,"default",function(){return l});var l=function(){function a(c){var u=c.api;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=u,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(a,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(a,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,a.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(a.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),f=u.getRangeAt(0),h=f.extractContents();c.parentNode.removeChild(c),f.insertNode(h),u.removeAllRanges(),u.addRange(f)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,a.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:a.CSS}}}}]),a}()}]).default})})(vM);const wM=Ln(hf),xM="modulepreload",_M=function(t){return"/"+t},Pm={},F=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=_M(o),o in Pm)return;Pm[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":xM,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function J(t){return new aT(Ia.define(t))}function $r(t){return F(()=>import("./index-717eee56.js"),["admin/assets/index-717eee56.js","admin/assets/index-7d71be5a.js","admin/assets/index-2c04fb19.js"]).then(e=>e.sql({dialect:e[t]}))}const mi=[j.of({name:"C",extensions:["c","h","ino"],load(){return F(()=>import("./index-56393363.js"),["admin/assets/index-56393363.js","admin/assets/index-7d71be5a.js"]).then(t=>t.cpp())}}),j.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return F(()=>import("./index-56393363.js"),["admin/assets/index-56393363.js","admin/assets/index-7d71be5a.js"]).then(t=>t.cpp())}}),j.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return $r("Cassandra")}}),j.of({name:"CSS",extensions:["css"],load(){return F(()=>import("./index-5955c4a9.js"),["admin/assets/index-5955c4a9.js","admin/assets/index-7d71be5a.js"]).then(t=>t.css())}}),j.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return F(()=>import("./index-840c0c5e.js"),["admin/assets/index-840c0c5e.js","admin/assets/index-7d71be5a.js","admin/assets/index-5955c4a9.js","admin/assets/index-5680478d.js","admin/assets/index-2c04fb19.js"]).then(t=>t.html())}}),j.of({name:"Java",extensions:["java"],load(){return F(()=>import("./index-1f632930.js"),["admin/assets/index-1f632930.js","admin/assets/index-7d71be5a.js"]).then(t=>t.java())}}),j.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return F(()=>import("./index-5680478d.js"),["admin/assets/index-5680478d.js","admin/assets/index-7d71be5a.js","admin/assets/index-2c04fb19.js"]).then(t=>t.javascript())}}),j.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return F(()=>import("./index-63707e04.js"),["admin/assets/index-63707e04.js","admin/assets/index-7d71be5a.js"]).then(t=>t.json())}}),j.of({name:"JSX",extensions:["jsx"],load(){return F(()=>import("./index-5680478d.js"),["admin/assets/index-5680478d.js","admin/assets/index-7d71be5a.js","admin/assets/index-2c04fb19.js"]).then(t=>t.javascript({jsx:!0}))}}),j.of({name:"MariaDB SQL",load(){return $r("MariaSQL")}}),j.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return F(()=>import("./index-10aad32d.js"),["admin/assets/index-10aad32d.js","admin/assets/index-840c0c5e.js","admin/assets/index-7d71be5a.js","admin/assets/index-5955c4a9.js","admin/assets/index-5680478d.js","admin/assets/index-2c04fb19.js"]).then(t=>t.markdown())}}),j.of({name:"MS SQL",load(){return $r("MSSQL")}}),j.of({name:"MySQL",load(){return $r("MySQL")}}),j.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return F(()=>import("./index-f6c1148d.js"),["admin/assets/index-f6c1148d.js","admin/assets/index-7d71be5a.js","admin/assets/index-840c0c5e.js","admin/assets/index-5955c4a9.js","admin/assets/index-5680478d.js","admin/assets/index-2c04fb19.js"]).then(t=>t.php())}}),j.of({name:"PLSQL",extensions:["pls"],load(){return $r("PLSQL")}}),j.of({name:"PostgreSQL",load(){return $r("PostgreSQL")}}),j.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return F(()=>import("./index-b74665cc.js"),["admin/assets/index-b74665cc.js","admin/assets/index-7d71be5a.js","admin/assets/index-2c04fb19.js"]).then(t=>t.python())}}),j.of({name:"Rust",extensions:["rs"],load(){return F(()=>import("./index-cfc23f8e.js"),["admin/assets/index-cfc23f8e.js","admin/assets/index-7d71be5a.js"]).then(t=>t.rust())}}),j.of({name:"SQL",extensions:["sql"],load(){return $r("StandardSQL")}}),j.of({name:"SQLite",load(){return $r("SQLite")}}),j.of({name:"TSX",extensions:["tsx"],load(){return F(()=>import("./index-5680478d.js"),["admin/assets/index-5680478d.js","admin/assets/index-7d71be5a.js","admin/assets/index-2c04fb19.js"]).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),j.of({name:"TypeScript",alias:["ts"],extensions:["ts"],load(){return F(()=>import("./index-5680478d.js"),["admin/assets/index-5680478d.js","admin/assets/index-7d71be5a.js","admin/assets/index-2c04fb19.js"]).then(t=>t.javascript({typescript:!0}))}}),j.of({name:"WebAssembly",extensions:["wat","wast"],load(){return F(()=>import("./index-7935364a.js"),["admin/assets/index-7935364a.js","admin/assets/index-7d71be5a.js"]).then(t=>t.wast())}}),j.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return F(()=>import("./index-92094976.js"),["admin/assets/index-92094976.js","admin/assets/index-7d71be5a.js"]).then(t=>t.xml())}}),j.of({name:"APL",extensions:["dyalog","apl"],load(){return F(()=>import("./apl-f73da2d7.js"),[]).then(t=>J(t.apl))}}),j.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return F(()=>import("./asciiarmor-e7973ceb.js"),[]).then(t=>J(t.asciiArmor))}}),j.of({name:"ASN.1",extensions:["asn","asn1"],load(){return F(()=>import("./asn1-f9c290f0.js"),[]).then(t=>J(t.asn1({})))}}),j.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return F(()=>import("./asterisk-9c249b4c.js"),[]).then(t=>J(t.asterisk))}}),j.of({name:"Brainfuck",extensions:["b","bf"],load(){return F(()=>import("./brainfuck-637b9bf0.js"),[]).then(t=>J(t.brainfuck))}}),j.of({name:"Cobol",extensions:["cob","cpy"],load(){return F(()=>import("./cobol-3c0e8dcf.js"),[]).then(t=>J(t.cobol))}}),j.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.csharp))}}),j.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return F(()=>import("./clojure-46c215dd.js"),[]).then(t=>J(t.clojure))}}),j.of({name:"ClojureScript",extensions:["cljs"],load(){return F(()=>import("./clojure-46c215dd.js"),[]).then(t=>J(t.clojure))}}),j.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return F(()=>import("./css-ae0ae1d0.js"),[]).then(t=>J(t.gss))}}),j.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return F(()=>import("./cmake-f314e514.js"),[]).then(t=>J(t.cmake))}}),j.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return F(()=>import("./coffeescript-cf6fb77c.js"),[]).then(t=>J(t.coffeeScript))}}),j.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return F(()=>import("./commonlisp-0ea12945.js"),[]).then(t=>J(t.commonLisp))}}),j.of({name:"Cypher",extensions:["cyp","cypher"],load(){return F(()=>import("./cypher-236a65ad.js"),[]).then(t=>J(t.cypher))}}),j.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return F(()=>import("./python-37bee3fe.js"),[]).then(t=>J(t.cython))}}),j.of({name:"Crystal",extensions:["cr"],load(){return F(()=>import("./crystal-594a913c.js"),[]).then(t=>J(t.crystal))}}),j.of({name:"D",extensions:["d"],load(){return F(()=>import("./d-76ab4361.js"),[]).then(t=>J(t.d))}}),j.of({name:"Dart",extensions:["dart"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.dart))}}),j.of({name:"diff",extensions:["diff","patch"],load(){return F(()=>import("./diff-1bf42f34.js"),[]).then(t=>J(t.diff))}}),j.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return F(()=>import("./dockerfile-c8a8b9da.js"),["admin/assets/dockerfile-c8a8b9da.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>J(t.dockerFile))}}),j.of({name:"DTD",extensions:["dtd"],load(){return F(()=>import("./dtd-8d673f3f.js"),[]).then(t=>J(t.dtd))}}),j.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return F(()=>import("./dylan-94e68d48.js"),[]).then(t=>J(t.dylan))}}),j.of({name:"EBNF",load(){return F(()=>import("./ebnf-9a58f677.js"),[]).then(t=>J(t.ebnf))}}),j.of({name:"ECL",extensions:["ecl"],load(){return F(()=>import("./ecl-8c848bde.js"),[]).then(t=>J(t.ecl))}}),j.of({name:"edn",extensions:["edn"],load(){return F(()=>import("./clojure-46c215dd.js"),[]).then(t=>J(t.clojure))}}),j.of({name:"Eiffel",extensions:["e"],load(){return F(()=>import("./eiffel-c812667a.js"),[]).then(t=>J(t.eiffel))}}),j.of({name:"Elm",extensions:["elm"],load(){return F(()=>import("./elm-389625db.js"),[]).then(t=>J(t.elm))}}),j.of({name:"Erlang",extensions:["erl"],load(){return F(()=>import("./erlang-72724d5c.js"),[]).then(t=>J(t.erlang))}}),j.of({name:"Esper",load(){return F(()=>import("./sql-62feda9f.js"),[]).then(t=>J(t.esper))}}),j.of({name:"Factor",extensions:["factor"],load(){return F(()=>import("./factor-7bfcb4fc.js"),["admin/assets/factor-7bfcb4fc.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>J(t.factor))}}),j.of({name:"FCL",load(){return F(()=>import("./fcl-d5e95185.js"),[]).then(t=>J(t.fcl))}}),j.of({name:"Forth",extensions:["forth","fth","4th"],load(){return F(()=>import("./forth-a6c07be1.js"),[]).then(t=>J(t.forth))}}),j.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return F(()=>import("./fortran-b746f455.js"),[]).then(t=>J(t.fortran))}}),j.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return F(()=>import("./mllike-1f866598.js"),[]).then(t=>J(t.fSharp))}}),j.of({name:"Gas",extensions:["s"],load(){return F(()=>import("./gas-a519128b.js"),[]).then(t=>J(t.gas))}}),j.of({name:"Gherkin",extensions:["feature"],load(){return F(()=>import("./gherkin-0efe02ac.js"),[]).then(t=>J(t.gherkin))}}),j.of({name:"Go",extensions:["go"],load(){return F(()=>import("./go-8a088acb.js"),[]).then(t=>J(t.go))}}),j.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return F(()=>import("./groovy-4592a472.js"),[]).then(t=>J(t.groovy))}}),j.of({name:"Haskell",extensions:["hs"],load(){return F(()=>import("./haskell-b620645c.js"),[]).then(t=>J(t.haskell))}}),j.of({name:"Haxe",extensions:["hx"],load(){return F(()=>import("./haxe-7215664e.js"),[]).then(t=>J(t.haxe))}}),j.of({name:"HXML",extensions:["hxml"],load(){return F(()=>import("./haxe-7215664e.js"),[]).then(t=>J(t.hxml))}}),j.of({name:"HTTP",load(){return F(()=>import("./http-e091c18d.js"),[]).then(t=>J(t.http))}}),j.of({name:"IDL",extensions:["pro"],load(){return F(()=>import("./idl-91cb7788.js"),[]).then(t=>J(t.idl))}}),j.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return F(()=>import("./javascript-987cbb73.js"),[]).then(t=>J(t.jsonld))}}),j.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return F(()=>import("./jinja2-580c43a7.js"),[]).then(t=>J(t.jinja2))}}),j.of({name:"Julia",extensions:["jl"],load(){return F(()=>import("./julia-2f39a740.js"),[]).then(t=>J(t.julia))}}),j.of({name:"Kotlin",extensions:["kt"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.kotlin))}}),j.of({name:"LESS",extensions:["less"],load(){return F(()=>import("./css-ae0ae1d0.js"),[]).then(t=>J(t.less))}}),j.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return F(()=>import("./livescript-a3318e59.js"),[]).then(t=>J(t.liveScript))}}),j.of({name:"Lua",extensions:["lua"],load(){return F(()=>import("./lua-ee237842.js"),[]).then(t=>J(t.lua))}}),j.of({name:"mIRC",extensions:["mrc"],load(){return F(()=>import("./mirc-c043bc0a.js"),[]).then(t=>J(t.mirc))}}),j.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return F(()=>import("./mathematica-4db1ec63.js"),[]).then(t=>J(t.mathematica))}}),j.of({name:"Modelica",extensions:["mo"],load(){return F(()=>import("./modelica-c19c47b8.js"),[]).then(t=>J(t.modelica))}}),j.of({name:"MUMPS",extensions:["mps"],load(){return F(()=>import("./mumps-82310ef4.js"),[]).then(t=>J(t.mumps))}}),j.of({name:"Mbox",extensions:["mbox"],load(){return F(()=>import("./mbox-b40e52ca.js"),[]).then(t=>J(t.mbox))}}),j.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return F(()=>import("./nginx-0992a7c8.js"),[]).then(t=>J(t.nginx))}}),j.of({name:"NSIS",extensions:["nsh","nsi"],load(){return F(()=>import("./nsis-8fd66a07.js"),["admin/assets/nsis-8fd66a07.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>J(t.nsis))}}),j.of({name:"NTriples",extensions:["nt","nq"],load(){return F(()=>import("./ntriples-8490b09b.js"),[]).then(t=>J(t.ntriples))}}),j.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.objectiveC))}}),j.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.objectiveCpp))}}),j.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return F(()=>import("./mllike-1f866598.js"),[]).then(t=>J(t.oCaml))}}),j.of({name:"Octave",extensions:["m"],load(){return F(()=>import("./octave-3f516c2f.js"),[]).then(t=>J(t.octave))}}),j.of({name:"Oz",extensions:["oz"],load(){return F(()=>import("./oz-a640e05c.js"),[]).then(t=>J(t.oz))}}),j.of({name:"Pascal",extensions:["p","pas"],load(){return F(()=>import("./pascal-bcac1c04.js"),[]).then(t=>J(t.pascal))}}),j.of({name:"Perl",extensions:["pl","pm"],load(){return F(()=>import("./perl-a9455719.js"),[]).then(t=>J(t.perl))}}),j.of({name:"Pig",extensions:["pig"],load(){return F(()=>import("./pig-3510ca5f.js"),[]).then(t=>J(t.pig))}}),j.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return F(()=>import("./powershell-c2c54630.js"),[]).then(t=>J(t.powerShell))}}),j.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return F(()=>import("./properties-aba123c1.js"),[]).then(t=>J(t.properties))}}),j.of({name:"ProtoBuf",extensions:["proto"],load(){return F(()=>import("./protobuf-1713bf80.js"),[]).then(t=>J(t.protobuf))}}),j.of({name:"Puppet",extensions:["pp"],load(){return F(()=>import("./puppet-3229bfe4.js"),[]).then(t=>J(t.puppet))}}),j.of({name:"Q",extensions:["q"],load(){return F(()=>import("./q-887a0cfa.js"),[]).then(t=>J(t.q))}}),j.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return F(()=>import("./r-3ca97919.js"),[]).then(t=>J(t.r))}}),j.of({name:"RPM Changes",load(){return F(()=>import("./rpm-aa81b362.js"),[]).then(t=>J(t.rpmChanges))}}),j.of({name:"RPM Spec",extensions:["spec"],load(){return F(()=>import("./rpm-aa81b362.js"),[]).then(t=>J(t.rpmSpec))}}),j.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],load(){return F(()=>import("./ruby-e88f1f8d.js"),[]).then(t=>J(t.ruby))}}),j.of({name:"SAS",extensions:["sas"],load(){return F(()=>import("./sas-4096b960.js"),[]).then(t=>J(t.sas))}}),j.of({name:"Sass",extensions:["sass"],load(){return F(()=>import("./sass-fe9762d1.js"),["admin/assets/sass-fe9762d1.js","admin/assets/css-ae0ae1d0.js"]).then(t=>J(t.sass))}}),j.of({name:"Scala",extensions:["scala"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.scala))}}),j.of({name:"Scheme",extensions:["scm","ss"],load(){return F(()=>import("./scheme-ca3e6863.js"),[]).then(t=>J(t.scheme))}}),j.of({name:"SCSS",extensions:["scss"],load(){return F(()=>import("./css-ae0ae1d0.js"),[]).then(t=>J(t.sCSS))}}),j.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return F(()=>import("./shell-86dd1d99.js"),[]).then(t=>J(t.shell))}}),j.of({name:"Sieve",extensions:["siv","sieve"],load(){return F(()=>import("./sieve-4b1eb6fb.js"),[]).then(t=>J(t.sieve))}}),j.of({name:"Smalltalk",extensions:["st"],load(){return F(()=>import("./smalltalk-b41561ee.js"),[]).then(t=>J(t.smalltalk))}}),j.of({name:"Solr",load(){return F(()=>import("./solr-7928d730.js"),[]).then(t=>J(t.solr))}}),j.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return F(()=>import("./mllike-1f866598.js"),[]).then(t=>J(t.sml))}}),j.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return F(()=>import("./sparql-71156930.js"),[]).then(t=>J(t.sparql))}}),j.of({name:"Spreadsheet",alias:["excel","formula"],load(){return F(()=>import("./spreadsheet-9f4dc4c6.js"),[]).then(t=>J(t.spreadsheet))}}),j.of({name:"Squirrel",extensions:["nut"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.squirrel))}}),j.of({name:"Stylus",extensions:["styl"],load(){return F(()=>import("./stylus-2d29a832.js"),[]).then(t=>J(t.stylus))}}),j.of({name:"Swift",extensions:["swift"],load(){return F(()=>import("./swift-b6dd686e.js"),[]).then(t=>J(t.swift))}}),j.of({name:"sTeX",load(){return F(()=>import("./stex-611747c4.js"),[]).then(t=>J(t.stex))}}),j.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return F(()=>import("./stex-611747c4.js"),[]).then(t=>J(t.stex))}}),j.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return F(()=>import("./verilog-701759f4.js"),[]).then(t=>J(t.verilog))}}),j.of({name:"Tcl",extensions:["tcl"],load(){return F(()=>import("./tcl-9a9d281f.js"),[]).then(t=>J(t.tcl))}}),j.of({name:"Textile",extensions:["textile"],load(){return F(()=>import("./textile-27197230.js"),[]).then(t=>J(t.textile))}}),j.of({name:"TiddlyWiki",load(){return F(()=>import("./tiddlywiki-053c4b39.js"),[]).then(t=>J(t.tiddlyWiki))}}),j.of({name:"Tiki wiki",load(){return F(()=>import("./tiki-f8970e14.js"),[]).then(t=>J(t.tiki))}}),j.of({name:"TOML",extensions:["toml"],load(){return F(()=>import("./toml-fed73c05.js"),[]).then(t=>J(t.toml))}}),j.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return F(()=>import("./troff-1c50c70f.js"),[]).then(t=>J(t.troff))}}),j.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return F(()=>import("./ttcn-a4846d83.js"),[]).then(t=>J(t.ttcn))}}),j.of({name:"TTCN_CFG",extensions:["cfg"],load(){return F(()=>import("./ttcn-cfg-0c96bcc1.js"),[]).then(t=>J(t.ttcnCfg))}}),j.of({name:"Turtle",extensions:["ttl"],load(){return F(()=>import("./turtle-b550492d.js"),[]).then(t=>J(t.turtle))}}),j.of({name:"Web IDL",extensions:["webidl"],load(){return F(()=>import("./webidl-beade871.js"),[]).then(t=>J(t.webIDL))}}),j.of({name:"VB.NET",extensions:["vb"],load(){return F(()=>import("./vb-e9655ff4.js"),[]).then(t=>J(t.vb))}}),j.of({name:"VBScript",extensions:["vbs"],load(){return F(()=>import("./vbscript-e62417ba.js"),[]).then(t=>J(t.vbScript))}}),j.of({name:"Velocity",extensions:["vtl"],load(){return F(()=>import("./velocity-5bdd1b6a.js"),[]).then(t=>J(t.velocity))}}),j.of({name:"Verilog",extensions:["v"],load(){return F(()=>import("./verilog-701759f4.js"),[]).then(t=>J(t.verilog))}}),j.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return F(()=>import("./vhdl-288f0dde.js"),[]).then(t=>J(t.vhdl))}}),j.of({name:"XQuery",extensions:["xy","xquery"],load(){return F(()=>import("./xquery-f004ff15.js"),[]).then(t=>J(t.xQuery))}}),j.of({name:"Yacas",extensions:["ys"],load(){return F(()=>import("./yacas-d031e2ab.js"),[]).then(t=>J(t.yacas))}}),j.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return F(()=>import("./yaml-95012b83.js"),[]).then(t=>J(t.yaml))}}),j.of({name:"Z80",extensions:["z80"],load(){return F(()=>import("./z80-bb7f2654.js"),[]).then(t=>J(t.z80))}}),j.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return F(()=>import("./mscgen-96577242.js"),[]).then(t=>J(t.mscgen))}}),j.of({name:"X",extensions:["xu"],load(){return F(()=>import("./mscgen-96577242.js"),[]).then(t=>J(t.xu))}}),j.of({name:"MsGenny",extensions:["msgenny"],load(){return F(()=>import("./mscgen-96577242.js"),[]).then(t=>J(t.msgenny))}}),j.of({name:"Vue",extensions:["vue"],load(){return F(()=>import("./index-4d4d5365.js"),["admin/assets/index-4d4d5365.js","admin/assets/index-840c0c5e.js","admin/assets/index-7d71be5a.js","admin/assets/index-5955c4a9.js","admin/assets/index-5680478d.js","admin/assets/index-2c04fb19.js"]).then(t=>t.vue())}}),j.of({name:"Angular Template",load(){return F(()=>import("./index-e0c729cf.js"),["admin/assets/index-e0c729cf.js","admin/assets/index-840c0c5e.js","admin/assets/index-7d71be5a.js","admin/assets/index-5955c4a9.js","admin/assets/index-5680478d.js","admin/assets/index-2c04fb19.js"]).then(t=>t.angular())}})],mv=["params","noinit","required","skip","assert_continues","unsafe","manualfree","heap","nonnull","primary","inline","direct_array_access","live","flag","noinline","noreturn","typedef","console","sql","table","deprecated","deprecated_after","export","callconv"],df="[\\w_]+",kM=new RegExp(`^(${mv.join("|")})]$`),gv=`(${df}: ${df})`,SM=new RegExp(`^${gv}]$`),CM=new RegExp(`^(${mv.join("|")}(; ?)?){2,}]$`),EM=new RegExp(`^((${gv})(; )?){2,}]$`),AM=new RegExp(`^if ${df} \\??]`);class Dm{constructor(e,n,r,i,o){tn(this,"insideString",!1);tn(this,"stringQuote",null);tn(this,"expectedImportName",!1);tn(this,"knownImports",new Set);this.indentation=e,this.column=n,this.type=r,this.align=i,this.prev=o}}const Im=new Set(["as","asm","assert","atomic","break","const","continue","defer","else","enum","fn","for","go","goto","if","import","in","interface","is","isreftype","lock","match","module","mut","none","or","pub","return","rlock","select","shared","sizeof","static","struct","spawn","type","typeof","union","unsafe","volatile","__offsetof"]),OM=new Set(["sql","chan","thread"]),TM=new Set(["true","false","nil","print","println","exit","panic","error","dump"]),LM=new Set(["bool","string","i8","i16","int","i64","i128","u8","u16","u32","u64","u128","rune","f32","f64","isize","usize","voidptr","any"]);function MM(){const e=/[+\-*&^%:=<>!?|\/]/;let n=null;function r(h){return h.eatWhile(/[\w$_\xa1-\uffff]/),h.current()}function i(h,d){const g=h.next();if(g===null)return null;if(d.context.insideString&&g==="}")return h.eat("}"),d.tokenize=a(d.context.stringQuote),"end-interpolation";if(g==='"'||g==="'"||g==="`")return d.tokenize=a(g),d.tokenize(h,d);if(g==="."&&!h.match(/^[0-9]+([eE][\-+]?[0-9]+)?/))return"operator";if(g==="["&&(h.match(kM)||h.match(SM)||h.match(CM)||h.match(EM)||h.match(AM)))return"attribute";if(/[\d.]/.test(g))return g==="0"?h.match(/^[xX][0-9a-fA-F_]+/)||h.match(/^o[0-7_]+/)||h.match(/^b[0-1_]+/):h.match(/^[0-9_]*\.?[0-9_]*([eE][\-+]?[0-9_]+)?/),"number";if(/[\[\]{}(),;:.]/.test(g))return n=g,null;if(g==="/"){if(h.eat("*"))return d.tokenize=c,c(h,d);if(h.eat("/"))return h.skipToEnd(),"comment"}if(e.test(g))return h.eatWhile(e),"operator";if(g==="@")return r(h),"at-identifier";if(g==="$"){const b=r(h).slice(1);return Im.has(b)?"keyword":"compile-time-identifier"}h.backUp(2);const v=h.next()===".";h.next();const m=r(h);if(m==="import"&&(d.context.expectedImportName=!0),Im.has(m)||OM.has(m))return"keyword";if(TM.has(m))return"atom";if(LM.has(m))return"builtin";if(m.length>0&&m[0].toUpperCase()===m[0])return"type";const p=h.peek();if(p==="("||p==="<")return"function";if(p==="["){h.next();const b=h.next();if(h.backUp(2),b!=null&&b.match(/[A-Z]/i))return"function"}return v?"property":d.context.expectedImportName&&h.peek()!="."?(d.context.expectedImportName=!1,d.context.knownImports===void 0&&(d.context.knownImports=new Set),d.context.knownImports.add(m),"import-name"):d.context.knownImports.has(m)&&h.peek()=="."?"import-name":"variable"}function o(h,d){return h.match("}")?(d.tokenize=a(d.context.stringQuote),"end-interpolation"):(d.tokenize=i,d.tokenize(h,d))}function s(h,d){const g=h.next();if(g===" ")return d.tokenize=a(d.context.stringQuote),d.tokenize(h,d);if(g===".")return"operator";const v=r(h);if(v[0].toLowerCase()===v[0].toUpperCase())return d.tokenize=a(d.context.stringQuote),d.tokenize(h,d);const m=h.next();return h.backUp(1),m==="."?d.tokenize=s:d.tokenize=a(d.context.stringQuote),"variable"}function l(h,d){let g=h.next();return g==="$"&&h.eat("{")?(d.tokenize=o,"start-interpolation"):g==="$"?(d.tokenize=s,"start-interpolation"):"string"}function a(h){return function(d,g){g.context.insideString=!0,g.context.stringQuote=h;let v="",m=!1,p=!1;for(;(v=d.next())!=null;){if(v===h&&!m){p=!0;break}if(v==="$"&&!m&&d.eat("{"))return g.tokenize=l,d.backUp(2),"string";if(v==="$"&&!m)return g.tokenize=l,d.backUp(1),"string";m=!m&&v==="\\"}return(p||m)&&(g.tokenize=i),g.context.insideString=!1,g.context.stringQuote=null,"string"}}function c(h,d){let g=!1,v;for(;v=h.next();){if(v==="/"&&g){d.tokenize=i;break}g=v==="*"}return"comment"}function u(h,d,g){return h.context=new Dm(h.indention,d,g,null,h.context)}function f(h){if(!h.context.prev)return;const d=h.context.type;return(d===")"||d==="]"||d==="}")&&(h.indention=h.context.indentation),h.context=h.context.prev,h.context}return{startState:function(){return{tokenize:null,context:new Dm(0,0,"top",!1),indention:0,startOfLine:!0}},token:function(h,d){const g=d.context;if(h.sol()&&(g.align==null&&(g.align=!1),d.indention=h.indentation(),d.startOfLine=!0),h.eatSpace())return null;n=null;const v=(d.tokenize||i)(h,d);return v==="comment"||(g.align==null&&(g.align=!0),n==="{"?u(d,h.column(),"}"):n==="["?u(d,h.column(),"]"):n==="("?u(d,h.column(),")"):(n==="}"&&g.type==="}"||n===g.type)&&f(d),d.startOfLine=!1),v},indent:function(h,d){if(h.tokenize!==i&&h.tokenize!=null||h.context.type=="top")return 0;const g=h.context,m=d.charAt(0)===g.type;return g.align?g.column+(m?0:1):g.indentation+(m?0:4)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}const RM="#e5c07b",$m="#e06c75",PM="#56b6c2",DM="#ffffff",Cl="#abb2bf",pf="#7d8799",IM="#61afef",$M="#98c379",Bm="#d19a66",BM="#c678dd",NM="#21252b",Nm="#2c313a",jm="#282c34",Ic="#353a42",jM="#3E4451",Fm="#528bff",FM=qe.theme({"&":{color:Cl,backgroundColor:jm},".cm-content":{caretColor:Fm},".cm-cursor, .cm-dropCursor":{borderLeftColor:Fm},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:jM},".cm-panels":{backgroundColor:NM,color:Cl},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:jm,color:pf,border:"none"},".cm-activeLineGutter":{backgroundColor:Nm},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Ic},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Ic,borderBottomColor:Ic},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Nm,color:Cl}}},{dark:!0}),HM=Ts.define([{tag:q.keyword,color:BM},{tag:[q.name,q.deleted,q.character,q.propertyName,q.macroName],color:$m},{tag:[q.function(q.variableName),q.labelName],color:IM},{tag:[q.color,q.constant(q.name),q.standard(q.name)],color:Bm},{tag:[q.definition(q.name),q.separator],color:Cl},{tag:[q.typeName,q.className,q.number,q.changed,q.annotation,q.modifier,q.self,q.namespace],color:RM},{tag:[q.operator,q.operatorKeyword,q.url,q.escape,q.regexp,q.link,q.special(q.string)],color:PM},{tag:[q.meta,q.comment],color:pf},{tag:q.strong,fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.link,color:pf,textDecoration:"underline"},{tag:q.heading,fontWeight:"bold",color:$m},{tag:[q.atom,q.bool,q.special(q.variableName)],color:Bm},{tag:[q.processingInstruction,q.string,q.inserted],color:$M},{tag:q.invalid,color:DM}]),VM=[FM,Cb(HM)];var mf={},UM={get exports(){return mf},set exports(t){mf=t}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={d:(p,b)=>{for(var y in b)n.o(b,y)&&!n.o(p,y)&&Object.defineProperty(p,y,{enumerable:!0,get:b[y]})},o:(p,b)=>Object.prototype.hasOwnProperty.call(p,b),r:p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}},r={};function i(p){var b=document.createEvent("MouseEvents");b.initEvent("click",!0,!1),p.dispatchEvent(b)}function o(p){var b=document.createEvent("HTMLEvents");b.initEvent("change",!0,!1),p.dispatchEvent(b)}function s(p){var b=document.createEvent("FocusEvent");b.initEvent("focusin",!0,!1),p.dispatchEvent(b)}function l(p){var b=document.createEvent("FocusEvent");b.initEvent("focusout",!0,!1),p.dispatchEvent(b)}function a(p){var b=document.createEvent("UIEvent");b.initEvent("modalclose",!0,!1),p.dispatchEvent(b)}function c(p,b){b=="invalid"?(h(this.dropdown,"invalid"),d(this.dropdown,"valid")):(h(this.dropdown,"valid"),d(this.dropdown,"invalid"))}function u(p,b){return p[b]!=null?p[b]:p.getAttribute(b)}function f(p,b){return!!p&&p.classList.contains(b)}function h(p,b){if(p)return p.classList.add(b)}function d(p,b){if(p)return p.classList.remove(b)}n.r(r),n.d(r,{bind:()=>m,default:()=>v});var g={data:null,searchable:!1,showSelectedItems:!1};function v(p,b){this.el=p,this.config=Object.assign({},g,b||{}),this.data=this.config.data,this.selectedOptions=[],this.placeholder=u(this.el,"placeholder")||this.config.placeholder||"Select an option",this.searchtext=u(this.el,"searchtext")||this.config.searchtext||"Search",this.selectedtext=u(this.el,"selectedtext")||this.config.selectedtext||"selected",this.dropdown=null,this.multiple=u(this.el,"multiple"),this.disabled=u(this.el,"disabled"),this.create()}function m(p,b){return new v(p,b)}return v.prototype.create=function(){this.el.style.opacity="0",this.el.style.width="0",this.el.style.padding="0",this.el.style.height="0",this.data?this.processData(this.data):this.extractData(),this.renderDropdown(),this.bindEvent()},v.prototype.processData=function(p){var b=[];p.forEach(y=>{b.push({data:y,attributes:{selected:!!y.selected,disabled:!!y.disabled,optgroup:y.value=="optgroup"}})}),this.options=b},v.prototype.extractData=function(){var p=this.el.querySelectorAll("option,optgroup"),b=[],y=[],w=[];p.forEach(x=>{if(x.tagName=="OPTGROUP")var S={text:x.label,value:"optgroup"};else S={text:x.innerText,value:x.value,selected:x.getAttribute("selected")!=null||this.el.value==x.value,disabled:x.getAttribute("disabled")!=null};var C={selected:x.selected,disabled:x.disabled,optgroup:x.tagName=="OPTGROUP"};b.push(S),y.push({data:S,attributes:C})}),this.data=b,this.options=y,this.options.forEach(x=>{x.attributes.selected&&w.push(x)}),this.selectedOptions=w},v.prototype.renderDropdown=function(){var p=["nice-select",u(this.el,"class")||"",this.disabled?"disabled":"",this.multiple?"has-multiple":""];let b='<div class="nice-select-search-box">';b+=`<input type="text" class="nice-select-search" placeholder="${this.searchtext}..." title="search"/>`,b+="</div>";var y=`<div class="${p.join(" ")}" tabindex="${this.disabled?null:0}">`;y+=`<span class="${this.multiple?"multiple-options":"current"}"></span>`,y+='<div class="nice-select-dropdown">',y+=`${this.config.searchable?b:""}`,y+='<ul class="list"></ul>',y+="</div>",y+="</div>",this.el.insertAdjacentHTML("afterend",y),this.dropdown=this.el.nextElementSibling,this._renderSelectedItems(),this._renderItems()},v.prototype._renderSelectedItems=function(){if(this.multiple){var p="";this.config.showSelectedItems||this.config.showSelectedItems||window.getComputedStyle(this.dropdown).width=="auto"||this.selectedOptions.length<2?(this.selectedOptions.forEach(function(y){p+=`<span class="current">${y.data.text}</span>`}),p=p==""?this.placeholder:p):p=this.selectedOptions.length+" "+this.selectedtext,this.dropdown.querySelector(".multiple-options").innerHTML=p}else{var b=this.selectedOptions.length>0?this.selectedOptions[0].data.text:this.placeholder;this.dropdown.querySelector(".current").innerHTML=b}},v.prototype._renderItems=function(){var p=this.dropdown.querySelector("ul");this.options.forEach(b=>{p.appendChild(this._renderItem(b))})},v.prototype._renderItem=function(p){var b=document.createElement("li");if(b.innerHTML=p.data.text,p.attributes.optgroup)h(b,"optgroup");else{b.setAttribute("data-value",p.data.value);var y=["option",p.attributes.selected?"selected":null,p.attributes.disabled?"disabled":null];b.addEventListener("click",this._onItemClicked.bind(this,p)),b.classList.add(...y)}return p.element=b,b},v.prototype.update=function(){if(this.extractData(),this.dropdown){var p=f(this.dropdown,"open");this.dropdown.parentNode.removeChild(this.dropdown),this.create(),p&&i(this.dropdown)}u(this.el,"disabled")?this.disable():this.enable()},v.prototype.disable=function(){this.disabled||(this.disabled=!0,h(this.dropdown,"disabled"))},v.prototype.enable=function(){this.disabled&&(this.disabled=!1,d(this.dropdown,"disabled"))},v.prototype.clear=function(){this.resetSelectValue(),this.selectedOptions=[],this._renderSelectedItems(),this.update(),o(this.el)},v.prototype.destroy=function(){this.dropdown&&(this.dropdown.parentNode.removeChild(this.dropdown),this.el.style.display="")},v.prototype.bindEvent=function(){this.dropdown.addEventListener("click",this._onClicked.bind(this)),this.dropdown.addEventListener("keydown",this._onKeyPressed.bind(this)),this.dropdown.addEventListener("focusin",s.bind(this,this.el)),this.dropdown.addEventListener("focusout",l.bind(this,this.el)),this.el.addEventListener("invalid",c.bind(this,this.el,"invalid")),window.addEventListener("click",this._onClickedOutside.bind(this)),this.config.searchable&&this._bindSearchEvent()},v.prototype._bindSearchEvent=function(){var p=this.dropdown.querySelector(".nice-select-search");p&&p.addEventListener("click",function(b){return b.stopPropagation(),!1}),p.addEventListener("input",this._onSearchChanged.bind(this))},v.prototype._onClicked=function(p){var b,y;if(p.preventDefault(),f(this.dropdown,"open")?this.multiple||(d(this.dropdown,"open"),a(this.el)):(h(this.dropdown,"open"),b=this.el,(y=document.createEvent("UIEvent")).initEvent("modalopen",!0,!1),b.dispatchEvent(y)),f(this.dropdown,"open")){var w=this.dropdown.querySelector(".nice-select-search");w&&(w.value="",w.focus());var x=this.dropdown.querySelector(".focus");d(x,"focus"),h(x=this.dropdown.querySelector(".selected"),"focus"),this.dropdown.querySelectorAll("ul li").forEach(function(S){S.style.display=""})}else this.dropdown.focus()},v.prototype._onItemClicked=function(p,b){var y=b.target;f(y,"disabled")||(this.multiple?f(y,"selected")?(d(y,"selected"),this.selectedOptions.splice(this.selectedOptions.indexOf(p),1),this.el.querySelector(`option[value="${y.dataset.value}"]`).removeAttribute("selected")):(h(y,"selected"),this.selectedOptions.push(p)):(this.selectedOptions.forEach(function(w){d(w.element,"selected")}),h(y,"selected"),this.selectedOptions=[p]),this._renderSelectedItems(),this.updateSelectValue())},v.prototype.updateSelectValue=function(){if(this.multiple){var p=this.el;this.selectedOptions.forEach(function(b){var y=p.querySelector(`option[value="${b.data.value}"]`);y&&y.setAttribute("selected",!0)})}else this.selectedOptions.length>0&&(this.el.value=this.selectedOptions[0].data.value);o(this.el)},v.prototype.resetSelectValue=function(){if(this.multiple){var p=this.el;this.selectedOptions.forEach(function(b){var y=p.querySelector(`option[value="${b.data.value}"]`);y&&y.removeAttribute("selected")})}else this.selectedOptions.length>0&&(this.el.selectedIndex=-1);o(this.el)},v.prototype._onClickedOutside=function(p){this.dropdown.contains(p.target)||(d(this.dropdown,"open"),a(this.el))},v.prototype._onKeyPressed=function(p){var b=this.dropdown.querySelector(".focus"),y=f(this.dropdown,"open");if(p.keyCode==13)i(y?b:this.dropdown);else if(p.keyCode==40){if(y){var w=this._findNext(b);w&&(d(this.dropdown.querySelector(".focus"),"focus"),h(w,"focus"))}else i(this.dropdown);p.preventDefault()}else if(p.keyCode==38){if(y){var x=this._findPrev(b);x&&(d(this.dropdown.querySelector(".focus"),"focus"),h(x,"focus"))}else i(this.dropdown);p.preventDefault()}else if(p.keyCode==27&&y)i(this.dropdown);else if(p.keyCode===32&&y)return!1;return!1},v.prototype._findNext=function(p){for(p=p?p.nextElementSibling:this.dropdown.querySelector(".list .option");p;){if(!f(p,"disabled")&&p.style.display!="none")return p;p=p.nextElementSibling}return null},v.prototype._findPrev=function(p){for(p=p?p.previousElementSibling:this.dropdown.querySelector(".list .option:last-child");p;){if(!f(p,"disabled")&&p.style.display!="none")return p;p=p.previousElementSibling}return null},v.prototype._onSearchChanged=function(p){var b=f(this.dropdown,"open"),y=p.target.value;if((y=y.toLowerCase())=="")this.options.forEach(function(x){x.element.style.display=""});else if(b){var w=new RegExp(y);this.options.forEach(function(x){var S=x.data.text.toLowerCase(),C=w.test(S);x.element.style.display=C?"":"none"})}this.dropdown.querySelectorAll(".focus").forEach(function(x){d(x,"focus")}),h(this._findNext(null),"focus")},r})())})(UM);const yv=Ln(mf);const zM="// put your code here"+`
`.repeat(4),qM=Ia.define(MM());class WM{constructor({data:e,api:n}){tn(this,"data");tn(this,"api");tn(this,"codemirrorState");tn(this,"codemirrorView");tn(this,"_wrapper");this.data=e,this.api=n,this.data.code==null&&(this.data.code=zM),this.data.language==null&&(this.data.language="BASH")}static get toolbox(){return{title:"Code",icon:'<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M1.293,11.293l4-4A1,1,0,1,1,6.707,8.707L3.414,12l3.293,3.293a1,1,0,1,1-1.414,1.414l-4-4A1,1,0,0,1,1.293,11.293Zm17.414-4a1,1,0,1,0-1.414,1.414L20.586,12l-3.293,3.293a1,1,0,1,0,1.414,1.414l4-4a1,1,0,0,0,0-1.414ZM13.039,4.726l-4,14a1,1,0,0,0,.686,1.236A1.053,1.053,0,0,0,10,20a1,1,0,0,0,.961-.726l4-14a1,1,0,1,0-1.922-.548Z"/></svg>'}}onPaste(){}render(){const e=document.createElement("div");return e.classList.add("code-editor"),e.addEventListener("keydown",n=>n.stopPropagation()),e.addEventListener("paste",n=>n.stopPropagation()),this._wrapper=e,this._createCodemirror(),e}save(){return{language:this.data.language,code:this.codemirrorView.state.doc.sliceString(0)}}renderSettings(){const e=document.createElement("div");let n=document.createElement("select");n.classList.add("small");var r=document.createElement("option");r.value="BASH",r.text="BASH",r.selected=!0,n.appendChild(r);let i=!1;for(var o=0;o<mi.length;o++){if(mi[o].name.startsWith("V")&&i==!1){var r=document.createElement("option");r.value="V",r.text="V",n.appendChild(r),i=!0}var r=document.createElement("option");r.value=mi[o].name,r.text=mi[o].name,mi[o].name==this.data.language&&(r.selected=!0),n.appendChild(r)}return n.addEventListener("change",async s=>{const l=s.target.value;mi.find(c=>c.name==l)?(this.data.code=this.codemirrorView.state.doc.sliceString(0),this.data.language=l,this.codemirrorView.destroy(),this._createCodemirror()):l=="V"&&(this.data.code=this.codemirrorView.state.doc.sliceString(0),this.data.language="V",this.codemirrorView.destroy(),this._createCodemirror())}),e.appendChild(n),new yv(n,{searchable:!0,placeholder:"Language..."}),e}async _createCodemirror(){let e=mi.find(i=>i.name==this.data.language);e?e=await e.load():e={extension:qM};const n=rt.create({doc:this.data.code,extensions:[fb.of([...WL,...rL,KL]),PO(),$O(),JT(),yT(),Cb(wT,{fallback:!0}),SO(),AT(),e.extension,VM,qe.lineWrapping,Pa.of("    "),rt.tabSize.of(4)]}),r=new qe({state:n,parent:this._wrapper});this.codemirrorState=n,this.codemirrorView=r}}class KM{constructor({data:e,api:n}){tn(this,"data");tn(this,"api");tn(this,"_alert");this.data=e,this.api=n,this.data.typ==null&&(this.data.typ="info")}static get toolbox(){return{title:"Alert",icon:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="#000000" stroke-width="2"></path> <path d="M12 8L12 13" stroke="#000000" stroke-width="2" stroke-linecap="round"></path> <path d="M12 16V15.9888" stroke="#000000" stroke-width="2" stroke-linecap="round"></path> </g></svg>'}}static get contentless(){return!0}static get enableLineBreaks(){return!0}render(){const e=document.createElement("div");e.classList.add("cdx-block");const n=document.createElement("div");return n.classList.add("cdx-block"),n.classList.add("cdx-input"),n.classList.add("cdx-alert"),n.classList.add(this.data.typ),n.contentEditable="true",n.innerHTML=this.data.text||"",n.dataset.placeholder="Enter an alert",this._alert=n,e.appendChild(n),e}save(e){return Object.assign(this.data,{text:this._alert.innerHTML})}renderSettings(){const e=document.createElement("div"),n=document.createElement("p");n.classList.add("ce-popover-item__title"),n.style.padding="3px",n.style.marginBottom="1px",n.innerHTML="Alert type:",e.appendChild(n);const r=document.createElement("select");r.classList.add("small");let i=document.createElement("option");i.value="info",i.text="Info",i.selected=this.data.typ=="info",r.appendChild(i);let o=document.createElement("option");o.value="success",o.text="Success",o.selected=this.data.typ=="success",r.appendChild(o);let s=document.createElement("option");s.value="warn",s.text="Warn",s.selected=this.data.typ=="warn",r.appendChild(s);let l=document.createElement("option");return l.value="danger",l.text="Danger",l.selected=this.data.typ=="danger",r.appendChild(l),r.addEventListener("change",a=>{this._alert.classList.remove(this.data.typ),this.data.typ=a.target.value,this._alert.classList.add(this.data.typ)}),e.appendChild(r),new yv(r,{searchable:!1,placeholder:"Alert Type"}),e}}function JM(t,e,n,r){const i=new EditorJS({data:{blocks:e},holder:t,tools:{colors:{class:bM,config:{type:"text",customPicker:!0}},heading:{class:hM,config:{defaultLevel:2,levels:[1,2,3,4,5,6]}},paragraph:{class:iM,inlineToolbar:!0},linkTool:{class:nM,config:{endpoint:n.linkEndpoint}},image:{class:uM,config:{uploader:{async uploadByFile(o){const s=new FormData;s.append("image",o),s.append("article",window.location.pathname.split("/").pop());const l=await ht.post(n.uploadFile,s);return l.data.success&&(l.data.file.url=Zr+l.data.file.url),l.data},async uploadByUrl(o){return{success:1,file:{url:o}}}}}},list:{class:aM,inlineToolbar:!0,config:{defaultStyle:"ordered"}},code:{class:WM},inlineCode:{class:wM},alert:{class:KM,inlineToolbar:!0},quote:{class:sM,inlineToolbar:!0,config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}},table:{class:pM,inlineToolbar:!0,config:{withHeadings:!0}},embed:{class:eM}},logLevel:"ERROR",onReady:()=>{new gM(i)},autofocus:!0,onChange:r});return i}const GM=t=>(Ar("data-v-dcbd3acf"),t=t(),Or(),t),YM={class:"document"},XM=GM(()=>ke("div",{id:"editor"},null,-1)),QM=[XM],ZM=St({__name:"BlocksPreview",setup(t){const e=As(),n=eh(),r=Be(),i=async(o,s)=>{var l;if(s.type=="block-removed"){const c=s.detail.target.holder.querySelector("img");c&&c.src.startsWith(Zr)&&await e.removeImage(c.src)}if(s.type=="block-added"||s.type=="block-removed"||s.type=="block-changed"){const a=await((l=r.value)==null?void 0:l.save());a&&(e.blocks=a.blocks,await e.save(n.params.id))}};return pa(()=>{const o=wa;r.value=JM("editor",e.blocks,{linkEndpoint:o+"fetch-link",uploadFile:o+"upload-image",uploadUrl:o+"upload-image-url"},i)}),(o,s)=>(Me(),Ve("div",YM,QM))}});const eR=Zt(ZM,[["__scopeId","data-v-dcbd3acf"]]),Ha=t=>(Ar("data-v-1dc2f4a7"),t=t(),Or(),t),tR={class:"article-editor"},nR=Ha(()=>ke("h1",null,"Change Article",-1)),rR=Ha(()=>ke("label",{class:"formkit-label"},"Your current thumbnail",-1)),iR=["src"],oR={key:0,class:"error"},sR=Ha(()=>ke("hr",null,null,-1)),lR=Ha(()=>ke("h1",null,"Visibility",-1)),aR=St({__name:"ArticleEditor",props:{insideEditor:{type:Boolean}},setup(t){const e=t,n=or(),r=gn(),i=eh(),o=Be(!1),s=Be(""),l=Je(()=>n.get(i.params.id)),a=Be(l.value.category_id),c=Be(l.value.show?"Hide Article":"Show Article");async function u(v){s.value="";try{let m=await n.update(l.value.id,v),p=n.get(l.value.id);p.image_src&&(d.value=Zr+p.image_src),m&&e.insideEditor&&await As().save(l.value.id)}catch(m){s.value=m.response.data}finally{o.value=!1}}async function f(){try{await n.publish(l.value.id),c.value="Hide Article"}catch{}finally{o.value=!0}}async function h(){try{await n.changeVisibility(l.value.id),c.value=c.value=="Show Article"?"Hide Article":"Show Article"}catch{}finally{o.value=!0}}const d=Be(Zr+l.value.image_src),g=Je(()=>{let v=[{label:"[No Category]",value:0}];return r.categories.forEach(m=>{v.push({label:m.name,value:m.id})}),v});return(v,m)=>{const p=zn("FormKit");return Me(),Ve("div",tR,[nR,ae(p,{type:"form",onSubmit:u,"submit-label":"Update"},{default:ot(()=>[ae(p,{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Article Name",value:_e(l).name},null,8,["value"]),ae(p,{type:"select",label:"Article Category",name:"category_id",placeholder:"Select a category (not required)",modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=b=>a.value=b),options:_e(g)},null,8,["modelValue","options"]),ae(p,{type:"textarea",rows:"10",name:"description",id:"description",validation:"required",label:"Description",value:_e(l).description},null,8,["value"]),_e(l).thumbnail?(Me(),Ve(Ot,{key:0},[rR,ke("img",{alt:"your thumbnail",src:d.value},null,8,iR)],64)):$n("",!0),ae(p,{type:"file",accept:".png, .jpg, .jpeg","file-item-icon":"fileImage","no-files-icon":"fileImage",label:"New thumbnail",name:"thumbnail",help:"Add a thumnbnail image"})]),_:1}),s.value?(Me(),Ve("p",oR,Yt(s.value),1)):$n("",!0),sR,lR,ae(p,{type:"form",onSubmit:h,"submit-label":c.value},null,8,["submit-label"]),ae(p,{type:"form",onSubmit:f,"submit-label":"Publish"})])}}});const bv=Zt(aR,[["__scopeId","data-v-1dc2f4a7"]]),cR={class:"editor-container"},uR={class:"block-sidebar"},fR={class:"document-container"},hR=St({__name:"Edit",setup(t){return(e,n)=>(Me(),Ve("div",cR,[ke("div",uR,[ae(QL)]),ke("div",fR,[ae(eR)]),ae(bv,{"inside-editor":""})]))}});const dR=Zt(hR,[["__scopeId","data-v-5671bbff"]]);var gf={},pR={get exports(){return gf},set exports(t){gf=t}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return function(){var n={d:function(N,V){for(var ie in V)n.o(V,ie)&&!n.o(N,ie)&&Object.defineProperty(N,ie,{enumerable:!0,get:V[ie]})},o:function(N,V){return Object.prototype.hasOwnProperty.call(N,V)}},r={};n.d(r,{default:function(){return Ao}});const i="alwan",o="alwan__container",s="alwan__swatch",l="alwan__preset-button",a="alwan--collapse",c=document,u=c.documentElement,f="button",h="open",d="close",g="color",v="click",m="pointerdown",p="keydown",b="input",y="change",w="focusin",x="hex",S="rgb",C="hsl",_="hsv",A="--lw-color",M=[x,S,C],E="afterbegin",k=N=>typeof N=="string",L=N=>N.trim(),R=()=>{let N=[],V=(ie,fe,Te,Ie=!0)=>{fe.forEach(Ue=>{ie[(Ie?"add":"remove")+"EventListener"](Ue,Te)})};return{t(ie,fe,Te){k(fe)&&(fe=[fe]),N.push([ie,fe,Te]),V(ie,fe,Te)},i(){N.forEach(([ie,fe,Te])=>{V(ie,fe,Te,!1)}),N=[]}}},{parseFloat:O,parseInt:T,isFinite:P}=Number,{min:D,max:$,abs:G,round:ne,PI:ce}=Math,Pe=(N,V=100,ie=0)=>D($(N,ie),V),de=N=>(ne(N)%360+360)%360,{keys:U,assign:X,setPrototypeOf:Q,prototype:ue}=Object,xe=(N,V)=>{let ie=U(N);for(const fe of ie)V(N[fe],fe)},Oe=(N,V)=>!(!N||!V)&&U(N).every(ie=>N[ie]===V[ie]),pe=N=>N!=null,I=()=>c.body,B=(N,V=c,ie=!1)=>k(N)&&L(N)?V["querySelector"+(ie?"All":"")](N):N instanceof Element?N:null,H=(N,V,ie)=>{if(N&&V)return V.insertAdjacentElement(ie||"beforeend",N)},z=(N,V)=>{N.innerHTML=V},W=(N,V,ie,fe,Te)=>{const Ie=c.createElement(N||"div");return V&&(Ie.className=V),xe(fe||{},(Ue,ze)=>{ze==="html"?z(Ie,Ue):Ue&&Ie.setAttribute(ze,Ue)}),ie&&H(Ie,ie,Te),Ie},ee=N=>N===c?{x:0,y:0,top:0,left:0,right:u.clientWidth,bottom:u.clientHeight}:N.getBoundingClientRect(),le=N=>N.parentElement,te=(N,V)=>(le(V).replaceChild(N,V),N),Z=N=>{N&&N.remove()},Y=(N,V=[c])=>(N=le(N))&&N!==c.body?(/auto|scroll/.test(getComputedStyle(N).overflow)&&V.push(N),Y(N,V)):V,ye=(N,V,ie)=>{N&&pe(ie)&&N.style.setProperty(V,ie)},ge=(N,V=!0)=>{N.style.display=V?"":"none"},be=(N,V,ie)=>{k(V)&&(V=[V]),V.forEach(fe=>{fe&&N.classList.toggle(fe,ie)})},Ee=(N,V,ie,fe)=>W(f,"alwan__button "+N,V,X({type:f},ie),fe),je=(N,V,ie)=>{N.style.transform=`translate(${ne(V)}px,${ne(ie)}px)`},st=(N,V,ie,fe)=>W(b,"alwan__slider "+N,V,{type:"range",max:ie,step:fe}),Ye="top",lt="bottom",Bt="right",xn="left",Rr="start",Mn="center",ui="end",Nt={x:"width",y:"height"},cn={x:Bt,y:lt},Ls=(N,V,ie)=>{let fe,Te,Ie,Ue=R(),ze=!1;const $e=(he,oe=V)=>{V=oe;let{theme:Se,popover:we,target:Ce,position:Le,margin:Ke,id:xt,toggle:Xe,shared:at}=he,jt=B(Ce);k(xt)&&!at&&(N.id=xt),xe(V.u,({p:Lt})=>{Lt&&Lt(he,V)}),fe=V.m._,Ce=jt||fe,N.dataset.theme=Se,Xe||at||me(V,!0,!0),ge(fe,we||Xe||at),be(N,"alwan--popup",we),Ue.i(),Te=null,we?(Te=((Lt,ut,{A:_t,L:Oo})=>{let pr,Hh={[Ye]:[Ye,lt,Bt,xn],[lt]:[lt,Ye,Bt,xn],[Bt]:[Bt,xn,Ye,lt],[xn]:[xn,Bt,Ye,lt]},Vh={start:[Rr,Mn,ui],center:[Mn,Rr,ui],end:[ui,Mn,Rr]},Ga=5,[Ya,To]=k(Oo)?Oo.split("-"):[];return Hh[Ya]||(Ya=lt),To?Vh[To]||(To=Rr):To=Mn,_t=O(_t),P(_t)&&(Ga=_t),{m:Lt,H(){let Xa=ee(c),Qa=ee(Lt),Za=ee(ut);pr={x:null,y:null},Hh[Ya].some(Ni=>{let Kt=Ni===Ye||Ni===lt?"y":"x",Uh=Xa[Ni],zh=Qa[Ni],qh=Ga+Za[Nt[Kt]];if(qh<=G(Uh-zh))return pr[Kt]=zh+(Uh?Ga:-qh),Kt=Kt==="x"?"y":"x",Vh[To].some(ec=>{let Rs=Za[Nt[Kt]],{[Kt]:Wh,[cn[Kt]]:Ps}=Qa,Kh=Xa[cn[Kt]]-Wh,tc=(Rs+Qa[Nt[Kt]])/2;return ec===Rr&&Rs<=Kh?(pr[Kt]=Wh,!0):ec===Mn&&tc<=Ps&&tc<=Kh?(pr[Kt]=Ps-tc,!0):ec===ui&&Rs<=Ps?(pr[Kt]=Ps-Rs,!0):void 0}),!0}),xe(pr,(Ni,Kt)=>{Ni===null&&(pr[Kt]=(Xa[cn[Kt]]-Za[Nt[Kt]])/2)}),je(ut,pr.x,pr.y)}}})(Ce,N,{A:Ke,L:Le}),Te.H(),Ie=Y(Ce),Ue.t(window,"resize",Ze),Ie.forEach(Lt=>{Ue.t(Lt,"scroll",Ze)}),Ue.t(c,[p,m],Ae)):(N.style="",H(N,Ce,!jt&&"afterend"))},Ze=he=>{var oe;ze&&(Te.H(),oe=Te.m,Ie.every(Se=>{let{x:we,y:Ce,bottom:Le,right:Ke}=ee(oe),{x:xt,y:Xe,bottom:at,right:jt}=ee(Se);return Ce<at&&Le>Xe&&we<jt&&Ke>xt})||me(V,!1))},Ae=he=>{if(ze){let oe,Se,{target:we,key:Ce,shiftKey:Le}=he,Ke=V.u.V._;Ce==="Escape"||we!==fe&&!N.contains(we)&&![...fe.labels||[]].some(xt=>xt.contains(we))?me(V,!1):Ce==="Tab"&&(Se=[...B("button,input",N,!0)].pop(),we!==fe||Le?(Le&&we===Ke||!Le&&we===Se)&&(oe=fe):oe=Ke,oe&&(he.preventDefault(),oe.focus()))}},me=(he,oe,Se)=>{he=he||V;let{shared:we,toggle:Ce,disabled:Le}=he.config;Le&&!Se||(pe(oe)||(ze&&he!==V&&me(V,!1),oe=!ze),oe!==ze&&(we||Ce||Se)&&(oe&&(he!==V&&$e(he.config,he),V.M.$(),Ne()),he===V&&(ze=oe,be(N,"alwan--open",oe),V.S.O(oe?h:d,N))))},Ne=()=>{Te&&Te.H()};return{j:N,k:$e,B:Ne,C:me,I:()=>ze,F:()=>{ie.i(),Ue.i(),N=Z(N),V={}}}},Dh='<svg width="18" height="18" viewBox="0 0 24 24" aria-role="none"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg>',fi=(N,V,ie)=>{let fe="",Te="",Ie=N.a;return V===C&&(fe="%"),Ie<1&&!ie&&(V+="a",Te=", "+Ie),`${V}(${N[V[0]]}, ${N[V[1]]+fe}, ${N[V[2]]+fe+Te})`},Va=(N,V,ie)=>255*(ie-ie*V*$(0,D(N,4-N,1))),Ih=({h:N,s:V,v:ie,a:fe})=>({r:ne(Va((5+(N/=60))%6,V,ie)),g:ne(Va((3+N)%6,V,ie)),b:ne(Va((1+N)%6,V,ie)),a:fe}),Ms=N=>(N<16?"0":"")+N.toString(16),$h=({r:N,g:V,b:ie,a:fe})=>"#"+Ms(N)+Ms(V)+Ms(ie)+(fe<1?Ms(ne(255*fe)):""),Ua=({h:N,s:V,v:ie,a:fe})=>({h:N,s:ne(100*((V=ie*(1-V/2))&&V!==1?(ie-V)/D(V,1-V):0)),l:ne(100*V),a:ne(100*fe)/100}),za=W("canvas").getContext("2d"),kv=/^hsla?\(\s*([+-]?\d*\.?\d+)(\w*)?\s*[\s,]\s*([+-]?\d*\.?\d+)%?\s*,?\s*([+-]?\d*\.?\d+)%?(?:\s*[\/,]\s*([+-]?\d*\.?\d+)(%)?)?\s*\)?$/,Sv=/^#[0-9a-f]{6}$/i,Bh={deg:1,turn:360,rad:180/ce,grad:.9},qa=(N="",V)=>{let ie,fe,Te="";k(N)?Te=L(N):(fe=[S,C,_].find(he=>he.split("").every(oe=>P(O(N[oe])))),fe&&(pe(N.a)||(N.a=1),fe===_&&(fe=S,N=Ih({h:de(N.h),s:Pe(N.s)/100,v:Pe(N.v)/100,a:N.a})),Te=fi(N,fe)));let[Ie,Ue,ze,$e,Ze,Ae,me]=kv.exec(Te)||[];if(Ie)ie={h:de(Ue*(Bh[ze]?Bh[ze]:1)),s:Pe($e),l:Pe(Ze),a:pe(Ae)?Pe(me?Ae/100:Ae,1):1},fe=C;else if(fe=S,za.fillStyle="#000",za.fillStyle=Te,Te=za.fillStyle,Sv.test(Te))ie={r:T((Ne=Te).slice(1,3),16),g:T(Ne.slice(3,5),16),b:T(Ne.slice(5,7),16),a:1};else{let[he,oe,Se,we]=/\((.+)\)/.exec(Te)[1].split(",").map(Ce=>O(Ce));ie={r:he,g:oe,b:Se,a:we}}var Ne;return V?fi(ie,fe):{D:fe,M:ie}};let Bi=null,Wa=0;const Nh=N=>{const V=R(),ie=W("",i,I()),fe=Ls(ie,N,V),Te=((Ae,me,Ne)=>{let he,oe,Se,we,Ce=!1;const Le=W("","alwan__palette",Ae,{tabindex:"0"}),Ke=W("","alwan__marker",Le),{width:xt,height:Xe}=ee(Le),at={ArrowRight:1,ArrowLeft:-1},jt={ArrowDown:1,ArrowUp:-1},Lt=(ut,_t,Oo)=>{ut=Pe(ut,xt),_t=Pe(_t,Xe),ut===he&&_t===oe||(he=ut,oe=_t,je(Ke,he,oe),me.M.H({s:he/xt,v:1-oe/Xe}),me.S.O(g,Le),Oo&&Oo())};return Ne.t(Le,m,ut=>{we||(we=W("","alwan__overlay",Ae)),me.M.P(),Se=ee(Le),Ce=!0,Lt(ut.clientX-Se.x,ut.clientY-Se.y),Le.focus()}),Ne.t(c,"pointermove",ut=>{Ce&&Lt(ut.clientX-Se.x,ut.clientY-Se.y)}),Ne.t(c,"pointerup",ut=>{Ce&&(me.M.Z(Le),we=Z(we),Ce=!1)}),Ne.t(Le,p,ut=>{let _t=ut.key;(at[_t]||jt[_t])&&(ut.preventDefault(),Lt(he+(at[_t]||0)*xt/100,oe+(jt[_t]||0)*Xe/100,()=>{me.S.O(y,Le)}))}),{_:Le,p(ut,_t){me=_t||me},H({s:ut,v:_t}){je(Ke,ut*xt,(1-_t)*Xe)}}})(ie,N,V),Ie=W("",o,ie),Ue=((Ae,me,Ne)=>{let he,oe,Se;const we={p({preview:Ce,copy:Le},Ke){me=Ke,Le!==!!oe&&(oe=Le?Ee("alwan__copy-button",he||Ae,{html:Dh},E):Z(oe)),Ce!==!!he&&(he=Ce?W("","alwan__preview",Ae,!1,E):Z(he),H(oe,he||Ae,E))}};return Ne.t(Ae,v,({target:Ce})=>{if(Ce===oe&&!Se&&!me.config.disabled){let Le,Ke=navigator.clipboard,xt=me.M.q(!0);Ke?Ke.writeText(xt):(Le=W(b,"",u,{value:xt}),Le.select(),c.execCommand("copy"),Le=Z(Le)),Se=!0,z(oe,'<svg width="18" height="18" viewBox="0 0 24 24" aria-role="none"><path d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"></path></svg>')}}),Ne.t(Ae,["mouseout","focusout"],Ce=>{Ce.target===oe&&(Se&&(Se=!1,z(oe,Dh)),oe.blur())}),we})(Ie,N,V),ze=((Ae,me,Ne)=>{let he;const oe=W("","alwan__sliders",Ae),Se=st("alwan__slider--hue",oe,360);return Ne.t(oe,[b,y],({target:we,type:Ce,target:{value:Le}})=>{me.M.H(we===Se?{h:360-Le}:{a:1*Le}),me.S.O(Ce===y?y:g,we)}),{p({opacity:we},Ce){me=Ce||me,we!==!!he&&(we?he=st("alwan__slider--alpha",oe,1,.01):(he=Z(he),me.M.H({a:1})))},K({h:we,a:Ce}){Se.value=360-we,he&&(he.value=Ce)}}})(Ie,N,V),$e=((Ae,me,Ne)=>{let he,oe,Se,we,Ce=[],Le=!1;const Ke={p({inputs:Xe,format:at},jt){me=jt||me,Xe=pe(Xe)?Xe:{},we={},Ce=M.filter(ut=>Xe[ut]);let Lt=Ce.length;Lt?(he||(he=W("","alwan__inputs",Ae)),Lt===1?oe=Z(oe):oe||(oe=Ee("",Ae,{html:'<svg width="15" height="15" viewBox="0 0 20 20" aria-role="none"><path d="M10 1L5 8h10l-5-7zm0 18l5-7H5l5 7z"></path></svg>'})),Se=$(Ce.indexOf(at),0),at=Ce[Se],xt(at)):(he=Z(he),oe=Z(oe),at=M.includes(at)?at:M[0]),me.config.format=at,ge(Ae,Lt)},K(Xe){xe(we,(at,jt)=>{at.value=k(Xe)?Xe:Xe[jt]})}},xt=Xe=>{let at,{singleInput:jt,opacity:Lt}=me.config;at=jt||Xe===x?[Xe]:(Xe+(Lt?"a":"")).split(""),z(he,""),at.forEach(ut=>{const _t=W("label","",he);we[ut]=W(b,"alwan__input",_t,{type:"text"}),W("span","",_t,{html:ut})})};return Ne.t(Ae,v,Xe=>{Xe.target===oe&&(Se=(Se+1)%Ce.length,me.config.format=Ce[Se],xt(Ce[Se]),me.M.H())}),Ne.t(Ae,b,({target:{value:Xe}})=>{Le||(me.M.P(),Le=!0);let at="",jt={},Lt=Ce[Se];me.config.singleInput||Lt===x?at=Xe:(xe(we,(ut,_t)=>{jt[_t]=L(ut.value)}),at=fi(jt,Lt)),me.M.N(at,!0)&&me.S.O(g,we)}),Ne.t(Ae,y,Xe=>{Le&&(me.M.Z(we),Le=!1)}),Ne.t(Ae,[p,w],({target:Xe,key:at,type:jt})=>{Xe!==oe&&(jt===w?Xe.select():at==="Enter"&&me.close())}),Ke})(W("",o,ie),N,V),Ze=((Ae,me,Ne)=>{let he,oe,Se,we,Ce;const Le={p(Ke={},xt){me=xt||me,oe=Ke.swatches||oe,Ce=Ke.toggleSwatches,Ce=!!pe(Ce)&&Ce,Array.isArray(oe)&&(we=oe.length,we?(he?z(he,""):he=W("","alwan__swatches",Ae),oe.forEach(Xe=>{ye(Ee(s,he),A,qa(Xe,!0))}),Ce?Se||(Se=Ee("alwan__collapse-button",Ae,{html:'<svg width="20" height="20" viewBox="0 0 24 24" aria-role="none"><path d="M6.984 14.016l5.016-5.016 5.016 5.016h-10.031z"></path></svg>'})):Se=Z(Se),be(he,a,Ce)):(he=Z(he),Se=Z(Se)))},R(Ke){we=oe.push(Ke),we>1?ye(Ee(s,he),A,qa(Ke,!0)):Le.p()},T(Ke){let xt=oe.findIndex((Xe,at)=>Ke===Xe||T(Ke)===at);xt>-1&&(we--,Z(he.children[xt]),oe.splice(xt,1),we||Le.p())}};return Ne.t(Ae,v,({target:Ke})=>{Ke===Se?be(he,a):le(Ke)===he&&(me.M.N(Ke.style.getPropertyValue(A)),me.S.O(g,Ke),me.S.O(y,Ke))}),Le})(ie,N,V);return{U:fe,V:Te,G:Ue,J:ze,W:$e,X:Ze}},Ka=N=>!!Bi&&N===Bi,jh=N=>{if(Ka(N)){if(Wa--,Wa>0)return;Bi=null}N.U.F(),N={}},Cv=N=>{let V,ie,fe,Te={h:0,s:0,v:0,a:1},Ie=N.config,Ue=($e,Ze,Ae,me)=>X((Ze+(Ie.opacity?"a":"")).split("").reduce((Ne,he,oe)=>(Ne[Ae?oe:he]=$e[he],Ne),Ae?[]:{}),Ze!==_?{toString:()=>me||fi($e,Ze)}:{}),ze={H($e,Ze,Ae){let{U:{j:me},W:Ne}=N.u;Ie.disabled||(X(Te,$e=$e||Te),V=Ze||Ih(Te),ie=fi(V,S),ye(N.m._,A,ie),ye(me,"--h",$e.h),ye(me,"--rgb",fi(V,S,!0)),ye(me,A,ie),Ae||Ne.K(ze.q(Ie.singleInput)))},$($e,Ze,Ae){let{V:me,J:Ne}=N.u;ze.H($e,Ze,Ae),me.H(Te),Ne.K(Te)},q:($e,Ze=Ie.format)=>Ze===S?$e?ie:V:Ze===C?$e?fi(Ua(Te),C):Ua(Te):Ze===x?$h(V):"",P(){fe=ze.q()},Z($e){Oe(fe,ze.q())||N.S.O(y,$e)},N($e,Ze=!1){let{D:Ae,M:me}=qa($e),Ne=!Oe(me,ze.q(!1,Ae)),he=Ae===S;return Ne&&ze.$(he?(({r:oe,g:Se,b:we,a:Ce})=>{let Le=$(oe/=255,Se/=255,we/=255),Ke=Le-D(oe,Se,we);return{h:de(60*(Ke===0?0:Le===oe?(Se-we)/Ke%6:Le===Se?(we-oe)/Ke+2:Le===we?(oe-Se)/Ke+4:0)),s:Le?Ke/Le:0,v:Le,a:ne(100*Ce)/100}})(me):(({h:oe,s:Se,l:we,a:Ce})=>({h:oe,s:(Se=(we/=100)+Se*D(we,1-we)/100)?2*(1-we/Se):0,v:Se,a:Ce}))(me),!!he&&me,Ze),Ne},Y:()=>({value:ze.q(!0),hsv:$e=>Ue(Te,_,$e),rgb:$e=>Ue(V,S,$e,ie),hsl:$e=>Ue(Ua(Te),C,$e),hex:()=>$h(V)})};return ze},Fh=(N,V)=>{V=V||{};let ie,fe=X(N.config,V),{color:Te,disabled:Ie}=V,{N:Ue,H:ze}=N.M;N.u=($e=>{let{u:Ze,config:{shared:Ae}}=$e;if(Ze){if(Ka(Ze)===Ae)return Ze;Ze.U.C($e,!1,!0),jh(Ze)}return Ae?(Bi||(Bi=Nh($e)),Wa++,Bi):Nh($e)})(N),N.m.p(fe),ie=N.u.U,Ka(N.u)&&ie.C(null,!1),ie.k(fe,N),N.m.tt(Ie),pe(Te)&&Ue(Te),ze()},Ev={id:"",classname:"",theme:"light",toggle:!0,popover:!0,position:"bottom-start",margin:8,preset:!0,color:"#000",default:"#000",target:"",disabled:!1,format:"rgb",singleInput:!1,inputs:{rgb:!0,hex:!0,hsl:!0},opacity:!0,preview:!0,copy:!0,swatches:[],shared:!1,toggleSwatches:!1},Ja=class{constructor(V,ie){let fe=this;fe.config=X({},Ja.defaults),fe.S=(Te=>{const Ie={[h]:[],[d]:[],[y]:[],[g]:[]};return{O(Ue,ze){Te.config.disabled||(Ie[Ue]||[]).forEach($e=>{$e(X({type:Ue,source:ze},Te.M.Y()))})},et(Ue,ze){Ie[Ue]&&!Ie[Ue].includes(ze)&&Ie[Ue].push(ze)},rt(Ue,ze){let $e=Ue&&Ie[Ue];pe(Ue)?$e&&(pe(ze)?Ie[Ue]=$e.filter(Ze=>Ze!==ze):Ie[Ue]=[]):xe(Ie,(Ze,Ae)=>{Ie[Ae]=[]})}}})(fe),fe.M=Cv(fe),fe.m=((Te,Ie)=>{let Ue=[];const ze=R(),$e=I(),Ze=B(Te),Ae=$e.contains(Ze)&&Ze!==$e?Ze:null,me={_:Ae||Ee(l,$e),p({preset:Ne,classname:he}){let oe=me._;Ae&&Ne!==(Ae!==oe)&&(ze.i(),oe=Ne?te(Ee(l,null,{id:Ae.id}),Ae):te(Ae,oe),ze.t(oe,v,Se=>{Ie.u.U.C(Ie)})),(!Ae||Ne&&k(he))&&(be(oe,Ue,!1),Ue=he.split(/\s+/),be(oe,Ue,!0)),me._=oe},tt(Ne){if(pe(Ne)){let{config:he,u:oe}=Ie,{shared:Se,toggle:we}=he,Ce=oe.U.C;he.disabled=me._.disabled=!!Ne,Ne?Ce(Ie,!1,!0):Se||we||Ce(Ie,!0,!0)}},F(){Ae?me.p({preset:!1}):me._=Z(me._),ze.i()}};return me})(V,fe),Fh(fe,ie)}setOptions(V){Fh(this,V)}isOpen(){return this.u.U.I()}open(){this.u.U.C(this,!0)}close(){this.u.U.C(this,!1)}toggle(){this.u.U.C(this)}on(V,ie){this.S.et(V,ie)}off(V,ie){this.S.rt(V,ie)}setColor(V){return this.M.N(V),this}getColor(){return this.M.Y()}addSwatch(V){this.u.X.R(V)}removeSwatch(V){this.u.X.T(V)}enable(){this.m.tt(!1)}disable(){this.m.tt(!0)}reset(){this.M.N(this.config.default)}reposition(){this.u.U.B()}trigger(V){this.S.O(V)}destroy(){let V=this;V.m.F(),jh(V.u),xe(V,(ie,fe)=>{delete V[fe]}),Q(V,ue)}};let Ao=Ja;return tn(Ao,"version","1.1.1"),tn(Ao,"defaults",Ev),r=r.default}()})})(pR);const mR=gf,Rh=xs("theme",{state:()=>({colors:{},classLists:{},swatches:[]}),actions:{async fetchData(){try{let t=this.fetchColors(),e=this.fetchClasslists();await Promise.all([t,e])}catch{}},async fetchColors(){try{let t=await ht.get("/theme/color");this.colors=t.data,this.swatches=Object.values(this.colors),this.swatches.length=10}catch{}},async fetchClasslists(){try{let t=await ht.get("/theme/classlist");this.classLists=t.data}catch{}},addSwatch(t){this.swatches.splice(0,0,t),this.swatches.length>14&&this.swatches.pop()}}}),gR={class:"color-picker"},yR=["id"],bR=St({__name:"ColorPicker",props:{color_name:null,label:null,modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=Rh(),i=Be();return Qt(r.swatches,()=>{var o;(o=i.value)==null||o.setOptions({swatches:r.swatches})}),Qt(()=>n.modelValue,()=>{var o;(o=i.value)==null||o.setColor(n.modelValue)}),pa(()=>{i.value=new mR(`#${n.color_name}`,{color:n.modelValue,opacity:!1,swatches:r.swatches,classname:"picker-item",margin:12}),i.value.on("change",o=>{e("update:modelValue",o.hex()),r.addSwatch(o.hex())})}),(o,s)=>(Me(),Ve("div",gR,[ke("p",null,Yt(t.label),1),ke("div",{id:t.color_name},null,8,yR)]))}});const vv=Zt(bR,[["__scopeId","data-v-4f50ce87"]]);const wv=t=>(Ar("data-v-3a41bb2f"),t=t(),Or(),t),vR={class:"theme-panel"},wR={class:"colors"},xR=wv(()=>ke("h1",null,"Colors",-1)),_R={class:"classlists"},kR=wv(()=>ke("h1",null,"Style Configuration",-1)),SR=St({__name:"Theme",setup(t){const e=Rh(),n=Be(!1);async function r(l){try{await ht.post("/theme/color",e.colors)}catch(a){console.log(a)}finally{n.value=!1}}async function i(l){Object.keys(l).forEach(a=>{e.classLists[a].selected=l[a]});try{await ht.post("/theme/classlist",e.classLists)}catch(a){console.log(a)}finally{n.value=!1}}function o(l){return l.replaceAll("_"," ")}const s=Be(Object.keys(e.classLists).map(l=>e.classLists[l].selected));return Qt(()=>e.classLists,()=>{s.value=Object.keys(e.classLists).map(l=>e.classLists[l].selected)}),(l,a)=>{const c=zn("FormKit");return Me(),Ve("div",vR,[ke("div",wR,[xR,ae(c,{type:"form",onSubmit:r,"submit-label":"Save"},{default:ot(()=>[(Me(!0),Ve(Ot,null,Gr(Object.keys(_e(e).colors),u=>(Me(),kr(vv,{color_name:u,modelValue:_e(e).colors[u],"onUpdate:modelValue":f=>_e(e).colors[u]=f,label:o(u)},null,8,["color_name","modelValue","onUpdate:modelValue","label"]))),256)),ae(c,{"outer-class":"reset-button",type:"button",onClick:_e(e).fetchColors},{default:ot(()=>[Xt("Reset")]),_:1},8,["onClick"])]),_:1})]),ke("div",_R,[kR,ae(c,{type:"form",onSubmit:i,"submit-label":"Save"},{default:ot(()=>[(Me(!0),Ve(Ot,null,Gr(Object.keys(_e(e).classLists),(u,f)=>(Me(),kr(c,{type:"radio",name:u,label:_e(e).classLists[u].name,modelValue:s.value[f],"onUpdate:modelValue":h=>s.value[f]=h,options:_e(e).classLists[u].options},null,8,["name","label","modelValue","onUpdate:modelValue","options"]))),256)),ae(c,{"outer-class":"reset-button",type:"button",onClick:_e(e).fetchClasslists},{default:ot(()=>[Xt("Reset")]),_:1},8,["onClick"])]),_:1})])])}}});const CR=Zt(SR,[["__scopeId","data-v-3a41bb2f"]]),ER=t=>(Ar("data-v-564d45de"),t=t(),Or(),t),AR={class:"creator"},OR=ER(()=>ke("h1",null,"Create Category",-1)),TR={key:0,class:"error"},LR=St({__name:"CreateCategory",setup(t){const e=gn(),n=ka(),r=Be(""),i=Be(!1),o=async s=>{r.value="";try{await e.create(s),n.push("/admin/")}catch(l){r.value=l.response.data}finally{i.value=!0}};return(s,l)=>(Me(),Ve("div",AR,[OR,ae(_e(Ft),{type:"form",style:{width:"25em"},onSubmit:o},{default:ot(()=>[ae(_e(Ft),{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Category Name"}),r.value?(Me(),Ve("p",TR,Yt(r.value),1)):$n("",!0)]),_:1})]))}});const MR=Zt(LR,[["__scopeId","data-v-564d45de"]]),Ph=xs("tag",{state:()=>({tags:[]}),actions:{async fetchData(){try{const t=await ht.get("/tags");return this.tags=t.data,!0}catch{return!1}},async fetch(t){try{const e=await ht.get(`/tags/${t}`);return this.tags.push(...e.data),!0}catch{return!1}},get(t){return this.tags.filter(e=>e.article_id==t)},baseTags(){return this.get(0)},getBaseTag(t){return this.tags.find(e=>e.article_id==0&&e.name==t)},async update(t){},async create(t,e,n=0){const r=new FormData;r.append("name",t),r.append("color",e);let o=(await ht.post("/tags",r)).data;this.tags.push(o),n&&await this.addToArticle(n,o.id)},async addToArticle(t,e){const n=new FormData;n.append("article",String(t)),n.append("tag_id",String(e));const r=await ht.post(`/tags/${t}`,n);this.tags.push(r.data)},async deleteTag(t,e=0){await ht.delete(`/tags/${t}`),await this.fetchData(),e&&await this.fetch(e)}}}),xv=t=>(Ar("data-v-29e66e70"),t=t(),Or(),t),RR={class:"settings-container"},PR=xv(()=>ke("h1",null,"Settings",-1)),DR={class:"categories"},IR=xv(()=>ke("h2",null,"Manage Categories",-1)),$R={class:"update-category"},BR={key:0,class:"error"},NR=St({__name:"Settings",setup(t){const e=gn(),n=Be(!1),r=Be(new Array(e.categories.length).fill("")),i=async function(s,l){let a=e.categories.findIndex(c=>c.id==l);r.value[a]="";try{await e.update(l,s)}catch(c){r.value[a]=c.response.data}finally{n.value=!0}};async function o(s){var l;if(window.confirm(`Are you sure you want to delete category "${(l=e.get(s))==null?void 0:l.name}"?`))try{await e.remove(s)}catch{}finally{n.value=!0}}return Qt(()=>e.categories,()=>{r.value=new Array(e.categories.length).fill("")}),(s,l)=>{const a=zn("FormKit"),c=zn("router-link");return Me(),Ve("div",RR,[PR,ke("div",DR,[IR,(Me(!0),Ve(Ot,null,Gr(_e(e).categories,(u,f)=>(Me(),Ve("div",$R,[ke("h3",null,Yt(u.name),1),ae(a,{type:"form",onSubmit:h=>i(h,u.id),"submit-label":"Change name"},{default:ot(()=>[ae(a,{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Category Name",value:u.name},null,8,["value"])]),_:2},1032,["onSubmit"]),ae(a,{"outer-class":"delete-btn",type:"button",onClick:()=>o(u.id)},{default:ot(()=>[Xt("Delete")]),_:2},1032,["onClick"]),r.value[f]?(Me(),Ve("p",BR,Yt(r.value[f]),1)):$n("",!0)]))),256)),ae(c,{to:"/admin/create-category",class:"add-category-btn"},{default:ot(()=>[ae(a,{type:"button","prefix-icon":"add"},{default:ot(()=>[Xt("Add Category")]),_:1})]),_:1})])])}}});const jR=Zt(NR,[["__scopeId","data-v-29e66e70"]]),FR="/admin/svg/delete.svg",HR=St({__name:"Tag",props:{tag:null},setup(t){const e=t,n=Ph();async function r(){window.confirm("Do you want to delete this tag and remove it from all articles?")&&await n.deleteTag(e.tag.id)}return(i,o)=>(Me(),Ve("div",{class:"tag",style:ra({backgroundColor:t.tag.color})},[ke("p",null,Yt(t.tag.name),1),ke("img",{src:FR,onClick:r})],4))}});const Hm=Zt(HR,[["__scopeId","data-v-20d1bcbf"]]),VR=t=>(Ar("data-v-8f482812"),t=t(),Or(),t),UR={class:"article-settings"},zR={class:"left"},qR={class:"tags"},WR={class:"header"},KR=VR(()=>ke("h3",null,"Tags",-1)),JR={key:0,class:"add-tag"},GR={key:1,class:"new-tag"},YR={key:0,class:"error"},XR={class:"current-tags"},QR={class:"right"},ZR=St({__name:"Article",setup(t){const e=or(),n=Ph(),r=eh(),i=Je(()=>e.get(r.params.id)),o=Be(!1),s=Be(!1),l=Be(""),a=Be("#000000"),c=Be(""),u=Be(n.tags.filter(p=>p.article_id==i.value.id));function f(){u.value=n.tags.filter(p=>p.article_id==i.value.id)}const h=Je(()=>n.baseTags().map(p=>p.name)),d=Je(()=>{let p=u.value.map(w=>w.name),b=h.value;return p.filter(w=>b.includes(w))}),g=Je(()=>d.value.map(p=>n.getBaseTag(p)));async function v(p){let b=p.tags,y=d.value;const w=b.filter(_=>!y.includes(_)),x=y.filter(_=>!b.includes(_));await(async()=>{for(const _ of w){let A=n.getBaseTag(_);await n.addToArticle(i.value.id,A.id)}})(),await(async()=>{for(const _ of x){let A=u.value.find(M=>M.name==_);await n.deleteTag(A.id,i.value.id)}})(),f()}async function m(p){if(l.value="",p.tag_name==""){s.value=!1;return}try{await n.create(p.tag_name,a.value,i.value.id),a.value="#000000",c.value="",s.value=!1}catch(b){l.value=b.response.data;return}f()}return(p,b)=>{const y=zn("FormKit");return Me(),Ve("div",UR,[ke("div",zR,[ae(du,{"article-id":_e(i).id,"with-settings":!0},null,8,["article-id"]),ke("div",qR,[ke("div",WR,[KR,ke("button",{onClick:b[0]||(b[0]=w=>o.value=!0)},"Change tags"),ke("button",{onClick:b[1]||(b[1]=w=>s.value=!0)},"Create tag")]),o.value?(Me(),Ve("div",JR,[ae(y,{type:"form",onSubmit:v,"submit-label":"Save"},{default:ot(()=>[ae(y,{value:_e(d),name:"tags",type:"checkbox",label:"Tags",options:_e(h)},null,8,["value","options"])]),_:1})])):$n("",!0),s.value?(Me(),Ve("div",GR,[ae(y,{type:"form",onSubmit:m,"submit-label":"Create tag"},{default:ot(()=>[ae(y,{type:"text",label:"Tag name",name:"tag_name",modelValue:c.value,"onUpdate:modelValue":b[2]||(b[2]=w=>c.value=w)},null,8,["modelValue"]),ae(vv,{color_name:"color",modelValue:a.value,"onUpdate:modelValue":b[3]||(b[3]=w=>a.value=w),label:""},null,8,["modelValue"])]),_:1}),l.value?(Me(),Ve("p",YR,Yt(l.value),1)):$n("",!0)])):$n("",!0),ke("div",XR,[(Me(!0),Ve(Ot,null,Gr(_e(g),w=>(Me(),kr(Hm,{tag:w},null,8,["tag"]))),256)),c.value?(Me(),kr(Hm,{key:0,tag:{id:0,article_id:0,name:c.value,color:a.value}},null,8,["tag"])):$n("",!0)])])]),ke("div",QR,[ae(bv)])])}}});const eP=Zt(ZR,[["__scopeId","data-v-8f482812"]]),tP={class:"create-article"},nP=yw("<h1 data-v-d851ba91>Create Article</h1><p data-v-d851ba91>Note that not all markdown elements are supported!<br data-v-d851ba91>Currently the following elements are supported:</p><ul data-v-d851ba91><li data-v-d851ba91>paragraphs</li><li data-v-d851ba91>h1-h3</li><li data-v-d851ba91>links, bold text</li><li data-v-d851ba91>images (the src and alt attributes will be copied)</li><li data-v-d851ba91>code blocks and inline code</li><li data-v-d851ba91>non-nested lists</li><li data-v-d851ba91>quotes</li><li data-v-d851ba91>tables</li></ul>",3),rP={key:0,class:"error"},iP=St({__name:"CreateMarkdown",setup(t){const e=or(),n=gn(),r=ka(),i=Be(""),o=Be(!1),s=async a=>{i.value="";try{const c=await e.createWithMarkdown(a);r.push(`/admin/edit/${c.id}`)}catch(c){i.value=c.response.data}finally{o.value=!0}},l=Je(()=>{let a=[];return n.categories.forEach(c=>{a.push({label:c.name,value:c.id})}),a});return(a,c)=>(Me(),Ve("div",tP,[nP,ae(_e(Ft),{type:"form",style:{width:"25em"},onSubmit:s},{default:ot(()=>[ae(_e(Ft),{type:"file",accept:".md, .txt","file-item-icon":"fileImage","no-files-icon":"fileImage",label:"Markdown file",name:"markdown",help:"Add your markdown file",validation:"required"}),ae(_e(Ft),{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Article Name"}),ae(_e(Ft),{type:"textarea",rows:"10",name:"description",id:"description",validation:"required",label:"Description",value:"Short article description..."}),ae(_e(Ft),{type:"file",accept:".png, .jpg, .jpeg","file-item-icon":"fileImage","no-files-icon":"fileImage",label:"Thumbnail",name:"thumbnail",help:"Add a thumnbnail image"}),ae(_e(Ft),{type:"select",label:"Article Category",name:"category_id",placeholder:"Select a category (not required)",options:_e(l)},null,8,["options"]),i.value?(Me(),Ve("p",rP,Yt(i.value),1)):$n("",!0)]),_:1})]))}});const oP=Zt(iP,[["__scopeId","data-v-d851ba91"]]),sP=BC({history:ZS(),routes:[{path:"/admin/",name:"home",component:yE,async beforeEnter(t,e,n){await or().fetchData(),await gn().fetchData(),n()}},{path:"/admin/create",name:"create",component:kE,async beforeEnter(t,e,n){await gn().fetchData(),n()}},{path:"/admin/create-markdown",name:"createmd",component:oP,async beforeEnter(t,e,n){await gn().fetchData(),n()}},{path:"/admin/edit/:id",name:"edit",component:dR,async beforeEnter(t,e,n){const r=or();await r.fetchData();const i=r.get(t.params.id);if(i==null){n("/");return}await gn().fetchData(),await As().fetchData(i.id),n()}},{path:"/admin/article/:id",name:"article_settings",component:eP,async beforeEnter(t,e,n){const r=or();await r.fetchData();const i=r.get(t.params.id);if(i==null){n("/");return}await gn().fetchData();const s=Ph();await s.fetchData(),await s.fetch(i.id),n()}},{path:"/admin/create-category",name:"createCategory",component:MR},{path:"/admin/theme",name:"theme",component:CR,async beforeEnter(t,e,n){await Rh().fetchData(),n()}},{path:"/admin/settings",name:"settings",component:jR,async beforeEnter(t,e,n){await or().fetchData(),await gn().fetchData(),n()}},{path:"/:pathMatch(.*)*",name:"NotFound",component:EE}]});function na(t){return na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},na(t)}function El(t,e){if(!t.vueAxiosInstalled){var n=_v(e)?cP(e):e;if(uP(n)){var r=fP(t);if(r){var i=r<3?lP:aP;Object.keys(n).forEach(function(o){i(t,o,n[o])}),t.vueAxiosInstalled=!0}else console.error("[vue-axios] unknown Vue version")}else console.error("[vue-axios] configuration is invalid, expected options are either <axios_instance> or { <registration_key>: <axios_instance> }")}}function lP(t,e,n){Object.defineProperty(t.prototype,e,{get:function(){return n}}),t[e]=n}function aP(t,e,n){t.config.globalProperties[e]=n,t[e]=n}function _v(t){return t&&typeof t.get=="function"&&typeof t.post=="function"}function cP(t){return{axios:t,$http:t}}function uP(t){return na(t)==="object"&&Object.keys(t).every(function(e){return _v(t[e])})}function fP(t){return t&&t.version&&Number(t.version.split(".")[0])}(typeof exports>"u"?"undefined":na(exports))=="object"?module.exports=El:typeof define=="function"&&define.amd?define([],function(){return El}):window.Vue&&window.axios&&window.Vue.use&&Vue.use(El,window.axios);const Pi=Yw(IS);Pi.use(wS,LS({theme:"genesis"}));Pi.use(Zw());Pi.use(sP);ah.defaults.baseURL=Zr;Pi.use(El,ah);Pi.provide("axios",Pi.config.globalProperties.axios);Pi.mount("#app");export{ai as A,Pa as B,gt as C,BO as D,re as E,Mr as F,Re as G,oT as H,Ct as I,Ku as L,yn as M,an as N,gb as P,ho as R,Rt as S,tr as T,La as W,aT as a,Wn as b,vP as c,bP as d,yP as e,xP as f,_P as g,We as h,cT as i,xh as j,dt as k,fh as l,fb as m,Sn as n,vb as o,mP as p,_i as q,wP as r,eT as s,q as t,j as u,bo as v,pP as w,OT as x,it as y,qe as z};
