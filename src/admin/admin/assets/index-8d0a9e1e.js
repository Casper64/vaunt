var yv=Object.defineProperty;var bv=(t,e,n)=>e in t?yv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bn=(t,e,n)=>(bv(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ff(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}function hf(t){if(Me(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Dt(r)?_v(r):hf(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(Dt(t))return t;if(bt(t))return t}}const vv=/;(?![^(]*\))/g,wv=/:([^]+)/,xv=/\/\*.*?\*\//gs;function _v(t){const e={};return t.replace(xv,"").split(vv).forEach(n=>{if(n){const r=n.split(wv);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ea(t){let e="";if(Dt(t))e=t;else if(Me(t))for(let n=0;n<t.length;n++){const r=ea(t[n]);r&&(e+=r+" ")}else if(bt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const kv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sv=ff(kv);function Im(t){return!!t||t===""}const kn=t=>Dt(t)?t:t==null?"":Me(t)||bt(t)&&(t.toString===jm||!Ne(t.toString))?JSON.stringify(t,$m,2):String(t),$m=(t,e)=>e&&e.__v_isRef?$m(t,e.value):Wi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Bm(e)?{[`Set(${e.size})`]:[...e.values()]}:bt(e)&&!Me(e)&&!Fm(e)?String(e):e,yt={},qi=[],Nn=()=>{},Cv=()=>!1,Ev=/^on[^a-z]/,ta=t=>Ev.test(t),df=t=>t.startsWith("onUpdate:"),tn=Object.assign,pf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Av=Object.prototype.hasOwnProperty,Xe=(t,e)=>Av.call(t,e),Me=Array.isArray,Wi=t=>na(t)==="[object Map]",Bm=t=>na(t)==="[object Set]",Ne=t=>typeof t=="function",Dt=t=>typeof t=="string",mf=t=>typeof t=="symbol",bt=t=>t!==null&&typeof t=="object",Nm=t=>bt(t)&&Ne(t.then)&&Ne(t.catch),jm=Object.prototype.toString,na=t=>jm.call(t),Ov=t=>na(t).slice(8,-1),Fm=t=>na(t)==="[object Object]",gf=t=>Dt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,tl=ff(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ra=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Tv=/-(\w)/g,lr=ra(t=>t.replace(Tv,(e,n)=>n?n.toUpperCase():"")),Lv=/\B([A-Z])/g,vo=ra(t=>t.replace(Lv,"-$1").toLowerCase()),vs=ra(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xa=ra(t=>t?`on${vs(t)}`:""),Xo=(t,e)=>!Object.is(t,e),Qa=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Sl=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Rv=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Vh;const Mv=()=>Vh||(Vh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let fn;class Hm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fn,!e&&fn&&(this.index=(fn.scopes||(fn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=fn;try{return fn=this,e()}finally{fn=n}}}on(){fn=this}off(){fn=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Vm(t){return new Hm(t)}function Pv(t,e=fn){e&&e.active&&e.effects.push(t)}function Um(){return fn}function Dv(t){fn&&fn.cleanups.push(t)}const yf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},zm=t=>(t.w&qr)>0,qm=t=>(t.n&qr)>0,Iv=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=qr},$v=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];zm(i)&&!qm(i)?i.delete(t):e[n++]=i,i.w&=~qr,i.n&=~qr}e.length=n}},Cl=new WeakMap;let $o=0,qr=1;const Mc=30;let Ln;const bi=Symbol(""),Pc=Symbol("");class bf{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Pv(this,r)}run(){if(!this.active)return this.fn();let e=Ln,n=Vr;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ln,Ln=this,Vr=!0,qr=1<<++$o,$o<=Mc?Iv(this):Uh(this),this.fn()}finally{$o<=Mc&&$v(this),qr=1<<--$o,Ln=this.parent,Vr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ln===this?this.deferStop=!0:this.active&&(Uh(this),this.onStop&&this.onStop(),this.active=!1)}}function Uh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Vr=!0;const Wm=[];function wo(){Wm.push(Vr),Vr=!1}function xo(){const t=Wm.pop();Vr=t===void 0?!0:t}function cn(t,e,n){if(Vr&&Ln){let r=Cl.get(t);r||Cl.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=yf()),Km(i)}}function Km(t,e){let n=!1;$o<=Mc?qm(t)||(t.n|=qr,n=!zm(t)):n=!t.has(Ln),n&&(t.add(Ln),Ln.deps.push(t))}function wr(t,e,n,r,i,o){const s=Cl.get(t);if(!s)return;let l=[];if(e==="clear")l=[...s.values()];else if(n==="length"&&Me(t)){const a=Number(r);s.forEach((c,u)=>{(u==="length"||u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(s.get(n)),e){case"add":Me(t)?gf(n)&&l.push(s.get("length")):(l.push(s.get(bi)),Wi(t)&&l.push(s.get(Pc)));break;case"delete":Me(t)||(l.push(s.get(bi)),Wi(t)&&l.push(s.get(Pc)));break;case"set":Wi(t)&&l.push(s.get(bi));break}if(l.length===1)l[0]&&Dc(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Dc(yf(a))}}function Dc(t,e){const n=Me(t)?t:[...t];for(const r of n)r.computed&&zh(r);for(const r of n)r.computed||zh(r)}function zh(t,e){(t!==Ln||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Bv(t,e){var n;return(n=Cl.get(t))===null||n===void 0?void 0:n.get(e)}const Nv=ff("__proto__,__v_isRef,__isVue"),Jm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(mf)),jv=vf(),Fv=vf(!1,!0),Hv=vf(!0),qh=Vv();function Vv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Ge(this);for(let o=0,s=this.length;o<s;o++)cn(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Ge)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){wo();const r=Ge(this)[e].apply(this,n);return xo(),r}}),t}function Uv(t){const e=Ge(this);return cn(e,"has",t),e.hasOwnProperty(t)}function vf(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?o1:Zm:e?Qm:Xm).get(r))return r;const s=Me(r);if(!t){if(s&&Xe(qh,i))return Reflect.get(qh,i,o);if(i==="hasOwnProperty")return Uv}const l=Reflect.get(r,i,o);return(mf(i)?Jm.has(i):Nv(i))||(t||cn(r,"get",i),e)?l:ut(l)?s&&gf(i)?l:l.value:bt(l)?t?eg(l):Mn(l):l}}const zv=Gm(),qv=Gm(!0);function Gm(t=!1){return function(n,r,i,o){let s=n[r];if(eo(s)&&ut(s)&&!ut(i))return!1;if(!t&&(!El(i)&&!eo(i)&&(s=Ge(s),i=Ge(i)),!Me(n)&&ut(s)&&!ut(i)))return s.value=i,!0;const l=Me(n)&&gf(r)?Number(r)<n.length:Xe(n,r),a=Reflect.set(n,r,i,o);return n===Ge(o)&&(l?Xo(i,s)&&wr(n,"set",r,i):wr(n,"add",r,i)),a}}function Wv(t,e){const n=Xe(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&wr(t,"delete",e,void 0),r}function Kv(t,e){const n=Reflect.has(t,e);return(!mf(e)||!Jm.has(e))&&cn(t,"has",e),n}function Jv(t){return cn(t,"iterate",Me(t)?"length":bi),Reflect.ownKeys(t)}const Ym={get:jv,set:zv,deleteProperty:Wv,has:Kv,ownKeys:Jv},Gv={get:Hv,set(t,e){return!0},deleteProperty(t,e){return!0}},Yv=tn({},Ym,{get:Fv,set:qv}),wf=t=>t,ia=t=>Reflect.getPrototypeOf(t);function Ms(t,e,n=!1,r=!1){t=t.__v_raw;const i=Ge(t),o=Ge(e);n||(e!==o&&cn(i,"get",e),cn(i,"get",o));const{has:s}=ia(i),l=r?wf:n?kf:Qo;if(s.call(i,e))return l(t.get(e));if(s.call(i,o))return l(t.get(o));t!==i&&t.get(e)}function Ps(t,e=!1){const n=this.__v_raw,r=Ge(n),i=Ge(t);return e||(t!==i&&cn(r,"has",t),cn(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ds(t,e=!1){return t=t.__v_raw,!e&&cn(Ge(t),"iterate",bi),Reflect.get(t,"size",t)}function Wh(t){t=Ge(t);const e=Ge(this);return ia(e).has.call(e,t)||(e.add(t),wr(e,"add",t,t)),this}function Kh(t,e){e=Ge(e);const n=Ge(this),{has:r,get:i}=ia(n);let o=r.call(n,t);o||(t=Ge(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?Xo(e,s)&&wr(n,"set",t,e):wr(n,"add",t,e),this}function Jh(t){const e=Ge(this),{has:n,get:r}=ia(e);let i=n.call(e,t);i||(t=Ge(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&wr(e,"delete",t,void 0),o}function Gh(){const t=Ge(this),e=t.size!==0,n=t.clear();return e&&wr(t,"clear",void 0,void 0),n}function Is(t,e){return function(r,i){const o=this,s=o.__v_raw,l=Ge(s),a=e?wf:t?kf:Qo;return!t&&cn(l,"iterate",bi),s.forEach((c,u)=>r.call(i,a(c),a(u),o))}}function $s(t,e,n){return function(...r){const i=this.__v_raw,o=Ge(i),s=Wi(o),l=t==="entries"||t===Symbol.iterator&&s,a=t==="keys"&&s,c=i[t](...r),u=n?wf:e?kf:Qo;return!e&&cn(o,"iterate",a?Pc:bi),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:l?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Or(t){return function(...e){return t==="delete"?!1:this}}function Xv(){const t={get(o){return Ms(this,o)},get size(){return Ds(this)},has:Ps,add:Wh,set:Kh,delete:Jh,clear:Gh,forEach:Is(!1,!1)},e={get(o){return Ms(this,o,!1,!0)},get size(){return Ds(this)},has:Ps,add:Wh,set:Kh,delete:Jh,clear:Gh,forEach:Is(!1,!0)},n={get(o){return Ms(this,o,!0)},get size(){return Ds(this,!0)},has(o){return Ps.call(this,o,!0)},add:Or("add"),set:Or("set"),delete:Or("delete"),clear:Or("clear"),forEach:Is(!0,!1)},r={get(o){return Ms(this,o,!0,!0)},get size(){return Ds(this,!0)},has(o){return Ps.call(this,o,!0)},add:Or("add"),set:Or("set"),delete:Or("delete"),clear:Or("clear"),forEach:Is(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=$s(o,!1,!1),n[o]=$s(o,!0,!1),e[o]=$s(o,!1,!0),r[o]=$s(o,!0,!0)}),[t,n,e,r]}const[Qv,Zv,e1,t1]=Xv();function xf(t,e){const n=e?t?t1:e1:t?Zv:Qv;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Xe(n,i)&&i in r?n:r,i,o)}const n1={get:xf(!1,!1)},r1={get:xf(!1,!0)},i1={get:xf(!0,!1)},Xm=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,o1=new WeakMap;function s1(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function l1(t){return t.__v_skip||!Object.isExtensible(t)?0:s1(Ov(t))}function Mn(t){return eo(t)?t:_f(t,!1,Ym,n1,Xm)}function a1(t){return _f(t,!1,Yv,r1,Qm)}function eg(t){return _f(t,!0,Gv,i1,Zm)}function _f(t,e,n,r,i){if(!bt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=l1(t);if(s===0)return t;const l=new Proxy(t,s===2?r:n);return i.set(t,l),l}function Sn(t){return eo(t)?Sn(t.__v_raw):!!(t&&t.__v_isReactive)}function eo(t){return!!(t&&t.__v_isReadonly)}function El(t){return!!(t&&t.__v_isShallow)}function tg(t){return Sn(t)||eo(t)}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function ki(t){return Sl(t,"__v_skip",!0),t}const Qo=t=>bt(t)?Mn(t):t,kf=t=>bt(t)?eg(t):t;function ng(t){Vr&&Ln&&(t=Ge(t),Km(t.dep||(t.dep=yf())))}function Sf(t,e){t=Ge(t);const n=t.dep;n&&Dc(n)}function ut(t){return!!(t&&t.__v_isRef===!0)}function Ze(t){return rg(t,!1)}function c1(t){return rg(t,!0)}function rg(t,e){return ut(t)?t:new u1(t,e)}class u1{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ge(e),this._value=n?e:Qo(e)}get value(){return ng(this),this._value}set value(e){const n=this.__v_isShallow||El(e)||eo(e);e=n?e:Ge(e),Xo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Qo(e),Sf(this))}}function Bs(t){Sf(t)}function Be(t){return ut(t)?t.value:t}const f1={get:(t,e,n)=>Be(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ut(i)&&!ut(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ig(t){return Sn(t)?t:new Proxy(t,f1)}function h1(t){const e=Me(t)?new Array(t.length):{};for(const n in t)e[n]=og(t,n);return e}class d1{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Bv(Ge(this._object),this._key)}}function og(t,e,n){const r=t[e];return ut(r)?r:new d1(t,e,n)}var sg;class p1{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[sg]=!1,this._dirty=!0,this.effect=new bf(e,()=>{this._dirty||(this._dirty=!0,Sf(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Ge(this);return ng(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}sg="__v_isReadonly";function m1(t,e,n=!1){let r,i;const o=Ne(t);return o?(r=t,i=Nn):(r=t.get,i=t.set),new p1(r,i,o||!i,n)}function Ur(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){oa(o,e,n)}return i}function jn(t,e,n,r){if(Ne(t)){const o=Ur(t,e,n,r);return o&&Nm(o)&&o.catch(s=>{oa(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(jn(t[o],e,n,r));return i}function oa(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,l=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,s,l)===!1)return}o=o.parent}const a=e.appContext.config.errorHandler;if(a){Ur(a,null,10,[t,s,l]);return}}g1(t,n,i,r)}function g1(t,e,n,r=!0){console.error(t)}let Zo=!1,Ic=!1;const Jt=[];let Zn=0;const Ki=[];let dr=null,hi=0;const lg=Promise.resolve();let Cf=null;function sa(t){const e=Cf||lg;return t?e.then(this?t.bind(this):t):e}function y1(t){let e=Zn+1,n=Jt.length;for(;e<n;){const r=e+n>>>1;es(Jt[r])<t?e=r+1:n=r}return e}function Ef(t){(!Jt.length||!Jt.includes(t,Zo&&t.allowRecurse?Zn+1:Zn))&&(t.id==null?Jt.push(t):Jt.splice(y1(t.id),0,t),ag())}function ag(){!Zo&&!Ic&&(Ic=!0,Cf=lg.then(ug))}function b1(t){const e=Jt.indexOf(t);e>Zn&&Jt.splice(e,1)}function v1(t){Me(t)?Ki.push(...t):(!dr||!dr.includes(t,t.allowRecurse?hi+1:hi))&&Ki.push(t),ag()}function Yh(t,e=Zo?Zn+1:0){for(;e<Jt.length;e++){const n=Jt[e];n&&n.pre&&(Jt.splice(e,1),e--,n())}}function cg(t){if(Ki.length){const e=[...new Set(Ki)];if(Ki.length=0,dr){dr.push(...e);return}for(dr=e,dr.sort((n,r)=>es(n)-es(r)),hi=0;hi<dr.length;hi++)dr[hi]();dr=null,hi=0}}const es=t=>t.id==null?1/0:t.id,w1=(t,e)=>{const n=es(t)-es(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function ug(t){Ic=!1,Zo=!0,Jt.sort(w1);const e=Nn;try{for(Zn=0;Zn<Jt.length;Zn++){const n=Jt[Zn];n&&n.active!==!1&&Ur(n,null,14)}}finally{Zn=0,Jt.length=0,cg(),Zo=!1,Cf=null,(Jt.length||Ki.length)&&ug()}}function x1(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||yt;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:h}=r[u]||yt;h&&(i=n.map(d=>Dt(d)?d.trim():d)),f&&(i=n.map(Rv))}let l,a=r[l=Xa(e)]||r[l=Xa(lr(e))];!a&&o&&(a=r[l=Xa(vo(e))]),a&&jn(a,t,6,i);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,jn(c,t,6,i)}}function fg(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},l=!1;if(!Ne(t)){const a=c=>{const u=fg(c,e,!0);u&&(l=!0,tn(s,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!o&&!l?(bt(t)&&r.set(t,null),null):(Me(o)?o.forEach(a=>s[a]=null):tn(s,o),bt(t)&&r.set(t,s),s)}function la(t,e){return!t||!ta(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xe(t,e[0].toLowerCase()+e.slice(1))||Xe(t,vo(e))||Xe(t,e))}let vn=null,aa=null;function Al(t){const e=vn;return vn=t,aa=t&&t.type.__scopeId||null,e}function Zr(t){aa=t}function ei(){aa=null}function _t(t,e=vn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&od(-1);const o=Al(e);let s;try{s=t(...i)}finally{Al(o),r._d&&od(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Za(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:a,emit:c,render:u,renderCache:f,data:h,setupState:d,ctx:p,inheritAttrs:b}=t;let g,m;const x=Al(t);try{if(n.shapeFlag&4){const w=i||r;g=Xn(u.call(w,w,f,o,d,h,p)),m=a}else{const w=e;g=Xn(w.length>1?w(o,{attrs:a,slots:l,emit:c}):w(o,null)),m=e.props?a:_1(a)}}catch(w){zo.length=0,oa(w,t,1),g=ke(Si)}let y=g;if(m&&b!==!1){const w=Object.keys(m),{shapeFlag:v}=y;w.length&&v&7&&(s&&w.some(df)&&(m=k1(m,s)),y=no(y,m))}return n.dirs&&(y=no(y),y.dirs=y.dirs?y.dirs.concat(n.dirs):n.dirs),n.transition&&(y.transition=n.transition),g=y,Al(x),g}const _1=t=>{let e;for(const n in t)(n==="class"||n==="style"||ta(n))&&((e||(e={}))[n]=t[n]);return e},k1=(t,e)=>{const n={};for(const r in t)(!df(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function S1(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:l,patchFlag:a}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?Xh(r,s,c):!!s;if(a&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(s[h]!==r[h]&&!la(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===s?!1:r?s?Xh(r,s,c):!0:!!s;return!1}function Xh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!la(n,o))return!0}return!1}function C1({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const E1=t=>t.__isSuspense;function A1(t,e){e&&e.pendingBranch?Me(t)?e.effects.push(...t):e.effects.push(t):v1(t)}function Vo(t,e){if(Et){let n=Et.provides;const r=Et.parent&&Et.parent.provides;r===n&&(n=Et.provides=Object.create(r)),n[t]=e}}function qt(t,e,n=!1){const r=Et||vn;if(r){const i=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ne(e)?e.call(r.proxy):e}}function Pr(t,e){return Af(t,null,e)}const Ns={};function Gt(t,e,n){return Af(t,e,n)}function Af(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=yt){const l=Um()===(Et==null?void 0:Et.scope)?Et:null;let a,c=!1,u=!1;if(ut(t)?(a=()=>t.value,c=El(t)):Sn(t)?(a=()=>t,r=!0):Me(t)?(u=!0,c=t.some(y=>Sn(y)||El(y)),a=()=>t.map(y=>{if(ut(y))return y.value;if(Sn(y))return Vi(y);if(Ne(y))return Ur(y,l,2)})):Ne(t)?e?a=()=>Ur(t,l,2):a=()=>{if(!(l&&l.isUnmounted))return f&&f(),jn(t,l,3,[h])}:a=Nn,e&&r){const y=a;a=()=>Vi(y())}let f,h=y=>{f=m.onStop=()=>{Ur(y,l,4)}},d;if(rs)if(h=Nn,e?n&&jn(e,l,3,[a(),u?[]:void 0,h]):a(),i==="sync"){const y=bw();d=y.__watcherHandles||(y.__watcherHandles=[])}else return Nn;let p=u?new Array(t.length).fill(Ns):Ns;const b=()=>{if(m.active)if(e){const y=m.run();(r||c||(u?y.some((w,v)=>Xo(w,p[v])):Xo(y,p)))&&(f&&f(),jn(e,l,3,[y,p===Ns?void 0:u&&p[0]===Ns?[]:p,h]),p=y)}else m.run()};b.allowRecurse=!!e;let g;i==="sync"?g=b:i==="post"?g=()=>sn(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),g=()=>Ef(b));const m=new bf(a,g);e?n?b():p=m.run():i==="post"?sn(m.run.bind(m),l&&l.suspense):m.run();const x=()=>{m.stop(),l&&l.scope&&pf(l.scope.effects,m)};return d&&d.push(x),x}function O1(t,e,n){const r=this.proxy,i=Dt(t)?t.includes(".")?hg(r,t):()=>r[t]:t.bind(r,r);let o;Ne(e)?o=e:(o=e.handler,n=e);const s=Et;ro(this);const l=Af(i,o.bind(r),n);return s?ro(s):wi(),l}function hg(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Vi(t,e){if(!bt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ut(t))Vi(t.value,e);else if(Me(t))for(let n=0;n<t.length;n++)Vi(t[n],e);else if(Bm(t)||Wi(t))t.forEach(n=>{Vi(n,e)});else if(Fm(t))for(const n in t)Vi(t[n],e);return t}function $t(t){return Ne(t)?{setup:t,name:t.name}:t}const nl=t=>!!t.type.__asyncLoader,dg=t=>t.type.__isKeepAlive;function T1(t,e){pg(t,"a",e)}function L1(t,e){pg(t,"da",e)}function pg(t,e,n=Et){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ca(e,r,n),n){let i=n.parent;for(;i&&i.parent;)dg(i.parent.vnode)&&R1(r,e,n,i),i=i.parent}}function R1(t,e,n,r){const i=ca(e,t,r,!0);mg(()=>{pf(r[e],i)},n)}function ca(t,e,n=Et,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;wo(),ro(n);const l=jn(e,n,t,s);return wi(),xo(),l});return r?i.unshift(o):i.push(o),o}}const Sr=t=>(e,n=Et)=>(!rs||t==="sp")&&ca(t,(...r)=>e(...r),n),M1=Sr("bm"),ua=Sr("m"),P1=Sr("bu"),D1=Sr("u"),Of=Sr("bum"),mg=Sr("um"),I1=Sr("sp"),$1=Sr("rtg"),B1=Sr("rtc");function N1(t,e=Et){ca("ec",t,e)}function li(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let a=l.dir[r];a&&(wo(),jn(a,n,8,[t.el,l,t,e]),xo())}}const gg="components";function ar(t,e){return F1(gg,t,!0,e)||t}const j1=Symbol();function F1(t,e,n=!0,r=!1){const i=vn||Et;if(i){const o=i.type;if(t===gg){const l=mw(o,!1);if(l&&(l===e||l===lr(e)||l===vs(lr(e))))return o}const s=Qh(i[t]||o[t],e)||Qh(i.appContext[t],e);return!s&&r?o:s}}function Qh(t,e){return t&&(t[e]||t[lr(e)]||t[vs(lr(e))])}function vi(t,e,n,r){let i;const o=n&&n[r];if(Me(t)||Dt(t)){i=new Array(t.length);for(let s=0,l=t.length;s<l;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(bt(t))if(t[Symbol.iterator])i=Array.from(t,(s,l)=>e(s,l,void 0,o&&o[l]));else{const s=Object.keys(t);i=new Array(s.length);for(let l=0,a=s.length;l<a;l++){const c=s[l];i[l]=e(t[c],c,l,o&&o[l])}}else i=[];return n&&(n[r]=i),i}const $c=t=>t?Ag(t)?Pf(t)||t.proxy:$c(t.parent):null,Uo=tn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>$c(t.parent),$root:t=>$c(t.root),$emit:t=>t.emit,$options:t=>Tf(t),$forceUpdate:t=>t.f||(t.f=()=>Ef(t.update)),$nextTick:t=>t.n||(t.n=sa.bind(t.proxy)),$watch:t=>O1.bind(t)}),ec=(t,e)=>t!==yt&&!t.__isScriptSetup&&Xe(t,e),H1={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(ec(r,e))return s[e]=1,r[e];if(i!==yt&&Xe(i,e))return s[e]=2,i[e];if((c=t.propsOptions[0])&&Xe(c,e))return s[e]=3,o[e];if(n!==yt&&Xe(n,e))return s[e]=4,n[e];Bc&&(s[e]=0)}}const u=Uo[e];let f,h;if(u)return e==="$attrs"&&cn(t,"get",e),u(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==yt&&Xe(n,e))return s[e]=4,n[e];if(h=a.config.globalProperties,Xe(h,e))return h[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return ec(i,e)?(i[e]=n,!0):r!==yt&&Xe(r,e)?(r[e]=n,!0):Xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let l;return!!n[s]||t!==yt&&Xe(t,s)||ec(e,s)||(l=o[0])&&Xe(l,s)||Xe(r,s)||Xe(Uo,s)||Xe(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Bc=!0;function V1(t){const e=Tf(t),n=t.proxy,r=t.ctx;Bc=!1,e.beforeCreate&&Zh(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:p,activated:b,deactivated:g,beforeDestroy:m,beforeUnmount:x,destroyed:y,unmounted:w,render:v,renderTracked:S,renderTriggered:E,errorCaptured:k,serverPrefetch:O,expose:R,inheritAttrs:C,components:_,directives:L,filters:M}=e;if(c&&U1(c,r,null,t.appContext.config.unwrapInjectedRef),s)for(const P in s){const D=s[P];Ne(D)&&(r[P]=D.bind(n))}if(i){const P=i.call(n,n);bt(P)&&(t.data=Mn(P))}if(Bc=!0,o)for(const P in o){const D=o[P],$=Ne(D)?D.bind(n,n):Ne(D.get)?D.get.bind(n,n):Nn,G=!Ne(D)&&Ne(D.set)?D.set.bind(n):Nn,ne=rt({get:$,set:G});Object.defineProperty(r,P,{enumerable:!0,configurable:!0,get:()=>ne.value,set:ae=>ne.value=ae})}if(l)for(const P in l)yg(l[P],r,n,P);if(a){const P=Ne(a)?a.call(n):a;Reflect.ownKeys(P).forEach(D=>{Vo(D,P[D])})}u&&Zh(u,t,"c");function T(P,D){Me(D)?D.forEach($=>P($.bind(n))):D&&P(D.bind(n))}if(T(M1,f),T(ua,h),T(P1,d),T(D1,p),T(T1,b),T(L1,g),T(N1,k),T(B1,S),T($1,E),T(Of,x),T(mg,w),T(I1,O),Me(R))if(R.length){const P=t.exposed||(t.exposed={});R.forEach(D=>{Object.defineProperty(P,D,{get:()=>n[D],set:$=>n[D]=$})})}else t.exposed||(t.exposed={});v&&t.render===Nn&&(t.render=v),C!=null&&(t.inheritAttrs=C),_&&(t.components=_),L&&(t.directives=L)}function U1(t,e,n=Nn,r=!1){Me(t)&&(t=Nc(t));for(const i in t){const o=t[i];let s;bt(o)?"default"in o?s=qt(o.from||i,o.default,!0):s=qt(o.from||i):s=qt(o),ut(s)&&r?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):e[i]=s}}function Zh(t,e,n){jn(Me(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function yg(t,e,n,r){const i=r.includes(".")?hg(n,r):()=>n[r];if(Dt(t)){const o=e[t];Ne(o)&&Gt(i,o)}else if(Ne(t))Gt(i,t.bind(n));else if(bt(t))if(Me(t))t.forEach(o=>yg(o,e,n,r));else{const o=Ne(t.handler)?t.handler.bind(n):e[t.handler];Ne(o)&&Gt(i,o,t)}}function Tf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,l=o.get(e);let a;return l?a=l:!i.length&&!n&&!r?a=e:(a={},i.length&&i.forEach(c=>Ol(a,c,s,!0)),Ol(a,e,s)),bt(e)&&o.set(e,a),a}function Ol(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Ol(t,o,n,!0),i&&i.forEach(s=>Ol(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const l=z1[s]||n&&n[s];t[s]=l?l(t[s],e[s]):e[s]}return t}const z1={data:ed,props:fi,emits:fi,methods:fi,computed:fi,beforeCreate:Xt,created:Xt,beforeMount:Xt,mounted:Xt,beforeUpdate:Xt,updated:Xt,beforeDestroy:Xt,beforeUnmount:Xt,destroyed:Xt,unmounted:Xt,activated:Xt,deactivated:Xt,errorCaptured:Xt,serverPrefetch:Xt,components:fi,directives:fi,watch:W1,provide:ed,inject:q1};function ed(t,e){return e?t?function(){return tn(Ne(t)?t.call(this,this):t,Ne(e)?e.call(this,this):e)}:e:t}function q1(t,e){return fi(Nc(t),Nc(e))}function Nc(t){if(Me(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Xt(t,e){return t?[...new Set([].concat(t,e))]:e}function fi(t,e){return t?tn(tn(Object.create(null),t),e):e}function W1(t,e){if(!t)return e;if(!e)return t;const n=tn(Object.create(null),t);for(const r in e)n[r]=Xt(t[r],e[r]);return n}function K1(t,e,n,r=!1){const i={},o={};Sl(o,ha,1),t.propsDefaults=Object.create(null),bg(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:a1(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function J1(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,l=Ge(i),[a]=t.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(la(t.emitsOptions,h))continue;const d=e[h];if(a)if(Xe(o,h))d!==o[h]&&(o[h]=d,c=!0);else{const p=lr(h);i[p]=jc(a,l,p,d,t,!1)}else d!==o[h]&&(o[h]=d,c=!0)}}}else{bg(t,e,i,o)&&(c=!0);let u;for(const f in l)(!e||!Xe(e,f)&&((u=vo(f))===f||!Xe(e,u)))&&(a?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=jc(a,l,f,void 0,t,!0)):delete i[f]);if(o!==l)for(const f in o)(!e||!Xe(e,f))&&(delete o[f],c=!0)}c&&wr(t,"set","$attrs")}function bg(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,l;if(e)for(let a in e){if(tl(a))continue;const c=e[a];let u;i&&Xe(i,u=lr(a))?!o||!o.includes(u)?n[u]=c:(l||(l={}))[u]=c:la(t.emitsOptions,a)||(!(a in r)||c!==r[a])&&(r[a]=c,s=!0)}if(o){const a=Ge(n),c=l||yt;for(let u=0;u<o.length;u++){const f=o[u];n[f]=jc(i,a,f,c[f],t,!Xe(c,f))}}return s}function jc(t,e,n,r,i,o){const s=t[n];if(s!=null){const l=Xe(s,"default");if(l&&r===void 0){const a=s.default;if(s.type!==Function&&Ne(a)){const{propsDefaults:c}=i;n in c?r=c[n]:(ro(i),r=c[n]=a.call(null,e),wi())}else r=a}s[0]&&(o&&!l?r=!1:s[1]&&(r===""||r===vo(n))&&(r=!0))}return r}function vg(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},l=[];let a=!1;if(!Ne(t)){const u=f=>{a=!0;const[h,d]=vg(f,e,!0);tn(s,h),d&&l.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!a)return bt(t)&&r.set(t,qi),qi;if(Me(o))for(let u=0;u<o.length;u++){const f=lr(o[u]);td(f)&&(s[f]=yt)}else if(o)for(const u in o){const f=lr(u);if(td(f)){const h=o[u],d=s[f]=Me(h)||Ne(h)?{type:h}:Object.assign({},h);if(d){const p=id(Boolean,d.type),b=id(String,d.type);d[0]=p>-1,d[1]=b<0||p<b,(p>-1||Xe(d,"default"))&&l.push(f)}}}const c=[s,l];return bt(t)&&r.set(t,c),c}function td(t){return t[0]!=="$"}function nd(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function rd(t,e){return nd(t)===nd(e)}function id(t,e){return Me(e)?e.findIndex(n=>rd(n,t)):Ne(e)&&rd(e,t)?0:-1}const wg=t=>t[0]==="_"||t==="$stable",Lf=t=>Me(t)?t.map(Xn):[Xn(t)],G1=(t,e,n)=>{if(e._n)return e;const r=_t((...i)=>Lf(e(...i)),n);return r._c=!1,r},xg=(t,e,n)=>{const r=t._ctx;for(const i in t){if(wg(i))continue;const o=t[i];if(Ne(o))e[i]=G1(i,o,r);else if(o!=null){const s=Lf(o);e[i]=()=>s}}},_g=(t,e)=>{const n=Lf(e);t.slots.default=()=>n},Y1=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ge(e),Sl(e,"_",n)):xg(e,t.slots={})}else t.slots={},e&&_g(t,e);Sl(t.slots,ha,1)},X1=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=yt;if(r.shapeFlag&32){const l=e._;l?n&&l===1?o=!1:(tn(i,e),!n&&l===1&&delete i._):(o=!e.$stable,xg(e,i)),s=e}else e&&(_g(t,e),s={default:1});if(o)for(const l in i)!wg(l)&&!(l in s)&&delete i[l]};function kg(){return{app:null,config:{isNativeTag:Cv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Q1=0;function Z1(t,e){return function(r,i=null){Ne(r)||(r=Object.assign({},r)),i!=null&&!bt(i)&&(i=null);const o=kg(),s=new Set;let l=!1;const a=o.app={_uid:Q1++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:vw,get config(){return o.config},set config(c){},use(c,...u){return s.has(c)||(c&&Ne(c.install)?(s.add(c),c.install(a,...u)):Ne(c)&&(s.add(c),c(a,...u))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,u){return u?(o.components[c]=u,a):o.components[c]},directive(c,u){return u?(o.directives[c]=u,a):o.directives[c]},mount(c,u,f){if(!l){const h=ke(r,i);return h.appContext=o,u&&e?e(h,c):t(h,c,f),l=!0,a._container=c,c.__vue_app__=a,Pf(h.component)||h.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,u){return o.provides[c]=u,a}};return a}}function Fc(t,e,n,r,i=!1){if(Me(t)){t.forEach((h,d)=>Fc(h,e&&(Me(e)?e[d]:e),n,r,i));return}if(nl(r)&&!i)return;const o=r.shapeFlag&4?Pf(r.component)||r.component.proxy:r.el,s=i?null:o,{i:l,r:a}=t,c=e&&e.r,u=l.refs===yt?l.refs={}:l.refs,f=l.setupState;if(c!=null&&c!==a&&(Dt(c)?(u[c]=null,Xe(f,c)&&(f[c]=null)):ut(c)&&(c.value=null)),Ne(a))Ur(a,l,12,[s,u]);else{const h=Dt(a),d=ut(a);if(h||d){const p=()=>{if(t.f){const b=h?Xe(f,a)?f[a]:u[a]:a.value;i?Me(b)&&pf(b,o):Me(b)?b.includes(o)||b.push(o):h?(u[a]=[o],Xe(f,a)&&(f[a]=u[a])):(a.value=[o],t.k&&(u[t.k]=a.value))}else h?(u[a]=s,Xe(f,a)&&(f[a]=s)):d&&(a.value=s,t.k&&(u[t.k]=s))};s?(p.id=-1,sn(p,n)):p()}}}const sn=A1;function ew(t){return tw(t)}function tw(t,e){const n=Mv();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=Nn,insertStaticContent:p}=t,b=(I,B,H,z=null,W=null,ee=null,le=!1,te=null,Z=!!B.dynamicChildren)=>{if(I===B)return;I&&!Oo(I,B)&&(z=Q(I),ae(I,W,ee,!0),I=null),B.patchFlag===-2&&(Z=!1,B.dynamicChildren=null);const{type:Y,ref:ge,shapeFlag:me}=B;switch(Y){case fa:g(I,B,H,z);break;case Si:m(I,B,H,z);break;case tc:I==null&&x(B,H,z,le);break;case Lt:_(I,B,H,z,W,ee,le,te,Z);break;default:me&1?v(I,B,H,z,W,ee,le,te,Z):me&6?L(I,B,H,z,W,ee,le,te,Z):(me&64||me&128)&&Y.process(I,B,H,z,W,ee,le,te,Z,we)}ge!=null&&W&&Fc(ge,I&&I.ref,ee,B||I,!B)},g=(I,B,H,z)=>{if(I==null)r(B.el=l(B.children),H,z);else{const W=B.el=I.el;B.children!==I.children&&c(W,B.children)}},m=(I,B,H,z)=>{I==null?r(B.el=a(B.children||""),H,z):B.el=I.el},x=(I,B,H,z)=>{[I.el,I.anchor]=p(I.children,B,H,z,I.el,I.anchor)},y=({el:I,anchor:B},H,z)=>{let W;for(;I&&I!==B;)W=h(I),r(I,H,z),I=W;r(B,H,z)},w=({el:I,anchor:B})=>{let H;for(;I&&I!==B;)H=h(I),i(I),I=H;i(B)},v=(I,B,H,z,W,ee,le,te,Z)=>{le=le||B.type==="svg",I==null?S(B,H,z,W,ee,le,te,Z):O(I,B,W,ee,le,te,Z)},S=(I,B,H,z,W,ee,le,te)=>{let Z,Y;const{type:ge,props:me,shapeFlag:ye,transition:Se,dirs:$e}=I;if(Z=I.el=s(I.type,ee,me&&me.is,me),ye&8?u(Z,I.children):ye&16&&k(I.children,Z,null,z,W,ee&&ge!=="foreignObject",le,te),$e&&li(I,null,z,"created"),E(Z,I,I.scopeId,le,z),me){for(const We in me)We!=="value"&&!tl(We)&&o(Z,We,null,me[We],ee,I.children,z,W,X);"value"in me&&o(Z,"value",null,me.value),(Y=me.onVnodeBeforeMount)&&qn(Y,z,I)}$e&&li(I,null,z,"beforeMount");const it=(!W||W&&!W.pendingBranch)&&Se&&!Se.persisted;it&&Se.beforeEnter(Z),r(Z,B,H),((Y=me&&me.onVnodeMounted)||it||$e)&&sn(()=>{Y&&qn(Y,z,I),it&&Se.enter(Z),$e&&li(I,null,z,"mounted")},W)},E=(I,B,H,z,W)=>{if(H&&d(I,H),z)for(let ee=0;ee<z.length;ee++)d(I,z[ee]);if(W){let ee=W.subTree;if(B===ee){const le=W.vnode;E(I,le,le.scopeId,le.slotScopeIds,W.parent)}}},k=(I,B,H,z,W,ee,le,te,Z=0)=>{for(let Y=Z;Y<I.length;Y++){const ge=I[Y]=te?Dr(I[Y]):Xn(I[Y]);b(null,ge,B,H,z,W,ee,le,te)}},O=(I,B,H,z,W,ee,le)=>{const te=B.el=I.el;let{patchFlag:Z,dynamicChildren:Y,dirs:ge}=B;Z|=I.patchFlag&16;const me=I.props||yt,ye=B.props||yt;let Se;H&&ai(H,!1),(Se=ye.onVnodeBeforeUpdate)&&qn(Se,H,B,I),ge&&li(B,I,H,"beforeUpdate"),H&&ai(H,!0);const $e=W&&B.type!=="foreignObject";if(Y?R(I.dynamicChildren,Y,te,H,z,$e,ee):le||D(I,B,te,null,H,z,$e,ee,!1),Z>0){if(Z&16)C(te,B,me,ye,H,z,W);else if(Z&2&&me.class!==ye.class&&o(te,"class",null,ye.class,W),Z&4&&o(te,"style",me.style,ye.style,W),Z&8){const it=B.dynamicProps;for(let We=0;We<it.length;We++){const ot=it[We],Bt=me[ot],yn=ye[ot];(yn!==Bt||ot==="value")&&o(te,ot,Bt,yn,W,I.children,H,z,X)}}Z&1&&I.children!==B.children&&u(te,B.children)}else!le&&Y==null&&C(te,B,me,ye,H,z,W);((Se=ye.onVnodeUpdated)||ge)&&sn(()=>{Se&&qn(Se,H,B,I),ge&&li(B,I,H,"updated")},z)},R=(I,B,H,z,W,ee,le)=>{for(let te=0;te<B.length;te++){const Z=I[te],Y=B[te],ge=Z.el&&(Z.type===Lt||!Oo(Z,Y)||Z.shapeFlag&70)?f(Z.el):H;b(Z,Y,ge,null,z,W,ee,le,!0)}},C=(I,B,H,z,W,ee,le)=>{if(H!==z){if(H!==yt)for(const te in H)!tl(te)&&!(te in z)&&o(I,te,H[te],null,le,B.children,W,ee,X);for(const te in z){if(tl(te))continue;const Z=z[te],Y=H[te];Z!==Y&&te!=="value"&&o(I,te,Y,Z,le,B.children,W,ee,X)}"value"in z&&o(I,"value",H.value,z.value)}},_=(I,B,H,z,W,ee,le,te,Z)=>{const Y=B.el=I?I.el:l(""),ge=B.anchor=I?I.anchor:l("");let{patchFlag:me,dynamicChildren:ye,slotScopeIds:Se}=B;Se&&(te=te?te.concat(Se):Se),I==null?(r(Y,H,z),r(ge,H,z),k(B.children,H,ge,W,ee,le,te,Z)):me>0&&me&64&&ye&&I.dynamicChildren?(R(I.dynamicChildren,ye,H,W,ee,le,te),(B.key!=null||W&&B===W.subTree)&&Sg(I,B,!0)):D(I,B,H,ge,W,ee,le,te,Z)},L=(I,B,H,z,W,ee,le,te,Z)=>{B.slotScopeIds=te,I==null?B.shapeFlag&512?W.ctx.activate(B,H,z,le,Z):M(B,H,z,W,ee,le,Z):A(I,B,Z)},M=(I,B,H,z,W,ee,le)=>{const te=I.component=uw(I,z,W);if(dg(I)&&(te.ctx.renderer=we),fw(te),te.asyncDep){if(W&&W.registerDep(te,T),!I.el){const Z=te.subTree=ke(Si);m(null,Z,B,H)}return}T(te,I,B,H,W,ee,le)},A=(I,B,H)=>{const z=B.component=I.component;if(S1(I,B,H))if(z.asyncDep&&!z.asyncResolved){P(z,B,H);return}else z.next=B,b1(z.update),z.update();else B.el=I.el,z.vnode=B},T=(I,B,H,z,W,ee,le)=>{const te=()=>{if(I.isMounted){let{next:ge,bu:me,u:ye,parent:Se,vnode:$e}=I,it=ge,We;ai(I,!1),ge?(ge.el=$e.el,P(I,ge,le)):ge=$e,me&&Qa(me),(We=ge.props&&ge.props.onVnodeBeforeUpdate)&&qn(We,Se,ge,$e),ai(I,!0);const ot=Za(I),Bt=I.subTree;I.subTree=ot,b(Bt,ot,f(Bt.el),Q(Bt),I,W,ee),ge.el=ot.el,it===null&&C1(I,ot.el),ye&&sn(ye,W),(We=ge.props&&ge.props.onVnodeUpdated)&&sn(()=>qn(We,Se,ge,$e),W)}else{let ge;const{el:me,props:ye}=B,{bm:Se,m:$e,parent:it}=I,We=nl(B);if(ai(I,!1),Se&&Qa(Se),!We&&(ge=ye&&ye.onVnodeBeforeMount)&&qn(ge,it,B),ai(I,!0),me&&de){const ot=()=>{I.subTree=Za(I),de(me,I.subTree,I,W,null)};We?B.type.__asyncLoader().then(()=>!I.isUnmounted&&ot()):ot()}else{const ot=I.subTree=Za(I);b(null,ot,H,z,I,W,ee),B.el=ot.el}if($e&&sn($e,W),!We&&(ge=ye&&ye.onVnodeMounted)){const ot=B;sn(()=>qn(ge,it,ot),W)}(B.shapeFlag&256||it&&nl(it.vnode)&&it.vnode.shapeFlag&256)&&I.a&&sn(I.a,W),I.isMounted=!0,B=H=z=null}},Z=I.effect=new bf(te,()=>Ef(Y),I.scope),Y=I.update=()=>Z.run();Y.id=I.uid,ai(I,!0),Y()},P=(I,B,H)=>{B.component=I;const z=I.vnode.props;I.vnode=B,I.next=null,J1(I,B.props,z,H),X1(I,B.children,H),wo(),Yh(),xo()},D=(I,B,H,z,W,ee,le,te,Z=!1)=>{const Y=I&&I.children,ge=I?I.shapeFlag:0,me=B.children,{patchFlag:ye,shapeFlag:Se}=B;if(ye>0){if(ye&128){G(Y,me,H,z,W,ee,le,te,Z);return}else if(ye&256){$(Y,me,H,z,W,ee,le,te,Z);return}}Se&8?(ge&16&&X(Y,W,ee),me!==Y&&u(H,me)):ge&16?Se&16?G(Y,me,H,z,W,ee,le,te,Z):X(Y,W,ee,!0):(ge&8&&u(H,""),Se&16&&k(me,H,z,W,ee,le,te,Z))},$=(I,B,H,z,W,ee,le,te,Z)=>{I=I||qi,B=B||qi;const Y=I.length,ge=B.length,me=Math.min(Y,ge);let ye;for(ye=0;ye<me;ye++){const Se=B[ye]=Z?Dr(B[ye]):Xn(B[ye]);b(I[ye],Se,H,null,W,ee,le,te,Z)}Y>ge?X(I,W,ee,!0,!1,me):k(B,H,z,W,ee,le,te,Z,me)},G=(I,B,H,z,W,ee,le,te,Z)=>{let Y=0;const ge=B.length;let me=I.length-1,ye=ge-1;for(;Y<=me&&Y<=ye;){const Se=I[Y],$e=B[Y]=Z?Dr(B[Y]):Xn(B[Y]);if(Oo(Se,$e))b(Se,$e,H,null,W,ee,le,te,Z);else break;Y++}for(;Y<=me&&Y<=ye;){const Se=I[me],$e=B[ye]=Z?Dr(B[ye]):Xn(B[ye]);if(Oo(Se,$e))b(Se,$e,H,null,W,ee,le,te,Z);else break;me--,ye--}if(Y>me){if(Y<=ye){const Se=ye+1,$e=Se<ge?B[Se].el:z;for(;Y<=ye;)b(null,B[Y]=Z?Dr(B[Y]):Xn(B[Y]),H,$e,W,ee,le,te,Z),Y++}}else if(Y>ye)for(;Y<=me;)ae(I[Y],W,ee,!0),Y++;else{const Se=Y,$e=Y,it=new Map;for(Y=$e;Y<=ye;Y++){const Nt=B[Y]=Z?Dr(B[Y]):Xn(B[Y]);Nt.key!=null&&it.set(Nt.key,Y)}let We,ot=0;const Bt=ye-$e+1;let yn=!1,Ar=0;const On=new Array(Bt);for(Y=0;Y<Bt;Y++)On[Y]=0;for(Y=Se;Y<=me;Y++){const Nt=I[Y];if(ot>=Bt){ae(Nt,W,ee,!0);continue}let rn;if(Nt.key!=null)rn=it.get(Nt.key);else for(We=$e;We<=ye;We++)if(On[We-$e]===0&&Oo(Nt,B[We])){rn=We;break}rn===void 0?ae(Nt,W,ee,!0):(On[rn-$e]=Y+1,rn>=Ar?Ar=rn:yn=!0,b(Nt,B[rn],H,null,W,ee,le,te,Z),ot++)}const oi=yn?nw(On):qi;for(We=oi.length-1,Y=Bt-1;Y>=0;Y--){const Nt=$e+Y,rn=B[Nt],Os=Nt+1<ge?B[Nt+1].el:z;On[Y]===0?b(null,rn,H,Os,W,ee,le,te,Z):yn&&(We<0||Y!==oi[We]?ne(rn,H,Os,2):We--)}}},ne=(I,B,H,z,W=null)=>{const{el:ee,type:le,transition:te,children:Z,shapeFlag:Y}=I;if(Y&6){ne(I.component.subTree,B,H,z);return}if(Y&128){I.suspense.move(B,H,z);return}if(Y&64){le.move(I,B,H,we);return}if(le===Lt){r(ee,B,H);for(let me=0;me<Z.length;me++)ne(Z[me],B,H,z);r(I.anchor,B,H);return}if(le===tc){y(I,B,H);return}if(z!==2&&Y&1&&te)if(z===0)te.beforeEnter(ee),r(ee,B,H),sn(()=>te.enter(ee),W);else{const{leave:me,delayLeave:ye,afterLeave:Se}=te,$e=()=>r(ee,B,H),it=()=>{me(ee,()=>{$e(),Se&&Se()})};ye?ye(ee,$e,it):it()}else r(ee,B,H)},ae=(I,B,H,z=!1,W=!1)=>{const{type:ee,props:le,ref:te,children:Z,dynamicChildren:Y,shapeFlag:ge,patchFlag:me,dirs:ye}=I;if(te!=null&&Fc(te,null,H,I,!0),ge&256){B.ctx.deactivate(I);return}const Se=ge&1&&ye,$e=!nl(I);let it;if($e&&(it=le&&le.onVnodeBeforeUnmount)&&qn(it,B,I),ge&6)U(I.component,H,z);else{if(ge&128){I.suspense.unmount(H,z);return}Se&&li(I,null,B,"beforeUnmount"),ge&64?I.type.remove(I,B,H,W,we,z):Y&&(ee!==Lt||me>0&&me&64)?X(Y,B,H,!1,!0):(ee===Lt&&me&384||!W&&ge&16)&&X(Z,B,H),z&&Re(I)}($e&&(it=le&&le.onVnodeUnmounted)||Se)&&sn(()=>{it&&qn(it,B,I),Se&&li(I,null,B,"unmounted")},H)},Re=I=>{const{type:B,el:H,anchor:z,transition:W}=I;if(B===Lt){he(H,z);return}if(B===tc){w(I);return}const ee=()=>{i(H),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(I.shapeFlag&1&&W&&!W.persisted){const{leave:le,delayLeave:te}=W,Z=()=>le(H,ee);te?te(I.el,ee,Z):Z()}else ee()},he=(I,B)=>{let H;for(;I!==B;)H=h(I),i(I),I=H;i(B)},U=(I,B,H)=>{const{bum:z,scope:W,update:ee,subTree:le,um:te}=I;z&&Qa(z),W.stop(),ee&&(ee.active=!1,ae(le,I,B,H)),te&&sn(te,B),sn(()=>{I.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},X=(I,B,H,z=!1,W=!1,ee=0)=>{for(let le=ee;le<I.length;le++)ae(I[le],B,H,z,W)},Q=I=>I.shapeFlag&6?Q(I.component.subTree):I.shapeFlag&128?I.suspense.next():h(I.anchor||I.el),ce=(I,B,H)=>{I==null?B._vnode&&ae(B._vnode,null,null,!0):b(B._vnode||null,I,B,null,null,null,H),Yh(),cg(),B._vnode=I},we={p:b,um:ae,m:ne,r:Re,mt:M,mc:k,pc:D,pbc:R,n:Q,o:t};let Ee,de;return e&&([Ee,de]=e(we)),{render:ce,hydrate:Ee,createApp:Z1(ce,Ee)}}function ai({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Sg(t,e,n=!1){const r=t.children,i=e.children;if(Me(r)&&Me(i))for(let o=0;o<r.length;o++){const s=r[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=Dr(i[o]),l.el=s.el),n||Sg(s,l)),l.type===fa&&(l.el=s.el)}}function nw(t){const e=t.slice(),n=[0];let r,i,o,s,l;const a=t.length;for(r=0;r<a;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)l=o+s>>1,t[n[l]]<c?o=l+1:s=l;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const rw=t=>t.__isTeleport,Lt=Symbol(void 0),fa=Symbol(void 0),Si=Symbol(void 0),tc=Symbol(void 0),zo=[];let Pn=null;function Ke(t=!1){zo.push(Pn=t?null:[])}function iw(){zo.pop(),Pn=zo[zo.length-1]||null}let ts=1;function od(t){ts+=t}function Cg(t){return t.dynamicChildren=ts>0?Pn||qi:null,iw(),ts>0&&Pn&&Pn.push(t),t}function at(t,e,n,r,i,o){return Cg(Le(t,e,n,r,i,o,!0))}function to(t,e,n,r,i){return Cg(ke(t,e,n,r,i,!0))}function Hc(t){return t?t.__v_isVNode===!0:!1}function Oo(t,e){return t.type===e.type&&t.key===e.key}const ha="__vInternal",Eg=({key:t})=>t??null,rl=({ref:t,ref_key:e,ref_for:n})=>t!=null?Dt(t)||ut(t)||Ne(t)?{i:vn,r:t,k:e,f:!!n}:t:null;function Le(t,e=null,n=null,r=0,i=null,o=t===Lt?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Eg(e),ref:e&&rl(e),scopeId:aa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:vn};return l?(Rf(a,n),o&128&&t.normalize(a)):n&&(a.shapeFlag|=Dt(n)?8:16),ts>0&&!s&&Pn&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Pn.push(a),a}const ke=ow;function ow(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===j1)&&(t=Si),Hc(t)){const l=no(t,e,!0);return n&&Rf(l,n),ts>0&&!o&&Pn&&(l.shapeFlag&6?Pn[Pn.indexOf(t)]=l:Pn.push(l)),l.patchFlag|=-2,l}if(gw(t)&&(t=t.__vccOpts),e){e=sw(e);let{class:l,style:a}=e;l&&!Dt(l)&&(e.class=ea(l)),bt(a)&&(tg(a)&&!Me(a)&&(a=tn({},a)),e.style=hf(a))}const s=Dt(t)?1:E1(t)?128:rw(t)?64:bt(t)?4:Ne(t)?2:0;return Le(t,e,n,r,i,s,o,!0)}function sw(t){return t?tg(t)||ha in t?tn({},t):t:null}function no(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,l=e?lw(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Eg(l),ref:e&&e.ref?n&&i?Me(i)?i.concat(rl(e)):[i,rl(e)]:rl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Lt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&no(t.ssContent),ssFallback:t.ssFallback&&no(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function an(t=" ",e=0){return ke(fa,null,t,e)}function ns(t="",e=!1){return e?(Ke(),to(Si,null,t)):ke(Si,null,t)}function Xn(t){return t==null||typeof t=="boolean"?ke(Si):Me(t)?ke(Lt,null,t.slice()):typeof t=="object"?Dr(t):ke(fa,null,String(t))}function Dr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:no(t)}function Rf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Me(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Rf(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(ha in e)?e._ctx=vn:i===3&&vn&&(vn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ne(e)?(e={default:e,_ctx:vn},n=32):(e=String(e),r&64?(n=16,e=[an(e)]):n=8);t.children=e,t.shapeFlag|=n}function lw(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ea([e.class,r.class]));else if(i==="style")e.style=hf([e.style,r.style]);else if(ta(i)){const o=e[i],s=r[i];s&&o!==s&&!(Me(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function qn(t,e,n,r=null){jn(t,e,7,[n,r])}const aw=kg();let cw=0;function uw(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||aw,o={uid:cw++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Hm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vg(r,i),emitsOptions:fg(r,i),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:r.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=x1.bind(null,o),t.ce&&t.ce(o),o}let Et=null;const Mf=()=>Et||vn,ro=t=>{Et=t,t.scope.on()},wi=()=>{Et&&Et.scope.off(),Et=null};function Ag(t){return t.vnode.shapeFlag&4}let rs=!1;function fw(t,e=!1){rs=e;const{props:n,children:r}=t.vnode,i=Ag(t);K1(t,n,i,e),Y1(t,r);const o=i?hw(t,e):void 0;return rs=!1,o}function hw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ki(new Proxy(t.ctx,H1));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?pw(t):null;ro(t),wo();const o=Ur(r,t,0,[t.props,i]);if(xo(),wi(),Nm(o)){if(o.then(wi,wi),e)return o.then(s=>{sd(t,s,e)}).catch(s=>{oa(s,t,0)});t.asyncDep=o}else sd(t,o,e)}else Og(t,e)}function sd(t,e,n){Ne(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:bt(e)&&(t.setupState=ig(e)),Og(t,n)}let ld;function Og(t,e,n){const r=t.type;if(!t.render){if(!e&&ld&&!r.render){const i=r.template||Tf(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:l,compilerOptions:a}=r,c=tn(tn({isCustomElement:o,delimiters:l},s),a);r.render=ld(i,c)}}t.render=r.render||Nn}ro(t),wo(),V1(t),xo(),wi()}function dw(t){return new Proxy(t.attrs,{get(e,n){return cn(t,"get","$attrs"),e[n]}})}function pw(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=dw(t))},slots:t.slots,emit:t.emit,expose:e}}function Pf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ig(ki(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Uo)return Uo[n](t)},has(e,n){return n in e||n in Uo}}))}function mw(t,e=!0){return Ne(t)?t.displayName||t.name:t.name||e&&t.__name}function gw(t){return Ne(t)&&"__vccOpts"in t}const rt=(t,e)=>m1(t,e,rs);function Ci(t,e,n){const r=arguments.length;return r===2?bt(e)&&!Me(e)?Hc(e)?ke(t,null,[e]):ke(t,e):ke(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Hc(n)&&(n=[n]),ke(t,e,n))}const yw=Symbol(""),bw=()=>qt(yw),vw="3.2.47",ww="http://www.w3.org/2000/svg",di=typeof document<"u"?document:null,ad=di&&di.createElement("template"),xw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?di.createElementNS(ww,t):di.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>di.createTextNode(t),createComment:t=>di.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>di.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{ad.innerHTML=r?`<svg>${t}</svg>`:t;const l=ad.content;if(r){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function _w(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function kw(t,e,n){const r=t.style,i=Dt(n);if(n&&!i){if(e&&!Dt(e))for(const o in e)n[o]==null&&Vc(r,o,"");for(const o in n)Vc(r,o,n[o])}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const cd=/\s*!important$/;function Vc(t,e,n){if(Me(n))n.forEach(r=>Vc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Sw(t,e);cd.test(n)?t.setProperty(vo(r),n.replace(cd,""),"important"):t[r]=n}}const ud=["Webkit","Moz","ms"],nc={};function Sw(t,e){const n=nc[e];if(n)return n;let r=lr(e);if(r!=="filter"&&r in t)return nc[e]=r;r=vs(r);for(let i=0;i<ud.length;i++){const o=ud[i]+r;if(o in t)return nc[e]=o}return e}const fd="http://www.w3.org/1999/xlink";function Cw(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(fd,e.slice(6,e.length)):t.setAttributeNS(fd,e,n);else{const o=Sv(e);n==null||o&&!Im(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function Ew(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const a=n??"";(t.value!==a||t.tagName==="OPTION")&&(t.value=a),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Im(n):n==null&&a==="string"?(n="",l=!0):a==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Aw(t,e,n,r){t.addEventListener(e,n,r)}function Ow(t,e,n,r){t.removeEventListener(e,n,r)}function Tw(t,e,n,r,i=null){const o=t._vei||(t._vei={}),s=o[e];if(r&&s)s.value=r;else{const[l,a]=Lw(e);if(r){const c=o[e]=Pw(r,i);Aw(t,l,c,a)}else s&&(Ow(t,l,s,a),o[e]=void 0)}}const hd=/(?:Once|Passive|Capture)$/;function Lw(t){let e;if(hd.test(t)){e={};let r;for(;r=t.match(hd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):vo(t.slice(2)),e]}let rc=0;const Rw=Promise.resolve(),Mw=()=>rc||(Rw.then(()=>rc=0),rc=Date.now());function Pw(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;jn(Dw(r,n.value),e,5,[r])};return n.value=t,n.attached=Mw(),n}function Dw(t,e){if(Me(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const dd=/^on[a-z]/,Iw=(t,e,n,r,i=!1,o,s,l,a)=>{e==="class"?_w(t,r,i):e==="style"?kw(t,n,r):ta(e)?df(e)||Tw(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$w(t,e,r,i))?Ew(t,e,r,o,s,l,a):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Cw(t,e,r,i))};function $w(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&dd.test(e)&&Ne(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||dd.test(e)&&Dt(n)?!1:e in t}const Bw=tn({patchProp:Iw},xw);let pd;function Nw(){return pd||(pd=ew(Bw))}const jw=(...t)=>{const e=Nw().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Fw(r);if(!i)return;const o=e._component;!Ne(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function Fw(t){return Dt(t)?document.querySelector(t):t}var Hw=!1;/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Tg;const da=t=>Tg=t,Lg=Symbol();function Uc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var qo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(qo||(qo={}));function Vw(){const t=Vm(!0),e=t.run(()=>Ze({}));let n=[],r=[];const i=ki({install(o){da(i),i._a=o,o.provide(Lg,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!Hw?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const Rg=()=>{};function md(t,e,n,r=Rg){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&Um()&&Dv(i),i}function $i(t,...e){t.slice().forEach(n=>{n(...e)})}function zc(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Uc(i)&&Uc(r)&&t.hasOwnProperty(n)&&!ut(r)&&!Sn(r)?t[n]=zc(i,r):t[n]=r}return t}const Uw=Symbol();function zw(t){return!Uc(t)||!t.hasOwnProperty(Uw)}const{assign:Mr}=Object;function qw(t){return!!(ut(t)&&t.effect)}function Ww(t,e,n,r){const{state:i,actions:o,getters:s}=e,l=n.state.value[t];let a;function c(){l||(n.state.value[t]=i?i():{});const u=h1(n.state.value[t]);return Mr(u,o,Object.keys(s||{}).reduce((f,h)=>(f[h]=ki(rt(()=>{da(n);const d=n._s.get(t);return s[h].call(d,d)})),f),{}))}return a=Mg(t,c,e,n,r,!0),a}function Mg(t,e,n={},r,i,o){let s;const l=Mr({actions:{}},n),a={deep:!0};let c,u,f=ki([]),h=ki([]),d;const p=r.state.value[t];!o&&!p&&(r.state.value[t]={}),Ze({});let b;function g(E){let k;c=u=!1,typeof E=="function"?(E(r.state.value[t]),k={type:qo.patchFunction,storeId:t,events:d}):(zc(r.state.value[t],E),k={type:qo.patchObject,payload:E,storeId:t,events:d});const O=b=Symbol();sa().then(()=>{b===O&&(c=!0)}),u=!0,$i(f,k,r.state.value[t])}const m=o?function(){const{state:k}=n,O=k?k():{};this.$patch(R=>{Mr(R,O)})}:Rg;function x(){s.stop(),f=[],h=[],r._s.delete(t)}function y(E,k){return function(){da(r);const O=Array.from(arguments),R=[],C=[];function _(A){R.push(A)}function L(A){C.push(A)}$i(h,{args:O,name:E,store:v,after:_,onError:L});let M;try{M=k.apply(this&&this.$id===t?this:v,O)}catch(A){throw $i(C,A),A}return M instanceof Promise?M.then(A=>($i(R,A),A)).catch(A=>($i(C,A),Promise.reject(A))):($i(R,M),M)}}const w={_p:r,$id:t,$onAction:md.bind(null,h),$patch:g,$reset:m,$subscribe(E,k={}){const O=md(f,E,k.detached,()=>R()),R=s.run(()=>Gt(()=>r.state.value[t],C=>{(k.flush==="sync"?u:c)&&E({storeId:t,type:qo.direct,events:d},C)},Mr({},a,k)));return O},$dispose:x},v=Mn(w);r._s.set(t,v);const S=r._e.run(()=>(s=Vm(),s.run(()=>e())));for(const E in S){const k=S[E];if(ut(k)&&!qw(k)||Sn(k))o||(p&&zw(k)&&(ut(k)?k.value=p[E]:zc(k,p[E])),r.state.value[t][E]=k);else if(typeof k=="function"){const O=y(E,k);S[E]=O,l.actions[E]=k}}return Mr(v,S),Mr(Ge(v),S),Object.defineProperty(v,"$state",{get:()=>r.state.value[t],set:E=>{g(k=>{Mr(k,E)})}}),r._p.forEach(E=>{Mr(v,s.run(()=>E({store:v,app:r._a,pinia:r,options:l})))}),p&&o&&n.hydrate&&n.hydrate(v.$state,p),c=!0,u=!0,v}function pa(t,e,n){let r,i;const o=typeof e=="function";typeof t=="string"?(r=t,i=o?n:e):(i=t,r=t.id);function s(l,a){const c=Mf();return l=l||c&&qt(Lg,null),l&&da(l),l=Tg,l._s.has(r)||(o?Mg(r,e,i,l):Ww(r,i,l)),l._s.get(r)}return s.$id=r,s}const Pg=["__key","__init","__shim","__original","__index","__prevKey"];function _o(){return Math.random().toString(36).substring(2,15)}function Kw(t,e){const n=t instanceof Set?t:new Set(t);return e&&e.forEach(r=>n.add(r)),[...n]}function je(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Cn(t,e,n=!0,r=["__key"]){if(t===e)return!0;if(typeof e=="object"&&typeof t=="object"){if(t instanceof Map||t instanceof Set||t instanceof Date||t===null||e===null||Object.keys(t).length!==Object.keys(e).length)return!1;for(const i of r)if((i in t||i in e)&&t[i]!==e[i])return!1;for(const i in t)if(!(i in e)||t[i]!==e[i]&&!n||n&&!Cn(t[i],e[i],n,r))return!1;return!0}return!1}function is(t){const e=typeof t;if(e==="number")return!1;if(t===void 0)return!0;if(e==="string")return t==="";if(e==="object"){if(t===null)return!0;for(const n in t)return!1;return!(t instanceof RegExp||t instanceof Date)}return!1}function Jw(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gw(t){const e=`^${Jw(t)}$`,n={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[0-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"},r=Object.keys(n);return new RegExp(r.reduce((i,o)=>i.replace(o,n[o]),e))}function qc(t){return Object.prototype.toString.call(t)==="[object Object]"}function Wc(t){return qc(t)||Array.isArray(t)}function Ei(t){if(qc(t)===!1||t.__FKNode__||t.__POJO__===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(qc(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}function Ai(t,e,n=!1,r=!1){if(e===null)return null;const i={};if(typeof e=="string")return e;for(const o in t)if(je(e,o)&&(e[o]!==void 0||!r)){if(n&&Array.isArray(t[o])&&Array.isArray(e[o])){i[o]=t[o].concat(e[o]);continue}if(e[o]===void 0)continue;Ei(t[o])&&Ei(e[o])?i[o]=Ai(t[o],e[o],n,r):i[o]=e[o]}else i[o]=t[o];for(const o in e)!je(i,o)&&e[o]!==void 0&&(i[o]=e[o]);return i}function Yw(t){if(t[0]!=='"'&&t[0]!=="'"||t[0]!==t[t.length-1])return!1;const e=t[0];for(let n=1;n<t.length;n++)if(t[n]===e&&(n===1||t[n-1]!=="\\")&&n!==t.length-1)return!1;return!0}function Xw(t){if(!t.length)return"";let e="",n="";for(let r=0;r<t.length;r++){const i=t.charAt(r);(i!=="\\"||n==="\\")&&(e+=i),n=i}return e}function Bi(...t){return t.reduce((e,n)=>{const{value:r,name:i,modelValue:o,config:s,plugins:l,...a}=n;return Object.assign(e,a)},{})}function Qw(t){const e=[];let n="",r=0,i="",o="";for(let s=0;s<t.length;s++){const l=t.charAt(s);l===i&&o!=="\\"?i="":(l==="'"||l==='"')&&!i&&o!=="\\"?i=l:l==="("&&!i?r++:l===")"&&!i&&r--,l===","&&!i&&r===0?(e.push(n),n=""):(l!==" "||i)&&(n+=l),o=l}return n&&e.push(n),e}function gd(t,e){const n={},r=e.filter(o=>o instanceof RegExp),i=new Set(e);for(const o in t)!i.has(o)&&!r.some(s=>s.test(o))&&(n[o]=t[o]);return n}function yd(t,e){const n={},r=e.filter(i=>i instanceof RegExp);return e.forEach(i=>{i instanceof RegExp||(n[i]=t[i])}),Object.keys(t).forEach(i=>{r.some(o=>o.test(i))&&(n[i]=t[i])}),n}function Ji(t){return t.replace(/-([a-z0-9])/gi,(e,n)=>n.toUpperCase())}function Dg(t){return t.replace(/([a-z0-9])([A-Z])/g,(e,n,r)=>n+"-"+r.toLowerCase()).replace(" ","-").toLowerCase()}function bd(t,e=Pg){if(t!==null&&typeof t=="object"){let n;if(Array.isArray(t)?n=[...t]:Ei(t)&&(n={...t}),n)return ex(t,n,e),n}return t}function io(t,e=Pg){if(t===null||t instanceof RegExp||t instanceof Date||t instanceof Map||t instanceof Set||typeof File=="function"&&t instanceof File)return t;let n;Array.isArray(t)?n=t.map(r=>typeof r=="object"?io(r,e):r):n=Object.keys(t).reduce((r,i)=>(r[i]=typeof t[i]=="object"?io(t[i],e):t[i],r),{});for(const r of e)r in t&&Object.defineProperty(n,r,{enumerable:!1,value:t[r]});return n}function Dn(t){return typeof t=="object"?io(t):t}function Zw(t,e){if(!t||typeof t!="object")return null;const n=e.split(".");let r=t;for(const i in n){const o=n[i];if(je(r,o)&&(r=r[o]),+i===n.length-1)return r;if(!r||typeof r!="object")return null}return null}function In(t){return t!==void 0&&t!=="false"&&t!==!1?!0:void 0}function os(t){return Object.isFrozen(t)?t:Object.defineProperty(t,"__init",{enumerable:!1,value:!0})}function Df(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function ex(t,e,n){for(const r of n)r in t&&Object.defineProperty(e,r,{enumerable:!1,value:t[r]});return e}function If(){const t=[];let e=0;const n=i=>t.push(i),r=i=>{const o=t[e];return typeof o=="function"?o(i,s=>(e++,r(s===void 0?i:s))):(e=0,i)};return n.dispatch=r,n.unshift=i=>t.unshift(i),n.remove=i=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)},n}function Ig(){const t=new Map,e=new Map;let n;const r=(i,o)=>{if(n){n.set(o.name,[i,o]);return}t.has(o.name)&&t.get(o.name).forEach(s=>{(o.origin===i||s.modifiers.includes("deep"))&&s.listener(o)}),o.bubble&&i.bubble(o)};return r.on=(i,o)=>{const[s,...l]=i.split("."),a=o.receipt||_o(),c={modifiers:l,event:s,listener:o,receipt:a};return t.has(s)?t.get(s).push(c):t.set(s,[c]),e.has(a)?e.get(a).push(s):e.set(a,[s]),a},r.off=i=>{var o;e.has(i)&&((o=e.get(i))===null||o===void 0||o.forEach(s=>{const l=t.get(s);Array.isArray(l)&&t.set(s,l.filter(a=>a.receipt!==i))}),e.delete(i))},r.pause=i=>{n||(n=new Map),i&&i.walk(o=>o._e.pause())},r.play=i=>{if(!n)return;const o=n;n=void 0,o.forEach(([s,l])=>r(s,l)),i&&i.walk(s=>s._e.play())},r}function tx(t,e,n,r,i=!0){return e._e(t,{payload:r,name:n,bubble:i,origin:t}),t}function nx(t,e,n){return xs(t.parent)&&t.parent._e(t.parent,n),t}function rx(t,e,n,r){return e._e.on(n,r)}function ix(t,e,n){return e._e.off(n),t}const $f=If();$f((t,e)=>(t.message||(t.message=`E${t.code}`),e(t)));const Bf=If();Bf((t,e)=>{t.message||(t.message=`W${t.code}`);const n=e(t);return console&&typeof console.warn=="function"&&console.warn(n.message),n});function Ri(t,e={}){Bf.dispatch({code:t,data:e})}function gn(t,e={}){throw Error($f.dispatch({code:t,data:e}).message)}function Fn(t,e){const n={blocking:!1,key:_o(),meta:{},type:"state",visible:!0,...t};return e&&n.value&&n.meta.localize!==!1&&(n.value=e.t(n),n.meta.locale=e.config.locale),n}const vd={apply:ux,set:sx,remove:$g,filter:ax,reduce:cx,release:dx,touch:lx};function ox(t=!1){const e={};let n,r=t,i=[];const o=new Map;let s;const l=new Proxy(e,{get(...a){const[c,u]=a;return u==="buffer"?r:u==="_b"?i:u==="_m"?o:u==="_r"?s:je(vd,u)?vd[u].bind(null,e,l,n):Reflect.get(...a)},set(a,c,u){return c==="_n"?(n=u,s==="__n"&&Bg(n,l),!0):c==="_b"?(i=u,!0):c==="buffer"?(r=u,!0):c==="_r"?(s=u,!0):(gn(101,n),!1)}});return l}function sx(t,e,n,r){if(e.buffer)return e._b.push([[r]]),e;if(t[r.key]!==r){if(typeof r.value=="string"&&r.meta.localize!==!1){const o=r.value;r.value=n.t(r),r.value!==o&&(r.meta.locale=n.props.locale)}const i=`message-${je(t,r.key)?"updated":"added"}`;t[r.key]=Object.freeze(n.hook.message.dispatch(r)),n.emit(i,r)}return e}function lx(t,e){for(const n in t){const r={...t[n]};e.set(r)}}function $g(t,e,n,r){if(je(t,r)){const i=t[r];delete t[r],n.emit("message-removed",i)}return e.buffer===!0&&(e._b=e._b.filter(i=>(i[0]=i[0].filter(o=>o.key!==r),i[1]||i[0].length))),e}function ax(t,e,n,r,i){for(const o in t){const s=t[o];(!i||s.type===i)&&!r(s)&&$g(t,e,n,o)}}function cx(t,e,n,r,i){for(const o in t){const s=t[o];i=r(i,s)}return i}function ux(t,e,n,r,i){if(Array.isArray(r)){if(e.buffer){e._b.push([r,i]);return}const o=new Set(r.map(s=>(e.set(s),s.key)));typeof i=="string"?e.filter(s=>s.type!==i||o.has(s.key)):typeof i=="function"&&e.filter(s=>!i(s)||o.has(s.key))}else for(const o in r){const s=n.at(o);s?s.store.apply(r[o],i):hx(n,e,o,r[o],i)}}function fx(t,...e){const n=`${t.name}-set`,r=i=>Fn({key:Df(i),type:"error",value:i,meta:{source:n,autoClear:!0}});return e.filter(i=>!!i).map(i=>{if(typeof i=="string"&&(i=[i]),Array.isArray(i))return i.map(o=>r(o));{const o={};for(const s in i)Array.isArray(i[s])?o[s]=i[s].map(l=>r(l)):o[s]=[r(i[s])];return o}})}function hx(t,e,n,r,i){var o;const s=e._m;s.has(n)||s.set(n,[]),e._r||(e._r=Bg(t,e)),(o=s.get(n))===null||o===void 0||o.push([r,i])}function Bg(t,e){return t.on("child.deep",({payload:n})=>{e._m.forEach((r,i)=>{t.at(i)===n&&(r.forEach(([o,s])=>{n.store.apply(o,s)}),e._m.delete(i))}),e._m.size===0&&e._r&&(t.off(e._r),e._r=void 0)})}function dx(t,e){e.buffer=!1,e._b.forEach(([n,r])=>e.apply(n,r)),e._b=[]}function px(){const t={};let e;return{count:(...n)=>mx(e,t,...n),init(n){e=n,n.on("message-added.deep",wd(t,1)),n.on("message-removed.deep",wd(t,-1))},merge:n=>xd(e,t,n),settled(n){return je(t,n)?t[n].promise:Promise.resolve()},unmerge:n=>xd(e,t,n,!0),value(n){return je(t,n)?t[n].count:0}}}function mx(t,e,n,r,i=0){if(r=gx(r||n),!je(e,n)){const o={condition:r,count:0,name:n,node:t,promise:Promise.resolve(),resolve:()=>{}};e[n]=o,i=t.store.reduce((s,l)=>s+o.condition(l)*1,i),t.each(s=>{s.ledger.count(o.name,o.condition),i+=s.ledger.value(o.name)})}return Ng(e[n],i).promise}function gx(t){return typeof t=="function"?t:e=>e.type===t}function Ng(t,e){const n=t.count,r=t.count+e;return t.count=r,n===0&&r!==0?(t.node.emit(`unsettled:${t.name}`,t.count,!1),t.promise=new Promise(i=>t.resolve=i)):n!==0&&r===0&&(t.node.emit(`settled:${t.name}`,t.count,!1),t.resolve()),t.node.emit(`count:${t.name}`,t.count,!1),t}function wd(t,e){return n=>{for(const r in t){const i=t[r];i.condition(n.payload)&&Ng(i,e)}}}function xd(t,e,n,r=!1){for(const i in e){const o=e[i].condition;r||n.ledger.count(i,o);const s=n.ledger.value(i)*(r?-1:1);if(t)do t.ledger.count(i,o,s),t=t.parent;while(t)}}const Nf=new Map,il=new Map,jf=Ig(),yx=[];function bx(t){t.props.id&&(Nf.set(t.props.id,t),il.set(t,t.props.id),jf(t,{payload:t,name:t.props.id,bubble:!1,origin:t}))}function vx(t){if(il.has(t)){const e=il.get(t);il.delete(t),Nf.delete(e),jf(t,{payload:null,name:e,bubble:!1,origin:t})}}function ws(t){return Nf.get(t)}function wx(t,e){yx.push(jf.on(t,e))}function Kc(t,e,n){let r=!0;return e in t.config._t?r=!1:t.emit(`config:${e}`,n,!1),e in t.props||(t.emit("prop",{prop:e,value:n}),t.emit(`prop:${e}`,n)),r}function xx(t={}){const e=new Set,n={...t,_add:i=>e.add(i),_rm:i=>e.delete(i)};return new Proxy(n,{set(i,o,s,l){return typeof o=="string"&&e.forEach(a=>Kc(a,o,s)),Reflect.set(i,o,s,l)}})}function jg(t){const e=document.getElementById(t);if(e instanceof HTMLFormElement){const n=new Event("submit",{cancelable:!0,bubbles:!0});e.dispatchEvent(n);return}Ri(151,t)}function _x(t){const e=n=>{for(const r in n.store){const i=n.store[r];i.type==="error"||i.type==="ui"&&r==="incomplete"?n.store.remove(r):i.type==="state"&&n.store.set({...i,value:!1})}};e(t),t.walk(e)}function Fg(t,e){const n=typeof t=="string"?ws(t):t;if(n){const r=o=>Dn(o.props.initial)||(o.type==="group"?{}:o.type==="list"?[]:void 0);n._e.pause(n),n.input(Dn(e)||r(n),!1),n.walk(o=>o.input(r(o),!1));const i=r(n);return n.input(typeof i=="object"?Dn(e)||os(i):i,!1),n._e.play(n),_x(n),n.emit("reset",n),n}Ri(152,t)}const kx={delimiter:".",delay:0,locale:"en",rootClasses:t=>({[`formkit-${Dg(t)}`]:!0})},Hg=Symbol("index"),Jc=Symbol("removed"),Gc=Symbol("moved"),Vg=Symbol("inserted");function Sx(t){return t.type==="list"&&Array.isArray(t._value)}function xs(t){return t&&typeof t=="object"&&t.__FKNode__===!0}const ol=(t,e,n)=>{gn(102,[t,n])},Cx={_c:et(Wx,ol,!1),add:et(Nx),addProps:et(Bx),address:et(Jx,ol,!1),at:et(Gx),bubble:et(nx),clearErrors:et(r_),calm:et(Dx),config:et(!1),define:et($x),disturb:et(Px),destroy:et(Ix),hydrate:et(Mx),index:et(qx,zx,!1),input:et(zg),each:et(Hx),emit:et(tx),find:et(Xx),on:et(rx),off:et(ix),parent:et(!1,jx),plugins:et(!1),remove:et(Fx),root:et(Zx,ol,!1),reset:et(n_),resetConfig:et(Ux),setErrors:et(Kg),submit:et(t_),t:et(e_),use:et(Ff),name:et(Kx,!1,!1),walk:et(Vx)};function Ex(){return new Map(Object.entries(Cx))}function et(t,e,n=!0){return{get:t?(r,i)=>n?(...o)=>t(r,i,...o):t(r,i):!1,set:e!==void 0?e:ol.bind(null)}}function Ax(){const t=new Map;return new Proxy(t,{get(e,n){return t.has(n)||t.set(n,If()),t.get(n)}})}let Ox=0,Tx=0;function Lx(t){var e,n;return((e=t.parent)===null||e===void 0?void 0:e.type)==="list"?Hg:t.name||`${((n=t.props)===null||n===void 0?void 0:n.type)||"input"}_${++Ox}`}function Ug(t){return t.type==="group"?os(t.value&&typeof t.value=="object"&&!Array.isArray(t.value)?t.value:{}):t.type==="list"?os(Array.isArray(t.value)?t.value:[]):t.value}function zg(t,e,n,r=!0){return e._value=Rx(t,t.hook.input.dispatch(n)),t.emit("input",e._value),e.isSettled&&t.disturb(),r?(e._tmo&&clearTimeout(e._tmo),e._tmo=setTimeout(Tl,t.props.delay,t,e)):Tl(t,e),e.settled}function Rx(t,e){switch(t.type){case"input":break;case"group":(!e||typeof e!="object")&&gn(107,[t,e]);break;case"list":Array.isArray(e)||gn(108,[t,e]);break}return e}function Tl(t,e,n=!0,r=!0){e._value=e.value=t.hook.commit.dispatch(e._value),t.type!=="input"&&r&&t.hydrate(),t.emit("commit",e.value),n&&t.calm()}function qg(t,{name:e,value:n,from:r}){if(!Object.isFrozen(t._value)){if(Sx(t)){const i=n===Jc?[]:n===Gc&&typeof r=="number"?t._value.splice(r,1):[n];t._value.splice(e,n===Gc||r===Vg?0:1,...i);return}n!==Jc?t._value[e]=n:delete t._value[e]}}function Mx(t,e){const n=e._value;return e.children.forEach(r=>{if(typeof n=="object")if(r.name in n){const i=r.type!=="input"||n[r.name]&&typeof n[r.name]=="object"?os(n[r.name]):n[r.name];r.input(i,!1)}else(t.type!=="list"||typeof r.name=="number")&&qg(e,{name:r.name,value:r.value}),n.__init||(r.type==="group"?r.input({},!1):r.type==="list"?r.input([],!1):r.input(void 0,!1))}),t}function Px(t,e){var n;return e._d<=0&&(e.isSettled=!1,t.emit("settled",!1,!1),e.settled=new Promise(r=>{e._resolve=r}),t.parent&&((n=t.parent)===null||n===void 0||n.disturb())),e._d++,t}function Dx(t,e,n){var r;if(n!==void 0&&t.type!=="input")return qg(e,n),Tl(t,e,!0,!1);e._d>0&&e._d--,e._d===0&&(e.isSettled=!0,t.emit("settled",!0,!1),t.parent&&((r=t.parent)===null||r===void 0||r.calm({name:t.name,value:e.value})),e._resolve&&e._resolve(e.value))}function Ix(t,e){t.emit("destroying",t),t.store.filter(()=>!1),t.parent&&(t.parent.emit("childRemoved",t),t.parent.remove(t)),vx(t),e._value=e.value=void 0,t.emit("destroyed",t)}function $x(t,e,n){e.type=n.type,e.props.definition=io(n),e.value=e._value=Ug({type:t.type,value:e.value}),n.forceTypeProp&&(t.props.type&&(t.props.originalType=t.props.type),e.props.type=n.forceTypeProp),n.family&&(e.props.family=n.family),n.features&&n.features.forEach(r=>r(t)),n.props&&t.addProps(n.props),t.emit("defined",n)}function Bx(t,e,n){var r;if(t.props.attrs){const i={...t.props.attrs};t.props._emit=!1;for(const s in i){const l=Ji(s);n.includes(l)&&(t.props[l]=i[s],delete i[s])}const o=Dn(e._value);t.props.initial=t.type!=="input"?os(o):o,t.props._emit=!0,t.props.attrs=i,t.props.definition&&(t.props.definition.props=[...((r=t.props.definition)===null||r===void 0?void 0:r.props)||[],...n])}return t.emit("added-props",n),t}function Nx(t,e,n,r){if(t.type==="input"&&gn(100,t),n.parent&&n.parent!==t&&n.parent.remove(n),e.children.includes(n)||(r!==void 0&&t.type==="list"?(e.children.splice(r,0,n),Array.isArray(t.value)&&t.value.length<e.children.length&&t.disturb().calm({name:r,value:n.value,from:Vg})):e.children.push(n),n.isSettled||t.disturb()),n.parent!==t){if(n.parent=t,n.parent!==t)return t.remove(n),n.parent.add(n),t}else n.use(t.plugins);return Tl(t,e,!1),t.ledger.merge(n),t.emit("child",n),t}function jx(t,e,n,r){return xs(r)?(t.parent&&t.parent!==r&&t.parent.remove(t),e.parent=r,t.resetConfig(),r.children.includes(t)?t.use(r.plugins):r.add(t),!0):r===null?(e.parent=null,!0):!1}function Fx(t,e,n){const r=e.children.indexOf(n);if(r!==-1){n.isSettled&&t.disturb(),e.children.splice(r,1);let i=In(n.props.preserve),o=n.parent;for(;i===void 0&&o;)i=In(o.props.preserve),o=o.parent;i?t.calm():t.calm({name:t.type==="list"?r:n.name,value:Jc}),n.parent=null,n.config._rmn=n}return t.ledger.unmerge(n),t}function Hx(t,e,n){e.children.forEach(r=>n(r))}function Vx(t,e,n,r=!1){e.children.forEach(i=>{(n(i)!==!1||!r)&&i.walk(n,r)})}function Ux(t,e){const n=t.parent||void 0;e.config=Wg(t.config._t,n),t.walk(r=>r.resetConfig())}function Ff(t,e,n,r=!0,i=!0){return Array.isArray(n)||n instanceof Set?(n.forEach(o=>Ff(t,e,o)),t):(e.plugins.has(n)||(i&&typeof n.library=="function"&&n.library(t),r&&n(t)!==!1&&(e.plugins.add(n),t.children.forEach(o=>o.use(n)))),t)}function zx(t,e,n,r){if(xs(t.parent)){const i=t.parent.children,o=r>=i.length?i.length-1:r<0?0:r,s=i.indexOf(t);return s===-1?!1:(i.splice(s,1),i.splice(o,0,t),t.parent.children=i,t.parent.type==="list"&&t.parent.disturb().calm({name:o,value:Gc,from:s}),!0)}return!1}function qx(t){if(t.parent){const e=[...t.parent.children].indexOf(t);return e===-1?t.parent.children.length:e}return-1}function Wx(t,e){return e}function Kx(t,e){var n;return((n=t.parent)===null||n===void 0?void 0:n.type)==="list"?t.index:e.name!==Hg?e.name:t.index}function Jx(t,e){return e.parent?e.parent.address.concat([t.name]):[t.name]}function Gx(t,e,n){const r=typeof n=="string"?n.split(t.config.delimiter):n;if(!r.length)return;const i=r[0];let o=t.parent;for(o||(String(r[0])===String(t.name)&&r.shift(),o=t),i==="$parent"&&r.shift();o&&r.length;){const s=r.shift();switch(s){case"$root":o=t.root;break;case"$parent":o=o.parent;break;case"$self":o=t;break;default:o=o.children.find(l=>String(l.name)===String(s))||Yx(o,s)}}return o||void 0}function Yx(t,e){const n=String(e).match(/^(find)\((.*)\)$/);if(n){const[,r,i]=n,o=i.split(",").map(s=>s.trim());switch(r){case"find":return t.find(o[0],o[1]);default:return}}}function Xx(t,e,n,r){return Qx(t,n,r)}function Qx(t,e,n="name"){const r=typeof n=="string"?o=>o[n]==e:n,i=[t];for(;i.length;){const o=i.shift();if(r(o,e))return o;i.push(...o.children)}}function Zx(t){let e=t;for(;e.parent;)e=e.parent;return e}function Wg(t={},e){let n;return new Proxy(t,{get(...r){const i=r[1];if(i==="_t")return t;const o=Reflect.get(...r);if(o!==void 0)return o;if(e){const s=e.config[i];if(s!==void 0)return s}if(t.rootConfig&&typeof i=="string"){const s=t.rootConfig[i];if(s!==void 0)return s}return i==="delay"&&(n==null?void 0:n.type)==="input"?20:kx[i]},set(...r){const i=r[1],o=r[2];if(i==="_n")return n=o,t.rootConfig&&t.rootConfig._add(n),!0;if(i==="_rmn")return t.rootConfig&&t.rootConfig._rm(n),n=void 0,!0;if(!Cn(t[i],o,!1)){const s=Reflect.set(...r);return n&&(n.emit(`config:${i}`,o,!1),Kc(n,i,o),n.walk(l=>Kc(l,i,o),!0)),s}return!0}})}function e_(t,e,n,r="ui"){const i=typeof n=="string"?{key:n,value:n,type:r}:n,o=t.hook.text.dispatch(i);return t.emit("text",o,!1),o.value}function t_(t){const e=t.name;do{if(t.props.isForm===!0)break;t.parent||gn(106,e),t=t.parent}while(t);t.props.id&&jg(t.props.id)}function n_(t,e,n){return Fg(t,n)}function Kg(t,e,n,r){const i=`${t.name}-set`,o=t.hook.setErrors.dispatch({localErrors:n,childErrors:r});return fx(t,o.localErrors,o.childErrors).forEach(s=>{t.store.apply(s,l=>l.meta.source===i)}),t}function r_(t,e,n=!0,r){return Kg(t,e,[]),n&&(r=r||`${t.name}-set`,t.walk(i=>{i.store.filter(o=>!(o.type==="error"&&o.meta&&o.meta.source===r))})),t}function i_(t){return je(t.props,"id")||(t.props.id=`input_${Tx++}`),t}function o_(t){const e={initial:typeof t=="object"?Dn(t):t};let n,r=!0;return new Proxy(e,{get(...i){const[o,s]=i;if(je(e,s))return Reflect.get(...i);if(n&&typeof s=="string"&&n.config[s]!==void 0)return n.config[s]},set(i,o,s,l){if(o==="_n")return n=s,!0;if(o==="_emit")return r=s,!0;const{prop:a,value:c}=n.hook.prop.dispatch({prop:o,value:s});if(!Cn(e[a],c,!1)||typeof c=="object"){const u=Reflect.set(i,a,c,l);return r&&(n.emit("prop",{prop:a,value:c}),typeof a=="string"&&n.emit(`prop:${a}`,c)),u}return!0}})}function s_(t,e){if(t.props.definition)return t.define(t.props.definition);for(const n of e){if(t.props.definition)return;typeof n.library=="function"&&n.library(t)}}function l_(t){const e=Ug(t),n=Wg(t.config||{},t.parent);return{_d:0,_e:Ig(),_resolve:!1,_tmo:!1,_value:e,children:Kw(t.children||[]),config:n,hook:Ax(),isCreated:!1,isSettled:!0,ledger:px(),name:Lx(t),parent:t.parent||null,plugins:new Set,props:o_(e),settled:Promise.resolve(e),store:ox(!0),traps:Ex(),type:t.type||"input",value:e}}function a_(t,e){var n;if(t.ledger.init(t.store._n=t.props._n=t.config._n=t),t.props._emit=!1,e.props&&Object.assign(t.props,e.props),t.props._emit=!0,s_(t,new Set([...e.plugins||[],...t.parent?t.parent.plugins:[]])),e.plugins)for(const r of e.plugins)Ff(t,t._c,r,!0,!1);return i_(t),t.each(r=>t.add(r)),t.parent&&t.parent.add(t,e.index),t.type==="input"&&t.children.length&&gn(100,t),zg(t,t._c,t._value,!1),t.store.release(),!((n=e.props)===null||n===void 0)&&n.id&&bx(t),t.emit("created",t),t.isCreated=!0,t}function c_(t){const e=t||{},n=l_(e),r=new Proxy(n,{get(...i){const[,o]=i;if(o==="__FKNode__")return!0;const s=n.traps.get(o);return s&&s.get?s.get(r,n):Reflect.get(...i)},set(...i){const[,o,s]=i,l=n.traps.get(o);return l&&l.set?l.set(r,n,o,s):Reflect.set(...i)}});return a_(r,e)}function Yc(t){return typeof t!="string"&&je(t,"$el")}function Xc(t){return typeof t!="string"&&je(t,"$cmp")}function Fi(t){return!t||typeof t=="string"?!1:je(t,"if")&&je(t,"then")}function u_(t){return typeof t!="string"&&"$formkit"in t}function f_(t){if(typeof t=="string")return{$el:"text",children:t};if(u_(t)){const{$formkit:e,for:n,if:r,children:i,bind:o,...s}=t;return Object.assign({$cmp:"FormKit",props:{...s,type:e}},r?{if:r}:{},n?{for:n}:{},i?{children:i}:{},o?{bind:o}:{})}return t}function Tn(t){let e;const n=new Set,r=function(g,m){return typeof g=="function"?g(m):g},i=[{"&&":(b,g,m)=>r(b,m)&&r(g,m),"||":(b,g,m)=>r(b,m)||r(g,m)},{"===":(b,g,m)=>r(b,m)===r(g,m),"!==":(b,g,m)=>r(b,m)!==r(g,m),"==":(b,g,m)=>r(b,m)==r(g,m),"!=":(b,g,m)=>r(b,m)!=r(g,m),">=":(b,g,m)=>r(b,m)>=r(g,m),"<=":(b,g,m)=>r(b,m)<=r(g,m),">":(b,g,m)=>r(b,m)>r(g,m),"<":(b,g,m)=>r(b,m)<r(g,m)},{"+":(b,g,m)=>r(b,m)+r(g,m),"-":(b,g,m)=>r(b,m)-r(g,m)},{"*":(b,g,m)=>r(b,m)*r(g,m),"/":(b,g,m)=>r(b,m)/r(g,m),"%":(b,g,m)=>r(b,m)%r(g,m)}],o=i.reduce((b,g)=>b.concat(Object.keys(g)),[]),s=new Set(o.map(b=>b.charAt(0)));function l(b,g,m,x){const y=b.filter(w=>w.startsWith(g));return y.length?y.find(w=>x.length>=m+w.length&&x.substring(m,m+w.length)===w?w:!1):!1}function a(b,g,m=1){let x=m?g.substring(b+1).trim():g.substring(0,b).trim();if(!x.length)return-1;if(!m){const w=x.split("").reverse(),v=w.findIndex(S=>s.has(S));x=w.slice(v).join("")}const y=x[0];return i.findIndex(w=>{const v=Object.keys(w);return!!l(v,y,0,x)})}function c(b,g){let m="";const x=g.length;let y=0;for(let w=b;w<x;w++){const v=g.charAt(w);if(v==="(")y++;else if(v===")")y--;else if(y===0&&v===" ")continue;if(y===0&&l(o,v,w,g))return[m,w-1];m+=v}return[m,g.length-1]}function u(b,g=0){const m=i[g],x=b.length,y=Object.keys(m);let w=0,v=!1,S=null,E="",k=null,O,R="",C="",_="",L="",M=0;const A=(T,P)=>{T?_+=P:E+=P};for(let T=0;T<x;T++)if(R=C,C=b.charAt(T),(C==="'"||C==='"')&&R!=="\\"&&(w===0&&!v||w&&!L)){w?L=C:v=C,A(w,C);continue}else if(v&&(C!==v||R==="\\")||L&&(C!==L||R==="\\")){A(w,C);continue}else if(v===C){v=!1,A(w,C);continue}else if(L===C){L=!1,A(w,C);continue}else{if(C===" ")continue;if(C==="(")w===0?M=T:_+=C,w++;else if(C===")")if(w--,w===0){const P=typeof E=="string"&&E.startsWith("$")?E:void 0,D=P&&b.charAt(T+1)===".";let $="";D&&([$,T]=c(T+2,b));const G=S?g:a(M,b,0),ne=a(T,b);G===-1&&ne===-1?E=f(_,-1,P,$):S&&(G>=ne||ne===-1)&&g===G?(k=S.bind(null,f(_,-1,P,$)),S=null,E=""):ne>G&&g===ne?E=f(_,-1,P,$):E+=`(${_})${D?`.${$}`:""}`,_=""}else _+=C;else if(w===0&&(O=l(y,C,T,b))){T===0&&gn(103,[O,b]),T+=O.length-1,T===b.length-1&&gn(104,[O,b]),S?E&&(k=S.bind(null,f(E,g)),S=m[O].bind(null,k),E=""):k?(S=m[O].bind(null,f(k,g)),k=null):(S=m[O].bind(null,f(E,g)),E="");continue}else A(w,C)}return E&&S&&(S=S.bind(null,f(E,g))),S=!S&&k?k:S,!S&&E&&(S=(T,P)=>typeof T=="function"?T(P):T,S=S.bind(null,f(E,g))),!S&&!E&&gn(105,b),S}function f(b,g,m,x){if(m){const y=f(m,i.length);let w,v=x?Tn(`$${x}`):!1;if(typeof y=="function"){const S=Qw(String(b)).map(E=>f(E,-1));return E=>{const k=y(E);return typeof k!="function"?(Ri(150,m),k):(w=k(...S.map(O=>typeof O=="function"?O(E):O)),v&&(v=v.provide(O=>{const R=e(O);return O.reduce((_,L)=>{if(L===x||(x==null?void 0:x.startsWith(`${L}(`))){const A=Zw(w,L);_[L]=()=>A}else _[L]=R[L];return _},{})})),v?v():w)}}}else if(typeof b=="string"){if(b==="true")return!0;if(b==="false")return!1;if(b==="undefined")return;if(Yw(b))return Xw(b.substring(1,b.length-1));if(!isNaN(+b))return Number(b);if(g<i.length-1)return u(b,g+1);if(b.startsWith("$")){const y=b.substring(1);return n.add(y),function(v){return y in v?v[y]():void 0}}return b}return b}const h=u(t.startsWith("$:")?t.substring(2):t),d=Array.from(n);function p(b){return e=b,Object.assign(h.bind(null,b(d)),{provide:p})}return Object.assign(h,{provide:p})}function sl(t,e,n){return n?typeof n=="string"?n.split(" ").reduce((i,o)=>Object.assign(i,{[o]:!0}),{}):typeof n=="function"?sl(t,e,n(e,t)):n:{}}function h_(t,e,...n){const r=n.reduce((i,o)=>{if(!o)return ic(i);const{$reset:s,...l}=o;return ic(s?l:Object.assign(i,l))},{});return Object.keys(t.hook.classes.dispatch({property:e,classes:r}).classes).filter(i=>r[i]).join(" ")||null}function ic(t){const e="$remove:";let n=!1;const r=Object.keys(t).filter(i=>(t[i]&&i.startsWith(e)&&(n=!0),t[i]));return r.length>1&&n&&r.filter(o=>o.startsWith(e)).map(o=>{const s=o.substring(e.length);t[s]=!1,t[o]=!1}),t}function d_(t,e,n){const r=ws(t);r?r.setErrors(e,n):Ri(651,t)}function p_(t,e=!0){const n=ws(t);n?n.clearErrors(e):Ri(652,t)}const Ll="0.16.4";function m_(...t){const e=t.reduce((r,i)=>Ai(r,i),{}),n=()=>{};return n.library=function(r){const i=Ji(r.props.type);je(e,i)&&r.define(e[i])},n}function g_(t){let e=1;return Array.isArray(t)?t.map(n=>typeof n=="string"||typeof n=="number"?{label:String(n),value:String(n)}:(typeof n=="object"&&"value"in n&&typeof n.value!="string"&&Object.assign(n,{value:`__mask_${e++}`,__original:n.value}),n)):Object.keys(t).map(n=>({label:t[n],value:n}))}function oo(t,e){if(Array.isArray(t)){for(const n of t)if(e==n.value)return"__original"in n?n.__original:n.value}return e}function so(t,e){return t===null&&e===void 0||t===void 0&&e===null?!1:t==e?!0:Ei(t)&&Ei(e)?Cn(t,e):!1}function Hf(t){t.hook.prop((e,n)=>(e.prop==="options"&&(typeof e.value=="function"?(t.props.optionsLoader=e.value,e.value=[]):e.value=g_(e.value)),n(e)))}const Mi=qe("outer",()=>({$el:"div",attrs:{key:"$id","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-disabled":"$disabled || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}}),!0),Wr=qe("inner","div"),_s=qe("wrapper","div"),ma=qe("label",()=>({$el:"label",if:"$label",attrs:{for:"$id"}})),ti=qe("messages",()=>({$el:"ul",if:"$defaultMessagePlacement && $fns.length($messages)"})),ni=qe("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),xr=qe("prefix",null),_r=qe("suffix",null),kr=qe("help",()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}})),Jg=qe("fieldset",()=>({$el:"fieldset",attrs:{id:"$id","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Rl=qe("decorator",()=>({$el:"span",attrs:{"aria-hidden":"true"}})),Ml=qe("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",name:"$node.props.altName || $node.name",disabled:"$option.attrs.disabled || $disabled",onInput:"$handlers.toggleChecked",checked:"$fns.eq($_value, $onValue)",onBlur:"$handlers.blur",value:"$: true",id:"$id","aria-describedby":{if:"$options.length",then:{if:"$option.help",then:'$: "help-" + $option.attrs.id',else:void 0},else:{if:"$help",then:'$: "help-" + $id',else:void 0}}}})),Gg=qe("legend",()=>({$el:"legend",if:"$label"})),Yg=qe("option",()=>({$el:"li",for:["option","$options"],attrs:{"data-disabled":"$option.attrs.disabled || $disabled"}})),Xg=qe("options","ul"),Pl=qe("wrapper",()=>({$el:"label",attrs:{"data-disabled":{if:"$options.length",then:void 0,else:"$disabled || undefined"},"data-checked":{if:"$options == undefined",then:"$fns.eq($_value, $onValue) || undefined",else:"$fns.isChecked($option.value) || undefined"}}})),Qg=qe("optionHelp",()=>({$el:"div",if:"$option.help",attrs:{id:'$: "help-" + $option.attrs.id'}})),Dl=qe("label","span"),y_=qe("input",()=>({$el:"button",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",id:"$id"}})),b_=qe("default",null),v_=qe("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"file",disabled:"$disabled",name:"$node.name",onChange:"$handlers.files",onBlur:"$handlers.blur",id:"$id","aria-describedby":"$describedBy"}})),w_=qe("fileItem",()=>({$el:"li",for:["file","$value"]})),x_=qe("fileList",()=>({$el:"ul",if:"$value.length",attrs:{"data-has-multiple":{if:"$value.length > 1",then:"true"}}})),__=qe("fileName",()=>({$el:"span",attrs:{class:"$classes.fileName"}})),_d=qe("fileRemove",()=>({$el:"button",attrs:{onClick:"$handlers.resetFiles"}})),k_=qe("noFiles",()=>({$el:"span",if:"$value.length == 0"})),S_=qe("form",()=>({$el:"form",bind:"$attrs",attrs:{id:"$id",name:"$node.name",onSubmit:"$handlers.submit","data-loading":"$state.loading || undefined"}}),!0),C_=qe("actions",()=>({$el:"div",if:"$actions"})),E_=qe("submit",()=>({$cmp:"FormKit",bind:"$submitAttrs",props:{type:"submit",disabled:"$disabled",label:"$submitLabel"}})),Zg=qe("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy"}})),e0=qe("wrapper",null,!0),A_=qe("input",()=>({$el:"select",bind:"$attrs",attrs:{id:"$id","data-placeholder":"$fns.showPlaceholder($_value, $placeholder)",disabled:"$disabled",class:"$classes.input",name:"$node.name",onChange:"$handlers.onChange",onInput:"$handlers.selectInput",onBlur:"$handlers.blur","aria-describedby":"$describedBy"}})),O_=qe("option",()=>({$el:"option",for:["option","$options"],bind:"$option.attrs",attrs:{class:"$classes.option",value:"$option.value",selected:"$fns.isSelected($option)"}})),T_=()=>({$el:null,if:"$options.length",for:["option","$options"],children:"$slots.option"}),L_=qe("input",()=>({$el:"textarea",bind:"$attrs",attrs:{disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy"},children:"$initialValue"})),Ft=(t,e)=>qe(`${t}Icon`,()=>{const n=`_raw${t.charAt(0).toUpperCase()}${t.slice(1)}Icon`;return{if:`$${t}Icon && $${n}`,$el:`${e||"span"}`,attrs:{class:`$classes.${t}Icon + " formkit-icon"`,innerHTML:`$${n}`,onClick:`$handlers.iconClick(${t})`,for:{if:`${e==="label"}`,then:"$id"}}}})();function t0(t){return function(e,n){return e.prop==="options"&&Array.isArray(e.value)&&(e.value=e.value.map(r=>{var i;return!((i=r.attrs)===null||i===void 0)&&i.id?r:Ai(r,{attrs:{id:`${t.name}-option-${Df(String(r.value))}`}})}),t.props.type==="checkbox"&&!Array.isArray(t.value)&&(t.isCreated?t.input([],!1):t.on("created",()=>{Array.isArray(t.value)||t.input([],!1)}))),n(e)}}function R_(t,e){const n=e.target;if(n instanceof HTMLInputElement){const r=Array.isArray(t.props.options)?oo(t.props.options,n.value):n.value;Array.isArray(t.props.options)&&t.props.options.length?Array.isArray(t._value)?t._value.some(i=>so(r,i))?t.input(t._value.filter(i=>!so(r,i))):t.input([...t._value,r]):t.input([r]):n.checked?t.input(t.props.onValue):t.input(t.props.offValue)}}function M_(t,e){var n,r;return(n=t.context)===null||n===void 0||n.value,(r=t.context)===null||r===void 0||r._value,Array.isArray(t._value)?t._value.some(i=>so(oo(t.props.options,e),i)):!1}function P_(t){t.on("created",()=>{var e,n;!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.toggleChecked=R_.bind(null,t)),!((n=t.context)===null||n===void 0)&&n.fns&&(t.context.fns.isChecked=M_.bind(null,t)),je(t.props,"onValue")||(t.props.onValue=!0),je(t.props,"offValue")||(t.props.offValue=!1)}),t.hook.prop(t0(t))}function ga(t){t.on("created",()=>{t.props.disabled=In(t.props.disabled)}),t.hook.prop(({prop:e,value:n},r)=>(n=e==="disabled"?In(n):n,r({prop:e,value:n}))),t.on("prop:disabled",({payload:e})=>{t.config.disabled=In(e)}),t.on("created",()=>{t.config.disabled=In(t.props.disabled)})}function ll(t,e){return n=>{n.store.set(Fn({key:t,type:"ui",value:e||t,meta:{localize:!0,i18nArgs:[n]}}))}}const kd=typeof window<"u";function n0(t){t.target instanceof HTMLElement&&t.target.hasAttribute("data-file-hover")&&t.target.removeAttribute("data-file-hover")}function Sd(t,e){e.target instanceof HTMLInputElement?t==="dragover"&&e.target.setAttribute("data-file-hover","true"):e.preventDefault(),t==="drop"&&n0(e)}function D_(t){ll("noFiles","Select file")(t),ll("removeAll","Remove all")(t),ll("remove")(t),kd&&(window._FormKit_File_Drop||(window.addEventListener("dragover",Sd.bind(null,"dragover")),window.addEventListener("drop",Sd.bind(null,"drop")),window.addEventListener("dragleave",n0),window._FormKit_File_Drop=!0)),t.hook.input((e,n)=>n(Array.isArray(e)?e:[])),t.on("created",()=>{Array.isArray(t.value)||t.input([],!1),t.context&&(t.context.handlers.resetFiles=e=>{if(e.preventDefault(),t.input([]),t.props.id&&kd){const n=document.getElementById(t.props.id);n&&(n.value="")}},t.context.handlers.files=e=>{var n,r;const i=[];if(e.target instanceof HTMLInputElement&&e.target.files){for(let o=0;o<e.target.files.length;o++){let s;(s=e.target.files.item(o))&&i.push({name:s.name,file:s})}t.input(i)}t.context&&(t.context.files=i),typeof((n=t.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&((r=t.props.attrs)===null||r===void 0||r.onChange(e))})})}async function I_(t,e){e.preventDefault(),await t.settled;const n=r=>r.store.set(Fn({key:"submitted",value:!0,visible:!1}));if(t.walk(n),n(t),typeof t.props.onSubmitRaw=="function"&&t.props.onSubmitRaw(e,t),t.ledger.value("blocking"))typeof t.props.onSubmitInvalid=="function"&&t.props.onSubmitInvalid(t),t.props.incompleteMessage!==!1&&t.store.set(Fn({blocking:!1,key:"incomplete",meta:{localize:t.props.incompleteMessage===void 0,i18nArgs:[{node:t}],showAsMessage:!0},type:"ui",value:t.props.incompleteMessage||"Form incomplete."}));else if(typeof t.props.onSubmit=="function"){const r=t.props.onSubmit(t.hook.submit.dispatch(io(t.value)),t);if(r instanceof Promise){const i=t.props.disabled===void 0&&t.props.submitBehavior!=="live";i&&(t.props.disabled=!0),t.store.set(Fn({key:"loading",value:!0,visible:!1})),await r,i&&(t.props.disabled=!1),t.store.remove("loading")}}else e.target instanceof HTMLFormElement&&e.target.submit()}function $_(t){t.props.isForm=!0,t.on("created",()=>{var e;!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.submit=I_.bind(null,t)),je(t.props,"actions")||(t.props.actions=!0)}),t.on("settled:blocking",()=>t.store.remove("incomplete"))}function B_(t){t.props.ignore===void 0&&(t.props.ignore=!0,t.parent=null)}function N_(t){t.on("created",()=>{t.context&&(t.context.initialValue=t.value||"")})}function j_(t,e){e.target instanceof HTMLInputElement&&t.input(oo(t.props.options,e.target.value))}function F_(t,e){var n,r;return(n=t.context)===null||n===void 0||n.value,(r=t.context)===null||r===void 0||r._value,so(oo(t.props.options,e),t._value)}function H_(t){t.on("created",()=>{var e,n;Array.isArray(t.props.options)||Ri(350,t),!((e=t.context)===null||e===void 0)&&e.handlers&&(t.context.handlers.toggleChecked=j_.bind(null,t)),!((n=t.context)===null||n===void 0)&&n.fns&&(t.context.fns.isChecked=F_.bind(null,t))}),t.hook.prop(t0(t))}function V_(t,e){t.context&&t.context.value;const n="__original"in e?e.__original:e.value;function r(){return!t.props.options.some(i=>("__original"in i?i.__original:i.value)===null)}return Array.isArray(t._value)?t._value.some(i=>so(i,n)):(t._value===void 0||t._value===null&&r())&&e.attrs&&e.attrs["data-is-placeholder"]?!0:so(n,t._value)}async function U_(t,e){var n;typeof((n=t.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&(await new Promise(r=>setTimeout(r,0)),await t.settled,t.props.attrs.onChange(e))}function z_(t,e){const n=e.target,r=n.hasAttribute("multiple")?Array.from(n.selectedOptions).map(i=>oo(t.props.options,i.value)):oo(t.props.options,n.value);t.input(r)}function Cd(t,e){return t.some(n=>n.attrs&&n.attrs["data-is-placeholder"])?t:[{label:e,value:"",attrs:{hidden:!0,disabled:!0,"data-is-placeholder":"true"}},...t]}function q_(t){t.on("created",()=>{var e,n,r;const i=In((e=t.props.attrs)===null||e===void 0?void 0:e.multiple);!i&&t.props.placeholder&&Array.isArray(t.props.options)&&(t.hook.prop(({prop:o,value:s},l)=>(o==="options"&&(s=Cd(s,t.props.placeholder)),l({prop:o,value:s}))),t.props.options=Cd(t.props.options,t.props.placeholder)),i?t.value===void 0&&t.input([],!1):t.context&&!t.context.options&&(t.props.attrs=Object.assign({},t.props.attrs,{value:t._value}),t.on("input",({payload:o})=>{t.props.attrs=Object.assign({},t.props.attrs,{value:o})})),!((n=t.context)===null||n===void 0)&&n.handlers&&(t.context.handlers.selectInput=z_.bind(null,t),t.context.handlers.onChange=U_.bind(null,t)),!((r=t.context)===null||r===void 0)&&r.fns&&(t.context.fns.isSelected=V_.bind(null,t),t.context.fns.showPlaceholder=(o,s)=>{if(!Array.isArray(t.props.options))return!1;const l=t.props.options.some(a=>{if(a.attrs&&"data-is-placeholder"in a.attrs)return!1;const c="__original"in a?a.__original:a.value;return Cn(o,c)});return s&&!l?!0:void 0})}),t.hook.input((e,n)=>{var r,i,o;return!t.props.placeholder&&e===void 0&&Array.isArray((r=t.props)===null||r===void 0?void 0:r.options)&&t.props.options.length&&!In((o=(i=t.props)===null||i===void 0?void 0:i.attrs)===null||o===void 0?void 0:o.multiple)&&(e="__original"in t.props.options[0]?t.props.options[0].__original:t.props.options[0].value),n(e)})}function Gi(t,e){return n=>{n.props[`${t}Icon`]===void 0&&(n.props[`${t}Icon`]=`default:${e}`)}}function Il(t){return typeof t=="object"&&("$el"in t||"$cmp"in t||"$formkit"in t)}function Qc(t){return!!(Fi(t)&&t.if&&t.if.startsWith("$slots.")&&typeof t.then=="string"&&t.then.startsWith("$slots.")&&"else"in t)}function Bo(t,e={}){return typeof t=="string"?Il(e)||typeof e=="string"?e:t:Array.isArray(t)?Il(e)?e:t:Ai(t,e)}function qe(t,e,n=!1){return(...r)=>{const i=o=>{const s=!e||typeof e=="string"?{$el:e}:e();return(Yc(s)||Xc(s))&&(s.meta||(s.meta={section:t}),r.length&&!s.children&&(s.children=[...r.map(l=>typeof l=="string"?l:l(o))]),Yc(s)&&(s.attrs={class:`$classes.${t}`,...s.attrs||{}})),{if:`$slots.${t}`,then:`$slots.${t}`,else:t in o?Bo(s,o[t]):s}};return i._s=t,n?r0(i):i}}function r0(t){return e=>[t(e)]}function $n(t,e,n){const r=i=>{const o=e(i);if(n||Il(o)&&"if"in o||Qc(o)){const s={if:t,then:o};return n&&(s.else=n(i)),s}else Qc(o)?Object.assign(o.else,{if:t}):Il(o)&&Object.assign(o,{if:t});return o};return r._s=_o(),r}function al(t,e){const n=r=>{const i=t({});return Qc(i)?(Array.isArray(i.else)||(i.else=Bo(Bo(i.else,e),t._s?r[t._s]:{})),i):Bo(Bo(i,e),t._s?r[t._s]:{})};return n._s=t._s,n}function W_(t){return r0(t)}const Ed={schema:Mi(ti(ni("$message.value")),_s(y_(Ft("prefix"),xr(),b_("$label || $ui.submit.value"),_r(),Ft("suffix"))),kr("$help")),type:"input",family:"button",props:[],features:[ll("submit"),B_]},K_={schema:Mi($n("$options == undefined",Pl(Wr(xr(),Ml(),Rl(Ft("decorator")),_r()),al(Dl("$label"),{if:"$label"})),Jg(Gg("$label"),kr("$help"),Xg(Yg(Pl(Wr(xr(),al(Ml(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Rl(Ft("decorator")),_r()),al(Dl("$option.label"),{if:"$option.label"})),Qg("$option.help"))))),$n("$options == undefined && $help",kr("$help")),ti(ni("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[Hf,P_,Gi("decorator","checkboxDecorator")]},J_={schema:Mi(_s(ma("$label"),Wr(Ft("prefix","label"),xr(),v_(),x_(w_(Ft("fileItem"),__("$file.name"),$n("$value.length === 1",_d(Ft("fileRemove"),"$ui.remove.value")))),$n("$value.length > 1",_d("$ui.removeAll.value")),k_(Ft("noFiles"),"$ui.noFiles.value"),_r(),Ft("suffix"))),kr("$help"),ti(ni("$message.value"))),type:"input",family:"text",props:[],features:[D_,Gi("fileItem","fileItem"),Gi("fileRemove","fileRemove"),Gi("noFiles","noFiles")]},G_={schema:S_("$slots.default",ti(ni("$message.value")),C_(E_())),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],features:[$_,ga]},Y_={schema:e0("$slots.default"),type:"group",props:[],features:[ga]},X_={schema:W_(Zg()),type:"input",props:[],features:[]},Q_={schema:e0("$slots.default"),type:"list",props:[],features:[ga]},Z_={schema:Mi($n("$options == undefined",Pl(Wr(xr(),Ml(),Rl(Ft("decorator")),_r()),$n("$label",Dl("$label"))),Jg(Gg("$label"),kr("$help"),Xg(Yg(Pl(Wr(xr(),al(Ml(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Rl(Ft("decorator")),_r()),$n("$option.label",Dl("$option.label"))),Qg("$option.help"))))),$n("$options === undefined && $help",kr("$help")),ti(ni("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[ga,Hf,H_,Gi("decorator","radioDecorator")]},ek={schema:Mi(_s(ma("$label"),Wr(Ft("prefix"),xr(),A_($n("$slots.default",()=>"$slots.default",$n("$slots.option",T_,O_("$option.label")))),$n("$attrs.multiple !== undefined",()=>"",Ft("select")),_r(),Ft("suffix"))),kr("$help"),ti(ni("$message.value"))),type:"input",props:["options","placeholder","optionsLoader"],features:[Hf,q_,Gi("select","select")]},tk={schema:Mi(_s(ma("$label"),Wr(Ft("prefix","label"),xr(),L_(),_r(),Ft("suffix"))),kr("$help"),ti(ni("$message.value"))),type:"input",props:[],features:[N_]},on={schema:Mi(_s(ma("$label"),Wr(Ft("prefix","label"),xr(),Zg(),_r(),Ft("suffix"))),kr("$help"),ti(ni("$message.value"))),type:"input",family:"text",props:[],features:[]};var nk=Object.freeze({__proto__:null,button:Ed,submit:Ed,checkbox:K_,file:J_,form:G_,group:Y_,hidden:X_,list:Q_,radio:Z_,select:ek,textarea:tk,text:on,color:on,date:on,datetimeLocal:on,email:on,month:on,number:on,password:on,search:on,tel:on,time:on,url:on,week:on,range:on});const i0=function({value:e}){return["yes","on","1",1,!0,"true"].includes(e)};i0.skipEmpty=!1;const rk=function({value:t},e=!1){const n=Date.parse(e||new Date),r=Date.parse(String(t));return isNaN(r)?!1:r>n},ik=function({value:t},e="default"){const n={default:/^[a-zA-ZÀ-ÖØ-öø-ÿĄąĆćČčĎďĘęĚěŁłŃńŇňŘřŚśŠšŤťŮůŹźŻŽžż]+$/,latin:/^[a-zA-Z]+$/},r=je(n,e)?e:"default";return n[r].test(String(t))},ok=function({value:t},e="default"){const n={default:/^[a-zA-ZÀ-ÖØ-öø-ÿĄąĆćČčĎďĘęĚěŁłŃńŇňŘřŚśŠšŤťŮůŹźŻŽžż ]+$/,latin:/^[a-zA-Z ]+$/},r=je(n,e)?e:"default";return n[r].test(String(t))},sk=function({value:t},e="default"){const n={default:/^[a-zA-Z0-9À-ÖØ-öø-ÿĄąĆćĘęŁłŃńŚśŹźŻż]+$/,latin:/^[a-zA-Z0-9]+$/},r=je(n,e)?e:"default";return n[r].test(String(t))},lk=function({value:t},e=!1){const n=Date.parse(e||new Date),r=Date.parse(String(t));return isNaN(r)?!1:r<n},ak=function({value:e},n,r){if(!isNaN(e)&&!isNaN(n)&&!isNaN(r)){const i=1*e;n=Number(n),r=Number(r);const[o,s]=n<=r?[n,r]:[r,n];return i>=1*o&&i<=1*s}return!1},Ad=/(_confirm(?:ed)?)$/,ck=function(e,n,r="loose"){var i;n||(n=Ad.test(e.name)?e.name.replace(Ad,""):`${e.name}_confirm`);const o=(i=e.at(n))===null||i===void 0?void 0:i.value;return r==="strict"?e.value===o:e.value==o},uk=function({value:e},n,r){n=n instanceof Date?n.getTime():Date.parse(n),r=r instanceof Date?r.getTime():Date.parse(r);const i=e instanceof Date?e.getTime():Date.parse(String(e));if(n&&!r)r=n,n=Date.now();else if(!n||!i)return!1;return i>=n&&i<=r},fk=function({value:e},n){return n&&typeof n=="string"?Gw(n).test(String(e)):!isNaN(Date.parse(String(e)))},hk=function({value:e}){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(e))},dk=function({value:e},...n){return typeof e=="string"&&n.length?n.some(r=>e.endsWith(r)):typeof e=="string"&&n.length===0},pk=function({value:e},...n){return n.some(r=>typeof r=="object"?Cn(r,e):r==e)},mk=function({value:e},n=0,r=1/0){n=parseInt(n),r=isNaN(parseInt(r))?1/0:parseInt(r);const i=n<=r?n:r,o=r>=n?r:n;if(typeof e=="string"||Array.isArray(e))return e.length>=i&&e.length<=o;if(e&&typeof e=="object"){const s=Object.keys(e).length;return s>=i&&s<=o}return!1},gk=function({value:e},...n){return n.some(r=>(typeof r=="string"&&r.substr(0,1)==="/"&&r.substr(-1)==="/"&&(r=new RegExp(r.substr(1,r.length-2))),r instanceof RegExp?r.test(String(e)):r===e))},yk=function({value:e},n=10){return Array.isArray(e)?e.length<=n:Number(e)<=Number(n)},bk=function({value:e},n=1){return Array.isArray(e)?e.length>=n:Number(e)>=Number(n)},vk=function({value:e},...n){return!n.some(r=>typeof r=="object"?Cn(r,e):r===e)},wk=function({value:e}){return!isNaN(e)},o0=function({value:e},n="default"){return n==="trim"&&typeof e=="string"?!is(e.trim()):!is(e)};o0.skipEmpty=!1;const xk=function({value:e},...n){return typeof e=="string"&&n.length?n.some(r=>e.startsWith(r)):typeof e=="string"&&n.length===0},_k=function({value:e},...n){try{const r=n.length?n:["http:","https:"],i=new URL(String(e));return r.includes(i.protocol)}catch{return!1}},kk=Object.freeze(Object.defineProperty({__proto__:null,accepted:i0,alpha:ik,alpha_spaces:ok,alphanumeric:sk,between:ak,confirm:ck,date_after:rk,date_before:lk,date_between:uk,date_format:fk,email:hk,ends_with:dk,is:pk,length:mk,matches:gk,max:yk,min:bk,not:vk,number:wk,required:o0,starts_with:xk,url:_k},Symbol.toStringTag,{value:"Module"})),s0=new WeakSet;function ss(t,e){const n=e||Object.assign(new Map,{active:!1}),r=new Map,i=function(u){var f;n.active&&(n.has(t)||n.set(t,new Set),(f=n.get(t))===null||f===void 0||f.add(u))},o=function(u){return new Proxy(u,{get(...f){return typeof f[1]=="string"&&i(`prop:${f[1]}`),Reflect.get(...f)}})},s=function(u){return new Proxy(u,{get(...f){return f[1]==="value"?h=>(i(`count:${h}`),u.value(h)):Reflect.get(...f)}})},l=function(u,f){return xs(u)?ss(u,n):(f==="value"&&i("commit"),f==="props"?o(u):f==="ledger"?s(u):u)},{proxy:a,revoke:c}=Proxy.revocable(t,{get(...u){switch(u[1]){case"_node":return t;case"deps":return n;case"watch":return(h,d)=>c0(a,h,d);case"observe":return()=>{const h=new Map(n);return n.clear(),n.active=!0,h};case"stopObserve":return()=>{const h=new Map(n);return n.active=!1,h};case"receipts":return r;case"kill":return()=>{a0(r),s0.add(u[2]),c()}}const f=Reflect.get(...u);return typeof f=="function"?(...h)=>{const d=f(...h);return l(d,u[1])}:l(f,u[1])}});return a}function l0(t,[e,n],r){e.forEach((i,o)=>{i.forEach(s=>{var l;t.receipts.has(o)||t.receipts.set(o,{}),t.receipts.set(o,Object.assign((l=t.receipts.get(o))!==null&&l!==void 0?l:{},{[s]:o.on(s,r)}))})}),n.forEach((i,o)=>{i.forEach(s=>{if(t.receipts.has(o)){const l=t.receipts.get(o);l&&je(l,s)&&(o.off(l[s]),delete l[s],t.receipts.set(o,l))}})})}function a0(t){t.forEach((e,n)=>{for(const r in e)n.off(e[r])})}function c0(t,e,n){const r=s=>{const l=t.stopObserve();l0(t,u0(i,l),()=>c0(t,e,n)),n&&n(s)},i=new Map(t.deps);t.observe();const o=e(t);o instanceof Promise?o.then(s=>r(s)):r(o)}function u0(t,e){const n=new Map,r=new Map;return e.forEach((i,o)=>{if(!t.has(o))n.set(o,i);else{const s=new Set,l=t.get(o);i.forEach(a=>!(l!=null&&l.has(a))&&s.add(a)),n.set(o,s)}}),t.forEach((i,o)=>{if(!e.has(o))r.set(o,i);else{const s=new Set,l=e.get(o);i.forEach(a=>!(l!=null&&l.has(a))&&s.add(a)),r.set(o,s)}}),[n,r]}function f0(t){return s0.has(t)}const Od=Fn({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function Sk(t={}){return function(n){let r=Dn(n.props.validationRules||{}),i={...t,...r},o=ss(n);const s={input:_o(),rerun:null,isPassing:!0};let l=Dn(n.props.validation);n.on("prop:validation",({payload:c})=>a(c,i)),n.on("prop:validationRules",({payload:c})=>a(l,c));function a(c,u){var f;Cn(Object.keys(r||{}),Object.keys(u||{}))&&Cn(l,c)||(r=Dn(u),l=Dn(c),i={...t,...r},a0(o.receipts),(f=n.props.parsedRules)===null||f===void 0||f.forEach(h=>{var d;h.messageObserver=(d=h.messageObserver)===null||d===void 0?void 0:d.kill()}),n.store.filter(()=>!1,"validation"),n.props.parsedRules=Ld(c,i),o.kill(),o=ss(n),Zc(o,n.props.parsedRules,s))}n.props.parsedRules=Ld(l,i),Zc(o,n.props.parsedRules,s)}}function Zc(t,e,n){f0(t)||(n.input=_o(),n.isPassing=!0,t.store.filter(r=>!r.meta.removeImmediately,"validation"),e.forEach(r=>r.debounce&&clearTimeout(r.timer)),e.length&&(t.store.set(Od),eu(0,e,t,n,!1,()=>{t.store.remove(Od.key)})))}function eu(t,e,n,r,i,o){const s=e[t];if(!s)return o();const l=r.input;s.state=null;function a(c,u){r.isPassing=r.isPassing&&!!u,s.queued=!1;const f=n.stopObserve();l0(n,u0(s.deps,f),()=>{s.queued=!0,r.rerun&&clearTimeout(r.rerun),r.rerun=setTimeout(Zc,0,n,e,r)}),s.deps=f,r.input===l&&(s.state=u,u===!1?Ak(n,s,i||c):Ek(n,s),e.length>t+1?eu(t+1,e,n,r,i||c,o):o())}(!is(n.value)||!s.skipEmpty)&&(r.isPassing||s.force)?s.queued?Ck(s,n,c=>{c instanceof Promise?c.then(u=>a(!0,u)):a(!1,c)}):eu(t+1,e,n,r,i,o):is(n.value)&&s.skipEmpty&&r.isPassing?(n.observe(),n.value,a(!1,r.isPassing)):a(!1,null)}function Ck(t,e,n){t.debounce?t.timer=setTimeout(()=>{e.observe(),n(t.rule(e,...t.args))},t.debounce):(e.observe(),n(t.rule(e,...t.args)))}function Ek(t,e){const n=`rule_${e.name}`;e.messageObserver&&(e.messageObserver=e.messageObserver.kill()),je(t.store,n)&&t.store.remove(n)}function Ak(t,e,n){f0(t)||(e.messageObserver||(e.messageObserver=ss(t._node)),e.messageObserver.watch(r=>Tk(r,e),r=>{const i=Ok(t,e,r),o=Fn({blocking:e.blocking,key:`rule_${e.name}`,meta:{messageKey:e.name,removeImmediately:n,localize:!i,i18nArgs:r},type:"validation",value:i||"This field is not valid."});t.store.set(o)}))}function Ok(t,e,n){const r=t.props.validationMessages&&je(t.props.validationMessages,e.name)?t.props.validationMessages[e.name]:void 0;return typeof r=="function"?r(...n):r}function Tk(t,e){return[{node:t,name:Lk(t),args:e.args}]}function Lk(t){return typeof t.props.validationLabel=="function"?t.props.validationLabel(t):t.props.validationLabel||t.props.label||t.props.name||String(t.name)}const h0="(?:[\\*+?()0-9]+)",d0="[a-zA-Z][a-zA-Z0-9_]+",Rk=new RegExp(`^(${h0}?${d0})(?:\\:(.*)+)?$`,"i"),Mk=new RegExp(`^(${h0})(${d0})$`,"i"),Pk=/([\*+?]+)?(\(\d+\))([\*+?]+)?/,Td=/\(\d+\)/,Dk={blocking:!0,debounce:0,force:!1,skipEmpty:!0,name:""};function Ld(t,e){return t?(typeof t=="string"?Ik(t):io(t)).reduce((r,i)=>{let o=i.shift();const s={};if(typeof o=="string"){const[l,a]=Bk(o);je(e,l)&&(o=e[l],Object.assign(s,a))}return typeof o=="function"&&r.push({rule:o,args:i,timer:0,state:null,queued:!0,deps:new Map,...Dk,...Nk(s,o)}),r},[]):[]}function Ik(t){return t.split("|").reduce((e,n)=>{const r=$k(n);return r&&e.push(r),e},[])}function $k(t){const e=t.trim();if(e){const n=e.match(Rk);if(n&&typeof n[1]=="string"){const r=n[1].trim(),i=n[2]&&typeof n[2]=="string"?n[2].split(",").map(o=>o.trim()):[];return[r,...i]}}return!1}function Bk(t){const e=t.match(Mk);if(!e)return[t,{name:t}];const n={"*":{force:!0},"+":{skipEmpty:!1},"?":{blocking:!1}},[,r,i]=e,o=Td.test(r)?r.match(Pk)||[]:[,r];return[i,[o[1],o[2],o[3]].reduce((s,l)=>(l&&(Td.test(l)?s.debounce=parseInt(l.substr(1,l.length-1)):l.split("").forEach(a=>je(n,a)&&Object.assign(s,n[a]))),s),{name:i})]}function Nk(t,e){return t.name||(t.name=e.ruleName||e.name),["skipEmpty","force","debounce","blocking"].reduce((n,r)=>(je(e,r)&&!je(n,r)&&Object.assign(n,{[r]:e[r]}),n),t)}function gt(t){return t[0].toUpperCase()+t.substr(1)}function Rd(t,e="or"){return t.reduce((n,r,i)=>(n+=r,i<=t.length-2&&t.length>2&&(n+=", "),i===t.length-2&&(n+=`${t.length===2?" ":""}${e} `),n),"")}function js(t){const e=typeof t=="string"?new Date(Date.parse(t)):t;return e instanceof Date?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeZone:"UTC"}).format(e):"(unknown)"}function jk(t,e){return Number(t)>=Number(e)?[e,t]:[t,e]}const Fk={add:"Add",remove:"Remove",removeAll:"Remove all",incomplete:"Sorry, not all fields are filled out correctly.",submit:"Submit",noFiles:"No file chosen",moveUp:"Move up",moveDown:"Move down",isLoading:"Loading...",loadMore:"Load more",next:"Next",prev:"Previous",addAllValues:"Add all values",addSelectedValues:"Add selected values",removeAllValues:"Remove all values",removeSelectedValues:"Remove selected values",chooseDate:"Choose date",changeDate:"Change date",invalidDate:"The selected date is invalid."},Hk={accepted({name:t}){return`Please accept the ${t}.`},date_after({name:t,args:e}){return Array.isArray(e)&&e.length?`${gt(t)} must be after ${js(e[0])}.`:`${gt(t)} must be in the future.`},alpha({name:t}){return`${gt(t)} can only contain alphabetical characters.`},alphanumeric({name:t}){return`${gt(t)} can only contain letters and numbers.`},alpha_spaces({name:t}){return`${gt(t)} can only contain letters and spaces.`},date_before({name:t,args:e}){return Array.isArray(e)&&e.length?`${gt(t)} must be before ${js(e[0])}.`:`${gt(t)} must be in the past.`},between({name:t,args:e}){if(isNaN(e[0])||isNaN(e[1]))return"This field was configured incorrectly and can’t be submitted.";const[n,r]=jk(e[0],e[1]);return`${gt(t)} must be between ${n} and ${r}.`},confirm({name:t}){return`${gt(t)} does not match.`},date_format({name:t,args:e}){return Array.isArray(e)&&e.length?`${gt(t)} is not a valid date, please use the format ${e[0]}`:"This field was configured incorrectly and can’t be submitted"},date_between({name:t,args:e}){return`${gt(t)} must be between ${js(e[0])} and ${js(e[1])}`},email:"Please enter a valid email address.",ends_with({name:t,args:e}){return`${gt(t)} doesn’t end with ${Rd(e)}.`},is({name:t}){return`${gt(t)} is not an allowed value.`},length({name:t,args:[e=0,n=1/0]}){const r=Number(e)<=Number(n)?e:n,i=Number(n)>=Number(e)?n:e;return r==1&&i===1/0?`${gt(t)} must be at least one character.`:r==0&&i?`${gt(t)} must be less than or equal to ${i} characters.`:r===i?`${gt(t)} should be ${i} characters long.`:r&&i===1/0?`${gt(t)} must be greater than or equal to ${r} characters.`:`${gt(t)} must be between ${r} and ${i} characters.`},matches({name:t}){return`${gt(t)} is not an allowed value.`},max({name:t,node:{value:e},args:n}){return Array.isArray(e)?`Cannot have more than ${n[0]} ${t}.`:`${gt(t)} must be less than or equal to ${n[0]}.`},mime({name:t,args:e}){return e[0]?`${gt(t)} must be of the type: ${e[0]}`:"No file formats allowed."},min({name:t,node:{value:e},args:n}){return Array.isArray(e)?`Cannot have fewer than ${n[0]} ${t}.`:`Must be at least ${n[0]} ${t} .`},not({name:t,node:{value:e}}){return`“${e}” is not an allowed ${t}.`},number({name:t}){return`${gt(t)} must be a number.`},required({name:t}){return`${gt(t)} is required.`},starts_with({name:t,args:e}){return`${gt(t)} doesn’t start with ${Rd(e)}.`},url(){return"Please enter a valid URL."}};var Vk=Object.freeze({__proto__:null,ui:Fk,validation:Hk});function Uk(t){return function(n){let r=Md(n.config.locale,t),i=r?t[r]:{};n.on("prop:locale",({payload:o})=>{r=Md(o,t),i=r?t[r]:{},n.store.touch()}),n.on("prop:label",()=>n.store.touch()),n.on("prop:validationLabel",()=>n.store.touch()),n.hook.text((o,s)=>{var l,a;const c=((l=o.meta)===null||l===void 0?void 0:l.messageKey)||o.key;if(je(i,o.type)&&je(i[o.type],c)){const u=i[o.type][c];typeof u=="function"?o.value=Array.isArray((a=o.meta)===null||a===void 0?void 0:a.i18nArgs)?u(...o.meta.i18nArgs):u(o):o.value=u}return s(o)})}}function Md(t,e){if(je(e,t))return t;const[n]=t.split("-");if(je(e,n))return n;for(const r in e)return r;return!1}let Bn,Wn=null,$l,p0=!1,No=!1;const zk=new Promise(t=>{$l=()=>{p0=!0,t()}}),yr=typeof window<"u"&&typeof fetch<"u";Bn=yr?getComputedStyle(document.documentElement):void 0;const Ui={},oc={};function qk(t,e,n,r){e&&Object.assign(Ui,e),yr&&!No&&(Bn!=null&&Bn.getPropertyValue("--formkit-theme"))?($l(),No=!0):t&&!No&&yr?Wk(t):!No&&yr&&$l();const i=function(s){var l,a;s.addProps(["iconLoader","iconLoaderUrl"]),s.props.iconHandler=Wo(!((l=s.props)===null||l===void 0)&&l.iconLoader?s.props.iconLoader:r,!((a=s.props)===null||a===void 0)&&a.iconLoaderUrl?s.props.iconLoaderUrl:n),Gk(s,s.props.iconHandler),s.on("created",()=>{var c;!((c=s==null?void 0:s.context)===null||c===void 0)&&c.handlers&&(s.context.handlers.iconClick=u=>{const f=`on${u.charAt(0).toUpperCase()}${u.slice(1)}IconClick`,h=s.props[f];if(h&&typeof h=="function")return d=>h(s,d)})})};return i.iconHandler=Wo(r,n),i}function Wk(t){if(!(!t||!yr||typeof getComputedStyle!="function")&&(No=!0,Wn=document.getElementById("formkit-theme"),t&&yr&&(!(Bn!=null&&Bn.getPropertyValue("--formkit-theme"))&&!Wn||Wn!=null&&Wn.getAttribute("data-theme")&&(Wn==null?void 0:Wn.getAttribute("data-theme"))!==t))){const n=`https://cdn.jsdelivr.net/npm/@formkit/themes@${Ll.startsWith("__")?"latest":Ll}/dist/${t}/theme.css`,r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.id="formkit-theme",r.setAttribute("data-theme",t),r.onload=()=>{Bn=getComputedStyle(document.documentElement),$l()},document.head.appendChild(r),r.href=n,Wn&&Wn.remove()}}function Wo(t,e){return n=>{if(typeof n=="boolean")return;if(n.startsWith("<svg"))return n;if(typeof n!="string")return;const r=n.startsWith("default:");n=r?n.split(":")[1]:n;const i=n in Ui;let o;if(i)return Ui[n];if(!oc[n]){if(o=Kk(n),o=yr&&typeof o>"u"?Promise.resolve(o):o,o instanceof Promise)oc[n]=o.then(s=>!s&&typeof n=="string"&&!r?o=typeof t=="function"?t(n):Jk(n,e):s).then(s=>(typeof n=="string"&&(Ui[r?`default:${n}`:n]=s),s));else if(typeof o=="string")return Ui[r?`default:${n}`:n]=o,o}return oc[n]}}function Kk(t){if(yr)return p0?Pd(t):zk.then(()=>Pd(t))}function Pd(t){const e=Bn==null?void 0:Bn.getPropertyValue(`--fk-icon-${t}`);if(e){const n=atob(e);if(n.startsWith("<svg"))return Ui[t]=n,n}}function Jk(t,e){const n=Ll.startsWith("__")?"latest":Ll,r=typeof e=="function"?e(t):`https://cdn.jsdelivr.net/npm/@formkit/icons@${n}/dist/icons/${t}.svg`;if(yr)return fetch(`${r}`).then(async i=>{const o=await i.text();if(o.startsWith("<svg"))return o}).catch(i=>{console.error(i)})}function Gk(t,e){const n=/^[a-zA-Z-]+(?:-icon|Icon)$/;Object.keys(t.props).filter(i=>n.test(i)).forEach(i=>Yk(t,e,i))}function Yk(t,e,n){const r=t.props[n],i=e(r),o=`_raw${n.charAt(0).toUpperCase()}${n.slice(1)}`,s=`on${n.charAt(0).toUpperCase()}${n.slice(1)}Click`;if(t.addProps([o,s]),t.on(`prop:${n}`,Xk),i instanceof Promise)return i.then(l=>{t.props[o]=l});t.props[o]=i}function Xk(t){var e;const n=t.origin,r=t.payload,i=(e=n==null?void 0:n.props)===null||e===void 0?void 0:e.iconHandler,o=t.name.split(":")[1],s=`_raw${o.charAt(0).toUpperCase()}${o.slice(1)}`;if(i&&typeof i=="function"){const l=i(r);if(l instanceof Promise)return l.then(a=>{n.props[s]=a});n.props[s]=l}}let Vf=!1;const Dd={100:({data:t})=>`Only groups, lists, and forms can have children (${t.name}).`,101:({data:t})=>`You cannot directly modify the store (${t.name}). See: https://formkit.com/advanced/core#message-store`,102:({data:[t,e]})=>`You cannot directly assign node.${e} (${t.name})`,103:({data:[t]})=>`Schema expressions cannot start with an operator (${t})`,104:({data:[t,e]})=>`Schema expressions cannot end with an operator (${t} in "${e}")`,105:({data:t})=>`Invalid schema expression: ${t}`,106:({data:t})=>`Cannot submit because (${t}) is not in a form.`,107:({data:[t,e]})=>`Cannot set ${t.name} to non object value: ${e}`,108:({data:[t,e]})=>`Cannot set ${t.name} to non array value: ${e}`,300:({data:[t]})=>`Cannot set behavior prop to overscroll (on ${t.name} input) when options prop is a function.`,600:({data:t})=>`Unknown input type${typeof t.props.type=="string"?' "'+t.props.type+'"':""} ("${t.name}")`,601:({data:t})=>`Input definition${typeof t.props.type=="string"?' "'+t.props.type+'"':""} is missing a schema or component property (${t.name}).`},Id={150:({data:t})=>`Schema function "${t}()" is not a valid function.`,151:({data:t})=>`No form element with id: ${t}`,152:({data:t})=>`No input element with id: ${t}`,350:({data:t})=>`Invalid options prop for radio input (${t.name}). See https://formkit.com/inputs/radio`,650:'Schema "$get()" must use the id of an input to access.',651:({data:t})=>`Cannot setErrors() on "${t}" because no such id exists.`,652:({data:t})=>`Cannot clearErrors() on "${t}" because no such id exists.`,800:({data:t})=>`${t} is deprecated.`},Qk=(t,e)=>{if(t.code in Dd){const n=Dd[t.code];t.message=typeof n=="function"?n(t):n}return e(t)};Vf||$f(Qk);const Zk=(t,e)=>{if(t.code in Id){const n=Id[t.code];t.message=typeof n=="function"?n(t):n}return e(t)};Vf||Bf(Zk);Vf=!0;const sc={};let Qt;const pi=new Map,eS="__raw__",tS=/[a-zA-Z0-9\-][cC]lass$/;function nS(t,e){const n=Ze(null);if(t==="get"){const i={};return n.value=rS.bind(null,i),n}const r=t.split(".");return Pr(()=>{n.value=Uf(ut(e)?e.value:e,r)}),n}function Uf(t,e){if(Array.isArray(t)){for(const i of t){const o=i!==!1&&Uf(i,e);if(o!==void 0)return o}return}let n,r=t;for(const i in e){const o=e[i];if(typeof r!="object"||r===null){n=void 0;break}const s=r[o];if(Number(i)===e.length-1&&s!==void 0){n=typeof s=="function"?s.bind(r):s;break}r=s}return n}function rS(t,e){if(typeof e!="string")return Ri(650);if(e in t||(t[e]=Ze(void 0)),t[e].value===void 0){t[e].value=null;const n=ws(e);n&&(t[e].value=n.context),wx(e,({payload:r})=>{t[e].value=xs(r)?r.context:r})}return t[e].value}function $d(t,e){function n(f,h){const d=u(Tn(h.if),{if:!0}),p=a(f,h.then),b=h.else?a(f,h.else):null;return[d,p,b]}function r(f,h){var d,p;const b=u(Tn(f.if));let g=()=>h,m=()=>h;return typeof f.then=="object"?m=i(f.then,void 0):typeof f.then=="string"&&(!((d=f.then)===null||d===void 0)&&d.startsWith("$"))?m=u(Tn(f.then)):m=()=>f.then,je(f,"else")&&(typeof f.else=="object"?g=i(f.else):typeof f.else=="string"&&(!((p=f.else)===null||p===void 0)&&p.startsWith("$"))?g=u(Tn(f.else)):g=()=>f.else),()=>b()?m():g()}function i(f,h,d={}){const p=new Set(Object.keys(f||{})),b=h?u(Tn(h)):()=>({}),g=[m=>{const x=b();for(const y in x)p.has(y)||(m[y]=x[y])}];if(f){if(Fi(f))return r(f,d);for(let m in f){const x=f[m];let y;const w=typeof x=="string";m.startsWith(eS)?(m=m.substring(7),y=()=>x):w&&x.startsWith("$")&&x.length>1&&!(x.startsWith("$reset")&&tS.test(m))?y=u(Tn(x)):typeof x=="object"&&Fi(x)?y=r(x,void 0):typeof x=="object"&&Ei(x)?y=i(x):y=()=>x,g.push(v=>{v[m]=y()})}}return()=>{const m=Array.isArray(f)?[]:{};return g.forEach(x=>x(m)),m}}function o(f,h){let d=null,p=()=>null,b=!1,g=null,m=null,x=null,y=!1;const w=f_(h);if(Yc(w)?(d=w.$el,p=w.$el!=="text"?i(w.attrs,w.bind):()=>null):Xc(w)?(typeof w.$cmp=="string"?je(f,w.$cmp)?d=f[w.$cmp]:(d=w.$cmp,y=!0):d=w.$cmp,p=i(w.props,w.bind)):Fi(w)&&([b,g,m]=n(f,w)),!Fi(w)&&"if"in w?b=u(Tn(w.if)):!Fi(w)&&d===null&&(b=()=>!0),"children"in w&&w.children)if(typeof w.children=="string")if(w.children.startsWith("$slots."))d=d==="text"?"slot":d,g=u(Tn(w.children));else if(w.children.startsWith("$")&&w.children.length>1){const v=u(Tn(w.children));g=()=>String(v())}else g=()=>String(w.children);else if(Array.isArray(w.children))g=a(f,w.children);else{const[v,S,E]=n(f,w.children);g=k=>v&&v()?S&&S(k):E&&E(k)}if(Xc(w))if(g){const v=g;g=S=>({default(E,k){var O,R,C,_;const L=Qt;k&&(Qt=k),E&&((O=pi.get(Qt))===null||O===void 0||O.unshift(E)),S&&((R=pi.get(Qt))===null||R===void 0||R.unshift(S));const M=v(S);return E&&((C=pi.get(Qt))===null||C===void 0||C.shift()),S&&((_=pi.get(Qt))===null||_===void 0||_.shift()),Qt=L,M}}),g.slot=!0}else g=()=>({});if("for"in w&&w.for){const v=w.for.length===3?w.for[2]:w.for[1];x=[typeof v=="string"&&v.startsWith("$")?u(Tn(v)):()=>v,w.for[0],w.for.length===3?String(w.for[1]):null]}return[b,d,p,g,m,x,y]}function s(f,h){const d=f(h),p=Qt;return Object.keys(d).reduce((b,g)=>{const m=d&&d[g];return b[g]=x=>m&&m(x,p)||null,b},{})}function l(f,h){const[d,p,b,g,m,x,y]=o(f,h);let w=v=>{if(d&&p===null&&g)return d()?g(v):m&&m(v);if(p&&(!d||d())){if(p==="text"&&g)return an(String(g()));if(p==="slot"&&g)return g(v);const S=y?ar(p):p,E=g!=null&&g.slot?s(g,v):null;return Ci(S,b(),E||(g?g(v):[]))}return typeof m=="function"?m(v):m};if(x){const v=w,[S,E,k]=x;w=()=>{const O=S(),R=isNaN(O)?O:Array(Number(O)).fill(0).map((M,A)=>A),C=[];if(typeof R!="object")return null;const _=pi.get(Qt)||[],L=Array.isArray(R);for(const M in R){if(L&&M in Array.prototype)continue;const A=Object.defineProperty({..._.reduce((T,P)=>T.__idata?{...T,...P}:P,{}),[E]:R[M],...k!==null?{[k]:L?Number(M):M}:{}},"__idata",{enumerable:!1,value:!0});_.unshift(A),C.push(v.bind(null,A)()),_.shift()}return C}}return w}function a(f,h){if(Array.isArray(h)){const p=h.map(l.bind(null,f));return b=>p.map(g=>g(b))}const d=l(f,h);return p=>d(p)}const c=[];function u(f,h={}){const d={};return c.push((p,b)=>{d[b]=f.provide(g=>p(g,h))}),()=>d[Qt]()}return function(h,d){const p=JSON.stringify(e),[b,g]=je(sc,p)?sc[p]:[a(t,e),c];return sc[p]=[b,g],g.forEach(m=>{m(h,d)}),()=>(Qt=d,b())}}function m0(t,e){const n=pi.get(Qt)||[];let r;return n.length&&(r=Uf(n,t.split("."))),r===void 0?e:r}function iS(t,e){return new Proxy(t,{get(...n){let r;const i=n[1];if(typeof i=="string"){const o=Qt;Qt=e,r=m0(i,void 0),Qt=o}return r!==void 0?r:Reflect.get(...n)}})}function Bd(t,e,n){return t((r,i={})=>r.reduce((o,s)=>{if(s.startsWith("slots.")){const l=s.substring(6),a=()=>e.slots&&je(e.slots,l)&&typeof e.slots[l]=="function";if(i.if)o[s]=a;else if(e.slots){const c=iS(e,n);o[s]=()=>a()?e.slots[l](c):null}}else{const l=nS(s,e);o[s]=()=>m0(s,l.value)}return o},{}),n)}let Nd=0;const zf=$t({name:"FormKitSchema",props:{schema:{type:[Array,Object],required:!0},data:{type:Object,default:()=>({})},library:{type:Object,default:()=>({})}},setup(t,e){const n=Mf();let r=Symbol(String(Nd++));pi.set(r,[]);let i=$d(t.library,t.schema),o,s;return Gt(()=>t.schema,(l,a)=>{var c;r=Symbol(String(Nd++)),i=$d(t.library,t.schema),o=Bd(i,s,r),l===a&&((c=n==null?void 0:n.proxy)===null||c===void 0?void 0:c.$forceUpdate)()},{deep:!0}),Pr(()=>{s=Object.assign(Mn(t.data),{slots:e.slots}),o=Bd(i,s,r)}),()=>o()}}),oS={config:{type:Object,default:{}},classes:{type:Object,required:!1},delay:{type:Number,required:!1},errors:{type:Array,default:[]},inputErrors:{type:Object,default:()=>({})},index:{type:Number,required:!1},id:{type:String,required:!1},modelValue:{required:!1},name:{type:String,required:!1},parent:{type:Object,required:!1},plugins:{type:Array,default:[]},sectionsSchema:{type:Object,default:{}},type:{type:[String,Object],default:"text"},validation:{type:[String,Array],required:!1},validationMessages:{type:Object,required:!1},validationRules:{type:Object,required:!1},validationLabel:{type:[String,Function],required:!1}},sS=oS,Bl=Symbol("FormKitParent"),Rn=$t({props:sS,emits:{input:(t,e)=>!0,inputRaw:(t,e)=>!0,"update:modelValue":t=>!0,node:t=>!!t,submit:(t,e)=>!0,submitRaw:(t,e)=>!0,submitInvalid:t=>!0},inheritAttrs:!1,setup(t,e){const n=pS(t,e);if(n.props.definition||gn(600,n),n.props.definition.component)return()=>{var s;return Ci((s=n.props.definition)===null||s===void 0?void 0:s.component,{context:n.context},{...e.slots})};const r=Ze([]),i=()=>{var s,l;const a=(l=(s=n.props)===null||s===void 0?void 0:s.definition)===null||l===void 0?void 0:l.schema;a||gn(601,n),r.value=typeof a=="function"?a({...t.sectionsSchema}):a};i(),n.on("schema",i),e.emit("node",n);const o=n.props.definition.library;return e.expose({node:n}),()=>Ci(zf,{schema:r.value,data:n.context,library:o},{...e.slots})}});function lS(t,e){return t.component(e.alias||"FormKit",Rn).component(e.schemaAlias||"FormKitSchema",zf),{get:ws,setLocale:n=>{var r;!((r=e.config)===null||r===void 0)&&r.rootConfig&&(e.config.rootConfig.locale=n)},clearErrors:p_,setErrors:d_,submit:jg,reset:Fg}}const qf=Symbol.for("FormKitOptions"),aS=Symbol.for("FormKitConfig"),cS={install(t,e){const n=Object.assign({alias:"FormKit",schemaAlias:"FormKitSchema"},typeof e=="function"?e():e),r=xx(n.config||{});n.config={rootConfig:r},t.config.globalProperties.$formkit=lS(t,n),t.provide(qf,n),t.provide(aS,r)}},tu=Symbol();function uS(t,e){const n={},r=s=>{for(const l of s)l.__str in n&&n[l.__str](),n[l.__str]=Gt(hS.bind(null,t,l),o.bind(null,l),{deep:!1})},o=fS(t,e,r,s=>{if(s.length)for(const l in n)`${l}`.startsWith(`${s.__str}.`)&&(n[l](),delete n[l])});r(Wf(t))}function fS(t,e,n,r){return i=>{const o=g0(t,i);o!==tu&&(i.__deep&&r(i),typeof o=="object"&&n(Wf(o,[i],...i)),e(i,o,t))}}function hS(t,e){const n=g0(t,e);return n&&typeof n=="object"?Object.keys(n):n}function g0(t,e){if(ut(t)){if(e.length===0)return t.value;t=t.value}return e.reduce((n,r)=>n===tu?n:n===null||typeof n!="object"?tu:n[r],t)}function Wf(t,e=[],...n){if(t===null)return e;if(!n.length){const r=Object.defineProperty([],"__str",{value:""});if(t=ut(t)?t.value:t,t&&typeof t=="object")Object.defineProperty(r,"__deep",{value:!0}),e.push(r);else return[r]}if(t===null||typeof t!="object")return e;for(const r in t){const i=n.concat(r);Object.defineProperty(i,"__str",{value:i.join(".")});const o=t[r];Ei(o)||Array.isArray(o)?(e.push(Object.defineProperty(i,"__deep",{value:!0})),e=e.concat(Wf(o,[],...i))):e.push(i)}return e}function cl(t){return t===null||typeof t!="object"||(Sn(t)?t=Ge(t):ut(t)&&(t=Sn(t.value)?cl(t.value):t.value)),t}const lc=["help","label","ignore","disabled","preserve",/^preserve(-e|E)rrors/,/^[a-z]+(?:-visibility|Visibility|-behavior|Behavior)$/,/^[a-zA-Z-]+(?:-class|Class)$/,"prefixIcon","suffixIcon",/^[a-zA-Z-]+(?:-icon|Icon)$/];function jd(t,e){e.classes&&Object.keys(e.classes).forEach(n=>{typeof n=="string"&&(t.props[`_${n}Class`]=e.classes[n],Wc(e.classes[n])&&n==="inner"&&Object.values(e.classes[n]))})}function dS(t){return t?["Submit","SubmitRaw","SubmitInvalid"].reduce((n,r)=>{const i=`on${r}`;return i in t&&typeof t[i]=="function"&&(n[i]=t[i]),n},{}):{}}function pS(t,e,n={}){var r;const i=Object.assign({},qt(qf)||{},n),o=Mf(),s=dS(o==null?void 0:o.vnode.props),l="modelValue"in((r=o==null?void 0:o.vnode.props)!==null&&r!==void 0?r:{}),a=t.modelValue!==void 0?t.modelValue:Dn(e.attrs.value);function c(){const v={...Bi(t),...s},S=gd(Bi(e.attrs),lc);S.key||(S.key=_o()),v.attrs=S;const E=yd(Bi(e.attrs),lc);for(const O in E)v[Ji(O)]=E[O];const k={props:{}};return jd(k,t),Object.assign(v,k.props),typeof v.type!="string"&&(v.definition=v.type,delete v.type),v}const u=c(),f=u.ignore?null:t.parent||qt(Bl,null),h=c_(Ai(i||{},{name:t.name||void 0,value:a,parent:f,plugins:(i.plugins||[]).concat(t.plugins),config:t.config,props:u,index:t.index},!1,!0));h.props.definition||gn(600,h);const d=Ze(new Set(h.props.definition.props||[]));h.on("added-props",({payload:v})=>{Array.isArray(v)&&v.forEach(S=>d.value.add(S))});const p=rt(()=>lc.concat([...d.value]).reduce((v,S)=>(typeof S=="string"?(v.push(Ji(S)),v.push(Dg(S))):v.push(S),v),[]));Pr(()=>jd(h,t));const b=Bi(t);for(const v in b)Gt(()=>t[v],()=>{t[v]!==void 0&&(h.props[v]=t[v])});const g=new Set,m=Bi(e.attrs);Pr(()=>{x(yd(m,p.value))});function x(v){g.forEach(S=>{S(),g.delete(S)});for(const S in v){const E=Ji(S);g.add(Gt(()=>e.attrs[S],()=>{h.props[E]=e.attrs[S]}))}}if(Pr(()=>{const v=gd(Bi(e.attrs),p.value);"multiple"in v&&(v.multiple=In(v.multiple)),h.props.attrs=Object.assign({},h.props.attrs||{},v)}),Pr(()=>{const v=t.errors.map(S=>Fn({key:Df(S),type:"error",value:S,meta:{source:"prop"}}));h.store.apply(v,S=>S.type==="error"&&S.meta.source==="prop")}),h.type!=="input"){const v=`${h.name}-prop`;Pr(()=>{const S=Object.keys(t.inputErrors);S.length||h.clearErrors(!0,v);const E=S.reduce((k,O)=>{let R=t.inputErrors[O];return typeof R=="string"&&(R=[R]),Array.isArray(R)&&(k[O]=R.map(C=>Fn({key:C,type:"error",value:C,meta:{source:v}}))),k},{});h.store.apply(E,k=>k.type==="error"&&k.meta.source===v)})}Pr(()=>Object.assign(h.config,t.config)),h.type!=="input"&&Vo(Bl,h);let y;const w=new WeakSet;return h.on("modelUpdated",()=>{var v,S;if(e.emit("inputRaw",(v=h.context)===null||v===void 0?void 0:v.value,h),clearTimeout(y),y=setTimeout(e.emit,20,"input",(S=h.context)===null||S===void 0?void 0:S.value,h),l&&h.context){const E=cl(h.context.value);Wc(E)&&cl(t.modelValue)!==E&&w.add(E),e.emit("update:modelValue",E)}}),l&&(uS(og(t,"modelValue"),(v,S)=>{var E;const k=cl(S);if(Wc(k)&&w.has(k))return w.delete(k);v.length?(E=h.at(v))===null||E===void 0||E.input(S,!1):h.input(S,!1)}),h.value!==a&&h.emit("modelUpdated")),Of(()=>h.destroy()),h}const mS=qe("messages",()=>({$el:"ul",if:"$fns.length($messages)"}),!0),gS=qe("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),yS=mS(gS("$message.value"));$t({props:{node:{type:Object,required:!1},sectionsSchema:{type:Object,default:{}},defaultPosition:{type:[String,Boolean],default:!1}},setup(t,e){const n=rt(()=>t.node||qt(Bl,void 0));Gt(n,()=>{var o;!((o=n.value)===null||o===void 0)&&o.context&&!In(t.defaultPosition)&&(n.value.context.defaultMessagePlacement=!1)},{immediate:!0});const r=yS(t.sectionsSchema||{}),i=rt(()=>{var o,s,l,a,c,u;return{messages:((s=(o=n.value)===null||o===void 0?void 0:o.context)===null||s===void 0?void 0:s.messages)||{},fns:((a=(l=n.value)===null||l===void 0?void 0:l.context)===null||a===void 0?void 0:a.fns)||{},classes:((u=(c=n.value)===null||c===void 0?void 0:c.context)===null||u===void 0?void 0:u.classes)||{}}});return()=>{var o;return!((o=n.value)===null||o===void 0)&&o.context?Ci(zf,{schema:r,data:i.value},{...e.slots}):null}}});const bS=function(e){e.ledger.count("blocking",E=>E.blocking);const n=Ze(!e.ledger.value("blocking"));e.ledger.count("errors",E=>E.type==="error");const r=Ze(!!e.ledger.value("errors"));let i=!1;sa(()=>{i=!0});const o=Mn(e.store.reduce((E,k)=>(k.visible&&(E[k.key]=k),E),{})),s=Ze(e.props.validationVisibility||"blur");e.on("prop:validationVisibility",({payload:E})=>{s.value=E});const l=Ze(s.value==="live"),a=rt(()=>{if(x.state.submitted)return!0;if(!l.value&&!x.state.settled)return!1;switch(s.value){case"live":return!0;case"blur":return x.state.blurred;case"dirty":return x.state.dirty;default:return!1}}),c=rt(()=>u.value?n.value&&!r.value:x.state.dirty&&!is(x.value)),u=Ze(Array.isArray(e.props.parsedRules)&&e.props.parsedRules.length>0);e.on("prop:parsedRules",({payload:E})=>{u.value=Array.isArray(E)&&E.length>0});const f=rt(()=>{const E={};for(const k in o){const O=o[k];(O.type!=="validation"||a.value)&&(E[k]=O)}return E}),h=Mn(e.store.reduce((E,k)=>(k.type==="ui"&&k.visible&&(E[k.key]=k),E),{})),d=Mn({}),p=new Proxy(d,{get(...E){const[k,O]=E;let R=Reflect.get(...E);return!R&&typeof O=="string"&&!je(k,O)&&!O.startsWith("__v")&&ss(e).watch(_=>{const L=typeof _.config.rootClasses=="function"?_.config.rootClasses(O,_):{},M=_.config.classes?sl(O,_,_.config.classes[O]):{},A=sl(O,_,_.props[`_${O}Class`]),T=sl(O,_,_.props[`${O}Class`]);R=h_(_,O,L,M,A,T),k[O]=R??""}),R}}),b=rt(()=>{const E=[];x.help&&E.push(`help-${e.props.id}`);for(const k in f.value)E.push(`${e.props.id}-${k}`);return E.length?E.join(" "):void 0}),g=Ze(e.value),m=Ze(e.value),x=Mn({_value:m,attrs:e.props.attrs,disabled:e.props.disabled,describedBy:b,fns:{length:E=>Object.keys(E).length,number:E=>Number(E),string:E=>String(E),json:E=>JSON.stringify(E),eq:Cn},handlers:{blur:E=>{e.store.set(Fn({key:"blurred",visible:!1,value:!0})),typeof e.props.attrs.onBlur=="function"&&e.props.attrs.onBlur(E)},touch:()=>{var E;const k=x.dirtyBehavior==="compare";if(!((E=e.store.dirty)===null||E===void 0)&&E.value&&!k)return;const O=!Cn(e.props._init,e._value);!O&&!k||e.store.set(Fn({key:"dirty",visible:!1,value:O}))},DOMInput:E=>{e.input(E.target.value),e.emit("dom-input-event",E)}},help:e.props.help,id:e.props.id,label:e.props.label,messages:f,node:ki(e),options:e.props.options,defaultMessagePlacement:!0,state:{blurred:!1,complete:c,dirty:!1,submitted:!1,settled:e.isSettled,valid:n,errors:r,rules:u,validationVisible:a},type:e.props.type,family:e.props.family,ui:h,value:g,classes:p});e.on("created",()=>{Cn(x.value,e.value)||(m.value=e.value,g.value=e.value,Bs(g),Bs(m)),(async()=>(await e.settled,e.props._init=Dn(e.value)))()}),e.on("settled",({payload:E})=>{x.state.settled=E});function y(E){E.forEach(k=>{k=Ji(k),!je(x,k)&&je(e.props,k)&&(x[k]=e.props[k]),e.on(`prop:${k}`,({payload:O})=>{x[k]=O})})}y((()=>{const E=["help","label","disabled","options","type","attrs","preserve","preserveErrors","id","dirtyBehavior"],k=/^[a-zA-Z-]+(?:-icon|Icon)$/,O=Object.keys(e.props).filter(R=>k.test(R));return E.concat(O)})());function v(E){E.props&&y(E.props)}e.props.definition&&v(e.props.definition),e.on("added-props",({payload:E})=>y(E)),e.on("input",({payload:E})=>{e.type!=="input"&&!ut(E)&&!Sn(E)?m.value=bd(E):(m.value=E,Bs(m))}),e.on("commit",({payload:E})=>{e.type!=="input"&&!ut(E)&&!Sn(E)?g.value=m.value=bd(E):(g.value=m.value=E,Bs(g)),e.emit("modelUpdated"),(!x.state.dirty||x.dirtyBehavior==="compare")&&e.isCreated&&i&&x.handlers.touch(),c&&e.type==="input"&&r.value&&!In(e.props.preserveErrors)&&e.store.filter(k=>{var O;return!(k.type==="error"&&((O=k.meta)===null||O===void 0?void 0:O.autoClear)===!0)})});const S=async E=>{E.type==="ui"&&E.visible&&!E.meta.showAsMessage?h[E.key]=E:E.visible?o[E.key]=E:E.type==="state"&&(x.state[E.key]=!!E.value)};e.on("message-added",E=>S(E.payload)),e.on("message-updated",E=>S(E.payload)),e.on("message-removed",({payload:E})=>{delete h[E.key],delete o[E.key],delete x.state[E.key]}),e.on("settled:blocking",()=>{n.value=!0}),e.on("unsettled:blocking",()=>{n.value=!1}),e.on("settled:errors",()=>{r.value=!1}),e.on("unsettled:errors",()=>{r.value=!0}),Gt(a,E=>{E&&(l.value=!0)}),e.context=x,e.emit("context",e,!1)},vS=(t={})=>{const{rules:e={},locales:n={},inputs:r={},messages:i={},locale:o=void 0,theme:s=void 0,iconLoaderUrl:l=void 0,iconLoader:a=void 0,icons:c={},...u}=t,f=Sk({...kk,...e||{}}),h=Uk(Ai({en:Vk,...n||{}},i)),d=m_(nk,r),p=qk(s,c,l,a);return Ai({plugins:[d,p,bS,h,f],...o?{config:{locale:o}}:{}},u||{},!0)};$t({name:"FormKitIcon",props:{icon:{type:String,default:""},iconLoader:{type:Function,default:null},iconLoaderUrl:{type:Function,default:null}},setup(t){var e,n;const r=Ze(void 0),i=qt(qf,{}),o=qt(Bl,null);let s;function l(){if(!s||typeof s!="function")return;const a=s(t.icon);a instanceof Promise?a.then(c=>{r.value=c}):r.value=a}if(t.iconLoader&&typeof t.iconLoader=="function")s=Wo(t.iconLoader);else if(o&&(!((e=o.props)===null||e===void 0)&&e.iconLoader))s=Wo(o.props.iconLoader);else if(t.iconLoaderUrl&&typeof t.iconLoaderUrl=="function")s=Wo(s,t.iconLoaderUrl);else{const a=(n=i==null?void 0:i.plugins)===null||n===void 0?void 0:n.find(c=>typeof c.iconHandler=="function");a&&(s=a.iconHandler)}return Gt(()=>t.icon,()=>{l()},{immediate:!0}),()=>t.icon&&r.value?Ci("span",{class:"formkit-icon",innerHTML:r.value}):null}});const un=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},wS={},xS=Le("a",{href:"/",class:"brand"},"Vaunt",-1),_S={class:"nav-links"};function kS(t,e){const n=ar("router-link");return Ke(),at("nav",null,[xS,Le("div",_S,[ke(n,{to:"/admin/"},{default:_t(()=>[an("Home")]),_:1}),ke(n,{to:"/admin/theme"},{default:_t(()=>[an("Theme")]),_:1}),ke(n,{to:"/admin/settings"},{default:_t(()=>[an("Settings")]),_:1})])])}const SS=un(wS,[["render",kS]]),CS=$t({__name:"App",setup(t){return(e,n)=>{const r=ar("router-view");return Ke(),at(Lt,null,[ke(SS),Le("main",null,[ke(r)])],64)}}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Hi=typeof window<"u";function ES(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const lt=Object.assign;function ac(t,e){const n={};for(const r in e){const i=e[r];n[r]=Hn(i)?i.map(t):t(i)}return n}const Ko=()=>{},Hn=Array.isArray,AS=/\/$/,OS=t=>t.replace(AS,"");function cc(t,e,n="/"){let r,i={},o="",s="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(r=e.slice(0,a),o=e.slice(a+1,l>-1?l:e.length),i=t(o)),l>-1&&(r=r||e.slice(0,l),s=e.slice(l,e.length)),r=MS(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function TS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Fd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function LS(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&lo(e.matched[r],n.matched[i])&&y0(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function lo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function y0(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!RS(t[n],e[n]))return!1;return!0}function RS(t,e){return Hn(t)?Hd(t,e):Hn(e)?Hd(e,t):t===e}function Hd(t,e){return Hn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function MS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let i=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var ls;(function(t){t.pop="pop",t.push="push"})(ls||(ls={}));var Jo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Jo||(Jo={}));function PS(t){if(!t)if(Hi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),OS(t)}const DS=/^[^#]+#/;function IS(t,e){return t.replace(DS,"#")+e}function $S(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ya=()=>({left:window.pageXOffset,top:window.pageYOffset});function BS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=$S(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Vd(t,e){return(history.state?history.state.position-e:-1)+t}const nu=new Map;function NS(t,e){nu.set(t,e)}function jS(t){const e=nu.get(t);return nu.delete(t),e}let FS=()=>location.protocol+"//"+location.host;function b0(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let l=i.includes(t.slice(o))?t.slice(o).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),Fd(a,"")}return Fd(n,t)+r+i}function HS(t,e,n,r){let i=[],o=[],s=null;const l=({state:h})=>{const d=b0(t,location),p=n.value,b=e.value;let g=0;if(h){if(n.value=d,e.value=h,s&&s===p){s=null;return}g=b?h.position-b.position:0}else r(d);i.forEach(m=>{m(n.value,p,{delta:g,type:ls.pop,direction:g?g>0?Jo.forward:Jo.back:Jo.unknown})})};function a(){s=n.value}function c(h){i.push(h);const d=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return o.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(lt({},h.state,{scroll:ya()}),"")}function f(){for(const h of o)h();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u),{pauseListeners:a,listen:c,destroy:f}}function Ud(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?ya():null}}function VS(t){const{history:e,location:n}=window,r={value:b0(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(a,c,u){const f=t.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+a:FS()+t+a;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(d){console.error(d),n[u?"replace":"assign"](h)}}function s(a,c){const u=lt({},e.state,Ud(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});o(a,u,!0),r.value=a}function l(a,c){const u=lt({},i.value,e.state,{forward:a,scroll:ya()});o(u.current,u,!0);const f=lt({},Ud(r.value,a,null),{position:u.position+1},c);o(a,f,!1),r.value=a}return{location:r,state:i,push:l,replace:s}}function US(t){t=PS(t);const e=VS(t),n=HS(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=lt({location:"",base:t,go:r,createHref:IS.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function zS(t){return typeof t=="string"||t&&typeof t=="object"}function v0(t){return typeof t=="string"||typeof t=="symbol"}const Tr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},w0=Symbol("");var zd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(zd||(zd={}));function ao(t,e){return lt(new Error,{type:t,[w0]:!0},e)}function hr(t,e){return t instanceof Error&&w0 in t&&(e==null||!!(t.type&e))}const qd="[^/]+?",qS={sensitive:!1,strict:!1,start:!0,end:!0},WS=/[.+*?^${}()[\]/\\]/g;function KS(t,e){const n=lt({},qS,e),r=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const h=c[f];let d=40+(n.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(WS,"\\$&"),d+=40;else if(h.type===1){const{value:p,repeatable:b,optional:g,regexp:m}=h;o.push({name:p,repeatable:b,optional:g});const x=m||qd;if(x!==qd){d+=10;try{new RegExp(`(${x})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${p}" (${x}): `+w.message)}}let y=b?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(y=g&&c.length<2?`(?:/${y})`:"/"+y),g&&(y+="?"),i+=y,d+=20,g&&(d+=-8),b&&(d+=-20),x===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(s),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",p=o[h-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function a(c){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:b,optional:g}=d,m=p in c?c[p]:"";if(Hn(m)&&!b)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const x=Hn(m)?m.join("/"):m;if(!x)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);u+=x}}return u||"/"}return{re:s,score:r,keys:o,parse:l,stringify:a}}function JS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function GS(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=JS(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Wd(r))return 1;if(Wd(i))return-1}return i.length-r.length}function Wd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const YS={type:0,value:""},XS=/[a-zA-Z0-9_]/;function QS(t){if(!t)return[[]];if(t==="/")return[[YS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let l=0,a,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(c&&f(),s()):a===":"?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:a==="("?n=2:XS.test(a)?h():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),s(),i}function ZS(t,e,n){const r=KS(QS(t.path),n),i=lt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function eC(t,e){const n=[],r=new Map;e=Gd({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function o(u,f,h){const d=!h,p=tC(u);p.aliasOf=h&&h.record;const b=Gd(e,u),g=[p];if("alias"in u){const y=typeof u.alias=="string"?[u.alias]:u.alias;for(const w of y)g.push(lt({},p,{components:h?h.record.components:p.components,path:w,aliasOf:h?h.record:p}))}let m,x;for(const y of g){const{path:w}=y;if(f&&w[0]!=="/"){const v=f.record.path,S=v[v.length-1]==="/"?"":"/";y.path=f.record.path+(w&&S+w)}if(m=ZS(y,f,b),h?h.alias.push(m):(x=x||m,x!==m&&x.alias.push(m),d&&u.name&&!Jd(m)&&s(u.name)),p.children){const v=p.children;for(let S=0;S<v.length;S++)o(v[S],m,h&&h.children[S])}h=h||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&a(m)}return x?()=>{s(x)}:Ko}function s(u){if(v0(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function l(){return n}function a(u){let f=0;for(;f<n.length&&GS(u,n[f])>=0&&(u.record.path!==n[f].record.path||!x0(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!Jd(u)&&r.set(u.record.name,u)}function c(u,f){let h,d={},p,b;if("name"in u&&u.name){if(h=r.get(u.name),!h)throw ao(1,{location:u});b=h.record.name,d=lt(Kd(f.params,h.keys.filter(x=>!x.optional).map(x=>x.name)),u.params&&Kd(u.params,h.keys.map(x=>x.name))),p=h.stringify(d)}else if("path"in u)p=u.path,h=n.find(x=>x.re.test(p)),h&&(d=h.parse(p),b=h.record.name);else{if(h=f.name?r.get(f.name):n.find(x=>x.re.test(f.path)),!h)throw ao(1,{location:u,currentLocation:f});b=h.record.name,d=lt({},f.params,u.params),p=h.stringify(d)}const g=[];let m=h;for(;m;)g.unshift(m.record),m=m.parent;return{name:b,path:p,params:d,matched:g,meta:rC(g)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:s,getRoutes:l,getRecordMatcher:i}}function Kd(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function tC(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:nC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function nC(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Jd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function rC(t){return t.reduce((e,n)=>lt(e,n.meta),{})}function Gd(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function x0(t,e){return e.children.some(n=>n===t||x0(t,n))}const _0=/#/g,iC=/&/g,oC=/\//g,sC=/=/g,lC=/\?/g,k0=/\+/g,aC=/%5B/g,cC=/%5D/g,S0=/%5E/g,uC=/%60/g,C0=/%7B/g,fC=/%7C/g,E0=/%7D/g,hC=/%20/g;function Kf(t){return encodeURI(""+t).replace(fC,"|").replace(aC,"[").replace(cC,"]")}function dC(t){return Kf(t).replace(C0,"{").replace(E0,"}").replace(S0,"^")}function ru(t){return Kf(t).replace(k0,"%2B").replace(hC,"+").replace(_0,"%23").replace(iC,"%26").replace(uC,"`").replace(C0,"{").replace(E0,"}").replace(S0,"^")}function pC(t){return ru(t).replace(sC,"%3D")}function mC(t){return Kf(t).replace(_0,"%23").replace(lC,"%3F")}function gC(t){return t==null?"":mC(t).replace(oC,"%2F")}function Nl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function yC(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(k0," "),s=o.indexOf("="),l=Nl(s<0?o:o.slice(0,s)),a=s<0?null:Nl(o.slice(s+1));if(l in e){let c=e[l];Hn(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function Yd(t){let e="";for(let n in t){const r=t[n];if(n=pC(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Hn(r)?r.map(o=>o&&ru(o)):[r&&ru(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function bC(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Hn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const vC=Symbol(""),Xd=Symbol(""),ba=Symbol(""),Jf=Symbol(""),iu=Symbol("");function To(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Ir(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const a=f=>{f===!1?l(ao(4,{from:n,to:e})):f instanceof Error?l(f):zS(f)?l(ao(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},c=t.call(r&&r.instances[i],e,n,a);let u=Promise.resolve(c);t.length<3&&(u=u.then(a)),u.catch(f=>l(f))})}function uc(t,e,n,r){const i=[];for(const o of t)for(const s in o.components){let l=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(wC(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Ir(c,n,r,o,s))}else{let a=l();i.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const u=ES(c)?c.default:c;o.components[s]=u;const h=(u.__vccOpts||u)[e];return h&&Ir(h,n,r,o,s)()}))}}return i}function wC(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Qd(t){const e=qt(ba),n=qt(Jf),r=rt(()=>e.resolve(Be(t.to))),i=rt(()=>{const{matched:a}=r.value,{length:c}=a,u=a[c-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(lo.bind(null,u));if(h>-1)return h;const d=Zd(a[c-2]);return c>1&&Zd(u)===d&&f[f.length-1].path!==d?f.findIndex(lo.bind(null,a[c-2])):h}),o=rt(()=>i.value>-1&&SC(n.params,r.value.params)),s=rt(()=>i.value>-1&&i.value===n.matched.length-1&&y0(n.params,r.value.params));function l(a={}){return kC(a)?e[Be(t.replace)?"replace":"push"](Be(t.to)).catch(Ko):Promise.resolve()}return{route:r,href:rt(()=>r.value.href),isActive:o,isExactActive:s,navigate:l}}const xC=$t({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qd,setup(t,{slots:e}){const n=Mn(Qd(t)),{options:r}=qt(ba),i=rt(()=>({[ep(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ep(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Ci("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),_C=xC;function kC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function SC(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Hn(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function Zd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ep=(t,e,n)=>t??e??n,CC=$t({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=qt(iu),i=rt(()=>t.route||r.value),o=qt(Xd,0),s=rt(()=>{let c=Be(o);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=rt(()=>i.value.matched[s.value]);Vo(Xd,rt(()=>s.value+1)),Vo(vC,l),Vo(iu,i);const a=Ze();return Gt(()=>[a.value,l.value,t.name],([c,u,f],[h,d,p])=>{u&&(u.instances[f]=c,d&&d!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!lo(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,f=l.value,h=f&&f.components[u];if(!h)return tp(n.default,{Component:h,route:c});const d=f.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,g=Ci(h,lt({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return tp(n.default,{Component:g,route:c})||g}}});function tp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const EC=CC;function AC(t){const e=eC(t.routes,t),n=t.parseQuery||yC,r=t.stringifyQuery||Yd,i=t.history,o=To(),s=To(),l=To(),a=c1(Tr);let c=Tr;Hi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ac.bind(null,U=>""+U),f=ac.bind(null,gC),h=ac.bind(null,Nl);function d(U,X){let Q,ce;return v0(U)?(Q=e.getRecordMatcher(U),ce=X):ce=U,e.addRoute(ce,Q)}function p(U){const X=e.getRecordMatcher(U);X&&e.removeRoute(X)}function b(){return e.getRoutes().map(U=>U.record)}function g(U){return!!e.getRecordMatcher(U)}function m(U,X){if(X=lt({},X||a.value),typeof U=="string"){const I=cc(n,U,X.path),B=e.resolve({path:I.path},X),H=i.createHref(I.fullPath);return lt(I,B,{params:h(B.params),hash:Nl(I.hash),redirectedFrom:void 0,href:H})}let Q;if("path"in U)Q=lt({},U,{path:cc(n,U.path,X.path).path});else{const I=lt({},U.params);for(const B in I)I[B]==null&&delete I[B];Q=lt({},U,{params:f(U.params)}),X.params=f(X.params)}const ce=e.resolve(Q,X),we=U.hash||"";ce.params=u(h(ce.params));const Ee=TS(r,lt({},U,{hash:dC(we),path:ce.path})),de=i.createHref(Ee);return lt({fullPath:Ee,hash:we,query:r===Yd?bC(U.query):U.query||{}},ce,{redirectedFrom:void 0,href:de})}function x(U){return typeof U=="string"?cc(n,U,a.value.path):lt({},U)}function y(U,X){if(c!==U)return ao(8,{from:X,to:U})}function w(U){return E(U)}function v(U){return w(lt(x(U),{replace:!0}))}function S(U){const X=U.matched[U.matched.length-1];if(X&&X.redirect){const{redirect:Q}=X;let ce=typeof Q=="function"?Q(U):Q;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=x(ce):{path:ce},ce.params={}),lt({query:U.query,hash:U.hash,params:"path"in ce?{}:U.params},ce)}}function E(U,X){const Q=c=m(U),ce=a.value,we=U.state,Ee=U.force,de=U.replace===!0,I=S(Q);if(I)return E(lt(x(I),{state:typeof I=="object"?lt({},we,I.state):we,force:Ee,replace:de}),X||Q);const B=Q;B.redirectedFrom=X;let H;return!Ee&&LS(r,ce,Q)&&(H=ao(16,{to:B,from:ce}),G(ce,ce,!0,!1)),(H?Promise.resolve(H):O(B,ce)).catch(z=>hr(z)?hr(z,2)?z:$(z):P(z,B,ce)).then(z=>{if(z){if(hr(z,2))return E(lt({replace:de},x(z.to),{state:typeof z.to=="object"?lt({},we,z.to.state):we,force:Ee}),X||B)}else z=C(B,ce,!0,de,we);return R(B,ce,z),z})}function k(U,X){const Q=y(U,X);return Q?Promise.reject(Q):Promise.resolve()}function O(U,X){let Q;const[ce,we,Ee]=OC(U,X);Q=uc(ce.reverse(),"beforeRouteLeave",U,X);for(const I of ce)I.leaveGuards.forEach(B=>{Q.push(Ir(B,U,X))});const de=k.bind(null,U,X);return Q.push(de),Ni(Q).then(()=>{Q=[];for(const I of o.list())Q.push(Ir(I,U,X));return Q.push(de),Ni(Q)}).then(()=>{Q=uc(we,"beforeRouteUpdate",U,X);for(const I of we)I.updateGuards.forEach(B=>{Q.push(Ir(B,U,X))});return Q.push(de),Ni(Q)}).then(()=>{Q=[];for(const I of U.matched)if(I.beforeEnter&&!X.matched.includes(I))if(Hn(I.beforeEnter))for(const B of I.beforeEnter)Q.push(Ir(B,U,X));else Q.push(Ir(I.beforeEnter,U,X));return Q.push(de),Ni(Q)}).then(()=>(U.matched.forEach(I=>I.enterCallbacks={}),Q=uc(Ee,"beforeRouteEnter",U,X),Q.push(de),Ni(Q))).then(()=>{Q=[];for(const I of s.list())Q.push(Ir(I,U,X));return Q.push(de),Ni(Q)}).catch(I=>hr(I,8)?I:Promise.reject(I))}function R(U,X,Q){for(const ce of l.list())ce(U,X,Q)}function C(U,X,Q,ce,we){const Ee=y(U,X);if(Ee)return Ee;const de=X===Tr,I=Hi?history.state:{};Q&&(ce||de?i.replace(U.fullPath,lt({scroll:de&&I&&I.scroll},we)):i.push(U.fullPath,we)),a.value=U,G(U,X,Q,de),$()}let _;function L(){_||(_=i.listen((U,X,Q)=>{if(!he.listening)return;const ce=m(U),we=S(ce);if(we){E(lt(we,{replace:!0}),ce).catch(Ko);return}c=ce;const Ee=a.value;Hi&&NS(Vd(Ee.fullPath,Q.delta),ya()),O(ce,Ee).catch(de=>hr(de,12)?de:hr(de,2)?(E(de.to,ce).then(I=>{hr(I,20)&&!Q.delta&&Q.type===ls.pop&&i.go(-1,!1)}).catch(Ko),Promise.reject()):(Q.delta&&i.go(-Q.delta,!1),P(de,ce,Ee))).then(de=>{de=de||C(ce,Ee,!1),de&&(Q.delta&&!hr(de,8)?i.go(-Q.delta,!1):Q.type===ls.pop&&hr(de,20)&&i.go(-1,!1)),R(ce,Ee,de)}).catch(Ko)}))}let M=To(),A=To(),T;function P(U,X,Q){$(U);const ce=A.list();return ce.length?ce.forEach(we=>we(U,X,Q)):console.error(U),Promise.reject(U)}function D(){return T&&a.value!==Tr?Promise.resolve():new Promise((U,X)=>{M.add([U,X])})}function $(U){return T||(T=!U,L(),M.list().forEach(([X,Q])=>U?Q(U):X()),M.reset()),U}function G(U,X,Q,ce){const{scrollBehavior:we}=t;if(!Hi||!we)return Promise.resolve();const Ee=!Q&&jS(Vd(U.fullPath,0))||(ce||!Q)&&history.state&&history.state.scroll||null;return sa().then(()=>we(U,X,Ee)).then(de=>de&&BS(de)).catch(de=>P(de,U,X))}const ne=U=>i.go(U);let ae;const Re=new Set,he={currentRoute:a,listening:!0,addRoute:d,removeRoute:p,hasRoute:g,getRoutes:b,resolve:m,options:t,push:w,replace:v,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:o.add,beforeResolve:s.add,afterEach:l.add,onError:A.add,isReady:D,install(U){const X=this;U.component("RouterLink",_C),U.component("RouterView",EC),U.config.globalProperties.$router=X,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>Be(a)}),Hi&&!ae&&a.value===Tr&&(ae=!0,w(i.location).catch(we=>{}));const Q={};for(const we in Tr)Q[we]=rt(()=>a.value[we]);U.provide(ba,X),U.provide(Jf,Mn(Q)),U.provide(iu,a);const ce=U.unmount;Re.add(U),U.unmount=function(){Re.delete(U),Re.size<1&&(c=Tr,_&&_(),_=null,a.value=Tr,ae=!1,T=!1),ce()}}};return he}function Ni(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function OC(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const l=e.matched[s];l&&(t.matched.find(c=>lo(c,l))?r.push(l):n.push(l));const a=t.matched[s];a&&(e.matched.find(c=>lo(c,a))||i.push(a))}return[n,r,i]}function Gf(){return qt(ba)}function A0(){return qt(Jf)}function O0(t,e){return function(){return t.apply(e,arguments)}}const{toString:T0}=Object.prototype,{getPrototypeOf:Yf}=Object,Xf=(t=>e=>{const n=T0.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cr=t=>(t=t.toLowerCase(),e=>Xf(e)===t),va=t=>e=>typeof e===t,{isArray:ko}=Array,as=va("undefined");function TC(t){return t!==null&&!as(t)&&t.constructor!==null&&!as(t.constructor)&&Kr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const L0=Cr("ArrayBuffer");function LC(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&L0(t.buffer),e}const RC=va("string"),Kr=va("function"),R0=va("number"),Qf=t=>t!==null&&typeof t=="object",MC=t=>t===!0||t===!1,ul=t=>{if(Xf(t)!=="object")return!1;const e=Yf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},PC=Cr("Date"),DC=Cr("File"),IC=Cr("Blob"),$C=Cr("FileList"),BC=t=>Qf(t)&&Kr(t.pipe),NC=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||T0.call(t)===e||Kr(t.toString)&&t.toString()===e)},jC=Cr("URLSearchParams"),FC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ks(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ko(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let l;for(r=0;r<s;r++)l=o[r],e.call(null,t[l],l,t)}}function M0(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const P0=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),D0=t=>!as(t)&&t!==P0;function ou(){const{caseless:t}=D0(this)&&this||{},e={},n=(r,i)=>{const o=t&&M0(e,i)||i;ul(e[o])&&ul(r)?e[o]=ou(e[o],r):ul(r)?e[o]=ou({},r):ko(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ks(arguments[r],n);return e}const HC=(t,e,n,{allOwnKeys:r}={})=>(ks(e,(i,o)=>{n&&Kr(i)?t[o]=O0(i,n):t[o]=i},{allOwnKeys:r}),t),VC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),UC=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},zC=(t,e,n,r)=>{let i,o,s;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!l[s]&&(e[s]=t[s],l[s]=!0);t=n!==!1&&Yf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},qC=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},WC=t=>{if(!t)return null;if(ko(t))return t;let e=t.length;if(!R0(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},KC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yf(Uint8Array)),JC=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},GC=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},YC=Cr("HTMLFormElement"),XC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),np=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),QC=Cr("RegExp"),I0=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ks(n,(i,o)=>{e(i,o,t)!==!1&&(r[o]=i)}),Object.defineProperties(t,r)},ZC=t=>{I0(t,(e,n)=>{if(Kr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Kr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},e2=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return ko(t)?r(t):r(String(t).split(e)),n},t2=()=>{},n2=(t,e)=>(t=+t,Number.isFinite(t)?t:e),fc="abcdefghijklmnopqrstuvwxyz",rp="0123456789",$0={DIGIT:rp,ALPHA:fc,ALPHA_DIGIT:fc+fc.toUpperCase()+rp},r2=(t=16,e=$0.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function i2(t){return!!(t&&Kr(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const o2=t=>{const e=new Array(10),n=(r,i)=>{if(Qf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=ko(r)?[]:{};return ks(r,(s,l)=>{const a=n(s,i+1);!as(a)&&(o[l]=a)}),e[i]=void 0,o}}return r};return n(t,0)},K={isArray:ko,isArrayBuffer:L0,isBuffer:TC,isFormData:NC,isArrayBufferView:LC,isString:RC,isNumber:R0,isBoolean:MC,isObject:Qf,isPlainObject:ul,isUndefined:as,isDate:PC,isFile:DC,isBlob:IC,isRegExp:QC,isFunction:Kr,isStream:BC,isURLSearchParams:jC,isTypedArray:KC,isFileList:$C,forEach:ks,merge:ou,extend:HC,trim:FC,stripBOM:VC,inherits:UC,toFlatObject:zC,kindOf:Xf,kindOfTest:Cr,endsWith:qC,toArray:WC,forEachEntry:JC,matchAll:GC,isHTMLForm:YC,hasOwnProperty:np,hasOwnProp:np,reduceDescriptors:I0,freezeMethods:ZC,toObjectSet:e2,toCamelCase:XC,noop:t2,toFiniteNumber:n2,findKey:M0,global:P0,isContextDefined:D0,ALPHABET:$0,generateString:r2,isSpecCompliantForm:i2,toJSONObject:o2};function Qe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}K.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const B0=Qe.prototype,N0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{N0[t]={value:t}});Object.defineProperties(Qe,N0);Object.defineProperty(B0,"isAxiosError",{value:!0});Qe.from=(t,e,n,r,i,o)=>{const s=Object.create(B0);return K.toFlatObject(t,s,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),Qe.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const s2=null;function su(t){return K.isPlainObject(t)||K.isArray(t)}function j0(t){return K.endsWith(t,"[]")?t.slice(0,-2):t}function ip(t,e,n){return t?t.concat(e).map(function(i,o){return i=j0(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function l2(t){return K.isArray(t)&&!t.some(su)}const a2=K.toFlatObject(K,{},null,function(e){return/^is[A-Z]/.test(e)});function wa(t,e,n){if(!K.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!K.isUndefined(g[b])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(e);if(!K.isFunction(i))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(K.isDate(p))return p.toISOString();if(!a&&K.isBlob(p))throw new Qe("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(p)||K.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,b,g){let m=p;if(p&&!g&&typeof p=="object"){if(K.endsWith(b,"{}"))b=r?b:b.slice(0,-2),p=JSON.stringify(p);else if(K.isArray(p)&&l2(p)||(K.isFileList(p)||K.endsWith(b,"[]"))&&(m=K.toArray(p)))return b=j0(b),m.forEach(function(y,w){!(K.isUndefined(y)||y===null)&&e.append(s===!0?ip([b],w,o):s===null?b:b+"[]",c(y))}),!1}return su(p)?!0:(e.append(ip(g,b,o),c(p)),!1)}const f=[],h=Object.assign(a2,{defaultVisitor:u,convertValue:c,isVisitable:su});function d(p,b){if(!K.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(p),K.forEach(p,function(m,x){(!(K.isUndefined(m)||m===null)&&i.call(e,m,K.isString(x)?x.trim():x,b,h))===!0&&d(m,b?b.concat(x):[x])}),f.pop()}}if(!K.isObject(t))throw new TypeError("data must be an object");return d(t),e}function op(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Zf(t,e){this._pairs=[],t&&wa(t,this,e)}const F0=Zf.prototype;F0.append=function(e,n){this._pairs.push([e,n])};F0.toString=function(e){const n=e?function(r){return e.call(this,r,op)}:op;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function c2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function H0(t,e,n){if(!e)return t;const r=n&&n.encode||c2,i=n&&n.serialize;let o;if(i?o=i(e,n):o=K.isURLSearchParams(e)?e.toString():new Zf(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class u2{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){K.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sp=u2,V0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f2=typeof URLSearchParams<"u"?URLSearchParams:Zf,h2=typeof FormData<"u"?FormData:null,d2=typeof Blob<"u"?Blob:null,p2=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),m2=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),tr={isBrowser:!0,classes:{URLSearchParams:f2,FormData:h2,Blob:d2},isStandardBrowserEnv:p2,isStandardBrowserWebWorkerEnv:m2,protocols:["http","https","file","blob","url","data"]};function g2(t,e){return wa(t,new tr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return tr.isNode&&K.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function y2(t){return K.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function b2(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function U0(t){function e(n,r,i,o){let s=n[o++];const l=Number.isFinite(+s),a=o>=n.length;return s=!s&&K.isArray(i)?i.length:s,a?(K.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!K.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&K.isArray(i[s])&&(i[s]=b2(i[s])),!l)}if(K.isFormData(t)&&K.isFunction(t.entries)){const n={};return K.forEachEntry(t,(r,i)=>{e(y2(r),i,n,0)}),n}return null}const v2={"Content-Type":void 0};function w2(t,e,n){if(K.isString(t))try{return(e||JSON.parse)(t),K.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xa={transitional:V0,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=K.isObject(e);if(o&&K.isHTMLForm(e)&&(e=new FormData(e)),K.isFormData(e))return i&&i?JSON.stringify(U0(e)):e;if(K.isArrayBuffer(e)||K.isBuffer(e)||K.isStream(e)||K.isFile(e)||K.isBlob(e))return e;if(K.isArrayBufferView(e))return e.buffer;if(K.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return g2(e,this.formSerializer).toString();if((l=K.isFileList(e))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return wa(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),w2(e)):e}],transformResponse:[function(e){const n=this.transitional||xa.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&K.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?Qe.from(l,Qe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tr.classes.FormData,Blob:tr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};K.forEach(["delete","get","head"],function(e){xa.headers[e]={}});K.forEach(["post","put","patch"],function(e){xa.headers[e]=K.merge(v2)});const eh=xa,x2=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_2=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&x2[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},lp=Symbol("internals");function Lo(t){return t&&String(t).trim().toLowerCase()}function fl(t){return t===!1||t==null?t:K.isArray(t)?t.map(fl):String(t)}function k2(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}function S2(t){return/^[-_a-zA-Z]+$/.test(t.trim())}function hc(t,e,n,r,i){if(K.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!K.isString(e)){if(K.isString(r))return e.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(e)}}function C2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function E2(t,e){const n=K.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class _a{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(l,a,c){const u=Lo(a);if(!u)throw new Error("header name must be a non-empty string");const f=K.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||a]=fl(l))}const s=(l,a)=>K.forEach(l,(c,u)=>o(c,u,a));return K.isPlainObject(e)||e instanceof this.constructor?s(e,n):K.isString(e)&&(e=e.trim())&&!S2(e)?s(_2(e),n):e!=null&&o(n,e,r),this}get(e,n){if(e=Lo(e),e){const r=K.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return k2(i);if(K.isFunction(n))return n.call(this,i,r);if(K.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Lo(e),e){const r=K.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||hc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Lo(s),s){const l=K.findKey(r,s);l&&(!n||hc(r,r[l],l,n))&&(delete r[l],i=!0)}}return K.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||hc(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return K.forEach(this,(i,o)=>{const s=K.findKey(r,o);if(s){n[s]=fl(i),delete n[o];return}const l=e?C2(o):String(o).trim();l!==o&&delete n[o],n[l]=fl(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return K.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&K.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[lp]=this[lp]={accessors:{}}).accessors,i=this.prototype;function o(s){const l=Lo(s);r[l]||(E2(i,s),r[l]=!0)}return K.isArray(e)?e.forEach(o):o(e),this}}_a.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.freezeMethods(_a.prototype);K.freezeMethods(_a);const br=_a;function dc(t,e){const n=this||eh,r=e||n,i=br.from(r.headers);let o=r.data;return K.forEach(t,function(l){o=l.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function z0(t){return!!(t&&t.__CANCEL__)}function Ss(t,e,n){Qe.call(this,t??"canceled",Qe.ERR_CANCELED,e,n),this.name="CanceledError"}K.inherits(Ss,Qe,{__CANCEL__:!0});function A2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Qe("Request failed with status code "+n.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const O2=tr.isStandardBrowserEnv?function(){return{write:function(n,r,i,o,s,l){const a=[];a.push(n+"="+encodeURIComponent(r)),K.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),K.isString(o)&&a.push("path="+o),K.isString(s)&&a.push("domain="+s),l===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function T2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function L2(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function q0(t,e){return t&&!T2(e)?L2(t,e):e}const R2=tr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const l=K.isString(s)?i(s):s;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function M2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function P2(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=r[o];s||(s=c),n[i]=a,r[i]=c;let f=o,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<e)return;const d=u&&c-u;return d?Math.round(h*1e3/d):void 0}}function ap(t,e){let n=0;const r=P2(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,l=o-n,a=r(l),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:a||void 0,estimated:a&&s&&c?(s-o)/a:void 0,event:i};u[e?"download":"upload"]=!0,t(u)}}const D2=typeof XMLHttpRequest<"u",I2=D2&&function(t){return new Promise(function(n,r){let i=t.data;const o=br.from(t.headers).normalize(),s=t.responseType;let l;function a(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}K.isFormData(i)&&(tr.isStandardBrowserEnv||tr.isStandardBrowserWebWorkerEnv)&&o.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(d+":"+p))}const u=q0(t.baseURL,t.url);c.open(t.method.toUpperCase(),H0(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function f(){if(!c)return;const d=br.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),b={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:t,request:c};A2(function(m){n(m),a()},function(m){r(m),a()},b),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new Qe("Request aborted",Qe.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Qe("Network Error",Qe.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||V0;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),r(new Qe(p,b.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,t,c)),c=null},tr.isStandardBrowserEnv){const d=(t.withCredentials||R2(u))&&t.xsrfCookieName&&O2.read(t.xsrfCookieName);d&&o.set(t.xsrfHeaderName,d)}i===void 0&&o.setContentType(null),"setRequestHeader"in c&&K.forEach(o.toJSON(),function(p,b){c.setRequestHeader(b,p)}),K.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",ap(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",ap(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=d=>{c&&(r(!d||d.type?new Ss(null,t,c):d),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const h=M2(u);if(h&&tr.protocols.indexOf(h)===-1){r(new Qe("Unsupported protocol "+h+":",Qe.ERR_BAD_REQUEST,t));return}c.send(i||null)})},hl={http:s2,xhr:I2};K.forEach(hl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $2={getAdapter:t=>{t=K.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=K.isString(n)?hl[n.toLowerCase()]:n));i++);if(!r)throw r===!1?new Qe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(K.hasOwnProp(hl,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!K.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:hl};function pc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ss(null,t)}function cp(t){return pc(t),t.headers=br.from(t.headers),t.data=dc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$2.getAdapter(t.adapter||eh.adapter)(t).then(function(r){return pc(t),r.data=dc.call(t,t.transformResponse,r),r.headers=br.from(r.headers),r},function(r){return z0(r)||(pc(t),r&&r.response&&(r.response.data=dc.call(t,t.transformResponse,r.response),r.response.headers=br.from(r.response.headers))),Promise.reject(r)})}const up=t=>t instanceof br?t.toJSON():t;function co(t,e){e=e||{};const n={};function r(c,u,f){return K.isPlainObject(c)&&K.isPlainObject(u)?K.merge.call({caseless:f},c,u):K.isPlainObject(u)?K.merge({},u):K.isArray(u)?u.slice():u}function i(c,u,f){if(K.isUndefined(u)){if(!K.isUndefined(c))return r(void 0,c,f)}else return r(c,u,f)}function o(c,u){if(!K.isUndefined(u))return r(void 0,u)}function s(c,u){if(K.isUndefined(u)){if(!K.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function l(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const a={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(c,u)=>i(up(c),up(u),!0)};return K.forEach(Object.keys(t).concat(Object.keys(e)),function(u){const f=a[u]||i,h=f(t[u],e[u],u);K.isUndefined(h)&&f!==l||(n[u]=h)}),n}const W0="1.3.4",th={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{th[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const fp={};th.transitional=function(e,n,r){function i(o,s){return"[Axios v"+W0+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,l)=>{if(e===!1)throw new Qe(i(s," has been removed"+(n?" in "+n:"")),Qe.ERR_DEPRECATED);return n&&!fp[s]&&(fp[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,l):!0}};function B2(t,e,n){if(typeof t!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const l=t[o],a=l===void 0||s(l,o,t);if(a!==!0)throw new Qe("option "+o+" must be "+a,Qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qe("Unknown option "+o,Qe.ERR_BAD_OPTION)}}const lu={assertOptions:B2,validators:th},Lr=lu.validators;class jl{constructor(e){this.defaults=e,this.interceptors={request:new sp,response:new sp}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=co(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&lu.assertOptions(r,{silentJSONParsing:Lr.transitional(Lr.boolean),forcedJSONParsing:Lr.transitional(Lr.boolean),clarifyTimeoutError:Lr.transitional(Lr.boolean)},!1),i!==void 0&&lu.assertOptions(i,{encode:Lr.function,serialize:Lr.function},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=o&&K.merge(o.common,o[n.method]),s&&K.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=br.concat(s,o);const l=[];let a=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(a=a&&b.synchronous,l.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,h;if(!a){const p=[cp.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,c),h=p.length,u=Promise.resolve(n);f<h;)u=u.then(p[f++],p[f++]);return u}h=l.length;let d=n;for(f=0;f<h;){const p=l[f++],b=l[f++];try{d=p(d)}catch(g){b.call(this,g);break}}try{u=cp.call(this,d)}catch(p){return Promise.reject(p)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=co(this.defaults,e);const n=q0(e.baseURL,e.url);return H0(n,e.params,e.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(e){jl.prototype[e]=function(n,r){return this.request(co(r||{},{method:e,url:n,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,l){return this.request(co(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}jl.prototype[e]=n(),jl.prototype[e+"Form"]=n(!0)});const dl=jl;class nh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(l=>{r.subscribe(l),o=l}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,l){r.reason||(r.reason=new Ss(o,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new nh(function(i){e=i}),cancel:e}}}const N2=nh;function j2(t){return function(n){return t.apply(null,n)}}function F2(t){return K.isObject(t)&&t.isAxiosError===!0}const au={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(au).forEach(([t,e])=>{au[e]=t});const H2=au;function K0(t){const e=new dl(t),n=O0(dl.prototype.request,e);return K.extend(n,dl.prototype,e,{allOwnKeys:!0}),K.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return K0(co(t,i))},n}const It=K0(eh);It.Axios=dl;It.CanceledError=Ss;It.CancelToken=N2;It.isCancel=z0;It.VERSION=W0;It.toFormData=wa;It.AxiosError=Qe;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=j2;It.isAxiosError=F2;It.mergeConfig=co;It.AxiosHeaders=br;It.formToJSON=t=>U0(K.isHTMLForm(t)?new FormData(t):t);It.HttpStatusCode=H2;It.default=It;const rh=It,Ot=rh.create({baseURL:"http://127.0.0.1:8080/api/",withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":"true"}});Ot.defaults.withCredentials=!0;const xi=pa("article",{state:()=>({articles:[]}),actions:{async fetchData(){try{const t=await Ot.get("/articles");return this.articles=t.data,!0}catch{return!1}},get(t){return this.articles.find(e=>e.id==t)},async create(t){for(const i in t)typeof t[i]=="string"&&(t[i]=t[i].replace(/\r/g,""));const e=new FormData;e.append("name",t.name),e.append("description",t.description),e.append("category_id",String(t.category_id)||"0");const n=`[{"id":"e_sTVYXqiN","type":"heading","data":{"text":"${t.name}","level":1}}]`;e.append("block_data",n),t.thumbnail.forEach(i=>{e.append("thumbnail-name",i.name),e.append("thumbnail",i.file)});const r=await Ot.post("/articles",e);return this.articles.push(r.data),r.data},async remove(t){await Ot.delete(`/articles/${t}`),this.articles=this.articles.filter(e=>e.id!=t)},async update(t,e){for(const r in e)typeof e[r]=="string"&&(e[r]=e[r].replace(/\r/g,""));let n=this.get(t);if(n){const r=new FormData;r.append("name",e.name),r.append("description",e.description),r.append("category_id",String(e.category_id));let i="";return e.thumbnail.forEach(o=>{i=o.name,r.append("thumbnail-name",o.name),r.append("thumbnail",o.file)}),await Ot.put(`/articles/${t}`,r),n.name=e.name,n.description=e.description,n.category_id=e.category_id||0,i&&(n.image_src=`uploads/img/${i}`),!0}return!1},async changeCategory(t,e){const n=this.get(t);if(n){const r=new FormData;r.append("category",String(e)),await Ot.put(`/articles/${t}`,r),n.category_id=e}},async publish(t){await new Promise(r=>setTimeout(r,300));const e=await Ot.get(`/publish?article=${t}`),n=new URL("http://127.0.0.1:8080/api/");window.open(n.origin+e.data,"_self")},async changeVisibility(t){const e=new FormData;let n=this.get(t).show;e.append("show",String(!n)),await Ot.put(`/articles/${t}`,e),this.get(t).show=!n}}}),V2=t=>(Zr("data-v-643e5969"),t=t(),ei(),t),U2={class:"article-preview"},z2={class:"article-card"},q2={class:"description"},W2={class:"date"},K2=V2(()=>Le("div",{class:"category-pill"},"category",-1)),J2={class:"thumbnail"},G2=["src"],Y2={class:"buttons-container"},X2=$t({__name:"ArticleThumbnail",props:{articleId:null},setup(t){const e=t,n=xi(),r=Gf(),i=Ze(!1),o=rt(()=>n.get(e.articleId)),s=["Jan","Feb","Mar","Apr","Jun","Jul","Aug","Sep","Oct","Nov","Dev"],l=rt(()=>{let f=new Date(o.value.updated_at);return`${s[f.getMonth()]} ${f.getDate()}`}),a=rt(()=>"http://127.0.0.1:8080/"+o.value.image_src);async function c(){if(window.confirm(`Are you sure you want to delete article "${o.value.name}"?`))try{await n.remove(o.value.id),r.push("/admin")}catch(f){console.log(f)}}async function u(){try{await n.publish(o.value.id)}catch{}finally{i.value=!0}}return(f,h)=>{const d=ar("FormKit"),p=ar("router-link");return Ke(),at("div",U2,[Le("div",z2,[Le("h1",null,kn(Be(o).name),1),Le("p",q2,kn(Be(o).description),1),Le("p",W2,kn(Be(l)),1),K2]),Le("div",J2,[Le("img",{alt:"thumbnail",src:Be(a)},null,8,G2)]),Le("div",Y2,[ke(d,{type:"button",onClick:u},{default:_t(()=>[an("Publish")]),_:1}),ke(p,{to:`/admin/edit/${Be(o).id}`},{default:_t(()=>[ke(d,{type:"button"},{default:_t(()=>[an("Edit")]),_:1})]),_:1},8,["to"]),ke(d,{"outer-class":"delete-btn",type:"button",onClick:c},{default:_t(()=>[an("Delete")]),_:1})])])}}});const hp=un(X2,[["__scopeId","data-v-643e5969"]]),mr=pa("category",{state:()=>({categories:[]}),actions:{async fetchData(){try{const t=await Ot.get("/categories");return this.categories=t.data,!0}catch{return!1}},get(t){return this.categories.find(e=>e.id==t)},async create(t){for(const r in t)typeof t[r]=="string"&&(t[r]=t[r].replace(/\r/g,""));const e=new FormData;e.append("name",t.name);const n=await Ot.post("/categories",e);return this.categories.push(n.data),n.data},async remove(t){await Ot.delete(`/categories/${t}`),this.categories=this.categories.filter(e=>e.id!=t)},async update(t,e){for(const r in e)typeof e[r]=="string"&&(e[r]=e[r].replace(/\r/g,""));const n=this.get(t);if(n){const r=new FormData;r.append("name",e.name),await Ot.put(`/categories/${t}`,r),n.name=e.name}}}}),J0=t=>(Zr("data-v-87925f79"),t=t(),ei(),t),Q2={class:"home-container"},Z2=J0(()=>Le("h1",null,"My Articles",-1)),eE={class:"utility-bar"},tE={class:"search"},nE={class:"categories-container"},rE={class:"category-name"},iE={class:"articles"},oE=J0(()=>Le("h1",{class:"category-name"},"Without category:",-1)),sE={class:"articles"},lE=$t({__name:"Home",setup(t){const e=xi(),n=mr(),r=Ze(""),i=rt(()=>r.value==""?e.articles:e.articles.filter(s=>s.name.toLowerCase().includes(r.value.toLowerCase())));function o(s){return i.value.filter(l=>l.category_id==s)}return(s,l)=>{const a=ar("router-link");return Ke(),at("div",Q2,[Z2,Le("div",eE,[ke(a,{to:"/admin/create"},{default:_t(()=>[ke(Be(Rn),{type:"button","prefix-icon":"add"},{default:_t(()=>[an("Create Article")]),_:1})]),_:1}),Le("div",tE,[ke(Be(Rn),{type:"search",placeholder:"Search ...","prefix-icon":"search",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=c=>r.value=c)},null,8,["modelValue"])]),ke(a,{to:"/admin/create-category",class:"add-category-btn"},{default:_t(()=>[ke(Be(Rn),{type:"button","prefix-icon":"add"},{default:_t(()=>[an("Add Category")]),_:1})]),_:1})]),Le("div",nE,[(Ke(!0),at(Lt,null,vi(Be(n).categories,c=>(Ke(),at(Lt,null,[Le("h1",rE,"Category: "+kn(c.name),1),Le("section",iE,[(Ke(!0),at(Lt,null,vi(o(c.id),u=>(Ke(),to(hp,{"article-id":u.id},null,8,["article-id"]))),256))])],64))),256)),oE,Le("section",sE,[(Ke(!0),at(Lt,null,vi(o(0),c=>(Ke(),to(hp,{"article-id":c.id},null,8,["article-id"]))),256))])])])}}});const aE=un(lE,[["__scopeId","data-v-87925f79"]]),cE=t=>(Zr("data-v-f9df9b8e"),t=t(),ei(),t),uE={class:"create-article"},fE=cE(()=>Le("h1",null,"Create Article",-1)),hE={key:0,class:"error"},dE=$t({__name:"CreateArticle",setup(t){const e=xi(),n=mr(),r=Gf(),i=Ze(""),o=Ze(!1),s=async a=>{i.value="";try{const c=await e.create(a);r.push(`/admin/edit/${c.id}`)}catch(c){i.value=c.response.data}finally{o.value=!0}},l=rt(()=>{let a=[];return n.categories.forEach(c=>{a.push({label:c.name,value:c.id})}),a});return(a,c)=>(Ke(),at("div",uE,[fE,ke(Be(Rn),{type:"form",style:{width:"25em"},onSubmit:s},{default:_t(()=>[ke(Be(Rn),{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Article Name"}),ke(Be(Rn),{type:"textarea",rows:"10",name:"description",id:"description",validation:"required",label:"Description",value:"Short article description..."}),ke(Be(Rn),{type:"file",accept:".png, .jpg, .jpeg","file-item-icon":"fileImage","no-files-icon":"fileImage",label:"Thumbnail",name:"thumbnail",help:"Add a thumnbnail image"}),ke(Be(Rn),{type:"select",label:"Article Category",name:"category_id",placeholder:"Select a category (not required)",options:Be(l)},null,8,["options"]),i.value?(Ke(),at("p",hE,kn(i.value),1)):ns("",!0)]),_:1})]))}});const pE=un(dE,[["__scopeId","data-v-f9df9b8e"]]),mE={};function gE(t,e){return Ke(),at("h1",null,"404")}const yE=un(mE,[["render",gE]]),Cs=pa("block",{state:()=>({blocks:[],names:["heading","paragraph","image","linkTool","quote","embed","table","code"],icons:["h1","text","img","link","quote","embed","table","code"]}),actions:{async fetchData(t){try{const e=await Ot.get(`/blocks?article=${t}`);this.blocks=e.data;for(let n=0;n<this.blocks.length;n++)this.blocks[n].data=JSON.parse(this.blocks[n].data);return!0}catch{return!1}},async save(t){const e=[];for(let r=0;r<this.blocks.length;r++)e.push(Object.assign({},this.blocks[r])),e[r].data=JSON.stringify(e[r].data);const n=JSON.stringify(e);await Ot.post(`/blocks?article=${t}`,n)},async removeImage(t){const e=new FormData;e.append("image",t.split("/").pop()||""),e.append("article",window.location.pathname.split("/").pop()),await Ot.post("delete-image",e)}}}),bE={class:"block-icon"},vE=["src"],wE={class:"block-name"},xE=$t({__name:"Block",props:{block:null,active:{type:Boolean}},setup(t){const e=t,n=Cs(),r=rt(()=>{if(e.block.type=="heading")return`/admin/svg/h${e.block.data.level}.svg`;let o=n.names.indexOf(e.block.type);return`/admin/svg/${n.icons[o]}.svg`}),i=rt(()=>{let o=vs(e.block.type);return o=="LinkTool"&&(o="Link"),o});return(o,s)=>(Ke(),at("div",{class:ea(["block",{active:t.active}])},[Le("div",bE,[Le("img",{class:"block-icon",src:Be(r)},null,8,vE)]),Le("p",wE,kn(Be(i)),1)],2))}});const _E=un(xE,[["__scopeId","data-v-c5291a7e"]]),kE={class:"block-container"},SE=$t({__name:"BlocksContainer",setup(t){const e=Cs(),n=Ze(0),r=rt(()=>e.blocks.slice(1));function i(){const s=document.querySelector(".ce-block--focused"),l=s.parentNode;n.value=Array.prototype.indexOf.call(l.children,s)}function o(s){const l=document.querySelectorAll(".ce-block"),a=document.querySelector(".ce-block--focused");a&&a.classList.remove("ce-block--focused"),l.item(s).classList.add("ce-block--focused"),document.querySelector(".document-container").scrollTo({behavior:"smooth",top:l.item(s).offsetTop}),n.value=s}return ua(()=>{document.getElementById("editor").addEventListener("click",i)}),Of(()=>{document.getElementById("editor").removeEventListener("click",i)}),(s,l)=>(Ke(),at("div",kE,[(Ke(!0),at(Lt,null,vi(Be(r),(a,c)=>(Ke(),to(_E,{block:a,active:n.value==c,onClick:u=>o(c)},null,8,["block","active","onClick"]))),256))]))}});const CE=un(SE,[["__scopeId","data-v-a2a11c47"]]);function Un(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cu={},EE={get exports(){return cu},set exports(t){cu=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=14)}([function(n,r,i){var o=i(5),s=i(6),l=i(7),a=i(9);n.exports=function(c,u){return o(c)||s(c,u)||l(c,u)||a()}},function(n,r){function i(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n.exports=i=function(s){return typeof s}:n.exports=i=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(o)}n.exports=i},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r){function i(o,s,l){var a,c,u,f,h;function d(){var b=Date.now()-f;b<s&&b>=0?a=setTimeout(d,s-b):(a=null,l||(h=o.apply(u,c),u=c=null))}s==null&&(s=100);var p=function(){u=this,c=arguments,f=Date.now();var b=l&&!a;return a||(a=setTimeout(d,s)),b&&(h=o.apply(u,c),u=c=null),h};return p.clear=function(){a&&(clearTimeout(a),a=null)},p.flush=function(){a&&(h=o.apply(u,c),u=c=null,clearTimeout(a),a=null)},p}i.debounce=i,n.exports=i},function(n,r){n.exports=function(i){if(Array.isArray(i))return i}},function(n,r){n.exports=function(i,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var s=[],l=!0,a=!1,c=void 0;try{for(var u,f=i[Symbol.iterator]();!(l=(u=f.next()).done)&&(s.push(u.value),!o||s.length!==o);l=!0);}catch(h){a=!0,c=h}finally{try{l||f.return==null||f.return()}finally{if(a)throw c}}return s}}},function(n,r,i){var o=i(8);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){var o=i(11),s=i(12);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}y[w]=v}return y[w]}}(),a=[];function c(y){for(var w=-1,v=0;v<a.length;v++)if(a[v].identifier===y){w=v;break}return w}function u(y,w){for(var v={},S=[],E=0;E<y.length;E++){var k=y[E],O=w.base?k[0]+w.base:k[0],R=v[O]||0,C="".concat(O," ").concat(R);v[O]=R+1;var _=c(C),L={css:k[1],media:k[2],sourceMap:k[3]};_!==-1?(a[_].references++,a[_].updater(L)):a.push({identifier:C,updater:x(L,w),references:1}),S.push(C)}return S}function f(y){var w=document.createElement("style"),v=y.attributes||{};if(v.nonce===void 0){var S=i.nc;S&&(v.nonce=S)}if(Object.keys(v).forEach(function(k){w.setAttribute(k,v[k])}),typeof y.insert=="function")y.insert(w);else{var E=l(y.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(w)}return w}var h,d=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function p(y,w,v,S){var E=v?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(y.styleSheet)y.styleSheet.cssText=d(w,E);else{var k=document.createTextNode(E),O=y.childNodes;O[w]&&y.removeChild(O[w]),O.length?y.insertBefore(k,O[w]):y.appendChild(k)}}function b(y,w,v){var S=v.css,E=v.media,k=v.sourceMap;if(E?y.setAttribute("media",E):y.removeAttribute("media"),k&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),y.styleSheet)y.styleSheet.cssText=S;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(S))}}var g=null,m=0;function x(y,w){var v,S,E;if(w.singleton){var k=m++;v=g||(g=f(w)),S=p.bind(null,v,k,!1),E=p.bind(null,v,k,!0)}else v=f(w),S=b.bind(null,v,w),E=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(v)};return S(y),function(O){if(O){if(O.css===y.css&&O.media===y.media&&O.sourceMap===y.sourceMap)return;S(y=O)}else E()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var v=u(y=y||[],w);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var E=0;E<v.length;E++){var k=c(v[E]);a[k].references--}for(var O=u(S,w),R=0;R<v.length;R++){var C=c(v[R]);a[C].references===0&&(a[C].updater(),a.splice(C,1))}v=O}}}},function(n,r,i){(r=i(13)(!1)).push([n.i,`.embed-tool--loading .embed-tool__caption {
      display: none;
    }

    .embed-tool--loading .embed-tool__preloader {
      display: block;
    }

    .embed-tool--loading .embed-tool__content {
      display: none;
    }
  .embed-tool__preloader {
    display: none;
    position: relative;
    height: 200px;
    box-sizing: border-box;
    border-radius: 5px;
    border: 1px solid #e6e9eb;
  }
  .embed-tool__preloader::before {
      content: '';
      position: absolute;
      z-index: 3;
      left: 50%;
      top: 50%;
      width: 30px;
      height: 30px;
      margin-top: -25px;
      margin-left: -15px;
      border-radius: 50%;
      border: 2px solid #cdd1e0;
      border-top-color: #388ae5;
      box-sizing: border-box;
      animation: embed-preloader-spin 2s infinite linear;
    }
  .embed-tool__url {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    max-width: 250px;
    color: #7b7e89;
    font-size: 11px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .embed-tool__content {
    width: 100%;
  }
  .embed-tool__caption {
    margin-top: 7px;
  }
  .embed-tool__caption[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {
         opacity: 1;
      }
  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {
        opacity: 0;
      }

@keyframes embed-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var d=(b=h,g=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(m," */")),p=h.sources.map(function(x){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(x," */")});return[f].concat(p).concat([d]).join(`
`)}var b,g,m;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var d=0;d<l.length;d++){var p=[].concat(l[d]);c&&u[p[0]]||(a&&(p[2]?p[2]="".concat(a," and ").concat(p[2]):p[2]=a),s.push(p))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return b});var o=i(1),s=i.n(o),l=i(0),a=i.n(l),c=i(2),u=i.n(c),f=i(3),h=i.n(f),d={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(g){var m=a()(g,2),x=m[0],y=m[1];if(!y&&x)return x;var w={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return y=y.slice(1).split("&").map(function(v){var S=v.split("="),E=a()(S,2),k=E[0],O=E[1];return x||k!=="v"?w[k]?O==="LL"||O.startsWith("RDMM")||O.startsWith("FL")?null:"".concat(w[k],"=").concat(O):null:(x=O,null)}).filter(function(v){return!!v}),x+"?"+y.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(g){return g.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(g){return g.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(g){return g.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(g){return g.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(g){return g[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(g){return g.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},p=(i(10),i(4)),b=function(){function g(m){var x=m.data,y=m.api,w=m.readOnly;u()(this,g),this.api=y,this._data={},this.element=null,this.readOnly=w,this.data=x}return h()(g,[{key:"render",value:function(){var m=this;if(!this.data.service){var x=document.createElement("div");return this.element=x,x}var y=g.services[this.data.service].html,w=document.createElement("div"),v=document.createElement("div"),S=document.createElement("template"),E=this.createPreloader();w.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),v.classList.add(this.CSS.input,this.CSS.caption),w.appendChild(E),v.contentEditable=!this.readOnly,v.dataset.placeholder=this.api.i18n.t("Enter a caption"),v.innerHTML=this.data.caption||"",S.innerHTML=y,S.content.firstChild.setAttribute("src",this.data.embed),S.content.firstChild.classList.add(this.CSS.content);var k=this.embedIsReady(w);return w.appendChild(S.content.firstChild),w.appendChild(v),k.then(function(){w.classList.remove(m.CSS.containerLoading)}),this.element=w,w}},{key:"createPreloader",value:function(){var m=document.createElement("preloader"),x=document.createElement("div");return x.textContent=this.data.source,m.classList.add(this.CSS.preloader),x.classList.add(this.CSS.url),m.appendChild(x),m}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(m){var x=m.detail,y=x.key,w=x.data,v=g.services[y],S=v.regex,E=v.embedUrl,k=v.width,O=v.height,R=v.id,C=R===void 0?function(M){return M.shift()}:R,_=S.exec(w).slice(1),L=E.replace(/<%= remote_id %>/g,C(_));this.data={service:y,source:w,embed:L,width:k,height:O}}},{key:"embedIsReady",value:function(m){var x=null;return new Promise(function(y,w){(x=new MutationObserver(Object(p.debounce)(y,450))).observe(m,{childList:!0,subtree:!0})}).then(function(){x.disconnect()})}},{key:"data",set:function(m){if(!(m instanceof Object))throw Error("Embed Tool data should be object");var x=m.service,y=m.source,w=m.embed,v=m.width,S=m.height,E=m.caption,k=E===void 0?"":E;this._data={service:x||this.data.service,source:y||this.data.source,embed:w||this.data.embed,width:v||this.data.width,height:S||this.data.height,caption:k||this.data.caption||""};var O=this.element;O&&O.parentNode.replaceChild(this.render(),O)},get:function(){if(this.element){var m=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=m?m.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(m){var x=m.config,y=(x===void 0?{}:x).services,w=y===void 0?{}:y,v=Object.entries(d),S=Object.entries(w).filter(function(k){var O=a()(k,2),R=(O[0],O[1]);return typeof R=="boolean"&&R===!0}).map(function(k){return a()(k,1)[0]}),E=Object.entries(w).filter(function(k){var O=a()(k,2),R=(O[0],O[1]);return s()(R)==="object"}).filter(function(k){var O=a()(k,2),R=(O[0],O[1]);return g.checkServiceConfig(R)}).map(function(k){var O=a()(k,2),R=O[0],C=O[1];return[R,{regex:C.regex,embedUrl:C.embedUrl,html:C.html,height:C.height,width:C.width,id:C.id}]});S.length&&(v=v.filter(function(k){var O=a()(k,1)[0];return S.includes(O)})),v=v.concat(E),g.services=v.reduce(function(k,O){var R=a()(O,2),C=R[0],_=R[1];return C in k?(k[C]=Object.assign({},k[C],_),k):(k[C]=_,k)},{}),g.patterns=v.reduce(function(k,O){var R=a()(O,2),C=R[0],_=R[1];return k[C]=_.regex,k},{})}},{key:"checkServiceConfig",value:function(m){var x=m.regex,y=m.embedUrl,w=m.html,v=m.height,S=m.width,E=m.id,k=x&&x instanceof RegExp&&y&&typeof y=="string"&&w&&typeof w=="string";return k=(k=(k=k&&(E===void 0||E instanceof Function))&&(v===void 0||Number.isFinite(v)))&&(S===void 0||Number.isFinite(S))}},{key:"pasteConfig",get:function(){return{patterns:g.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),g}()}]).default})})(EE);const AE=Un(cu);var uu={},OE={get exports(){return uu},set exports(t){uu=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=18)}([function(n,r,i){n.exports=i(11)},function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r,i){var o=i(7),s=i(8),l=i(9),a=i(10);n.exports=function(c){return o(c)||s(c)||l(c)||a()}},function(n,r){function i(o,s,l,a,c,u,f){try{var h=o[u](f),d=h.value}catch(p){return void l(p)}h.done?s(d):Promise.resolve(d).then(a,c)}n.exports=function(o){return function(){var s=this,l=arguments;return new Promise(function(a,c){var u=o.apply(s,l);function f(d){i(u,a,c,f,h,"next",d)}function h(d){i(u,a,c,f,h,"throw",d)}f(void 0)})}}},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r,i){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var c=s[a]={i:a,l:!1,exports:{}};return o[a].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=o,l.c=s,l.d=function(a,c,u){l.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},l.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,c){if(1&c&&(a=l(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(l.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)l.d(u,f,function(h){return a[h]}.bind(null,f));return u},l.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(c,"a",c),c},l.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},l.p="",l(l.s=3)}([function(o,s){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}o.exports=l},function(o,s,l){(function(a){var c=l(2),u=setTimeout;function f(){}function h(y){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],x(y,this)}function d(y,w){for(;y._state===3;)y=y._value;y._state!==0?(y._handled=!0,h._immediateFn(function(){var v=y._state===1?w.onFulfilled:w.onRejected;if(v!==null){var S;try{S=v(y._value)}catch(E){return void b(w.promise,E)}p(w.promise,S)}else(y._state===1?p:b)(w.promise,y._value)})):y._deferreds.push(w)}function p(y,w){try{if(w===y)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var v=w.then;if(w instanceof h)return y._state=3,y._value=w,void g(y);if(typeof v=="function")return void x((S=v,E=w,function(){S.apply(E,arguments)}),y)}y._state=1,y._value=w,g(y)}catch(k){b(y,k)}var S,E}function b(y,w){y._state=2,y._value=w,g(y)}function g(y){y._state===2&&y._deferreds.length===0&&h._immediateFn(function(){y._handled||h._unhandledRejectionFn(y._value)});for(var w=0,v=y._deferreds.length;w<v;w++)d(y,y._deferreds[w]);y._deferreds=null}function m(y,w,v){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof w=="function"?w:null,this.promise=v}function x(y,w){var v=!1;try{y(function(S){v||(v=!0,p(w,S))},function(S){v||(v=!0,b(w,S))})}catch(S){if(v)return;v=!0,b(w,S)}}h.prototype.catch=function(y){return this.then(null,y)},h.prototype.then=function(y,w){var v=new this.constructor(f);return d(this,new m(y,w,v)),v},h.prototype.finally=c.a,h.all=function(y){return new h(function(w,v){if(!y||y.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(y);if(S.length===0)return w([]);var E=S.length;function k(R,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var _=C.then;if(typeof _=="function")return void _.call(C,function(L){k(R,L)},v)}S[R]=C,--E==0&&w(S)}catch(L){v(L)}}for(var O=0;O<S.length;O++)k(O,S[O])})},h.resolve=function(y){return y&&typeof y=="object"&&y.constructor===h?y:new h(function(w){w(y)})},h.reject=function(y){return new h(function(w,v){v(y)})},h.race=function(y){return new h(function(w,v){for(var S=0,E=y.length;S<E;S++)y[S].then(w,v)})},h._immediateFn=typeof a=="function"&&function(y){a(y)}||function(y){u(y,0)},h._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},s.a=h}).call(this,l(5).setImmediate)},function(o,s,l){s.a=function(a){var c=this.constructor;return this.then(function(u){return c.resolve(a()).then(function(){return u})},function(u){return c.resolve(a()).then(function(){return c.reject(u)})})}},function(o,s,l){function a(m){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(m)}l(4);var c,u,f,h,d,p,b=l(8),g=(u=function(m){return new Promise(function(x,y){m=h(m),m=d(m);var w=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");w.open(m.method,m.url),w.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(m.headers).forEach(function(S){var E=m.headers[S];w.setRequestHeader(S,E)});var v=m.ratio;w.upload.addEventListener("progress",function(S){var E=Math.round(S.loaded/S.total*100),k=Math.ceil(E*v/100);m.progress(k)},!1),w.addEventListener("progress",function(S){var E=Math.round(S.loaded/S.total*100),k=Math.ceil(E*(100-v)/100)+v;m.progress(k)},!1),w.onreadystatechange=function(){if(w.readyState===4){var S=w.response;try{S=JSON.parse(S)}catch{}var E=b.parseHeaders(w.getAllResponseHeaders()),k={body:S,code:w.status,headers:E};w.status===200?x(k):y(k)}},w.send(m.data)})},f=function(m){return m.method="POST",u(m)},h=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(m.url&&typeof m.url!="string")throw new Error("Url must be a string");if(m.url=m.url||"",m.method&&typeof m.method!="string")throw new Error("`method` must be a string or null");if(m.method=m.method?m.method.toUpperCase():"GET",m.headers&&a(m.headers)!=="object")throw new Error("`headers` must be an object or null");if(m.headers=m.headers||{},m.type&&(typeof m.type!="string"||!Object.values(c).includes(m.type)))throw new Error("`type` must be taken from module's «contentType» library");if(m.progress&&typeof m.progress!="function")throw new Error("`progress` must be a function or null");if(m.progress=m.progress||function(x){},m.beforeSend=m.beforeSend||function(x){},m.ratio&&typeof m.ratio!="number")throw new Error("`ratio` must be a number");if(m.ratio<0||m.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(m.ratio=m.ratio||90,m.accept&&typeof m.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(m.accept=m.accept||"*/*",m.multiple&&typeof m.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(m.multiple=m.multiple||!1,m.fieldName&&typeof m.fieldName!="string")throw new Error("`fieldName` must be a string");return m.fieldName=m.fieldName||"files",m},d=function(m){switch(m.method){case"GET":var x=p(m.data,c.URLENCODED);delete m.data,m.url=/\?/.test(m.url)?m.url+"&"+x:m.url+"?"+x;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var y=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(m);(b.isFormData(m.data)||b.isFormElement(m.data))&&(y=c.FORM),m.data=p(m.data,y),y!==g.contentType.FORM&&(m.headers["content-type"]=y)}return m},p=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return b.urlEncode(m);case c.JSON:return b.jsonEncode(m);case c.FORM:return b.formEncode(m);default:return m}},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(m){return m.method="GET",u(m)},post:f,transport:function(m){return m=h(m),b.selectFiles(m).then(function(x){for(var y=new FormData,w=0;w<x.length;w++)y.append(m.fieldName,x[w],x[w].name);return b.isObject(m.data)&&Object.keys(m.data).forEach(function(v){var S=m.data[v];y.append(v,S)}),m.beforeSend&&m.beforeSend(x),m.data=y,f(m)})},selectFiles:function(m){return delete(m=h(m)).beforeSend,b.selectFiles(m)}});o.exports=g},function(o,s,l){l.r(s);var a=l(1);window.Promise=window.Promise||a.a},function(o,s,l){(function(a){var c=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function f(h,d){this._id=h,this._clearFn=d}s.setTimeout=function(){return new f(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h&&h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(h,d){clearTimeout(h._idleTimeoutId),h._idleTimeout=d},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var d=h._idleTimeout;d>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},d))},l(6),s.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(o,s,l){(function(a,c){(function(u,f){if(!u.setImmediate){var h,d,p,b,g,m=1,x={},y=!1,w=u.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(u);v=v&&v.setTimeout?v:u,{}.toString.call(u.process)==="[object process]"?h=function(k){c.nextTick(function(){E(k)})}:function(){if(u.postMessage&&!u.importScripts){var k=!0,O=u.onmessage;return u.onmessage=function(){k=!1},u.postMessage("","*"),u.onmessage=O,k}}()?(b="setImmediate$"+Math.random()+"$",g=function(k){k.source===u&&typeof k.data=="string"&&k.data.indexOf(b)===0&&E(+k.data.slice(b.length))},u.addEventListener?u.addEventListener("message",g,!1):u.attachEvent("onmessage",g),h=function(k){u.postMessage(b+k,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(k){E(k.data)},h=function(k){p.port2.postMessage(k)}):w&&"onreadystatechange"in w.createElement("script")?(d=w.documentElement,h=function(k){var O=w.createElement("script");O.onreadystatechange=function(){E(k),O.onreadystatechange=null,d.removeChild(O),O=null},d.appendChild(O)}):h=function(k){setTimeout(E,0,k)},v.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var O=new Array(arguments.length-1),R=0;R<O.length;R++)O[R]=arguments[R+1];var C={callback:k,args:O};return x[m]=C,h(m),m++},v.clearImmediate=S}function S(k){delete x[k]}function E(k){if(y)setTimeout(E,0,k);else{var O=x[k];if(O){y=!0;try{(function(R){var C=R.callback,_=R.args;switch(_.length){case 0:C();break;case 1:C(_[0]);break;case 2:C(_[0],_[1]);break;case 3:C(_[0],_[1],_[2]);break;default:C.apply(void 0,_)}})(O)}finally{S(k),y=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,l(0),l(7))},function(o,s){var l,a,c=o.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function h(v){if(l===setTimeout)return setTimeout(v,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout(v,0);try{return l(v,0)}catch{try{return l.call(null,v,0)}catch{return l.call(this,v,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:u}catch{l=u}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var d,p=[],b=!1,g=-1;function m(){b&&d&&(b=!1,d.length?p=d.concat(p):g=-1,p.length&&x())}function x(){if(!b){var v=h(m);b=!0;for(var S=p.length;S;){for(d=p,p=[];++g<S;)d&&d[g].run();g=-1,S=p.length}d=null,b=!1,function(E){if(a===clearTimeout)return clearTimeout(E);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(E);try{a(E)}catch{try{return a.call(null,E)}catch{return a.call(this,E)}}}(v)}}function y(v,S){this.fun=v,this.array=S}function w(){}c.nextTick=function(v){var S=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)S[E-1]=arguments[E];p.push(new y(v,S)),p.length!==1||b||h(x)},y.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(v){return[]},c.binding=function(v){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(v){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(o,s,l){function a(u,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var c=l(9);o.exports=function(){function u(){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}var f,h;return f=u,(h=[{key:"urlEncode",value:function(d){return c(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var p=new FormData;return Object.keys(d).forEach(function(b){var g=d[b];p.append(b,g)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,b){var g=document.createElement("INPUT");g.type="file",d.multiple&&g.setAttribute("multiple","multiple"),d.accept&&g.setAttribute("accept",d.accept),g.style.display="none",document.body.appendChild(g),g.addEventListener("change",function(m){var x=m.target.files;p(x),document.body.removeChild(g)},!1),g.click()})}},{key:"parseHeaders",value:function(d){var p=d.trim().split(/[\r\n]+/),b={};return p.forEach(function(g){var m=g.split(": "),x=m.shift(),y=m.join(": ");x&&(b[x]=y)}),b}}])&&a(f,h),u}()},function(o,s){var l=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(c,u,f,h){return u=u||null,f=f||"&",h=h||null,c?function(d){for(var p=new Array,b=0;b<d.length;b++)d[b]&&p.push(d[b]);return p}(Object.keys(c).map(function(d){var p,b,g=d;if(h&&(g=h+"["+g+"]"),typeof c[d]=="object"&&c[d]!==null)p=a(c[d],null,f,g);else{u&&(b=g,g=!isNaN(parseFloat(b))&&isFinite(b)?u+Number(g):g);var m=c[d];m=(m=(m=(m=m===!0?"1":m)===!1?"0":m)===0?"0":m)||"",p=l(g)+"="+l(m)}return p})).join(f).replace(/[!'()*]/g,""):""};o.exports=a}])},function(n,r,i){var o=i(2);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,r){n.exports=function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}},function(n,r,i){var o=i(2);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(s):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){var o=function(s){var l=Object.prototype,a=l.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function d(A,T,P,D){var $=T&&T.prototype instanceof g?T:g,G=Object.create($.prototype),ne=new _(D||[]);return G._invoke=function(ae,Re,he){var U="suspendedStart";return function(X,Q){if(U==="executing")throw new Error("Generator is already running");if(U==="completed"){if(X==="throw")throw Q;return M()}for(he.method=X,he.arg=Q;;){var ce=he.delegate;if(ce){var we=O(ce,he);if(we){if(we===b)continue;return we}}if(he.method==="next")he.sent=he._sent=he.arg;else if(he.method==="throw"){if(U==="suspendedStart")throw U="completed",he.arg;he.dispatchException(he.arg)}else he.method==="return"&&he.abrupt("return",he.arg);U="executing";var Ee=p(ae,Re,he);if(Ee.type==="normal"){if(U=he.done?"completed":"suspendedYield",Ee.arg===b)continue;return{value:Ee.arg,done:he.done}}Ee.type==="throw"&&(U="completed",he.method="throw",he.arg=Ee.arg)}}}(A,P,ne),G}function p(A,T,P){try{return{type:"normal",arg:A.call(T,P)}}catch(D){return{type:"throw",arg:D}}}s.wrap=d;var b={};function g(){}function m(){}function x(){}var y={};y[u]=function(){return this};var w=Object.getPrototypeOf,v=w&&w(w(L([])));v&&v!==l&&a.call(v,u)&&(y=v);var S=x.prototype=g.prototype=Object.create(y);function E(A){["next","throw","return"].forEach(function(T){A[T]=function(P){return this._invoke(T,P)}})}function k(A,T){var P;this._invoke=function(D,$){function G(){return new T(function(ne,ae){(function Re(he,U,X,Q){var ce=p(A[he],A,U);if(ce.type!=="throw"){var we=ce.arg,Ee=we.value;return Ee&&typeof Ee=="object"&&a.call(Ee,"__await")?T.resolve(Ee.__await).then(function(de){Re("next",de,X,Q)},function(de){Re("throw",de,X,Q)}):T.resolve(Ee).then(function(de){we.value=de,X(we)},function(de){return Re("throw",de,X,Q)})}Q(ce.arg)})(D,$,ne,ae)})}return P=P?P.then(G,G):G()}}function O(A,T){var P=A.iterator[T.method];if(P===void 0){if(T.delegate=null,T.method==="throw"){if(A.iterator.return&&(T.method="return",T.arg=void 0,O(A,T),T.method==="throw"))return b;T.method="throw",T.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var D=p(P,A.iterator,T.arg);if(D.type==="throw")return T.method="throw",T.arg=D.arg,T.delegate=null,b;var $=D.arg;return $?$.done?(T[A.resultName]=$.value,T.next=A.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,b):$:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,b)}function R(A){var T={tryLoc:A[0]};1 in A&&(T.catchLoc=A[1]),2 in A&&(T.finallyLoc=A[2],T.afterLoc=A[3]),this.tryEntries.push(T)}function C(A){var T=A.completion||{};T.type="normal",delete T.arg,A.completion=T}function _(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(R,this),this.reset(!0)}function L(A){if(A){var T=A[u];if(T)return T.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var P=-1,D=function $(){for(;++P<A.length;)if(a.call(A,P))return $.value=A[P],$.done=!1,$;return $.value=void 0,$.done=!0,$};return D.next=D}}return{next:M}}function M(){return{value:void 0,done:!0}}return m.prototype=S.constructor=x,x.constructor=m,x[h]=m.displayName="GeneratorFunction",s.isGeneratorFunction=function(A){var T=typeof A=="function"&&A.constructor;return!!T&&(T===m||(T.displayName||T.name)==="GeneratorFunction")},s.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,x):(A.__proto__=x,h in A||(A[h]="GeneratorFunction")),A.prototype=Object.create(S),A},s.awrap=function(A){return{__await:A}},E(k.prototype),k.prototype[f]=function(){return this},s.AsyncIterator=k,s.async=function(A,T,P,D,$){$===void 0&&($=Promise);var G=new k(d(A,T,P,D),$);return s.isGeneratorFunction(T)?G:G.next().then(function(ne){return ne.done?ne.value:G.next()})},E(S),S[h]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},s.keys=function(A){var T=[];for(var P in A)T.push(P);return T.reverse(),function D(){for(;T.length;){var $=T.pop();if($ in A)return D.value=$,D.done=!1,D}return D.done=!0,D}},s.values=L,_.prototype={constructor:_,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!A)for(var T in this)T.charAt(0)==="t"&&a.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var T=this;function P(Re,he){return G.type="throw",G.arg=A,T.next=Re,he&&(T.method="next",T.arg=void 0),!!he}for(var D=this.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D],G=$.completion;if($.tryLoc==="root")return P("end");if($.tryLoc<=this.prev){var ne=a.call($,"catchLoc"),ae=a.call($,"finallyLoc");if(ne&&ae){if(this.prev<$.catchLoc)return P($.catchLoc,!0);if(this.prev<$.finallyLoc)return P($.finallyLoc)}else if(ne){if(this.prev<$.catchLoc)return P($.catchLoc,!0)}else{if(!ae)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return P($.finallyLoc)}}}},abrupt:function(A,T){for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var $=D;break}}$&&(A==="break"||A==="continue")&&$.tryLoc<=T&&T<=$.finallyLoc&&($=null);var G=$?$.completion:{};return G.type=A,G.arg=T,$?(this.method="next",this.next=$.finallyLoc,b):this.complete(G)},complete:function(A,T){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&T&&(this.next=T),b},finish:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T];if(P.finallyLoc===A)return this.complete(P.completion,P.afterLoc),C(P),b}},catch:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T];if(P.tryLoc===A){var D=P.completion;if(D.type==="throw"){var $=D.arg;C(P)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(A,T,P){return this.delegate={iterator:L(A),resultName:T,nextLoc:P},this.method==="next"&&(this.arg=void 0),b}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,r,i){var o=i(13),s=i(14);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}y[w]=v}return y[w]}}(),a=[];function c(y){for(var w=-1,v=0;v<a.length;v++)if(a[v].identifier===y){w=v;break}return w}function u(y,w){for(var v={},S=[],E=0;E<y.length;E++){var k=y[E],O=w.base?k[0]+w.base:k[0],R=v[O]||0,C="".concat(O," ").concat(R);v[O]=R+1;var _=c(C),L={css:k[1],media:k[2],sourceMap:k[3]};_!==-1?(a[_].references++,a[_].updater(L)):a.push({identifier:C,updater:x(L,w),references:1}),S.push(C)}return S}function f(y){var w=document.createElement("style"),v=y.attributes||{};if(v.nonce===void 0){var S=i.nc;S&&(v.nonce=S)}if(Object.keys(v).forEach(function(k){w.setAttribute(k,v[k])}),typeof y.insert=="function")y.insert(w);else{var E=l(y.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(w)}return w}var h,d=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function p(y,w,v,S){var E=v?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(y.styleSheet)y.styleSheet.cssText=d(w,E);else{var k=document.createTextNode(E),O=y.childNodes;O[w]&&y.removeChild(O[w]),O.length?y.insertBefore(k,O[w]):y.appendChild(k)}}function b(y,w,v){var S=v.css,E=v.media,k=v.sourceMap;if(E?y.setAttribute("media",E):y.removeAttribute("media"),k&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),y.styleSheet)y.styleSheet.cssText=S;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(S))}}var g=null,m=0;function x(y,w){var v,S,E;if(w.singleton){var k=m++;v=g||(g=f(w)),S=p.bind(null,v,k,!1),E=p.bind(null,v,k,!0)}else v=f(w),S=b.bind(null,v,w),E=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(v)};return S(y),function(O){if(O){if(O.css===y.css&&O.media===y.media&&O.sourceMap===y.sourceMap)return;S(y=O)}else E()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var v=u(y=y||[],w);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var E=0;E<v.length;E++){var k=c(v[E]);a[k].references--}for(var O=u(S,w),R=0;R<v.length;R++){var C=c(v[R]);a[C].references===0&&(a[C].updater(),a.splice(C,1))}v=O}}}},function(n,r,i){(r=i(15)(!1)).push([n.i,`.link-tool {
  position: relative;
}

  .link-tool__input {
    padding-left: 38px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='%23707684' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .link-tool__input-holder {
      position: relative;
    }

  .link-tool__input-holder--error .link-tool__input {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='none'%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m7.7 12.6-.021.02a2.795 2.795 0 0 0-.044 4.005v0a2.795 2.795 0 0 0 3.936.006l1.455-1.438a3 3 0 0 0 .34-3.866l-.146-.207'/%3E%3Cpath stroke='rgb(224, 147, 147)' stroke-linecap='round' stroke-width='2' d='m16.22 11.12.136-.14c.933-.954.992-2.46.135-3.483v0a2.597 2.597 0 0 0-3.664-.32L11.39 8.386a3 3 0 0 0-.301 4.3l.031.034'/%3E%3C/svg%3E");
          background-color: #fff3f6;
          border-color: #f3e0e0;
          color: #a95a5a;
          box-shadow: inset 0 1px 3px 0 rgba(146, 62, 62, .05);
        }

  .link-tool__input[contentEditable=true][data-placeholder]::before{
      position: absolute;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      opacity: 0;
    }

  .link-tool__input[contentEditable=true][data-placeholder]:empty::before {
        opacity: 1;
      }

  .link-tool__input[contentEditable=true][data-placeholder]:empty:focus::before {
         opacity: 0;
       }

  .link-tool__progress {
    position: absolute;
    box-shadow: inset 0 1px 3px 0 rgba(102, 85, 107, 0.04);
    height: 100%;
    width: 0;
    background-color: #f4f5f7;
    z-index: -1;
  }

  .link-tool__progress--loading {
      -webkit-animation: progress 500ms ease-in;
      -webkit-animation-fill-mode: forwards;
    }

  .link-tool__progress--loaded {
      width: 100%;
    }

  .link-tool__content {
    display: block;
    padding: 25px;
    border-radius: 2px;
    box-shadow: 0 0 0 2px #fff;
    color: initial !important;
    text-decoration: none !important;
  }

  .link-tool__content::after {
      content: "";
      clear: both;
      display: table;
    }

  .link-tool__content--rendered {
      background: #fff;
      border: 1px solid rgba(201, 201, 204, 0.48);
      box-shadow: 0 1px 3px rgba(0,0,0, .1);
      border-radius: 6px;
      will-change: filter;
      animation: link-in 450ms 1 cubic-bezier(0.215, 0.61, 0.355, 1);
    }

  .link-tool__content--rendered:hover {
        box-shadow: 0 0 3px rgba(0,0,0, .16);
      }

  .link-tool__image {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
    margin: 0 0 0 30px;
    width: 65px;
    height: 65px;
    border-radius: 3px;
    float: right;
  }

  .link-tool__title {
    font-size: 17px;
    font-weight: 600;
    line-height: 1.5em;
    margin: 0 0 10px 0;
  }

  .link-tool__title + .link-tool__anchor {
      margin-top: 25px;
    }

  .link-tool__description {
    margin: 0 0 20px 0;
    font-size: 15px;
    line-height: 1.55em;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .link-tool__anchor {
    display: block;
    font-size: 15px;
    line-height: 1em;
    color: #888 !important;
    border: 0 !important;
    padding: 0 !important;
  }

@keyframes link-in {
  from {
    filter: blur(5px);
  }

  to {
    filter: none;
  }
}

.codex-editor--narrow .link-tool__image {
  display: none;
}

@-webkit-keyframes progress {
  0% {
    width: 0;
  }
  100% {
    width: 85%;
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var d=(b=h,g=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(m," */")),p=h.sources.map(function(x){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(x," */")});return[f].concat(p).concat([d]).join(`
`)}var b,g,m;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var d=0;d<l.length;d++){var p=[].concat(l[d]);c&&u[p[0]]||(a&&(p[2]?p[2]="".concat(a," and ").concat(p[2]):p[2]=a),s.push(p))}},s}},function(n,r,i){(function(o){(function(s){var l=function(){try{return!!Symbol.iterator}catch{return!1}}(),a=function(h){var d={next:function(){var p=h.shift();return{done:p===void 0,value:p}}};return l&&(d[Symbol.iterator]=function(){return d}),d},c=function(h){return encodeURIComponent(h).replace(/%20/g,"+")},u=function(h){return decodeURIComponent(String(h).replace(/\+/g," "))};(function(){try{var h=s.URLSearchParams;return new h("?a=1").toString()==="a=1"&&typeof h.prototype.set=="function"}catch{return!1}})()||function(){var h=function(p){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var b=typeof p;if(b!=="undefined")if(b==="string")p!==""&&this._fromString(p);else if(p instanceof h){var g=this;p.forEach(function(w,v){g.append(v,w)})}else{if(p===null||b!=="object")throw new TypeError("Unsupported input's type for URLSearchParams");if(Object.prototype.toString.call(p)==="[object Array]")for(var m=0;m<p.length;m++){var x=p[m];if(Object.prototype.toString.call(x)!=="[object Array]"&&x.length===2)throw new TypeError("Expected [string, any] as entry at index "+m+" of URLSearchParams's input");this.append(x[0],x[1])}else for(var y in p)p.hasOwnProperty(y)&&this.append(y,p[y])}},d=h.prototype;d.append=function(p,b){p in this._entries?this._entries[p].push(String(b)):this._entries[p]=[String(b)]},d.delete=function(p){delete this._entries[p]},d.get=function(p){return p in this._entries?this._entries[p][0]:null},d.getAll=function(p){return p in this._entries?this._entries[p].slice(0):[]},d.has=function(p){return p in this._entries},d.set=function(p,b){this._entries[p]=[String(b)]},d.forEach=function(p,b){var g;for(var m in this._entries)if(this._entries.hasOwnProperty(m)){g=this._entries[m];for(var x=0;x<g.length;x++)p.call(b,g[x],m,this)}},d.keys=function(){var p=[];return this.forEach(function(b,g){p.push(g)}),a(p)},d.values=function(){var p=[];return this.forEach(function(b){p.push(b)}),a(p)},d.entries=function(){var p=[];return this.forEach(function(b,g){p.push([g,b])}),a(p)},l&&(d[Symbol.iterator]=d.entries),d.toString=function(){var p=[];return this.forEach(function(b,g){p.push(c(g)+"="+c(b))}),p.join("&")},s.URLSearchParams=h}();var f=s.URLSearchParams.prototype;typeof f.sort!="function"&&(f.sort=function(){var h=this,d=[];this.forEach(function(b,g){d.push([g,b]),h._entries||h.delete(g)}),d.sort(function(b,g){return b[0]<g[0]?-1:b[0]>g[0]?1:0}),h._entries&&(h._entries={});for(var p=0;p<d.length;p++)this.append(d[p][0],d[p][1])}),typeof f._fromString!="function"&&Object.defineProperty(f,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(h){if(this._entries)this._entries={};else{var d=[];this.forEach(function(m,x){d.push(x)});for(var p=0;p<d.length;p++)this.delete(d[p])}var b,g=(h=h.replace(/^\?/,"")).split("&");for(p=0;p<g.length;p++)b=g[p].split("="),this.append(u(b[0]),b.length>1?u(b[1]):"")}})})(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:this),function(s){if(function(){try{var a=new s.URL("b","http://a");return a.pathname="c d",a.href==="http://a/c%20d"&&a.searchParams}catch{return!1}}()||function(){var a=s.URL,c=function(f,h){typeof f!="string"&&(f=String(f));var d,p=document;if(h&&(s.location===void 0||h!==s.location.href)){(d=(p=document.implementation.createHTMLDocument("")).createElement("base")).href=h,p.head.appendChild(d);try{if(d.href.indexOf(h)!==0)throw new Error(d.href)}catch(S){throw new Error("URL unable to set base "+h+" due to "+S)}}var b=p.createElement("a");b.href=f,d&&(p.body.appendChild(b),b.href=b.href);var g=p.createElement("input");if(g.type="url",g.value=f,b.protocol===":"||!/:/.test(b.href)||!g.checkValidity()&&!h)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:b});var m=new s.URLSearchParams(this.search),x=!0,y=!0,w=this;["append","delete","set"].forEach(function(S){var E=m[S];m[S]=function(){E.apply(m,arguments),x&&(y=!1,w.search=m.toString(),y=!0)}}),Object.defineProperty(this,"searchParams",{value:m,enumerable:!0});var v=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==v&&(v=this.search,y&&(x=!1,this.searchParams._fromString(this.search),x=!0))}})},u=c.prototype;["hash","host","hostname","port","protocol"].forEach(function(f){(function(h){Object.defineProperty(u,h,{get:function(){return this._anchorElement[h]},set:function(d){this._anchorElement[h]=d},enumerable:!0})})(f)}),Object.defineProperty(u,"search",{get:function(){return this._anchorElement.search},set:function(f){this._anchorElement.search=f,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(u,{toString:{get:function(){var f=this;return function(){return f.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(f){this._anchorElement.href=f,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(f){this._anchorElement.pathname=f},enumerable:!0},origin:{get:function(){var f={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],h=this._anchorElement.port!=f&&this._anchorElement.port!=="";return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(h?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(f){},enumerable:!0},username:{get:function(){return""},set:function(f){},enumerable:!0}}),c.createObjectURL=function(f){return a.createObjectURL.apply(a,arguments)},c.revokeObjectURL=function(f){return a.revokeObjectURL.apply(a,arguments)},s.URL=c}(),s.location!==void 0&&!("origin"in s.location)){var l=function(){return s.location.protocol+"//"+s.location.hostname+(s.location.port?":"+s.location.port:"")};try{Object.defineProperty(s.location,"origin",{get:l,enumerable:!0})}catch{setInterval(function(){s.location.origin=l()},100)}}}(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:this)}).call(this,i(17))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){i.r(r),i.d(r,"default",function(){return m});var o=i(3),s=i.n(o),l=i(0),a=i.n(l),c=i(4),u=i.n(c),f=i(5),h=i.n(f),d=i(1),p=i.n(d),b=(i(12),i(16),i(6)),g=i.n(b),m=function(){function x(w){var v=w.data,S=w.config,E=w.api,k=w.readOnly;h()(this,x),this.api=E,this.readOnly=k,this.config={endpoint:S.endpoint||"",headers:S.headers||{}},this.nodes={wrapper:null,container:null,progress:null,input:null,inputHolder:null,linkContent:null,linkImage:null,linkTitle:null,linkDescription:null,linkText:null},this._data={link:"",meta:{}},this.data=v}var y;return p()(x,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.569 6.39509 13.9269 6.25143 12.8271 7.17675L11.39 8.38588C10.0935 9.47674 9.95704 11.4241 11.0887 12.6852L11.12 12.72"/></svg>',title:"Link"}}},{key:"enableLineBreaks",get:function(){return!0}}]),p()(x,[{key:"render",value:function(){return this.nodes.wrapper=this.make("div",this.CSS.baseClass),this.nodes.container=this.make("div",this.CSS.container),this.nodes.inputHolder=this.makeInputHolder(),this.nodes.linkContent=this.prepareLinkPreview(),Object.keys(this.data.meta).length?(this.nodes.container.appendChild(this.nodes.linkContent),this.showLinkPreview(this.data.meta)):this.nodes.container.appendChild(this.nodes.inputHolder),this.nodes.wrapper.appendChild(this.nodes.container),this.nodes.wrapper}},{key:"save",value:function(){return this.data}},{key:"validate",value:function(){return this.data.link.trim()!==""}},{key:"makeInputHolder",value:function(){var w=this,v=this.make("div",this.CSS.inputHolder);return this.nodes.progress=this.make("label",this.CSS.progress),this.nodes.input=this.make("div",[this.CSS.input,this.CSS.inputEl],{contentEditable:!this.readOnly}),this.nodes.input.dataset.placeholder=this.api.i18n.t("Link"),this.readOnly||(this.nodes.input.addEventListener("paste",function(S){w.startFetching(S)}),this.nodes.input.addEventListener("keydown",function(S){var E=S.ctrlKey||S.metaKey;switch(S.keyCode){case 13:S.preventDefault(),S.stopPropagation(),w.startFetching(S);break;case 65:E&&w.selectLinkUrl(S)}})),v.appendChild(this.nodes.progress),v.appendChild(this.nodes.input),v}},{key:"startFetching",value:function(w){var v=this.nodes.input.textContent;w.type==="paste"&&(v=(w.clipboardData||window.clipboardData).getData("text")),this.removeErrorStyle(),this.fetchLinkData(v)}},{key:"removeErrorStyle",value:function(){this.nodes.inputHolder.classList.remove(this.CSS.inputError),this.nodes.inputHolder.insertBefore(this.nodes.progress,this.nodes.input)}},{key:"selectLinkUrl",value:function(w){w.preventDefault(),w.stopPropagation();var v=window.getSelection(),S=new Range,E=v.anchorNode.parentNode.closest(".".concat(this.CSS.inputHolder)).querySelector(".".concat(this.CSS.inputEl));S.selectNodeContents(E),v.removeAllRanges(),v.addRange(S)}},{key:"prepareLinkPreview",value:function(){var w=this.make("a",this.CSS.linkContent,{target:"_blank",rel:"nofollow noindex noreferrer"});return this.nodes.linkImage=this.make("div",this.CSS.linkImage),this.nodes.linkTitle=this.make("div",this.CSS.linkTitle),this.nodes.linkDescription=this.make("p",this.CSS.linkDescription),this.nodes.linkText=this.make("span",this.CSS.linkText),w}},{key:"showLinkPreview",value:function(w){var v=w.image,S=w.title,E=w.description;this.nodes.container.appendChild(this.nodes.linkContent),v&&v.url&&(this.nodes.linkImage.style.backgroundImage="url("+v.url+")",this.nodes.linkContent.appendChild(this.nodes.linkImage)),S&&(this.nodes.linkTitle.textContent=S,this.nodes.linkContent.appendChild(this.nodes.linkTitle)),E&&(this.nodes.linkDescription.textContent=E,this.nodes.linkContent.appendChild(this.nodes.linkDescription)),this.nodes.linkContent.classList.add(this.CSS.linkContentRendered),this.nodes.linkContent.setAttribute("href",this.data.link),this.nodes.linkContent.appendChild(this.nodes.linkText);try{this.nodes.linkText.textContent=new URL(this.data.link).hostname}catch{this.nodes.linkText.textContent=this.data.link}}},{key:"showProgress",value:function(){this.nodes.progress.classList.add(this.CSS.progressLoading)}},{key:"hideProgress",value:function(){var w=this;return new Promise(function(v){w.nodes.progress.classList.remove(w.CSS.progressLoading),w.nodes.progress.classList.add(w.CSS.progressLoaded),setTimeout(v,500)})}},{key:"applyErrorStyle",value:function(){this.nodes.inputHolder.classList.add(this.CSS.inputError),this.nodes.progress.remove()}},{key:"fetchLinkData",value:(y=u()(a.a.mark(function w(v){var S,E;return a.a.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this.showProgress(),this.data={link:v},k.prev=2,k.next=5,g.a.get({url:this.config.endpoint,headers:this.config.headers,data:{url:v}});case 5:S=k.sent,E=S.body,this.onFetch(E),k.next=13;break;case 10:k.prev=10,k.t0=k.catch(2),this.fetchingFailed(this.api.i18n.t("Couldn't fetch the link data"));case 13:case"end":return k.stop()}},w,this,[[2,10]])})),function(w){return y.apply(this,arguments)})},{key:"onFetch",value:function(w){var v=this;if(w&&w.success){var S=w.meta,E=w.link||this.data.link;this.data={meta:S,link:E},S?this.hideProgress().then(function(){v.nodes.inputHolder.remove(),v.showLinkPreview(S)}):this.fetchingFailed(this.api.i18n.t("Wrong response format from the server"))}else this.fetchingFailed(this.api.i18n.t("Couldn't get this link data, try the other one"))}},{key:"fetchingFailed",value:function(w){this.api.notifier.show({message:w,style:"error"}),this.applyErrorStyle()}},{key:"make",value:function(w){var v,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},k=document.createElement(w);Array.isArray(S)?(v=k.classList).add.apply(v,s()(S)):S&&k.classList.add(S);for(var O in E)k[O]=E[O];return k}},{key:"data",set:function(w){this._data=Object.assign({},{link:w.link||this._data.link,meta:w.meta||this._data.meta})},get:function(){return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"link-tool",inputEl:"link-tool__input",inputHolder:"link-tool__input-holder",inputError:"link-tool__input-holder--error",linkContent:"link-tool__content",linkContentRendered:"link-tool__content--rendered",linkImage:"link-tool__image",linkTitle:"link-tool__title",linkDescription:"link-tool__description",linkText:"link-tool__anchor",progress:"link-tool__progress",progressLoading:"link-tool__progress--loading",progressLoaded:"link-tool__progress--loaded"}}}]),x}()}]).default})})(OE);const TE=Un(uu);var fu={},LE={get exports(){return fu},set exports(t){fu=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=4)}([function(n,r,i){var o=i(1),s=i(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1};o(s,l),n.exports=s.locals||{}},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}y[w]=v}return y[w]}}(),a=[];function c(y){for(var w=-1,v=0;v<a.length;v++)if(a[v].identifier===y){w=v;break}return w}function u(y,w){for(var v={},S=[],E=0;E<y.length;E++){var k=y[E],O=w.base?k[0]+w.base:k[0],R=v[O]||0,C="".concat(O," ").concat(R);v[O]=R+1;var _=c(C),L={css:k[1],media:k[2],sourceMap:k[3]};_!==-1?(a[_].references++,a[_].updater(L)):a.push({identifier:C,updater:x(L,w),references:1}),S.push(C)}return S}function f(y){var w=document.createElement("style"),v=y.attributes||{};if(v.nonce===void 0){var S=i.nc;S&&(v.nonce=S)}if(Object.keys(v).forEach(function(k){w.setAttribute(k,v[k])}),typeof y.insert=="function")y.insert(w);else{var E=l(y.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(w)}return w}var h,d=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function p(y,w,v,S){var E=v?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(y.styleSheet)y.styleSheet.cssText=d(w,E);else{var k=document.createTextNode(E),O=y.childNodes;O[w]&&y.removeChild(O[w]),O.length?y.insertBefore(k,O[w]):y.appendChild(k)}}function b(y,w,v){var S=v.css,E=v.media,k=v.sourceMap;if(E?y.setAttribute("media",E):y.removeAttribute("media"),k&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),y.styleSheet)y.styleSheet.cssText=S;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(S))}}var g=null,m=0;function x(y,w){var v,S,E;if(w.singleton){var k=m++;v=g||(g=f(w)),S=p.bind(null,v,k,!1),E=p.bind(null,v,k,!0)}else v=f(w),S=b.bind(null,v,w),E=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(v)};return S(y),function(O){if(O){if(O.css===y.css&&O.media===y.media&&O.sourceMap===y.sourceMap)return;S(y=O)}else E()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var v=u(y=y||[],w);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var E=0;E<v.length;E++){var k=c(v[E]);a[k].references--}for(var O=u(S,w),R=0;R<v.length;R++){var C=c(v[R]);a[C].references===0&&(a[C].updater(),a.splice(C,1))}v=O}}}},function(n,r,i){(r=i(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var d=(b=h,g=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(m," */")),p=h.sources.map(function(x){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(x," */")});return[f].concat(p).concat([d]).join(`
`)}var b,g,m;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var d=0;d<l.length;d++){var p=[].concat(l[d]);c&&u[p[0]]||(a&&(p[2]?p[2]="".concat(a," and ").concat(p[2]):p[2]=a),s.push(p))}},s}},function(n,r,i){i.r(r),i.d(r,"default",function(){return l}),i(0);function o(a,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}function s(a,c,u){return c&&o(a.prototype,c),u&&o(a,u),a}/**
 * Base Paragraph Block for the Editor.js.
 * Represents simple paragraph
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var l=function(){function a(c){var u=c.data,f=c.config,h=c.api,d=c.readOnly;(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=h,this.readOnly=d,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=f.placeholder?f.placeholder:a.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=f.preserveBlank!==void 0&&f.preserveBlank,this.data=u}return s(a,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(a,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"data",get:function(){var c=this._element.innerHTML;return this._data.text=c,this._data},set:function(c){this._data=c||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),a}()}]).default})})(LE);const RE=Un(fu);var hu={},ME={get exports(){return hu},set exports(t){hu=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.cdx-quote-icon svg {
  transform: rotate(180deg);
}

.cdx-quote {
  margin: 0;
}

.cdx-quote__text {
  min-height: 158px;
  margin-bottom: 10px;
}

.cdx-quote__caption {}

.cdx-quote [contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty::before {
  opacity: 1;
}

.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {
  opacity: 0;
}


.cdx-quote-settings {
  display: flex;
}

.cdx-quote-settings .cdx-settings-button {
  width: 50%;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",f=a[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(p=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),d=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(d).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(k){var O={};return function(R){if(typeof R=="function")return R();if(O[R]===void 0){var C=function(_){return document.querySelector(_)}.call(this,R);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}O[R]=C}return O[R]}}(),u=null,f=0,h=[],d=i(4);function p(k,O){for(var R=0;R<k.length;R++){var C=k[R],_=l[C.id];if(_){_.refs++;for(var L=0;L<_.parts.length;L++)_.parts[L](C.parts[L]);for(;L<C.parts.length;L++)_.parts.push(w(C.parts[L],O))}else{var M=[];for(L=0;L<C.parts.length;L++)M.push(w(C.parts[L],O));l[C.id]={id:C.id,refs:1,parts:M}}}}function b(k,O){for(var R=[],C={},_=0;_<k.length;_++){var L=k[_],M=O.base?L[0]+O.base:L[0],A={css:L[1],media:L[2],sourceMap:L[3]};C[M]?C[M].parts.push(A):R.push(C[M]={id:M,parts:[A]})}return R}function g(k,O){var R=c(k.insertInto);if(!R)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(k.insertAt==="top")C?C.nextSibling?R.insertBefore(O,C.nextSibling):R.appendChild(O):R.insertBefore(O,R.firstChild),h.push(O);else if(k.insertAt==="bottom")R.appendChild(O);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var _=c(k.insertInto+" "+k.insertAt.before);R.insertBefore(O,_)}}function m(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var O=h.indexOf(k);O>=0&&h.splice(O,1)}function x(k){var O=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),y(O,k.attrs),g(k,O),O}function y(k,O){Object.keys(O).forEach(function(R){k.setAttribute(R,O[R])})}function w(k,O){var R,C,_,L;if(O.transform&&k.css){if(!(L=O.transform(k.css)))return function(){};k.css=L}if(O.singleton){var M=f++;R=u||(u=x(O)),C=E.bind(null,R,M,!1),_=E.bind(null,R,M,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(R=function(A){var T=document.createElement("link");return A.attrs.type===void 0&&(A.attrs.type="text/css"),A.attrs.rel="stylesheet",y(T,A.attrs),g(A,T),T}(O),C=function(A,T,P){var D=P.css,$=P.sourceMap,G=T.convertToAbsoluteUrls===void 0&&$;(T.convertToAbsoluteUrls||G)&&(D=d(D)),$&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify($))))+" */");var ne=new Blob([D],{type:"text/css"}),ae=A.href;A.href=URL.createObjectURL(ne),ae&&URL.revokeObjectURL(ae)}.bind(null,R,O),_=function(){m(R),R.href&&URL.revokeObjectURL(R.href)}):(R=x(O),C=function(A,T){var P=T.css,D=T.media;if(D&&A.setAttribute("media",D),A.styleSheet)A.styleSheet.cssText=P;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(P))}}.bind(null,R),_=function(){m(R)});return C(k),function(A){if(A){if(A.css===k.css&&A.media===k.media&&A.sourceMap===k.sourceMap)return;C(k=A)}else _()}}n.exports=function(k,O){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(O=O||{}).attrs=typeof O.attrs=="object"?O.attrs:{},O.singleton||typeof O.singleton=="boolean"||(O.singleton=a()),O.insertInto||(O.insertInto="head"),O.insertAt||(O.insertAt="bottom");var R=b(k,O);return p(R,O),function(C){for(var _=[],L=0;L<R.length;L++){var M=R[L];(A=l[M.id]).refs--,_.push(A)}for(C&&p(b(C,O),O),L=0;L<_.length;L++){var A;if((A=_[L]).refs===0){for(var T=0;T<A.parts.length;T++)A.parts[T]();delete l[A.id]}}}};var v,S=(v=[],function(k,O){return v[k]=O,v.filter(Boolean).join(`
`)});function E(k,O,R,C){var _=R?"":C.css;if(k.styleSheet)k.styleSheet.cssText=S(O,_);else{var L=document.createTextNode(_),M=k.childNodes;M[O]&&k.removeChild(M[O]),M.length?k.insertBefore(L,M[O]):k.appendChild(L)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,d){return d}).replace(/^'(.*)'$/,function(h,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(c){return function(u){if(Array.isArray(u)){for(var f=0,h=new Array(u.length);f<u.length;f++)h[f]=u[f];return h}}(c)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(c,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}function l(c,u,f){return u&&s(c.prototype,u),f&&s(c,f),c}i.d(r,"default",function(){return a});var a=function(){function c(u){var f=u.data,h=u.config,d=u.api,p=u.readOnly;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,c);var b=c.ALIGNMENTS,g=c.DEFAULT_ALIGNMENT;this.api=d,this.readOnly=p,this.quotePlaceholder=h.quotePlaceholder||c.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=h.captionPlaceholder||c.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:f.text||"",caption:f.caption||"",alignment:Object.values(b).includes(f.alignment)&&f.alignment||h.defaultAlignment||g}}return l(c,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return c.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(u){return u.caption?"".concat(u.text," — ").concat(u.caption):u.text}}}}]),l(c,[{key:"render",value:function(){var u=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),f=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),h=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return f.dataset.placeholder=this.quotePlaceholder,h.dataset.placeholder=this.captionPlaceholder,u.appendChild(f),u.appendChild(h),u}},{key:"save",value:function(u){var f=u.querySelector(".".concat(this.CSS.text)),h=u.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:f.innerHTML,caption:h.innerHTML})}},{key:"renderSettings",value:function(){var u=this;return this.settings.map(function(f){return{icon:f.icon,label:u.api.i18n.t("Align ".concat((h=f.name,h[0].toUpperCase()+h.substr(1)))),onActivate:function(){return u._toggleTune(f.name)},isActive:u.data.alignment===f.name,closeOnActivate:!0};var h})}},{key:"_toggleTune",value:function(u){this.data.alignment=u}},{key:"_make",value:function(u){var f,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.createElement(u);Array.isArray(h)?(f=p.classList).add.apply(f,o(h)):h&&p.classList.add(h);for(var b in d)p[b]=d[b];return p}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),c}()}]).default})})(ME);const PE=Un(hu);var du={},DE={get exports(){return du},set exports(t){du=t}};/*!
 * Image tool
 * 
 * @version 2.8.1
 * 
 * @package https://github.com/editor-js/image
 * @licence MIT
 * @author CodeX <https://codex.so>
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=9)}([function(n,r){function i(o,s){for(var l=0;l<s.length;l++){var a=s[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}n.exports=function(o,s,l){return s&&i(o.prototype,s),l&&i(o,l),o}},function(n,r,i){n.exports=function(o){var s={};function l(a){if(s[a])return s[a].exports;var c=s[a]={i:a,l:!1,exports:{}};return o[a].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=o,l.c=s,l.d=function(a,c,u){l.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:u})},l.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.t=function(a,c){if(1&c&&(a=l(a)),8&c||4&c&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(l.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),2&c&&typeof a!="string")for(var f in a)l.d(u,f,function(h){return a[h]}.bind(null,f));return u},l.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return l.d(c,"a",c),c},l.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},l.p="",l(l.s=3)}([function(o,s){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}o.exports=l},function(o,s,l){(function(a){var c=l(2),u=setTimeout;function f(){}function h(y){if(!(this instanceof h))throw new TypeError("Promises must be constructed via new");if(typeof y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],x(y,this)}function d(y,w){for(;y._state===3;)y=y._value;y._state!==0?(y._handled=!0,h._immediateFn(function(){var v=y._state===1?w.onFulfilled:w.onRejected;if(v!==null){var S;try{S=v(y._value)}catch(E){return void b(w.promise,E)}p(w.promise,S)}else(y._state===1?p:b)(w.promise,y._value)})):y._deferreds.push(w)}function p(y,w){try{if(w===y)throw new TypeError("A promise cannot be resolved with itself.");if(w&&(typeof w=="object"||typeof w=="function")){var v=w.then;if(w instanceof h)return y._state=3,y._value=w,void g(y);if(typeof v=="function")return void x((S=v,E=w,function(){S.apply(E,arguments)}),y)}y._state=1,y._value=w,g(y)}catch(k){b(y,k)}var S,E}function b(y,w){y._state=2,y._value=w,g(y)}function g(y){y._state===2&&y._deferreds.length===0&&h._immediateFn(function(){y._handled||h._unhandledRejectionFn(y._value)});for(var w=0,v=y._deferreds.length;w<v;w++)d(y,y._deferreds[w]);y._deferreds=null}function m(y,w,v){this.onFulfilled=typeof y=="function"?y:null,this.onRejected=typeof w=="function"?w:null,this.promise=v}function x(y,w){var v=!1;try{y(function(S){v||(v=!0,p(w,S))},function(S){v||(v=!0,b(w,S))})}catch(S){if(v)return;v=!0,b(w,S)}}h.prototype.catch=function(y){return this.then(null,y)},h.prototype.then=function(y,w){var v=new this.constructor(f);return d(this,new m(y,w,v)),v},h.prototype.finally=c.a,h.all=function(y){return new h(function(w,v){if(!y||y.length===void 0)throw new TypeError("Promise.all accepts an array");var S=Array.prototype.slice.call(y);if(S.length===0)return w([]);var E=S.length;function k(R,C){try{if(C&&(typeof C=="object"||typeof C=="function")){var _=C.then;if(typeof _=="function")return void _.call(C,function(L){k(R,L)},v)}S[R]=C,--E==0&&w(S)}catch(L){v(L)}}for(var O=0;O<S.length;O++)k(O,S[O])})},h.resolve=function(y){return y&&typeof y=="object"&&y.constructor===h?y:new h(function(w){w(y)})},h.reject=function(y){return new h(function(w,v){v(y)})},h.race=function(y){return new h(function(w,v){for(var S=0,E=y.length;S<E;S++)y[S].then(w,v)})},h._immediateFn=typeof a=="function"&&function(y){a(y)}||function(y){u(y,0)},h._unhandledRejectionFn=function(y){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",y)},s.a=h}).call(this,l(5).setImmediate)},function(o,s,l){s.a=function(a){var c=this.constructor;return this.then(function(u){return c.resolve(a()).then(function(){return u})},function(u){return c.resolve(a()).then(function(){return c.reject(u)})})}},function(o,s,l){function a(x){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(x)}l(4);var c,u,f,h,d,p,b,g=l(8),m=(u=function(x){return new Promise(function(y,w){x=h(x),(x=d(x)).beforeSend&&x.beforeSend();var v=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");v.open(x.method,x.url),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(x.headers).forEach(function(E){var k=x.headers[E];v.setRequestHeader(E,k)});var S=x.ratio;v.upload.addEventListener("progress",function(E){var k=Math.round(E.loaded/E.total*100),O=Math.ceil(k*S/100);x.progress(Math.min(O,100))},!1),v.addEventListener("progress",function(E){var k=Math.round(E.loaded/E.total*100),O=Math.ceil(k*(100-S)/100)+S;x.progress(Math.min(O,100))},!1),v.onreadystatechange=function(){if(v.readyState===4){var E=v.response;try{E=JSON.parse(E)}catch{}var k=g.parseHeaders(v.getAllResponseHeaders()),O={body:E,code:v.status,headers:k};b(v.status)?y(O):w(O)}},v.send(x.data)})},f=function(x){return x.method="POST",u(x)},h=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(x.url&&typeof x.url!="string")throw new Error("Url must be a string");if(x.url=x.url||"",x.method&&typeof x.method!="string")throw new Error("`method` must be a string or null");if(x.method=x.method?x.method.toUpperCase():"GET",x.headers&&a(x.headers)!=="object")throw new Error("`headers` must be an object or null");if(x.headers=x.headers||{},x.type&&(typeof x.type!="string"||!Object.values(c).includes(x.type)))throw new Error("`type` must be taken from module's «contentType» library");if(x.progress&&typeof x.progress!="function")throw new Error("`progress` must be a function or null");if(x.progress=x.progress||function(y){},x.beforeSend=x.beforeSend||function(y){},x.ratio&&typeof x.ratio!="number")throw new Error("`ratio` must be a number");if(x.ratio<0||x.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(x.ratio=x.ratio||90,x.accept&&typeof x.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(x.accept=x.accept||"*/*",x.multiple&&typeof x.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(x.multiple=x.multiple||!1,x.fieldName&&typeof x.fieldName!="string")throw new Error("`fieldName` must be a string");return x.fieldName=x.fieldName||"files",x},d=function(x){switch(x.method){case"GET":var y=p(x.data,c.URLENCODED);delete x.data,x.url=/\?/.test(x.url)?x.url+"&"+y:x.url+"?"+y;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var w=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||c.JSON}(x);(g.isFormData(x.data)||g.isFormElement(x.data))&&(w=c.FORM),x.data=p(x.data,w),w!==m.contentType.FORM&&(x.headers["content-type"]=w)}return x},p=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case c.URLENCODED:return g.urlEncode(x);case c.JSON:return g.jsonEncode(x);case c.FORM:return g.formEncode(x);default:return x}},b=function(x){return x>=200&&x<300},{contentType:c={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:u,get:function(x){return x.method="GET",u(x)},post:f,transport:function(x){return x=h(x),g.selectFiles(x).then(function(y){for(var w=new FormData,v=0;v<y.length;v++)w.append(x.fieldName,y[v],y[v].name);g.isObject(x.data)&&Object.keys(x.data).forEach(function(E){var k=x.data[E];w.append(E,k)});var S=x.beforeSend;return x.beforeSend=function(){return S(y)},x.data=w,f(x)})},selectFiles:function(x){return delete(x=h(x)).beforeSend,g.selectFiles(x)}});o.exports=m},function(o,s,l){l.r(s);var a=l(1);window.Promise=window.Promise||a.a},function(o,s,l){(function(a){var c=a!==void 0&&a||typeof self<"u"&&self||window,u=Function.prototype.apply;function f(h,d){this._id=h,this._clearFn=d}s.setTimeout=function(){return new f(u.call(setTimeout,c,arguments),clearTimeout)},s.setInterval=function(){return new f(u.call(setInterval,c,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(h){h&&h.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(c,this._id)},s.enroll=function(h,d){clearTimeout(h._idleTimeoutId),h._idleTimeout=d},s.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},s._unrefActive=s.active=function(h){clearTimeout(h._idleTimeoutId);var d=h._idleTimeout;d>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},d))},l(6),s.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,s.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(o,s,l){(function(a,c){(function(u,f){if(!u.setImmediate){var h,d,p,b,g,m=1,x={},y=!1,w=u.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(u);v=v&&v.setTimeout?v:u,{}.toString.call(u.process)==="[object process]"?h=function(k){c.nextTick(function(){E(k)})}:function(){if(u.postMessage&&!u.importScripts){var k=!0,O=u.onmessage;return u.onmessage=function(){k=!1},u.postMessage("","*"),u.onmessage=O,k}}()?(b="setImmediate$"+Math.random()+"$",g=function(k){k.source===u&&typeof k.data=="string"&&k.data.indexOf(b)===0&&E(+k.data.slice(b.length))},u.addEventListener?u.addEventListener("message",g,!1):u.attachEvent("onmessage",g),h=function(k){u.postMessage(b+k,"*")}):u.MessageChannel?((p=new MessageChannel).port1.onmessage=function(k){E(k.data)},h=function(k){p.port2.postMessage(k)}):w&&"onreadystatechange"in w.createElement("script")?(d=w.documentElement,h=function(k){var O=w.createElement("script");O.onreadystatechange=function(){E(k),O.onreadystatechange=null,d.removeChild(O),O=null},d.appendChild(O)}):h=function(k){setTimeout(E,0,k)},v.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var O=new Array(arguments.length-1),R=0;R<O.length;R++)O[R]=arguments[R+1];var C={callback:k,args:O};return x[m]=C,h(m),m++},v.clearImmediate=S}function S(k){delete x[k]}function E(k){if(y)setTimeout(E,0,k);else{var O=x[k];if(O){y=!0;try{(function(R){var C=R.callback,_=R.args;switch(_.length){case 0:C();break;case 1:C(_[0]);break;case 2:C(_[0],_[1]);break;case 3:C(_[0],_[1],_[2]);break;default:C.apply(void 0,_)}})(O)}finally{S(k),y=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,l(0),l(7))},function(o,s){var l,a,c=o.exports={};function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function h(v){if(l===setTimeout)return setTimeout(v,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout(v,0);try{return l(v,0)}catch{try{return l.call(null,v,0)}catch{return l.call(this,v,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:u}catch{l=u}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var d,p=[],b=!1,g=-1;function m(){b&&d&&(b=!1,d.length?p=d.concat(p):g=-1,p.length&&x())}function x(){if(!b){var v=h(m);b=!0;for(var S=p.length;S;){for(d=p,p=[];++g<S;)d&&d[g].run();g=-1,S=p.length}d=null,b=!1,function(E){if(a===clearTimeout)return clearTimeout(E);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(E);try{a(E)}catch{try{return a.call(null,E)}catch{return a.call(this,E)}}}(v)}}function y(v,S){this.fun=v,this.array=S}function w(){}c.nextTick=function(v){var S=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)S[E-1]=arguments[E];p.push(new y(v,S)),p.length!==1||b||h(x)},y.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=w,c.addListener=w,c.once=w,c.off=w,c.removeListener=w,c.removeAllListeners=w,c.emit=w,c.prependListener=w,c.prependOnceListener=w,c.listeners=function(v){return[]},c.binding=function(v){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(v){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(o,s,l){function a(u,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}var c=l(9);o.exports=function(){function u(){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,u)}var f,h;return f=u,(h=[{key:"urlEncode",value:function(d){return c(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var p=new FormData;return Object.keys(d).forEach(function(b){var g=d[b];p.append(b,g)}),p}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(p,b){var g=document.createElement("INPUT");g.type="file",d.multiple&&g.setAttribute("multiple","multiple"),d.accept&&g.setAttribute("accept",d.accept),g.style.display="none",document.body.appendChild(g),g.addEventListener("change",function(m){var x=m.target.files;p(x),document.body.removeChild(g)},!1),g.click()})}},{key:"parseHeaders",value:function(d){var p=d.trim().split(/[\r\n]+/),b={};return p.forEach(function(g){var m=g.split(": "),x=m.shift(),y=m.join(": ");x&&(b[x]=y)}),b}}])&&a(f,h),u}()},function(o,s){var l=function(c){return encodeURIComponent(c).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},a=function(c,u,f,h){return u=u||null,f=f||"&",h=h||null,c?function(d){for(var p=new Array,b=0;b<d.length;b++)d[b]&&p.push(d[b]);return p}(Object.keys(c).map(function(d){var p,b,g=d;if(h&&(g=h+"["+g+"]"),typeof c[d]=="object"&&c[d]!==null)p=a(c[d],null,f,g);else{u&&(b=g,g=!isNaN(parseFloat(b))&&isFinite(b)?u+Number(g):g);var m=c[d];m=(m=(m=(m=m===!0?"1":m)===!1?"0":m)===0?"0":m)||"",p=l(g)+"="+l(m)}return p})).join(f).replace(/[!'()*]/g,""):""};o.exports=a}])},function(n,r){n.exports=function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}},function(n,r,i){n.exports=i(10)},function(n,r){n.exports=function(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,l=new Array(o);s<o;s++)l[s]=i[s];return l}},function(n,r,i){var o=i(4);n.exports=function(s,l){if(s){if(typeof s=="string")return o(s,l);var a=Object.prototype.toString.call(s).slice(8,-1);return a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set"?Array.from(a):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(s,l):void 0}}},function(n,r){function i(o,s,l,a,c,u,f){try{var h=o[u](f),d=h.value}catch(p){return void l(p)}h.done?s(d):Promise.resolve(d).then(a,c)}n.exports=function(o){return function(){var s=this,l=arguments;return new Promise(function(a,c){var u=o.apply(s,l);function f(d){i(u,a,c,f,h,"next",d)}function h(d){i(u,a,c,f,h,"throw",d)}f(void 0)})}}},function(n,r,i){var o=i(15),s=i(16),l=i(5),a=i(17);n.exports=function(c){return o(c)||s(c)||l(c)||a()}},function(n,r,i){var o=i(18),s=i(19),l=i(5),a=i(20);n.exports=function(c,u){return o(c)||s(c,u)||l(c,u)||a()}},function(n,r,i){n.exports=i(21)},function(n,r,i){var o=function(s){var l=Object.prototype,a=l.hasOwnProperty,c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function d(A,T,P,D){var $=T&&T.prototype instanceof g?T:g,G=Object.create($.prototype),ne=new _(D||[]);return G._invoke=function(ae,Re,he){var U="suspendedStart";return function(X,Q){if(U==="executing")throw new Error("Generator is already running");if(U==="completed"){if(X==="throw")throw Q;return M()}for(he.method=X,he.arg=Q;;){var ce=he.delegate;if(ce){var we=O(ce,he);if(we){if(we===b)continue;return we}}if(he.method==="next")he.sent=he._sent=he.arg;else if(he.method==="throw"){if(U==="suspendedStart")throw U="completed",he.arg;he.dispatchException(he.arg)}else he.method==="return"&&he.abrupt("return",he.arg);U="executing";var Ee=p(ae,Re,he);if(Ee.type==="normal"){if(U=he.done?"completed":"suspendedYield",Ee.arg===b)continue;return{value:Ee.arg,done:he.done}}Ee.type==="throw"&&(U="completed",he.method="throw",he.arg=Ee.arg)}}}(A,P,ne),G}function p(A,T,P){try{return{type:"normal",arg:A.call(T,P)}}catch(D){return{type:"throw",arg:D}}}s.wrap=d;var b={};function g(){}function m(){}function x(){}var y={};y[u]=function(){return this};var w=Object.getPrototypeOf,v=w&&w(w(L([])));v&&v!==l&&a.call(v,u)&&(y=v);var S=x.prototype=g.prototype=Object.create(y);function E(A){["next","throw","return"].forEach(function(T){A[T]=function(P){return this._invoke(T,P)}})}function k(A,T){var P;this._invoke=function(D,$){function G(){return new T(function(ne,ae){(function Re(he,U,X,Q){var ce=p(A[he],A,U);if(ce.type!=="throw"){var we=ce.arg,Ee=we.value;return Ee&&typeof Ee=="object"&&a.call(Ee,"__await")?T.resolve(Ee.__await).then(function(de){Re("next",de,X,Q)},function(de){Re("throw",de,X,Q)}):T.resolve(Ee).then(function(de){we.value=de,X(we)},function(de){return Re("throw",de,X,Q)})}Q(ce.arg)})(D,$,ne,ae)})}return P=P?P.then(G,G):G()}}function O(A,T){var P=A.iterator[T.method];if(P===void 0){if(T.delegate=null,T.method==="throw"){if(A.iterator.return&&(T.method="return",T.arg=void 0,O(A,T),T.method==="throw"))return b;T.method="throw",T.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var D=p(P,A.iterator,T.arg);if(D.type==="throw")return T.method="throw",T.arg=D.arg,T.delegate=null,b;var $=D.arg;return $?$.done?(T[A.resultName]=$.value,T.next=A.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,b):$:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,b)}function R(A){var T={tryLoc:A[0]};1 in A&&(T.catchLoc=A[1]),2 in A&&(T.finallyLoc=A[2],T.afterLoc=A[3]),this.tryEntries.push(T)}function C(A){var T=A.completion||{};T.type="normal",delete T.arg,A.completion=T}function _(A){this.tryEntries=[{tryLoc:"root"}],A.forEach(R,this),this.reset(!0)}function L(A){if(A){var T=A[u];if(T)return T.call(A);if(typeof A.next=="function")return A;if(!isNaN(A.length)){var P=-1,D=function $(){for(;++P<A.length;)if(a.call(A,P))return $.value=A[P],$.done=!1,$;return $.value=void 0,$.done=!0,$};return D.next=D}}return{next:M}}function M(){return{value:void 0,done:!0}}return m.prototype=S.constructor=x,x.constructor=m,x[h]=m.displayName="GeneratorFunction",s.isGeneratorFunction=function(A){var T=typeof A=="function"&&A.constructor;return!!T&&(T===m||(T.displayName||T.name)==="GeneratorFunction")},s.mark=function(A){return Object.setPrototypeOf?Object.setPrototypeOf(A,x):(A.__proto__=x,h in A||(A[h]="GeneratorFunction")),A.prototype=Object.create(S),A},s.awrap=function(A){return{__await:A}},E(k.prototype),k.prototype[f]=function(){return this},s.AsyncIterator=k,s.async=function(A,T,P,D,$){$===void 0&&($=Promise);var G=new k(d(A,T,P,D),$);return s.isGeneratorFunction(T)?G:G.next().then(function(ne){return ne.done?ne.value:G.next()})},E(S),S[h]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},s.keys=function(A){var T=[];for(var P in A)T.push(P);return T.reverse(),function D(){for(;T.length;){var $=T.pop();if($ in A)return D.value=$,D.done=!1,D}return D.done=!0,D}},s.values=L,_.prototype={constructor:_,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!A)for(var T in this)T.charAt(0)==="t"&&a.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var T=this;function P(Re,he){return G.type="throw",G.arg=A,T.next=Re,he&&(T.method="next",T.arg=void 0),!!he}for(var D=this.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D],G=$.completion;if($.tryLoc==="root")return P("end");if($.tryLoc<=this.prev){var ne=a.call($,"catchLoc"),ae=a.call($,"finallyLoc");if(ne&&ae){if(this.prev<$.catchLoc)return P($.catchLoc,!0);if(this.prev<$.finallyLoc)return P($.finallyLoc)}else if(ne){if(this.prev<$.catchLoc)return P($.catchLoc,!0)}else{if(!ae)throw new Error("try statement without catch or finally");if(this.prev<$.finallyLoc)return P($.finallyLoc)}}}},abrupt:function(A,T){for(var P=this.tryEntries.length-1;P>=0;--P){var D=this.tryEntries[P];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var $=D;break}}$&&(A==="break"||A==="continue")&&$.tryLoc<=T&&T<=$.finallyLoc&&($=null);var G=$?$.completion:{};return G.type=A,G.arg=T,$?(this.method="next",this.next=$.finallyLoc,b):this.complete(G)},complete:function(A,T){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&T&&(this.next=T),b},finish:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T];if(P.finallyLoc===A)return this.complete(P.completion,P.afterLoc),C(P),b}},catch:function(A){for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T];if(P.tryLoc===A){var D=P.completion;if(D.type==="throw"){var $=D.arg;C(P)}return $}}throw new Error("illegal catch attempt")},delegateYield:function(A,T,P){return this.delegate={iterator:L(A),resultName:T,nextLoc:P},this.method==="next"&&(this.arg=void 0),b}},s}(n.exports);try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},function(n,r,i){var o=i(12),s=i(13);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var l={insert:"head",singleton:!1},a=(o(s,l),s.locals?s.locals:{});n.exports=a},function(n,r,i){var o,s=function(){return o===void 0&&(o=!!(window&&document&&document.all&&!window.atob)),o},l=function(){var y={};return function(w){if(y[w]===void 0){var v=document.querySelector(w);if(window.HTMLIFrameElement&&v instanceof window.HTMLIFrameElement)try{v=v.contentDocument.head}catch{v=null}y[w]=v}return y[w]}}(),a=[];function c(y){for(var w=-1,v=0;v<a.length;v++)if(a[v].identifier===y){w=v;break}return w}function u(y,w){for(var v={},S=[],E=0;E<y.length;E++){var k=y[E],O=w.base?k[0]+w.base:k[0],R=v[O]||0,C="".concat(O," ").concat(R);v[O]=R+1;var _=c(C),L={css:k[1],media:k[2],sourceMap:k[3]};_!==-1?(a[_].references++,a[_].updater(L)):a.push({identifier:C,updater:x(L,w),references:1}),S.push(C)}return S}function f(y){var w=document.createElement("style"),v=y.attributes||{};if(v.nonce===void 0){var S=i.nc;S&&(v.nonce=S)}if(Object.keys(v).forEach(function(k){w.setAttribute(k,v[k])}),typeof y.insert=="function")y.insert(w);else{var E=l(y.insert||"head");if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(w)}return w}var h,d=(h=[],function(y,w){return h[y]=w,h.filter(Boolean).join(`
`)});function p(y,w,v,S){var E=v?"":S.media?"@media ".concat(S.media," {").concat(S.css,"}"):S.css;if(y.styleSheet)y.styleSheet.cssText=d(w,E);else{var k=document.createTextNode(E),O=y.childNodes;O[w]&&y.removeChild(O[w]),O.length?y.insertBefore(k,O[w]):y.appendChild(k)}}function b(y,w,v){var S=v.css,E=v.media,k=v.sourceMap;if(E?y.setAttribute("media",E):y.removeAttribute("media"),k&&btoa&&(S+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),y.styleSheet)y.styleSheet.cssText=S;else{for(;y.firstChild;)y.removeChild(y.firstChild);y.appendChild(document.createTextNode(S))}}var g=null,m=0;function x(y,w){var v,S,E;if(w.singleton){var k=m++;v=g||(g=f(w)),S=p.bind(null,v,k,!1),E=p.bind(null,v,k,!0)}else v=f(w),S=b.bind(null,v,w),E=function(){(function(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O)})(v)};return S(y),function(O){if(O){if(O.css===y.css&&O.media===y.media&&O.sourceMap===y.sourceMap)return;S(y=O)}else E()}}n.exports=function(y,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var v=u(y=y||[],w);return function(S){if(S=S||[],Object.prototype.toString.call(S)==="[object Array]"){for(var E=0;E<v.length;E++){var k=c(v[E]);a[k].references--}for(var O=u(S,w),R=0;R<v.length;R++){var C=c(v[R]);a[C].references===0&&(a[C].updater(),a.splice(C,1))}v=O}}}},function(n,r,i){(r=i(14)(!1)).push([n.i,`.image-tool {
  --bg-color: #cdd1e0;
  --front-color: #388ae5;
  --border-color: #e8e8eb;

}

  .image-tool__image {
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 10px;
  }

  .image-tool__image-picture {
      max-width: 100%;
      vertical-align: bottom;
      display: block;
    }

  .image-tool__image-preloader {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-size: cover;
      margin: auto;
      position: relative;
      background-color: var(--bg-color);
      background-position: center center;
    }

  .image-tool__image-preloader::after {
        content: "";
        position: absolute;
        z-index: 3;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 2px solid var(--bg-color);
        border-top-color: var(--front-color);
        left: 50%;
        top: 50%;
        margin-top: -30px;
        margin-left: -30px;
        animation: image-preloader-spin 2s infinite linear;
        box-sizing: border-box;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]::before {
      position: absolute !important;
      content: attr(data-placeholder);
      color: #707684;
      font-weight: normal;
      display: none;
    }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty::before {
        display: block;
      }

  .image-tool__caption[contentEditable="true"][data-placeholder]:empty:focus::before {
        display: none;
      }

  .image-tool--empty .image-tool__image {
      display: none;
    }

  .image-tool--empty .image-tool__caption, .image-tool--loading .image-tool__caption {
      display: none;
    }

  .image-tool .cdx-button {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-tool .cdx-button svg {
      height: auto;
      margin: 0 6px 0 0;
    }

  .image-tool--filled .cdx-button {
      display: none;
    }

  .image-tool--filled .image-tool__image-preloader {
        display: none;
      }

  .image-tool--loading .image-tool__image {
      min-height: 200px;
      display: flex;
      border: 1px solid var(--border-color);
      background-color: #fff;
    }

  .image-tool--loading .image-tool__image-picture {
        display: none;
      }

  .image-tool--loading .cdx-button {
      display: none;
    }

  /**
   * Tunes
   * ----------------
   */

  .image-tool--withBorder .image-tool__image {
      border: 1px solid var(--border-color);
    }

  .image-tool--withBackground .image-tool__image {
      padding: 15px;
      background: var(--bg-color);
    }

  .image-tool--withBackground .image-tool__image-picture {
        max-width: 60%;
        margin: 0 auto;
      }

  .image-tool--stretched .image-tool__image-picture {
        width: 100%;
      }

@keyframes image-preloader-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
`,""]),n.exports=r},function(n,r,i){n.exports=function(o){var s=[];return s.toString=function(){return this.map(function(l){var a=function(c,u){var f=c[1]||"",h=c[3];if(!h)return f;if(u&&typeof btoa=="function"){var d=(b=h,g=btoa(unescape(encodeURIComponent(JSON.stringify(b)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),"/*# ".concat(m," */")),p=h.sources.map(function(x){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(x," */")});return[f].concat(p).concat([d]).join(`
`)}var b,g,m;return[f].join(`
`)}(l,o);return l[2]?"@media ".concat(l[2]," {").concat(a,"}"):a}).join("")},s.i=function(l,a,c){typeof l=="string"&&(l=[[null,l,""]]);var u={};if(c)for(var f=0;f<this.length;f++){var h=this[f][0];h!=null&&(u[h]=!0)}for(var d=0;d<l.length;d++){var p=[].concat(l[d]);c&&u[p[0]]||(a&&(p[2]?p[2]="".concat(a," and ").concat(p[2]):p[2]=a),s.push(p))}},s}},function(n,r,i){var o=i(4);n.exports=function(s){if(Array.isArray(s))return o(s)}},function(n,r){n.exports=function(i){if(typeof Symbol<"u"&&Symbol.iterator in Object(i))return Array.from(i)}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r){n.exports=function(i){if(Array.isArray(i))return i}},function(n,r){n.exports=function(i,o){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var s=[],l=!0,a=!1,c=void 0;try{for(var u,f=i[Symbol.iterator]();!(l=(u=f.next()).done)&&(s.push(u.value),!o||s.length!==o);l=!0);}catch(h){a=!0,c=h}finally{try{l||f.return==null||f.return()}finally{if(a)throw c}}return s}}},function(n,r){n.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(n,r,i){i.r(r),i.d(r,"default",function(){return k});var o=i(3),s=i.n(o),l=i(6),a=i.n(l),c=i(2),u=i.n(c),f=i(0),h=i.n(f);i(11);const d='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';var p=i(7),b=i.n(p);function g(O){var R,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},L=document.createElement(O);Array.isArray(C)?(R=L.classList).add.apply(R,b()(C)):C&&L.classList.add(C);for(var M in _)L[M]=_[M];return L}var m=function(){function O(R){var C=R.api,_=R.config,L=R.onSelectFile,M=R.readOnly;u()(this,O),this.api=C,this.config=_,this.onSelectFile=L,this.readOnly=M,this.nodes={wrapper:g("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:g("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:g("div",this.CSS.imagePreloader),caption:g("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}return h()(O,[{key:"render",value:function(R){return R.file&&Object.keys(R.file).length!==0?this.toggleStatus(O.status.UPLOADING):this.toggleStatus(O.status.EMPTY),this.nodes.wrapper}},{key:"createFileButton",value:function(){var R=this,C=g("div",[this.CSS.button]);return C.innerHTML=this.config.buttonContent||"".concat(d," ").concat(this.api.i18n.t("Select an Image")),C.addEventListener("click",function(){R.onSelectFile()}),C}},{key:"showPreloader",value:function(R){this.nodes.imagePreloader.style.backgroundImage="url(".concat(R,")"),this.toggleStatus(O.status.UPLOADING)}},{key:"hidePreloader",value:function(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(O.status.EMPTY)}},{key:"fillImage",value:function(R){var C=this,_=/\.mp4$/.test(R)?"VIDEO":"IMG",L={src:R},M="load";_==="VIDEO"&&(L.autoplay=!0,L.loop=!0,L.muted=!0,L.playsinline=!0,M="loadeddata"),this.nodes.imageEl=g(_,this.CSS.imageEl,L),this.nodes.imageEl.addEventListener(M,function(){C.toggleStatus(O.status.FILLED),C.nodes.imagePreloader&&(C.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}},{key:"fillCaption",value:function(R){this.nodes.caption&&(this.nodes.caption.innerHTML=R)}},{key:"toggleStatus",value:function(R){for(var C in O.status)Object.prototype.hasOwnProperty.call(O.status,C)&&this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(O.status[C]),R===O.status[C])}},{key:"applyTune",value:function(R,C){this.nodes.wrapper.classList.toggle("".concat(this.CSS.wrapper,"--").concat(R),C)}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}}],[{key:"status",get:function(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}}]),O}(),x=i(8),y=i.n(x),w=i(1),v=i.n(w);function S(O){return O&&typeof O.then=="function"}var E=function(){function O(R){var C=R.config,_=R.onUpload,L=R.onError;u()(this,O),this.config=C,this.onUpload=_,this.onError=L}return h()(O,[{key:"uploadSelectedFile",value:function(R){var C=this,_=R.onPreview,L=function(M){var A=new FileReader;A.readAsDataURL(M),A.onload=function(T){_(T.target.result)}};(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?v.a.selectFiles({accept:this.config.types}).then(function(M){L(M[0]);var A=C.config.uploader.uploadByFile(M[0]);return S(A)||console.warn("Custom uploader method uploadByFile should return a Promise"),A}):v.a.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:function(M){L(M[0])},fieldName:this.config.field}).then(function(M){return M.body})).then(function(M){C.onUpload(M)}).catch(function(M){C.onError(M)})}},{key:"uploadByUrl",value:function(R){var C,_=this;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?S(C=this.config.uploader.uploadByUrl(R))||console.warn("Custom uploader method uploadByUrl should return a Promise"):C=v.a.post({url:this.config.endpoints.byUrl,data:Object.assign({url:R},this.config.additionalRequestData),type:v.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(L){return L.body}),C.then(function(L){_.onUpload(L)}).catch(function(L){_.onError(L)})}},{key:"uploadByFile",value:function(R,C){var _,L=this,M=C.onPreview,A=new FileReader;if(A.readAsDataURL(R),A.onload=function(P){M(P.target.result)},this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")S(_=this.config.uploader.uploadByFile(R))||console.warn("Custom uploader method uploadByFile should return a Promise");else{var T=new FormData;T.append(this.config.field,R),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(function(P){var D=y()(P,2),$=D[0],G=D[1];T.append($,G)}),_=v.a.post({url:this.config.endpoints.byFile,data:T,type:v.a.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(function(P){return P.body})}_.then(function(P){L.onUpload(P)}).catch(function(P){L.onError(P)})}}]),O}(),k=function(){function O(C){var _=this,L=C.data,M=C.config,A=C.api,T=C.readOnly;u()(this,O),this.api=A,this.readOnly=T,this.config={endpoints:M.endpoints||"",additionalRequestData:M.additionalRequestData||{},additionalRequestHeaders:M.additionalRequestHeaders||{},field:M.field||"image",types:M.types||"image/*",captionPlaceholder:this.api.i18n.t(M.captionPlaceholder||"Caption"),buttonContent:M.buttonContent||"",uploader:M.uploader||void 0,actions:M.actions||[]},this.uploader=new E({config:this.config,onUpload:function(P){return _.onUpload(P)},onError:function(P){return _.uploadingFailed(P)}}),this.ui=new m({api:A,config:this.config,onSelectFile:function(){_.uploader.uploadSelectedFile({onPreview:function(P){_.ui.showPreloader(P)}})},readOnly:T}),this._data={},this.data=L}var R;return h()(O,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:d,title:"Image"}}},{key:"tunes",get:function(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}}]),h()(O,[{key:"render",value:function(){return this.ui.render(this.data)}},{key:"validate",value:function(C){return C.file&&C.file.url}},{key:"save",value:function(){var C=this.ui.nodes.caption;return this._data.caption=C.innerHTML,this.data}},{key:"renderSettings",value:function(){var C=this;return O.tunes.concat(this.config.actions).map(function(_){return{icon:_.icon,label:C.api.i18n.t(_.title),name:_.name,toggle:_.toggle,isActive:C.data[_.name],onActivate:function(){typeof _.action!="function"?C.tuneToggled(_.name):_.action(_.name)}}})}},{key:"appendCallback",value:function(){this.ui.nodes.fileButton.click()}},{key:"onPaste",value:(R=a()(s.a.mark(function C(_){var L,M,A,T,P;return s.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:D.t0=_.type,D.next=D.t0==="tag"?3:D.t0==="pattern"?15:D.t0==="file"?18:21;break;case 3:if(L=_.detail.data,!/^blob:/.test(L.src)){D.next=13;break}return D.next=7,fetch(L.src);case 7:return M=D.sent,D.next=10,M.blob();case 10:return A=D.sent,this.uploadFile(A),D.abrupt("break",21);case 13:return this.uploadUrl(L.src),D.abrupt("break",21);case 15:return T=_.detail.data,this.uploadUrl(T),D.abrupt("break",21);case 18:return P=_.detail.file,this.uploadFile(P),D.abrupt("break",21);case 21:case"end":return D.stop()}},C,this)})),function(C){return R.apply(this,arguments)})},{key:"onUpload",value:function(C){C.success&&C.file?this.image=C.file:this.uploadingFailed("incorrect response: "+JSON.stringify(C))}},{key:"uploadingFailed",value:function(C){console.log("Image Tool: uploading failed because of",C),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}},{key:"tuneToggled",value:function(C){this.setTune(C,!this._data[C])}},{key:"setTune",value:function(C,_){var L=this;this._data[C]=_,this.ui.applyTune(C,_),C==="stretched"&&Promise.resolve().then(function(){var M=L.api.blocks.getCurrentBlockIndex();L.api.blocks.stretchBlock(M,_)}).catch(function(M){console.error(M)})}},{key:"uploadFile",value:function(C){var _=this;this.uploader.uploadByFile(C,{onPreview:function(L){_.ui.showPreloader(L)}})}},{key:"uploadUrl",value:function(C){this.ui.showPreloader(C),this.uploader.uploadByUrl(C)}},{key:"data",set:function(C){var _=this;this.image=C.file,this._data.caption=C.caption||"",this.ui.fillCaption(this._data.caption),O.tunes.forEach(function(L){var M=L.name,A=C[M]!==void 0&&(C[M]===!0||C[M]==="true");_.setTune(M,A)})},get:function(){return this._data}},{key:"image",set:function(C){this._data.file=C||{},C&&C.url&&this.ui.fillImage(C.url)}}],[{key:"pasteConfig",get:function(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}}]),O}();/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js — main Tool's interface, public API and methods for working with data
 *  2) uploader.js — module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js — module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js — working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */}]).default})})(DE);const IE=Un(du);var pu={},$E={get exports(){return pu},set exports(t){pu=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",f=a[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(p=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),d=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(d).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(C){return document.querySelector(C)},u=function(C){var _={};return function(L){if(typeof L=="function")return L();if(_[L]===void 0){var M=c.call(this,L);if(window.HTMLIFrameElement&&M instanceof window.HTMLIFrameElement)try{M=M.contentDocument.head}catch{M=null}_[L]=M}return _[L]}}(),f=null,h=0,d=[],p=i(4);function b(C,_){for(var L=0;L<C.length;L++){var M=C[L],A=l[M.id];if(A){A.refs++;for(var T=0;T<A.parts.length;T++)A.parts[T](M.parts[T]);for(;T<M.parts.length;T++)A.parts.push(v(M.parts[T],_))}else{var P=[];for(T=0;T<M.parts.length;T++)P.push(v(M.parts[T],_));l[M.id]={id:M.id,refs:1,parts:P}}}}function g(C,_){for(var L=[],M={},A=0;A<C.length;A++){var T=C[A],P=_.base?T[0]+_.base:T[0],D={css:T[1],media:T[2],sourceMap:T[3]};M[P]?M[P].parts.push(D):L.push(M[P]={id:P,parts:[D]})}return L}function m(C,_){var L=u(C.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var M=d[d.length-1];if(C.insertAt==="top")M?M.nextSibling?L.insertBefore(_,M.nextSibling):L.appendChild(_):L.insertBefore(_,L.firstChild),d.push(_);else if(C.insertAt==="bottom")L.appendChild(_);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=u(C.insertInto+" "+C.insertAt.before);L.insertBefore(_,A)}}function x(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var _=d.indexOf(C);_>=0&&d.splice(_,1)}function y(C){var _=document.createElement("style");return C.attrs.type===void 0&&(C.attrs.type="text/css"),w(_,C.attrs),m(C,_),_}function w(C,_){Object.keys(_).forEach(function(L){C.setAttribute(L,_[L])})}function v(C,_){var L,M,A,T;if(_.transform&&C.css){if(!(T=_.transform(C.css)))return function(){};C.css=T}if(_.singleton){var P=h++;L=f||(f=y(_)),M=k.bind(null,L,P,!1),A=k.bind(null,L,P,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(D){var $=document.createElement("link");return D.attrs.type===void 0&&(D.attrs.type="text/css"),D.attrs.rel="stylesheet",w($,D.attrs),m(D,$),$}(_),M=R.bind(null,L,_),A=function(){x(L),L.href&&URL.revokeObjectURL(L.href)}):(L=y(_),M=O.bind(null,L),A=function(){x(L)});return M(C),function(D){if(D){if(D.css===C.css&&D.media===C.media&&D.sourceMap===C.sourceMap)return;M(C=D)}else A()}}n.exports=function(C,_){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(_=_||{}).attrs=typeof _.attrs=="object"?_.attrs:{},_.singleton||typeof _.singleton=="boolean"||(_.singleton=a()),_.insertInto||(_.insertInto="head"),_.insertAt||(_.insertAt="bottom");var L=g(C,_);return b(L,_),function(M){for(var A=[],T=0;T<L.length;T++){var P=L[T];(D=l[P.id]).refs--,A.push(D)}for(M&&b(g(M,_),_),T=0;T<A.length;T++){var D;if((D=A[T]).refs===0){for(var $=0;$<D.parts.length;$++)D.parts[$]();delete l[D.id]}}}};var S,E=(S=[],function(C,_){return S[C]=_,S.filter(Boolean).join(`
`)});function k(C,_,L,M){var A=L?"":M.css;if(C.styleSheet)C.styleSheet.cssText=E(_,A);else{var T=document.createTextNode(A),P=C.childNodes;P[_]&&C.removeChild(P[_]),P.length?C.insertBefore(T,P[_]):C.appendChild(T)}}function O(C,_){var L=_.css,M=_.media;if(M&&C.setAttribute("media",M),C.styleSheet)C.styleSheet.cssText=L;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(L))}}function R(C,_,L){var M=L.css,A=L.sourceMap,T=_.convertToAbsoluteUrls===void 0&&A;(_.convertToAbsoluteUrls||T)&&(M=p(M)),A&&(M+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */");var P=new Blob([M],{type:"text/css"}),D=C.href;C.href=URL.createObjectURL(P),D&&URL.revokeObjectURL(D)}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,d){return d}).replace(/^'(.*)'$/,function(h,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i.d(r,"default",function(){return l}),i(0);function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(a)}function s(a,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var l=function(){function a(h){var d=h.data,p=h.config,b=h.api,g=h.readOnly;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=b,this.readOnly=g,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=p,this._data=this.normalizeData(d),this._element=this.getTag()}var c,u,f;return c=a,f=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(h){var d={};return o(h)!=="object"&&(h={}),d.text=h.text||"",d.level=parseInt(h.level)||this.defaultLevel.number,d}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var h=this;return this.levels.map(function(d){return{icon:d.svg,label:h.api.i18n.t("Heading ".concat(d.number)),onActivate:function(){return h.setLevel(d.number)},closeOnActivate:!0,isActive:h.currentLevel.number===d.number}})}},{key:"setLevel",value:function(h){this.data={level:h,text:this.data.text}}},{key:"merge",value:function(h){var d={text:this.data.text+h.text,level:this.data.level};this.data=d}},{key:"validate",value:function(h){return h.text.trim()!==""}},{key:"save",value:function(h){return{text:h.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var h=document.createElement(this.currentLevel.tag);return h.innerHTML=this._data.text||"",h.classList.add(this._CSS.wrapper),h.contentEditable=this.readOnly?"false":"true",h.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),h}},{key:"onPaste",value:function(h){var d=h.detail.data,p=this.defaultLevel.number;switch(d.tagName){case"H1":p=1;break;case"H2":p=2;break;case"H3":p=3;break;case"H4":p=4;break;case"H5":p=5;break;case"H6":p=6}this._settings.levels&&(p=this._settings.levels.reduce(function(b,g){return Math.abs(g-p)<Math.abs(b-p)?g:b})),this.data={level:p,text:d.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(h){if(this._data=this.normalizeData(h),h.level!==void 0&&this._element.parentNode){var d=this.getTag();d.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(d,this._element),this._element=d}h.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var h=this,d=this.levels.find(function(p){return p.number===h._data.level});return d||(d=this.defaultLevel),d}},{key:"defaultLevel",get:function(){var h=this;if(this._settings.defaultLevel){var d=this.levels.find(function(p){return p.number===h._settings.defaultLevel});if(d)return d;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var h=this,d=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?d.filter(function(p){return h._settings.levels.includes(p.number)}):d}}])&&s(c.prototype,u),f&&s(c,f),a}()}]).default})})($E);const BE=Un(pu);var mu={},NE={get exports(){return mu},set exports(t){mu=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=6)}([function(n,r){n.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><rect width="18" height="18" fill="#F4F5F7" rx="2"></rect><circle cx="11.5" cy="6.5" r="1.5"></circle><circle cx="11.5" cy="11.5" r="1.5"></circle><circle cx="6.5" cy="6.5" r="1.5"></circle><circle cx="6.5" cy="11.5" r="1.5"></circle></svg>'},function(n,r,i){var o=i(2);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(3)(!1)).push([n.i,'.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4;}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border);}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative;}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color;}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px;}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border);}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal;}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity;}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translateX(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity;}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,0.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;padding:6px;display:none;will-change:opacity,transform;}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm);}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:rgba(0,0,0,.1);}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}',""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",f=a[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(p=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),d=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(d).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(C,_){return _?_.querySelector(C):document.querySelector(C)},u=function(C){var _={};return function(L,M){if(typeof L=="function")return L();if(_[L]===void 0){var A=c.call(this,L,M);if(window.HTMLIFrameElement&&A instanceof window.HTMLIFrameElement)try{A=A.contentDocument.head}catch{A=null}_[L]=A}return _[L]}}(),f=null,h=0,d=[],p=i(5);function b(C,_){for(var L=0;L<C.length;L++){var M=C[L],A=l[M.id];if(A){A.refs++;for(var T=0;T<A.parts.length;T++)A.parts[T](M.parts[T]);for(;T<M.parts.length;T++)A.parts.push(v(M.parts[T],_))}else{var P=[];for(T=0;T<M.parts.length;T++)P.push(v(M.parts[T],_));l[M.id]={id:M.id,refs:1,parts:P}}}}function g(C,_){for(var L=[],M={},A=0;A<C.length;A++){var T=C[A],P=_.base?T[0]+_.base:T[0],D={css:T[1],media:T[2],sourceMap:T[3]};M[P]?M[P].parts.push(D):L.push(M[P]={id:P,parts:[D]})}return L}function m(C,_){var L=u(C.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var M=d[d.length-1];if(C.insertAt==="top")M?M.nextSibling?L.insertBefore(_,M.nextSibling):L.appendChild(_):L.insertBefore(_,L.firstChild),d.push(_);else if(C.insertAt==="bottom")L.appendChild(_);else{if(typeof C.insertAt!="object"||!C.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var A=u(C.insertAt.before,L);L.insertBefore(_,A)}}function x(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C);var _=d.indexOf(C);_>=0&&d.splice(_,1)}function y(C){var _=document.createElement("style");if(C.attrs.type===void 0&&(C.attrs.type="text/css"),C.attrs.nonce===void 0){var L=function(){return i.nc}();L&&(C.attrs.nonce=L)}return w(_,C.attrs),m(C,_),_}function w(C,_){Object.keys(_).forEach(function(L){C.setAttribute(L,_[L])})}function v(C,_){var L,M,A,T;if(_.transform&&C.css){if(!(T=typeof _.transform=="function"?_.transform(C.css):_.transform.default(C.css)))return function(){};C.css=T}if(_.singleton){var P=h++;L=f||(f=y(_)),M=k.bind(null,L,P,!1),A=k.bind(null,L,P,!0)}else C.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(D){var $=document.createElement("link");return D.attrs.type===void 0&&(D.attrs.type="text/css"),D.attrs.rel="stylesheet",w($,D.attrs),m(D,$),$}(_),M=R.bind(null,L,_),A=function(){x(L),L.href&&URL.revokeObjectURL(L.href)}):(L=y(_),M=O.bind(null,L),A=function(){x(L)});return M(C),function(D){if(D){if(D.css===C.css&&D.media===C.media&&D.sourceMap===C.sourceMap)return;M(C=D)}else A()}}n.exports=function(C,_){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(_=_||{}).attrs=typeof _.attrs=="object"?_.attrs:{},_.singleton||typeof _.singleton=="boolean"||(_.singleton=a()),_.insertInto||(_.insertInto="head"),_.insertAt||(_.insertAt="bottom");var L=g(C,_);return b(L,_),function(M){for(var A=[],T=0;T<L.length;T++){var P=L[T];(D=l[P.id]).refs--,A.push(D)}for(M&&b(g(M,_),_),T=0;T<A.length;T++){var D;if((D=A[T]).refs===0){for(var $=0;$<D.parts.length;$++)D.parts[$]();delete l[D.id]}}}};var S,E=(S=[],function(C,_){return S[C]=_,S.filter(Boolean).join(`
`)});function k(C,_,L,M){var A=L?"":M.css;if(C.styleSheet)C.styleSheet.cssText=E(_,A);else{var T=document.createTextNode(A),P=C.childNodes;P[_]&&C.removeChild(P[_]),P.length?C.insertBefore(T,P[_]):C.appendChild(T)}}function O(C,_){var L=_.css,M=_.media;if(M&&C.setAttribute("media",M),C.styleSheet)C.styleSheet.cssText=L;else{for(;C.firstChild;)C.removeChild(C.firstChild);C.appendChild(document.createTextNode(L))}}function R(C,_,L){var M=L.css,A=L.sourceMap,T=_.convertToAbsoluteUrls===void 0&&A;(_.convertToAbsoluteUrls||T)&&(M=p(M)),A&&(M+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(A))))+" */");var P=new Blob([M],{type:"text/css"}),D=C.href;C.href=URL.createObjectURL(P),D&&URL.revokeObjectURL(D)}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,d){return d}).replace(/^'(.*)'$/,function(h,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){function o(C,_,L={}){const M=document.createElement(C);Array.isArray(_)?M.classList.add(..._):_&&M.classList.add(_);for(const A in L)Object.prototype.hasOwnProperty.call(L,A)&&(M[A]=L[A]);return M}function s(C){const _=C.getBoundingClientRect();return{y1:Math.floor(_.top+window.pageYOffset),x1:Math.floor(_.left+window.pageXOffset),x2:Math.floor(_.right+window.pageXOffset),y2:Math.floor(_.bottom+window.pageYOffset)}}function l(C,_){const L=s(C),M=s(_);return{fromTopBorder:M.y1-L.y1,fromLeftBorder:M.x1-L.x1,fromRightBorder:L.x2-M.x2,fromBottomBorder:L.y2-M.y2}}function a(C,_){return _.parentNode.insertBefore(C,_)}function c(C,_=!0){const L=document.createRange(),M=window.getSelection();L.selectNodeContents(C),L.collapse(_),M.removeAllRanges(),M.addRange(L)}i.r(r);class u{constructor({items:_}){this.items=_,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=o("div",u.CSS.popover),this.items.forEach((_,L)=>{const M=o("div",u.CSS.item),A=o("div",u.CSS.itemIcon,{innerHTML:_.icon}),T=o("div",u.CSS.itemLabel,{textContent:_.label});M.dataset.index=L,M.appendChild(A),M.appendChild(T),this.wrapper.appendChild(M),this.itemEls.push(M)}),this.wrapper.addEventListener("click",_=>{this.popoverClicked(_)}),this.wrapper}popoverClicked(_){const L=_.target.closest("."+u.CSS.item);if(!L)return;const M=L.dataset.index,A=this.items[M];!A.confirmationRequired||this.hasConfirmationState(L)?A.onClick():this.setConfirmationState(L)}setConfirmationState(_){_.classList.add(u.CSS.itemConfirmState)}clearConfirmationState(_){_.classList.remove(u.CSS.itemConfirmState)}hasConfirmationState(_){return _.classList.contains(u.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(u.CSS.popoverOpened)}open(){this.items.forEach((_,L)=>{typeof _.hideIf=="function"&&this.itemEls[L].classList.toggle(u.CSS.itemHidden,_.hideIf())}),this.wrapper.classList.add(u.CSS.popoverOpened)}close(){this.wrapper.classList.remove(u.CSS.popoverOpened),this.itemEls.forEach(_=>{this.clearConfirmationState(_)})}}var f=i(0),h=i.n(f);class d{constructor({api:_,items:L,onOpen:M,onClose:A,cssModifier:T=""}){this.api=_,this.items=L,this.onOpen=M,this.onClose=A,this.cssModifier=T,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const _=o("div",[d.CSS.toolbox,this.cssModifier?`${d.CSS.toolbox}--${this.cssModifier}`:""]),L=this.createPopover(),M=this.createToggler();return _.appendChild(M),_.appendChild(L),_}createToggler(){const _=o("div",d.CSS.toggler,{innerHTML:h.a});return _.addEventListener("click",()=>{this.togglerClicked()}),_}createPopover(){return this.popover=new u({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(_){const L=_();Object.entries(L).forEach(([M,A])=>{this.wrapper.style[M]=A}),this.wrapper.classList.add(d.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(d.CSS.toolboxShowed)}}const p='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',b='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',g="tc-wrap",m="tc-wrap--readonly",x="tc-table",y="tc-row",w="tc-table--heading",v="tc-row--selected",S="tc-cell",E="tc-cell--selected",k="tc-add-row",O="tc-add-column";class R{constructor(_,L,M,A){this.readOnly=_,this.api=L,this.data=M,this.config=A,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=T=>{const P=T.target.closest("."+x)!==null,D=T.target.closest("."+g)===null;(P||D)&&this.hideToolboxes();const $=T.target.closest("."+k),G=T.target.closest("."+O);$&&$.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):G&&G.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",function(_,L){let M=0;return function(...A){const T=new Date().getTime();if(!(T-M<_))return M=T,L(...A)}}(150,_=>this.onMouseMoveInTable(_)),{passive:!0}),this.table.onkeypress=_=>this.onKeyPressListener(_),this.table.addEventListener("keydown",_=>this.onKeyDownListener(_)),this.table.addEventListener("focusin",_=>this.focusInTableListener(_))}createColumnToolbox(){return new d({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:p,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new d({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:p,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(_,L){return this.table.querySelectorAll(`.${y}:nth-child(${_}) .${S}`)[L-1]}getRow(_){return this.table.querySelector(`.${y}:nth-child(${_})`)}getRowByCell(_){return _.parentElement}getRowFirstCell(_){return _.querySelector(`.${S}:first-child`)}setCellContent(_,L,M){this.getCell(_,L).innerHTML=M}addColumn(_=-1,L=!1){let M=this.numberOfColumns;for(let A=1;A<=this.numberOfRows;A++){let T;const P=this.createCell();if(_>0&&_<=M?(T=this.getCell(A,_),a(P,T)):T=this.getRow(A).appendChild(P),A===1){const D=this.getCell(A,_>0?_:M+1);D&&L&&c(D)}}this.addHeadingAttrToFirstRow()}addRow(_=-1,L=!1){let M,A=o("div",y);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let T=this.numberOfColumns;_>0&&_<=this.numberOfRows?M=a(A,this.getRow(_)):M=this.table.appendChild(A),this.fillRow(M,T),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const P=this.getRowFirstCell(M);return P&&L&&c(P),M}deleteColumn(_){for(let L=1;L<=this.numberOfRows;L++){const M=this.getCell(L,_);if(!M)return;M.remove()}}deleteRow(_){this.getRow(_).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=o("div",g),this.table=o("div",x),this.readOnly&&this.wrapper.classList.add(m),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const _=o("div",O,{innerHTML:b}),L=o("div",k,{innerHTML:b});this.wrapper.appendChild(_),this.wrapper.appendChild(L)}}computeInitialSize(){const _=this.data&&this.data.content,L=Array.isArray(_),M=!!L&&_.length,A=L?_.length:void 0,T=M?_[0].length:void 0,P=Number.parseInt(this.config&&this.config.rows),D=Number.parseInt(this.config&&this.config.cols),$=!isNaN(P)&&P>0?P:void 0,G=!isNaN(D)&&D>0?D:void 0;return{rows:A||$||2,cols:T||G||2}}resize(){const{rows:_,cols:L}=this.computeInitialSize();for(let M=0;M<_;M++)this.addRow();for(let M=0;M<L;M++)this.addColumn()}fill(){const _=this.data;if(_&&_.content)for(let L=0;L<_.content.length;L++)for(let M=0;M<_.content[L].length;M++)this.setCellContent(L+1,M+1,_.content[L][M])}fillRow(_,L){for(let M=1;M<=L;M++){const A=this.createCell();_.appendChild(A)}}createCell(){return o("div",S,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${y}:first-child .${S}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(_){const{row:L,column:M}=this.getHoveredCell(_);this.hoveredColumn=M,this.hoveredRow=L,this.updateToolboxesPosition()}onKeyPressListener(_){if(_.key==="Enter"){if(_.shiftKey)return!0;this.moveCursorToNextRow()}return _.key!=="Enter"}onKeyDownListener(_){_.key==="Tab"&&_.stopPropagation()}focusInTableListener(_){const L=_.target,M=this.getRowByCell(L);this.focusedCell={row:Array.from(this.table.querySelectorAll("."+y)).indexOf(M)+1,column:Array.from(M.querySelectorAll("."+S)).indexOf(L)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:_,column:L}=this.focusedCell;return this.getCell(_,L)}updateToolboxesPosition(_=this.hoveredRow,L=this.hoveredColumn){this.isColumnMenuShowing||L>0&&L<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${L} - 1) * 2))`})),this.isRowMenuShowing||_>0&&_<=this.numberOfRows&&this.toolboxRow.show(()=>{const M=this.getRow(_),{fromTopBorder:A}=l(this.table,M),{height:T}=M.getBoundingClientRect();return{top:Math.ceil(A+T/2)+"px"}})}setHeadingsSetting(_){this.tunes.withHeadings=_,_?(this.table.classList.add(w),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(w),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let _=1;_<=this.numberOfColumns;_++){let L=this.getCell(1,_);L&&L.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let _=1;_<=this.numberOfColumns;_++){let L=this.getCell(1,_);L&&L.removeAttribute("heading")}}selectRow(_){const L=this.getRow(_);L&&(this.selectedRow=_,L.classList.add(v))}unselectRow(){if(this.selectedRow<=0)return;const _=this.table.querySelector("."+v);_&&_.classList.remove(v),this.selectedRow=0}selectColumn(_){for(let L=1;L<=this.numberOfRows;L++){const M=this.getCell(L,_);M&&M.classList.add(E)}this.selectedColumn=_}unselectColumn(){if(this.selectedColumn<=0)return;let _=this.table.querySelectorAll("."+E);Array.from(_).forEach(L=>{L.classList.remove(E)}),this.selectedColumn=0}getHoveredCell(_){let L=this.hoveredRow,M=this.hoveredColumn;const{width:A,height:T,x:P,y:D}=function($,G){const ne=$.getBoundingClientRect(),{width:ae,height:Re,x:he,y:U}=ne,{clientX:X,clientY:Q}=G;return{width:ae,height:Re,x:X-he,y:Q-U}}(this.table,_);return P>=0&&(M=this.binSearch(this.numberOfColumns,$=>this.getCell(1,$),({fromLeftBorder:$})=>P<$,({fromRightBorder:$})=>P>A-$)),D>=0&&(L=this.binSearch(this.numberOfRows,$=>this.getCell($,1),({fromTopBorder:$})=>D<$,({fromBottomBorder:$})=>D>T-$)),{row:L||this.hoveredRow,column:M||this.hoveredColumn}}binSearch(_,L,M,A){let T,P=0,D=_+1,$=0;for(;P<D-1&&$<10;){T=Math.ceil((P+D)/2);const G=L(T),ne=l(this.table,G);if(M(ne))D=T;else{if(!A(ne))break;P=T}$++}return T}getData(){const _=[];for(let L=1;L<=this.numberOfRows;L++){const M=this.table.querySelector(`.${y}:nth-child(${L})`),A=Array.from(M.querySelectorAll("."+S));A.every(T=>!T.textContent.trim())||_.push(A.map(T=>T.innerHTML))}return _}destroy(){document.removeEventListener("click",this.documentClicked)}}i(1),r.default=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:C,config:_,api:L,readOnly:M}){this.api=L,this.readOnly=M,this.config=_,this.data={withHeadings:this.getConfig("withHeadings",!1,C),content:C&&C.content?C.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new R(this.readOnly,this.api,this.data,this.config),this.container=o("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const C=this.table.getData();return{withHeadings:this.data.withHeadings,content:C}}destroy(){this.table.destroy()}getConfig(C,_,L){const M=this.data||L;return M?M[C]?M[C]:_:this.config&&this.config[C]?this.config[C]:_}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(C){const _=C.detail.data,L=_.querySelector(":scope > thead, tr:first-of-type th"),M=Array.from(_.querySelectorAll("tr")).map(A=>Array.from(A.querySelectorAll("th, td")).map(T=>T.innerHTML));this.data={withHeadings:L!==null,content:M},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}}]).default})})(NE);const jE=Un(mu);var gu={},FE={get exports(){return gu},set exports(t){gu=t}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return(()=>{var n={424:(s,l,a)=>{a.r(l),a.d(l,{default:()=>d});var c=a(81),u=a.n(c),f=a(645),h=a.n(f)()(u());h.push([s.id,`.ce-block--drop-target .ce-block__content:before {
  content: "";
  position: absolute;
  top: 50%;
  left: -20px;
  margin-top: -1px;
  height: 8px;
  width: 8px;
  border: solid #a0a0a0;
  border-width: 1px 1px 0 0;
  -webkit-transform-origin: right;
  transform-origin: right;
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.ce-block--drop-target .ce-block__content:after {
  background: none;
}`,""]);const d=h},645:s=>{s.exports=function(l){var a=[];return a.toString=function(){return this.map(function(c){var u="",f=c[5]!==void 0;return c[4]&&(u+="@supports (".concat(c[4],") {")),c[2]&&(u+="@media ".concat(c[2]," {")),f&&(u+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),u+=l(c),f&&(u+="}"),c[2]&&(u+="}"),c[4]&&(u+="}"),u}).join("")},a.i=function(c,u,f,h,d){typeof c=="string"&&(c=[[null,c,void 0]]);var p={};if(f)for(var b=0;b<this.length;b++){var g=this[b][0];g!=null&&(p[g]=!0)}for(var m=0;m<c.length;m++){var x=[].concat(c[m]);f&&p[x[0]]||(d!==void 0&&(x[5]===void 0||(x[1]="@layer".concat(x[5].length>0?" ".concat(x[5]):""," {").concat(x[1],"}")),x[5]=d),u&&(x[2]&&(x[1]="@media ".concat(x[2]," {").concat(x[1],"}")),x[2]=u),h&&(x[4]?(x[1]="@supports (".concat(x[4],") {").concat(x[1],"}"),x[4]=h):x[4]="".concat(h)),a.push(x))}},a}},81:s=>{s.exports=function(l){return l[1]}},406:(s,l,a)=>{var c=a(424);typeof c=="string"&&(c=[[s.id,c,""]]),a(723)(c,{hmr:!0,transform:void 0,insertInto:void 0}),c.locals&&(s.exports=c.locals)},723:(s,l,a)=>{var c,u,f={},h=(c=function(){return window&&document&&document.all&&!window.atob},function(){return u===void 0&&(u=c.apply(this,arguments)),u}),d=function(A){return document.querySelector(A)},p=function(A){var T={};return function(P){if(typeof P=="function")return P();if(T[P]===void 0){var D=d.call(this,P);if(window.HTMLIFrameElement&&D instanceof window.HTMLIFrameElement)try{D=D.contentDocument.head}catch{D=null}T[P]=D}return T[P]}}(),b=null,g=0,m=[],x=a(947);function y(A,T){for(var P=0;P<A.length;P++){var D=A[P],$=f[D.id];if($){$.refs++;for(var G=0;G<$.parts.length;G++)$.parts[G](D.parts[G]);for(;G<D.parts.length;G++)$.parts.push(O(D.parts[G],T))}else{var ne=[];for(G=0;G<D.parts.length;G++)ne.push(O(D.parts[G],T));f[D.id]={id:D.id,refs:1,parts:ne}}}}function w(A,T){for(var P=[],D={},$=0;$<A.length;$++){var G=A[$],ne=T.base?G[0]+T.base:G[0],ae={css:G[1],media:G[2],sourceMap:G[3]};D[ne]?D[ne].parts.push(ae):P.push(D[ne]={id:ne,parts:[ae]})}return P}function v(A,T){var P=p(A.insertInto);if(!P)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var D=m[m.length-1];if(A.insertAt==="top")D?D.nextSibling?P.insertBefore(T,D.nextSibling):P.appendChild(T):P.insertBefore(T,P.firstChild),m.push(T);else if(A.insertAt==="bottom")P.appendChild(T);else{if(typeof A.insertAt!="object"||!A.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var $=p(A.insertInto+" "+A.insertAt.before);P.insertBefore(T,$)}}function S(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A);var T=m.indexOf(A);T>=0&&m.splice(T,1)}function E(A){var T=document.createElement("style");return A.attrs.type===void 0&&(A.attrs.type="text/css"),k(T,A.attrs),v(A,T),T}function k(A,T){Object.keys(T).forEach(function(P){A.setAttribute(P,T[P])})}function O(A,T){var P,D,$,G;if(T.transform&&A.css){if(!(G=T.transform(A.css)))return function(){};A.css=G}if(T.singleton){var ne=g++;P=b||(b=E(T)),D=_.bind(null,P,ne,!1),$=_.bind(null,P,ne,!0)}else A.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(P=function(ae){var Re=document.createElement("link");return ae.attrs.type===void 0&&(ae.attrs.type="text/css"),ae.attrs.rel="stylesheet",k(Re,ae.attrs),v(ae,Re),Re}(T),D=M.bind(null,P,T),$=function(){S(P),P.href&&URL.revokeObjectURL(P.href)}):(P=E(T),D=L.bind(null,P),$=function(){S(P)});return D(A),function(ae){if(ae){if(ae.css===A.css&&ae.media===A.media&&ae.sourceMap===A.sourceMap)return;D(A=ae)}else $()}}s.exports=function(A,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=h()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var P=w(A,T);return y(P,T),function(D){for(var $=[],G=0;G<P.length;G++){var ne=P[G];(ae=f[ne.id]).refs--,$.push(ae)}for(D&&y(w(D,T),T),G=0;G<$.length;G++){var ae;if((ae=$[G]).refs===0){for(var Re=0;Re<ae.parts.length;Re++)ae.parts[Re]();delete f[ae.id]}}}};var R,C=(R=[],function(A,T){return R[A]=T,R.filter(Boolean).join(`
`)});function _(A,T,P,D){var $=P?"":D.css;if(A.styleSheet)A.styleSheet.cssText=C(T,$);else{var G=document.createTextNode($),ne=A.childNodes;ne[T]&&A.removeChild(ne[T]),ne.length?A.insertBefore(G,ne[T]):A.appendChild(G)}}function L(A,T){var P=T.css,D=T.media;if(D&&A.setAttribute("media",D),A.styleSheet)A.styleSheet.cssText=P;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(P))}}function M(A,T,P){var D=P.css,$=P.sourceMap,G=T.convertToAbsoluteUrls===void 0&&$;(T.convertToAbsoluteUrls||G)&&(D=x(D)),$&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify($))))+" */");var ne=new Blob([D],{type:"text/css"}),ae=A.href;A.href=URL.createObjectURL(ne),ae&&URL.revokeObjectURL(ae)}},947:s=>{s.exports=function(l){var a=typeof window<"u"&&window.location;if(!a)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var c=a.protocol+"//"+a.host,u=c+a.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(f,h){var d,p=h.trim().replace(/^"(.*)"$/,function(b,g){return g}).replace(/^'(.*)'$/,function(b,g){return g});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(p)?f:(d=p.indexOf("//")===0?p:p.indexOf("/")===0?c+p:u+p.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}}},r={};function i(s){var l=r[s];if(l!==void 0)return l.exports;var a=r[s]={id:s,exports:{}};return n[s](a,a.exports,i),a.exports}i.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return i.d(l,{a:l}),l},i.d=(s,l)=>{for(var a in l)i.o(l,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:l[a]})},i.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),i.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var o={};return(()=>{function s(a,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}i.d(o,{default:()=>l}),i(406);var l=function(){function a(h,d){var p=h.configuration,b=h.blocks,g=h.toolbar,m=h.save;(function(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")})(this,a),this.toolbar=g,this.borderStyle=d||"1px dashed #aaa",this.api=b,this.holder=typeof p.holder=="string"?document.getElementById(p.holder):p.holder,this.readOnly=p.readOnly,this.startBlock=null,this.endBlock=null,this.save=m,this.setDragListener(),this.setDropListener()}var c,u,f;return c=a,f=[{key:"isReadOnlySupported",get:function(){return!0}}],(u=[{key:"setElementCursor",value:function(h){if(h){var d=document.createRange(),p=window.getSelection();d.setStart(h.childNodes[0],0),d.collapse(!0),p.removeAllRanges(),p.addRange(d),h.focus()}}},{key:"setDragListener",value:function(){var h=this;if(!this.readOnly){var d=this.holder.querySelector(".ce-toolbar__settings-btn");d.setAttribute("draggable","true"),d.addEventListener("dragstart",function(){h.startBlock=h.api.getCurrentBlockIndex()}),d.addEventListener("drag",function(){if(h.toolbar.close(),!h.isTheOnlyBlock()){var p=h.holder.querySelectorAll(".ce-block"),b=h.holder.querySelector(".ce-block--drop-target");h.setElementCursor(b),h.setBorderBlocks(p,b)}})}}},{key:"setBorderBlocks",value:function(h,d){var p=this;Object.values(h).forEach(function(b){var g=b.querySelector(".ce-block__content");b!==d?(g.style.removeProperty("border-top"),g.style.removeProperty("border-bottom")):Object.keys(h).find(function(m){return h[m]===d})>p.startBlock?g.style.borderBottom=p.borderStyle||borderStyle:g.style.borderTop=p.borderStyle})}},{key:"setDropListener",value:function(){var h=this;document.addEventListener("drop",function(d){var p=d.target;if(h.holder.contains(p)&&h.startBlock!==null){var b=h.getDropTarget(p);if(b){var g=b.querySelector(".ce-block__content");g.style.removeProperty("border-top"),g.style.removeProperty("border-bottom"),h.endBlock=h.getTargetPosition(b),h.moveBlocks()}}h.startBlock=null})}},{key:"getDropTarget",value:function(h){return h.classList.contains("ce-block")?h:h.closest(".ce-block")}},{key:"getTargetPosition",value:function(h){return Array.from(h.parentNode.children).indexOf(h)}},{key:"isTheOnlyBlock",value:function(){return this.api.getBlocksCount()===1}},{key:"moveBlocks",value:function(){this.isTheOnlyBlock()||this.api.move(this.endBlock,this.startBlock)}}])&&s(c.prototype,u),f&&s(c,f),Object.defineProperty(c,"prototype",{writable:!1}),a}()})(),o.default})()})})(FE);const HE=Un(gu);var yu={},VE={get exports(){return yu},set exports(t){yu=t}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={424:(o,s,l)=>{(s=l(645)(!1)).push([o.id,`.picker_wrapper.popup {
  z-index: 99;
  width: 170px;
  margin: 0;
  box-shadow: 0 0 10px 1px #eaeaea;
  background: #ffffff;
}

.picker_arrow {
  display: none;
}

.layout_default .picker_slider, .layout_default .picker_selector {
  padding: 5px;
}

.colorPlugin.ce-inline-tool {
  width: 32px;
  border-radius: 3px;
}

.colorPlugin.ce-inline-tool--active svg {
  fill: #3c99ff;
}

#color-left-btn {
  height: 35px;
  width: 18px;
  font-weight: 600;
  display: flex;
  align-items: center;
}

#color-left-btn:hover {
  border-radius: 5px 0 0 5px;
  background: rgba(203, 203, 203, 0.49);
}

#color-text {
  padding: 0 4px;
}

#color-btn-text {
  height: 15px;
}

`,""]),o.exports=s},645:o=>{o.exports=function(s){var l=[];return l.toString=function(){return this.map(function(a){var c=function(u,f){var h,d,p,b=u[1]||"",g=u[3];if(!g)return b;if(f&&typeof btoa=="function"){var m=(h=g,d=btoa(unescape(encodeURIComponent(JSON.stringify(h)))),p="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(d),"/*# ".concat(p," */")),x=g.sources.map(function(y){return"/*# sourceURL=".concat(g.sourceRoot||"").concat(y," */")});return[b].concat(x).concat([m]).join(`
`)}return[b].join(`
`)}(a,s);return a[2]?"@media ".concat(a[2]," {").concat(c,"}"):c}).join("")},l.i=function(a,c,u){typeof a=="string"&&(a=[[null,a,""]]);var f={};if(u)for(var h=0;h<this.length;h++){var d=this[h][0];d!=null&&(f[d]=!0)}for(var p=0;p<a.length;p++){var b=[].concat(a[p]);u&&f[b[0]]||(c&&(b[2]?b[2]="".concat(c," and ").concat(b[2]):b[2]=c),l.push(b))}},l}},548:(o,s,l)=>{var a=l(379),c=l(424);typeof(c=c.__esModule?c.default:c)=="string"&&(c=[[o.id,c,""]]),a(c,{insert:"head",singleton:!1}),o.exports=c.locals||{}},379:(o,s,l)=>{var a,c=function(){var v={};return function(S){if(v[S]===void 0){var E=document.querySelector(S);if(window.HTMLIFrameElement&&E instanceof window.HTMLIFrameElement)try{E=E.contentDocument.head}catch{E=null}v[S]=E}return v[S]}}(),u=[];function f(v){for(var S=-1,E=0;E<u.length;E++)if(u[E].identifier===v){S=E;break}return S}function h(v,S){for(var E={},k=[],O=0;O<v.length;O++){var R=v[O],C=S.base?R[0]+S.base:R[0],_=E[C]||0,L="".concat(C," ").concat(_);E[C]=_+1;var M=f(L),A={css:R[1],media:R[2],sourceMap:R[3]};M!==-1?(u[M].references++,u[M].updater(A)):u.push({identifier:L,updater:w(A,S),references:1}),k.push(L)}return k}function d(v){var S=document.createElement("style"),E=v.attributes||{};if(E.nonce===void 0){var k=l.nc;k&&(E.nonce=k)}if(Object.keys(E).forEach(function(R){S.setAttribute(R,E[R])}),typeof v.insert=="function")v.insert(S);else{var O=c(v.insert||"head");if(!O)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");O.appendChild(S)}return S}var p,b=(p=[],function(v,S){return p[v]=S,p.filter(Boolean).join(`
`)});function g(v,S,E,k){var O=E?"":k.media?"@media ".concat(k.media," {").concat(k.css,"}"):k.css;if(v.styleSheet)v.styleSheet.cssText=b(S,O);else{var R=document.createTextNode(O),C=v.childNodes;C[S]&&v.removeChild(C[S]),C.length?v.insertBefore(R,C[S]):v.appendChild(R)}}function m(v,S,E){var k=E.css,O=E.media,R=E.sourceMap;if(O?v.setAttribute("media",O):v.removeAttribute("media"),R&&typeof btoa<"u"&&(k+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(R))))," */")),v.styleSheet)v.styleSheet.cssText=k;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(k))}}var x=null,y=0;function w(v,S){var E,k,O;if(S.singleton){var R=y++;E=x||(x=d(S)),k=g.bind(null,E,R,!1),O=g.bind(null,E,R,!0)}else E=d(S),k=m.bind(null,E,S),O=function(){(function(C){if(C.parentNode===null)return!1;C.parentNode.removeChild(C)})(E)};return k(v),function(C){if(C){if(C.css===v.css&&C.media===v.media&&C.sourceMap===v.sourceMap)return;k(v=C)}else O()}}o.exports=function(v,S){(S=S||{}).singleton||typeof S.singleton=="boolean"||(S.singleton=(a===void 0&&(a=!!(window&&document&&document.all&&!window.atob)),a));var E=h(v=v||[],S);return function(k){if(k=k||[],Object.prototype.toString.call(k)==="[object Array]"){for(var O=0;O<E.length;O++){var R=f(E[O]);u[R].references--}for(var C=h(k,S),_=0;_<E.length;_++){var L=f(E[_]);u[L].references===0&&(u[L].updater(),u.splice(L,1))}E=C}}}},452:o=>{o.exports={markerIcon:`<svg fill="#000000" height="34px" width="34px" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
	 viewBox="0 0 491.644 491.644" xml:space="preserve">
<g>
	<path d="M456.623,2.282c-42.758-20.283-141.107,96.84-223.473,264.224c-2.35,4.776-2.686,10.294-0.936,15.32
		c1.75,5.026,5.442,9.145,10.251,11.426L366.758,352.2c4.809,2.281,10.332,2.538,15.333,0.714c5.001-1.825,9.059-5.579,11.272-10.42
		C470.883,172.829,499.385,22.562,456.623,2.282z"/>
	<path d="M34.71,461.799l-17.257,16.708c-2.225,2.17-2.934,5.475-1.773,8.363c1.179,2.886,3.985,4.773,7.099,4.773h160.887
		c-1.364-5.043-0.921-10.445,1.391-15.306l7.919-16.692H40.036C38.036,459.646,36.129,460.419,34.71,461.799z"/>
	<path d="M264.766,448.864l-32.615-15.458c-1.046-0.502-2.161-0.744-3.257-0.744c-2.87,0-5.611,1.614-6.901,4.372l-22.001,46.384
		c-0.871,1.789-0.723,3.895,0.341,5.564c1.046,1.661,2.888,2.661,4.855,2.661h0.046l44.275-0.378
		c2.206-0.016,4.206-1.299,5.159-3.292l13.724-28.925c0.856-1.838,0.967-3.936,0.29-5.846
		C268.004,451.292,266.585,449.728,264.766,448.864z"/>
	<path d="M348.445,366.038l-112.572-51.392c-8.909-4.067-19.434-0.227-23.63,8.622c-2.551,5.378-3.58,11.353-2.975,17.275
		l5.2,50.909c0.703,6.882,4.983,12.884,11.261,15.792l60.031,27.797c6.688,3.097,14.548,2.179,20.343-2.375l45.983-36.137
		c4.931-3.875,7.487-10.041,6.743-16.269C358.086,374.032,354.151,368.642,348.445,366.038z"/>
</g>
</svg>`,textIcon:'<svg fill="#000000" viewBox="-6 0 512 512" xmlns="http://www.w3.org/2000/svg"><g stroke-width="0"></g><g stroke-linecap="round" stroke-linejoin="round"></g><g><title>text</title><path d="M365 432L328 352 172 352 135 432 64 432 227 80 272 80 436 432 365 432ZM201 288L299 288 250 183 201 288Z"></path></g></svg>'}},138:(o,s,l)=>{const a=l(442),{markerIcon:c,textIcon:u}=l(452),{getDefaultColorCache:f,handleCSSVariables:h}=l(697);l(548).toString(),o.exports=class{constructor({config:d,api:p}){this.api=p,this.config=d,this.clickedOnLeft=!1,this.pluginType=this.config.type||"text",this.parentTag=this.pluginType==="marker"?"MARK":"FONT",this.hasCustomPicker=this.config.customPicker||!1,this.color=h(f(this.config.defaultColor,this.pluginType)),this.picker=null,this.icon=null,this.button=null,this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add("colorPlugin"),this.button.classList.add(this.iconClasses.base),this.button.appendChild(this.createLeftButton()),this.button.appendChild(this.createRightButton(this)),this.button}createLeftButton(){return this.icon||(this.icon=document.createElement("div"),this.icon.id="color-left-btn",this.icon.appendChild(this.createButtonIcon()),this.icon.addEventListener("click",()=>this.clickedOnLeft=!0)),this.icon}createButtonIcon(){const d=document.createElement("div");d.id="color-btn-text";const p=this.pluginType==="marker"?c:u;return d.innerHTML=this.config.icon||p,d}createRightButton(d){return this.picker||(this.picker=new a.ColorPlugin({onColorPicked:function(p){d.color=p},hasCustomPicker:this.hasCustomPicker,defaultColor:this.config.defaultColor,colorCollections:this.config.colorCollections,type:this.pluginType})),this.picker}surround(d){if(!d)return;const p=this.api.selection.findParentTag("SPAN");p&&this.unwrap(p);const b=this.api.selection.findParentTag(this.parentTag);b?this.unwrap(b):this.wrap(d),this.clickedOnLeft=!1}wrap(d){const p=d.extractContents(),b=document.createElement(this.parentTag);b.appendChild(p),d.insertNode(b),this.pluginType==="marker"?this.wrapMarker(b):this.wrapTextColor(b),this.api.selection.expandToTag(b)}wrapMarker(d){d.style.backgroundColor=this.color;const p=this.api.selection.findParentTag("FONT");p&&(d.style.color=p.style.color)}wrapTextColor(d){d.style.color=this.color}unwrap(d){this.api.selection.expandToTag(d);const p=window.getSelection(),b=p.getRangeAt(0),g=b.extractContents();this.clickedOnLeft?this.removeWrapper(d):this.updateWrapper(d),b.insertNode(g),p.removeAllRanges(),p.addRange(b)}updateWrapper(d){this.pluginType==="marker"?d.style.backgroundColor=this.color:d.style.color=this.color}removeWrapper(d){d.parentNode.removeChild(d)}checkState(){const d=this.api.selection.findParentTag("SPAN"),p=this.api.selection.findParentTag(this.parentTag);let b=d?this.handleLegacyWrapper(d,p):p;return this.button.classList.toggle(this.iconClasses.active,!!b),!!b}handleLegacyWrapper(d,p){return this.pluginType==="marker"?d:p&d}static get sanitize(){return{font:!0,span:!0,mark:!0}}clear(){this.picker=null,this.icon=null}}},442:(o,s,l)=>{l.r(s),l.d(s,{ColorPlugin:()=>p});class a extends HTMLElement{static get observedAttributes(){return["disabled","icon","loading","href","htmltype"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host{ 
            position:relative; 
            display:inline-flex; 
            padding: .25em .625em;
            box-sizing:border-box; 
            vertical-align: middle;
            line-height: 1.8;
            width: 5px;
            overflow:hidden; 
            align-items:center;
            justify-content: center;
            font-size: 14px; 
            color: var(--fontColor,#333);  
            border-radius: var(--borderRadius,.25em);
            background: var(--fontColor,#333); 
            transition:background .3s,box-shadow .3s,border-color .3s,color .3s;
        }
        :host([shape="circle"]){ 
            border-radius:50%; 
        }
        /*
        :host(:not([disabled]):active){
            z-index:1;
            transform:translateY(.1em);
        }
        */
        :host([disabled]),:host([loading]){
            pointer-events: none; 
            opacity:.6; 
        }
        :host([block]){ 
            display:flex; 
        }
        :host([disabled]:not([type])){ 
            background:rgba(0,0,0,.1); 
        }
        :host([disabled]) .btn,:host([loading]) .btn{ 
            cursor: not-allowed; 
            pointer-events: all; 
        }
        :host(:not([type="primary"]):not([type="danger"]):not([disabled]):hover),
        :host(:not([type="primary"]):not([type="danger"]):focus-within),
        :host([type="flat"][focus]){ 
            color:var(--themeColor,#42b983); 
            border-color: var(--themeColor,#42b983); 
        }
        :host(:not([type="primary"]):not([type="danger"])) .btn::after{ 
            background-image: radial-gradient(circle, var(--themeColor,#42b983) 10%, transparent 10.01%); 
        }
        :host([type="primary"]){ 
            color: #fff; 
            background:var(--themeBackground,var(--themeColor,#42b983));
        }
        :host([type="danger"]){ 
            color: #fff; 
            background:var(--themeBackground,var(--dangerColor,#ff7875));
        }
        :host([type="dashed"]){ 
            border-style:dashed 
        }
        :host([type="flat"]),:host([type="primary"]),:host([type="danger"]){ 
            border:0;
            padding: calc( .25em + 1px ) calc( .625em + 1px );
        }
        :host([type="flat"]) .btn::before{ 
            content:''; 
            position:absolute; 
            background:var(--themeColor,#42b983);
            pointer-events:none; 
            left:0; 
            right:0; 
            top:0; 
            bottom:0; 
            opacity:0; 
            transition:.3s;
        }
        :host([type="flat"]:not([disabled]):hover) .btn::before{ 
            opacity:.1 
        }
        :host(:not([disabled]):hover){ 
            z-index:1 
        }
        :host([type="flat"]:focus-within) .btn:before,
        :host([type="flat"][focus]) .btn:before{ 
            opacity:.2; 
        }
        :host(:focus-within){ 
            /*box-shadow: 0 0 10px rgba(0,0,0,0.1);*/ 
        }
        .btn{ 
            background:none; 
            outline:0; 
            border:0; 
            position: 
            absolute; 
            left:0; 
            top:0;
            width:100%;
            height:100%;
            padding:0;
            user-select: none;
            cursor: unset;
        }
        xy-loading{ 
            margin-right: 0.35em;  
        }
        ::-moz-focus-inner{
            border:0;
        }
        .btn::before{
            content: "";
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            left:0;
            top:0;
            transition:.2s;
            background:#fff;
            opacity:0;
        }
        :host(:not([disabled]):active) .btn::before{ 
            opacity:.2;
        }
        .btn::after {
            content: "";
            display: block;
            position: absolute;
            width: 100%;
            height: 100%;
            left: var(--x,0); 
            top: var(--y,0);
            pointer-events: none;
            background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);
            background-repeat: no-repeat;
            background-position: 50%;
            transform: translate(-50%,-50%) scale(10);
            opacity: 0;
            transition: transform .3s, opacity .8s;
        }
        .btn:not([disabled]):active::after {
            transform: translate(-50%,-50%) scale(0);
            opacity: .3;
            transition: 0s;
        }
        xy-icon{
            margin-right: 0.35em;
            transition: none;
        }
        :host(:empty) xy-icon{
            margin: auto;
        }
        :host(:empty){
            padding: .65em;
        }
        :host([type="flat"]:empty),:host([type="primary"]:empty){ 
            padding: calc( .65em + 1px );
        }
        ::slotted(xy-icon){
            transition: none;
        }
        :host([href]){
            cursor:pointer;
        }
        </style>
        <${this.href?"a":"button"} ${this.htmltype?'type="'+this.htmltype+'"':""} ${this.download&&this.href?'download="'+this.download+'"':""} ${this.href?'href="'+this.href+'" target="'+this.target+'" rel="'+this.rel+'"':""} class="btn" id="btn"></${this.href?"a":"button"}>${!this.loading&&this.icon&&this.icon!="null"?'<xy-icon id="icon" name='+this.icon+"></xy-icon>":""}<slot></slot>
        `}focus(){this.btn.focus()}get disabled(){return this.getAttribute("disabled")!==null}get toggle(){return this.getAttribute("toggle")!==null}get htmltype(){return this.getAttribute("htmltype")}get name(){return this.getAttribute("name")}get checked(){return this.getAttribute("checked")!==null}get href(){return this.getAttribute("href")}get target(){return this.getAttribute("target")||"_blank"}get rel(){return this.getAttribute("rel")}get download(){return this.getAttribute("download")}get icon(){return this.getAttribute("icon")}get loading(){return this.getAttribute("loading")!==null}set icon(g){this.setAttribute("icon",g)}set htmltype(g){this.setAttribute("htmltype",g)}set href(g){this.setAttribute("href",g)}set disabled(g){g===null||g===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}set checked(g){g===null||g===!1?this.removeAttribute("checked"):this.setAttribute("checked","")}set loading(g){g===null||g===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}connectedCallback(){this.btn=this.shadowRoot.getElementById("btn"),this.ico=this.shadowRoot.getElementById("icon"),this.load=document.createElement("xy-loading"),this.load.style.color="inherit",this.btn.addEventListener("mousedown",function(g){if(!this.disabled){const{left:m,top:x}=this.getBoundingClientRect();this.style.setProperty("--x",g.clientX-m+"px"),this.style.setProperty("--y",g.clientY-x+"px")}}),this.addEventListener("click",function(g){this.toggle&&(this.checked=!this.checked)}),this.btn.addEventListener("keydown",g=>{g.keyCode===13&&g.stopPropagation()}),this.disabled=this.disabled,this.loading=this.loading}attributeChangedCallback(g,m,x){g=="disabled"&&this.btn&&(x!==null?(this.btn.setAttribute("disabled","disabled"),this.href&&this.btn.removeAttribute("href")):(this.btn.removeAttribute("disabled"),this.href&&(this.btn.href=this.href))),g=="loading"&&this.btn&&(x!==null?(this.shadowRoot.prepend(this.load),this.btn.setAttribute("disabled","disabled")):(this.shadowRoot.removeChild(this.load),this.btn.removeAttribute("disabled"))),g=="icon"&&this.ico&&(this.ico.name=x),g=="href"&&this.btn&&(this.disabled||(this.btn.href=x)),g=="htmltype"&&this.btn&&(this.btn.type=x)}}customElements.get("xy-button")||customElements.define("xy-button",a);class c extends HTMLElement{static get observedAttributes(){return["disabled"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host {
            display:inline-flex;
        }
        ::slotted(xy-button:not(:first-of-type):not(:last-of-type)){
            border-radius:0;
        }
        ::slotted(xy-button){
            margin:0!important;
        }
        ::slotted(xy-button:not(:first-of-type)){
            margin-left:-1px!important;
        }
        ::slotted(xy-button[type]:not([type="dashed"]):not(:first-of-type)){
            margin-left:1px!important;
        }
        ::slotted(xy-button:first-of-type){
            border-top-right-radius: 0;
            border-bottom-right-radius: 0px;
        }
        ::slotted(xy-button:last-of-type){
            border-top-left-radius: 0;
            border-bottom-left-radius: 0;
        }
        </style>
        <slot></slot>
        `}get disabled(){return this.getAttribute("disabled")!==null}set disabled(g){g===null||g===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}connectedCallback(){}attributeChangedCallback(g,m,x){}}customElements.get("xy-button-group")||customElements.define("xy-button-group",c);class u extends HTMLElement{static get observedAttributes(){return["open","title","oktext","canceltext","loading","type"]}constructor(g){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host{
            position:absolute;
            display:flex;
            box-shadow: 2px 2px 15px rgba(0,0,0,0.15);
            box-sizing: border-box;
            transform:scale(0);
            opacity:0.5;
            border-radius: 3px;
            z-index:10;
            transition:.3s cubic-bezier(.645, .045, .355, 1);
            transform-origin:inherit;
            background:#fff;
            visibility:hidden;
        }
        .popcon-content{
            box-sizing: border-box;
            display:flex;
            width: max-content;
            padding: 0 15px;
            flex:1;
            flex-direction:column;
        }
        .popcon-title {
            line-height: 30px;
            padding: 15px 30px 0 0;
            font-weight: 700;
            font-size: 14px;
            color: #4c5161;
            user-select: none;
            cursor: default;
        }
        .popcon-body {
            flex: 1;
            padding: 5px 0 15px 0;
        }
        .popcon-footer {
            padding: 3px 0 15px 0;
            margin-top: -3px;
            text-align: right;
            white-space: nowrap;
        }
        .btn-close{
            position:absolute;
            right:10px;
            top:10px;
            border:0;
        }
        .popcon-footer xy-button {
            font-size: .8em;
            margin-left: .8em;
        }
        .popcon-type{
            display:flex;
            width:30px;
            height:30px;
            font-size:22px;
            margin: 15px -10px 0 15px;
        }
        /*
        :host(:not([type="confirm"])) .popcon-type,
        :host(:not([type="confirm"])) .popcon-footer,
        :host(:not([type])) .popcon-title,
        :host(:not([type])) .btn-close{
            display:none;
        }
        */
        :host([type="confirm"]){
            min-width:250px;
        }
        :host([type="confirm"]) .popcon-body{
            font-size:14px;
        }
        :host(:not([type])) .popcon-content,:host(:not([type])) .popcon-body{
            padding: 0;
        }
        </style>
            ${(g||this.type)==="confirm"?'<xy-icon id="popcon-type" class="popcon-type" name="question-circle" color="var(--waringColor,#faad14)"></xy-icon>':""}
            <div class="popcon-content">
                ${(g||this.type)!==null?'<div class="popcon-title" id="title">'+this.title+'</div><xy-button class="btn-close" id="btn-close" icon="close"></xy-button>':""}
                <div class="popcon-body">
                    <slot></slot>
                </div>
                ${(g||this.type)==="confirm"?'<div class="popcon-footer"><xy-button id="btn-cancel">'+this.canceltext+'</xy-button><xy-button id="btn-submit" type="primary">'+this.oktext+"</xy-button></div>":""}
            </div>
        `}get open(){return this.getAttribute("open")!==null}get stopfocus(){return this.getAttribute("stopfocus")!==null}get title(){return this.getAttribute("title")||"popcon"}get type(){return this.getAttribute("type")}get oktext(){return this.getAttribute("oktext")||"confirm"}get canceltext(){return this.getAttribute("canceltext")||"cancel"}get loading(){return this.getAttribute("loading")!==null}set title(g){this.setAttribute("title",g)}set type(g){g===null||g===!1?this.removeAttribute("type"):this.setAttribute("type",g)}set oktext(g){this.setAttribute("oktext",g)}set canceltext(g){this.setAttribute("canceltext",g)}set open(g){g===null||g===!1?(this.removeAttribute("open"),this.parentNode.removeAttribute("open")):(this.setAttribute("open",""),this.parentNode.setAttribute("open",""),this.loading&&(this.loading=!1))}set loading(g){g===null||g===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}connectedCallback(){this.remove=!1,this.type&&(this.titles=this.shadowRoot.getElementById("title"),this.btnClose=this.shadowRoot.getElementById("btn-close")),this.type=="confirm"&&(this.btnCancel=this.shadowRoot.getElementById("btn-cancel"),this.btnSubmit=this.shadowRoot.getElementById("btn-submit")),this.addEventListener("transitionend",g=>{g.propertyName==="transform"&&this.open&&(this.type=="confirm"&&this.btnSubmit.focus(),this.type=="pane"&&this.btnClose.focus(),this.dispatchEvent(new CustomEvent("open")))}),this.addEventListener("transitionend",g=>{g.propertyName!=="transform"||this.open||(this.remove&&this.parentNode.removeChild(this),this.dispatchEvent(new CustomEvent("close")))}),this.addEventListener("click",g=>{g.target.closest("[autoclose]")&&(this.open=!1,window.xyActiveElement.focus())}),this.type&&this.btnClose.addEventListener("click",()=>{this.open=!1,window.xyActiveElement.focus()}),this.type=="confirm"&&(this.btnCancel.addEventListener("click",async()=>{this.dispatchEvent(new CustomEvent("cancel")),this.open=!1,window.xyActiveElement.focus()}),this.btnSubmit.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("submit")),this.loading||(this.open=!1,window.xyActiveElement.focus())}))}attributeChangedCallback(g,m,x){g=="open"&&this.shadowRoot&&x==null&&this.stopfocus,g=="loading"&&this.shadowRoot&&(this.btnSubmit.loading=x!==null),g=="title"&&this.titles&&x!==null&&(this.titles.innerHTML=x),g=="oktext"&&this.btnSubmit&&x!==null&&(this.btnSubmit.innerHTML=x),g=="canceltext"&&this.btnCancel&&x!==null&&(this.btnCancel.innerHTML=x)}}customElements.get("xy-popcon")||customElements.define("xy-popcon",u);class f extends HTMLElement{static get observedAttributes(){return["title","oktext","canceltext","loading","type"]}constructor(){super(),this.attachShadow({mode:"open"}).innerHTML=`
        <style>
        :host {
            display:inline-block;
            position:relative;
            overflow:visible;
        }
        :host([dir="top"]) ::slotted(xy-popcon){
            bottom:100%;
            left:50%;
            transform:translate(-50%,-10px) scale(0);
            transform-origin: center bottom;
        }
        :host([dir="top"]) ::slotted(xy-popcon[open]),
        :host([dir="top"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="top"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-50%,-10px) scale(1);
        }
        :host([dir="right"]) ::slotted(xy-popcon){
            left:100%;
            top:50%;
            transform:translate(10px,-50%) scale(0);
            transform-origin: left;
        }
        :host([dir="right"]) ::slotted(xy-popcon[open]),
        :host([dir="right"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="right"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px,-50%) scale(1);
        }
        :host([dir="bottom"]) ::slotted(xy-popcon){
            top:100%;
            left:50%;
            transform:translate(-50%,10px) scale(0);
            transform-origin: center top;
        }
        :host([dir="bottom"]) ::slotted(xy-popcon[open]),
        :host([dir="bottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-50%,10px) scale(1);
        }
        :host([dir="left"]) ::slotted(xy-popcon){
            right:100%;
            top:50%;
            transform:translate(-10px,-50%) scale(0);
            transform-origin: right;
        }
        :host([dir="left"]) ::slotted(xy-popcon[open]),
        :host([dir="left"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="left"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px,-50%) scale(1);
        }
        :host([dir="lefttop"]) ::slotted(xy-popcon){
            right:100%;
            top:0;
            transform:translate(-10px) scale(0);
            transform-origin: right top;
        }
        :host([dir="lefttop"]) ::slotted(xy-popcon[open]),
        :host([dir="lefttop"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="lefttop"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px) scale(1);
        }
        :host([dir="leftbottom"]) ::slotted(xy-popcon){
            right:100%;
            bottom:0;
            transform:translate(-10px) scale(0);
            transform-origin: right bottom;
        }
        :host([dir="leftbottom"]) ::slotted(xy-popcon[open]),
        :host([dir="leftbottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="leftbottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(-10px) scale(1);
        }
        :host([dir="topleft"]) ::slotted(xy-popcon){
            bottom:100%;
            left:0;
            transform:translate(0,-10px) scale(0);
            transform-origin: left bottom;
        }
        :host([dir="topleft"]) ::slotted(xy-popcon[open]),
        :host([dir="topleft"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="topleft"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,-10px) scale(1);
        }
        :host([dir="topright"]) ::slotted(xy-popcon){
            bottom:100%;
            right:0;
            transform:translate(0,-10px) scale(0);
            transform-origin: right bottom;
        }
        :host([dir="topright"]) ::slotted(xy-popcon[open]),
        :host([dir="topright"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="topright"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,-10px) scale(1);
        }
        :host([dir="righttop"]) ::slotted(xy-popcon){
            left:100%;
            top:0;
            transform:translate(10px) scale(0);
            transform-origin: left top;
        }
        :host([dir="righttop"]) ::slotted(xy-popcon[open]),
        :host([dir="righttop"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="righttop"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px) scale(1);
        }
        :host([dir="rightbottom"]) ::slotted(xy-popcon){
            left:100%;
            bottom:0;
            transform:translate(10px) scale(0);
            transform-origin: left bottom;
        }
        :host([dir="rightbottom"]) ::slotted(xy-popcon[open]),
        :host([dir="rightbottom"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="rightbottom"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(10px) scale(1);
        }
        :host([dir="bottomleft"]) ::slotted(xy-popcon),
        :host(:not([dir])) ::slotted(xy-popcon){
            left:0;
            top:100%;
            transform:translate(0,10px) scale(0);
            transform-origin: left top;
        }
        :host(:not([dir])) ::slotted(xy-popcon[open]),
        :host(:not([dir])[trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host(:not([dir])[trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon),
        :host([dir="bottomleft"]) ::slotted(xy-popcon[open]),
        :host([dir="bottomleft"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottomleft"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,10px) scale(1);
        }
        :host([dir="bottomright"]) ::slotted(xy-popcon){
            right:0;
            top:100%;
            transform:translate(0,10px) scale(0);
            transform-origin: right top;
        }
        :host([dir="bottomright"]) ::slotted(xy-popcon[open]),
        :host([dir="bottomright"][trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([dir="bottomright"][trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            transform:translate(0,10px) scale(1);
        }
        :host([trigger="contextmenu"]) ::slotted(xy-popcon){
            right:auto;
            bottom:auto;
            left:var(--x,0);
            top:var(--y,100%);
            transform-origin: left top;
            transform:translate(5px,5px) scale(0);
            transition: .15s;
        }
        :host([trigger="contextmenu"]) ::slotted(xy-popcon[open]){
            transform:translate(5px,5px) scale(1);
        }
        :host ::slotted(xy-popcon[open]),
        :host([trigger="hover"]:not([disabled]):hover) ::slotted(xy-popcon),
        :host([trigger="focus"]:not([disabled]):focus-within) ::slotted(xy-popcon){
            opacity:1;
            visibility:visible;
        }
        slot{
            border-radius: inherit;
        }
        </style>
        <slot></slot>
        `}get title(){return this.getAttribute("title")||"popcon"}get trigger(){return this.getAttribute("trigger")}get disabled(){return this.getAttribute("disabled")!==null}get type(){return this.getAttribute("type")}get accomplish(){return this.getAttribute("accomplish")!==null}get content(){return this.getAttribute("content")}get oktext(){return this.getAttribute("oktext")}get canceltext(){return this.getAttribute("canceltext")}get dir(){return this.getAttribute("dir")}get loading(){return this.getAttribute("loading")!==null}set dir(g){this.setAttribute("dir",g)}set title(g){this.setAttribute("title",g)}set type(g){this.setAttribute("type",g)}set oktext(g){this.setAttribute("oktext",g)}set canceltext(g){this.setAttribute("canceltext",g)}set loading(g){g===null||g===!1?this.removeAttribute("loading"):this.setAttribute("loading","")}set disabled(g){g===null||g===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}show(g){if(this.popcon=this.querySelector("xy-popcon"),this.disabled)(this.popcon||this).dispatchEvent(new CustomEvent("submit"));else if(this.popcon||(this.popcon=new u(this.type),this.popcon.type=this.type,this.appendChild(this.popcon),this.popcon.title=this.title||"popover",this.popcon.innerHTML=this.content||"",this.type=="confirm"&&(this.popcon.oktext=this.oktext||"confirm",this.popcon.canceltext=this.canceltext||"cancel",this.popcon.onsubmit=()=>this.dispatchEvent(new CustomEvent("submit")),this.popcon.oncancel=()=>this.dispatchEvent(new CustomEvent("cancel")))),this.trigger==="contextmenu"){const{x:m,y:x}=this.getBoundingClientRect();this.popcon.style.setProperty("--x",g.clientX-m+"px"),this.popcon.style.setProperty("--y",g.clientY-x+"px"),this.popcon.open=!0}else(g.path||g.composedPath&&g.composedPath()).includes(this.popcon)||(window.xyActiveElement=document.activeElement,this.accomplish?this.popcon.open=!0:this.popcon.open=!this.popcon.open);return this.popcon}connectedCallback(){this.popcon=this.querySelector("xy-popcon"),this.trigger&&this.trigger!=="click"||this.addEventListener("click",this.show),this.trigger==="contextmenu"&&this.addEventListener("contextmenu",g=>{g.preventDefault(),(g.path||g.composedPath&&g.composedPath()).includes(this.popcon)||this.show(g)}),document.addEventListener("mousedown",g=>{const m=g.path||g.composedPath&&g.composedPath();(this.popcon&&!m.includes(this.popcon)&&!this.popcon.loading&&!m.includes(this.children[0])||this.trigger==="contextmenu"&&!m.includes(this.popcon)&&g.which=="1")&&(this.popcon.open=!1)})}attributeChangedCallback(g,m,x){g=="loading"&&this.popcon&&(this.popcon.loading=x!==null),g=="title"&&this.popcon&&x!==null&&(this.popcon.title=x),g=="oktext"&&this.popcon&&x!==null&&(this.popcon.oktext=x),g=="canceltext"&&this.popcon&&x!==null&&(this.popcon.canceltext=x)}}customElements.get("xy-popover")||customElements.define("xy-popover",f);var h=l(697);const d=["#ff1300","#EC7878","#9C27B0","#673AB7","#3F51B5","#0070FF","#03A9F4","#00BCD4","#4CAF50","#8BC34A","#CDDC39","#FFE500","#FFBF00","#FF9800","#795548","#9E9E9E","#5A5A5A","#FFF"];class p extends HTMLElement{static get observedAttributes(){return["disabled","dir"]}constructor(g){super();const m=this.attachShadow({mode:"open"});this.colorCollections=g.colorCollections||d,this.onColorPicked=g.onColorPicked,this.defaulColor=(0,h.handleCSSVariables)(g.defaultColor||this.colorCollections[0]),this.pluginType=g.type,this.hasCustomPicker=g.hasCustomPicker,this.customColor=(0,h.getCustomColorCache)(this.pluginType),m.innerHTML=`
        <style>
        :host{
            display:inline-block;
            width:15px;
            font-size:14px;
            border: none;
        }
        :host([block]){
            display:block;
        }
        :host([disabled]){
            pointer-events:none;
        }
        
        :host(:focus-within) xy-popover,:host(:hover) xy-popover{ 
            z-index: 2;
        }
        input[type="color"]{
            -webkit-appearance: none;
            outline: none;
            border: none;
        }
        xy-popover{
            width: 12px;
            height:35px;
            padding-right: 1px;
        }
        xy-popover:hover {
            border-radius: 0 5px 5px 0;
            background: rgba(203, 203, 203, 0.49);
        }
        .color-btn {
            border: 1px solid #cab9b9;
            margin: 18px 3px 2px 3px;
            width: 7px;
            height: 7px;
            opacity: 0.9;
            padding: 1px 0 1px 0;
            color: var(--themeColor, #42b983);
            background: var(--themeColor, #42b983);
            font-weight: bolder;
            border-radius: 2px;
        }
        .color-btn:hover {
            opacity: 1;
            z-index: auto;
        }
        xy-popover{
            display:block;
        }
        xy-popcon{
            position: fixed;
            min-width:100%;
        }
        #custom-picker {
            position: relative;
            top: -1px;
            background-color: rgb(250, 250, 250);
            border-color: rgb(255 118 21) rgb(245 80 80 / 74%) #89c1c9 #95d5b6;
            border-width: 3px;
            border-radius: 8px;
            height: 18px;
        }
        .pop-footer{
            display:flex;
            justify-content:flex-end;
            padding:0 .8em .8em;
        }
        .pop-footer xy-button{
            font-size: .8em;
            margin-left: .8em;
        }
        .color-btn::before{
            content:'';
            position:absolute;
            left:5px;
            top:5px;
            right:5px;
            bottom:5px;
            z-index:-1;
            background: linear-gradient(45deg, #ddd 25%,transparent 0,transparent 75%,#ddd 0 ), linear-gradient(45deg, #ddd 25%, transparent 0, transparent 75%, #ddd 0);
            background-position: 0 0,5px 5px;
            background-size: 10px 10px;
        }
        .color-sign {
           max-width: 220px;
           padding: 10px;
           display:grid;
           cursor: default;
           grid-template-columns: repeat(auto-fit, minmax(15px, 1fr));
           grid-gap: 10px;     
        }
        .color-sign>button {
            position: relative;
            width: 16px;
            height: 16px;
            border-radius: 6px;
            border: 1px solid #b8b9b49e;
            outline: 0;
            opacity: 0.9;
        }
        .color-sign>button:hover {
            cursor: pointer;
            opacity: 1;
        }
        .color-section {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .color-fire-btn {
            font-size: 17px;
            font-weight: bold;
            height: 28px;
            padding-top: 8px;
            padding-right: 1px;
            margin-left: 3px;
            padding-left: 3px;
            border-radius: 5px 0 0 5px;
        }
        .color-fire-btn:hover {
            font-size: 17px;
            font-weight: bold;
            background: rgba(203, 203, 203, 0.49);
            border-radius: 5px 0 0 5px;
        }
        </style>
        <section class="color-section">
            <xy-popover id="popover" ${this.dir?"dir='"+this.dir+"'":""}>
                <xy-button class="color-btn" id="color-btn" ${this.disabled?"disabled":""}>_</xy-button>
                <xy-popcon id="popcon">
                    <div class="color-sign" id="colors">
                        ${this.hasCustomPicker?'<button id="custom-picker" class="rainbow-mask"/>':""}
                        ${this.colorCollections.map(x=>'<button class="color-cube" style="background-color:'+x+'" data-color='+x+"></button>").join("")}
                    </div>
                </xy-popcon>
            </xy-popover>
        </section>`}focus(){this.colorBtn.focus()}connectedCallback(){this.popover=this.shadowRoot.getElementById("popover"),this.popcon=this.shadowRoot.getElementById("popcon"),this.colorBtn=this.shadowRoot.getElementById("color-btn"),this.colors=this.shadowRoot.getElementById("colors"),this.colors.addEventListener("click",g=>{const m=g.target.closest("button");m&&m.id!=="custom-picker"&&(this.nativeclick=!0,this.value=(0,h.handleCSSVariables)(m.dataset.color),this.onColorPicked(this.value))}),this.popover.addEventListener("click",()=>this.closeConverter()),this.hasCustomPicker&&this.setupCustomPicker(),this.value=this.defaultvalue}closeConverter(){var g;document.getElementsByClassName(h.CONVERTER_PANEL)[0]&&((g=document.getElementsByClassName(h.CONVERTER_BTN)[0])==null||g.click())}disconnectedCallback(){this.pickerInput&&document.body.removeChild(this.pickerInput)}setupCustomPicker(){let g=!1;this.customPicker=this.shadowRoot.getElementById("custom-picker");const m=this.customPicker;m.style.backgroundColor=this.customColor,this.customPicker.addEventListener("click",x=>{if(g)return void(g=!1);this.pickerInput&&document.body.removeChild(this.pickerInput),this.pickerInput=document.createElement("input");const y=this.pickerInput,w=this.popcon.getBoundingClientRect();y.setAttribute("type","color"),y.value=this.customColor,y.style.position="fixed",y.style.left=`${w.x+3}px`,y.style.top=`${w.y+10}px`,y.style.pointerEvents="none",y.style.zIndex="999",y.style.opacity="0",y.addEventListener("input",(0,h.throttle)(v=>{this.nativeclick=!0,this.value=(0,h.handleCSSVariables)(v.target.value),this.onColorPicked(this.value),(0,h.setCustomColorCache)(this.value,this.pluginType),m.style.backgroundColor=this.value,g=!0,m.click()},30)),document.body.appendChild(y),setTimeout(()=>{y.focus(),y.click()},0)})}get defaultvalue(){return this.defaulColor}get value(){return this.$value}get type(){return this.getAttribute("type")}get disabled(){return this.getAttribute("disabled")!==null}get dir(){return this.getAttribute("dir")}set dir(g){this.setAttribute("dir",g)}set disabled(g){g===null||g===!1?this.removeAttribute("disabled"):this.setAttribute("disabled","")}set defaultvalue(g){this.setAttribute("defaultvalue",g)}set value(g){g&&(this.$value=g,this.colorBtn.style.setProperty("--themeColor",this.nativeclick?(0,h.setDefaultColorCache)(g,this.pluginType):(0,h.getDefaultColorCache)(g,this.pluginType)),this.nativeclick?(this.nativeclick=!1,this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value}}))):this.colorPane?this.colorPane.value=this.value:this.defaultvalue=this.value)}attributeChangedCallback(g,m,x){g=="disabled"&&this.colorBtn&&(x!=null?this.colorBtn.setAttribute("disabled","disabled"):this.colorBtn.removeAttribute("disabled")),g=="dir"&&this.popover&&x!=null&&(this.popover.dir=x)}}customElements.get("xy-color-picker")||customElements.define("xy-color-picker",p)},697:(o,s,l)=>{l.r(s),l.d(s,{CONVERTER_BTN:()=>b,CONVERTER_PANEL:()=>g,getCustomColorCache:()=>p,getDefaultColorCache:()=>h,handleCSSVariables:()=>c,setCustomColorCache:()=>d,setDefaultColorCache:()=>f,throttle:()=>u});const a="editor-js-text-color-cache";function c(m){if(function(x){return(typeof(y=x)=="string"||y instanceof String)&&x.includes("--");var y}(m)){const x=function(y){const w=/\((.*?)\)/.exec(y);if(w)return w[1]}(m);return function(y){return window.getComputedStyle(document.documentElement).getPropertyValue(y)}(x)}return m}function u(m,x){let y;return(...w)=>{y||(y=setTimeout(()=>{m(...w),y=null},x))}}function f(m,x){return sessionStorage.setItem(`${a}-${x}`,JSON.stringify(m)),m}function h(m,x){const y=sessionStorage.getItem(`${a}-${x}`);return y?JSON.parse(y):m}function d(m,x){sessionStorage.setItem(`${a}-${x}-custom`,JSON.stringify(m))}function p(m){const x=sessionStorage.getItem(`${a}-${m}-custom`);return x?JSON.parse(x):null}const b="ce-inline-toolbar__dropdown",g="ce-conversion-toolbar--showed"}},r={};function i(o){var s=r[o];if(s!==void 0)return s.exports;var l=r[o]={id:o,exports:{}};return n[o](l,l.exports,i),l.exports}return i.d=(o,s)=>{for(var l in s)i.o(s,l)&&!i.o(o,l)&&Object.defineProperty(o,l,{enumerable:!0,get:s[l]})},i.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.nc=void 0,i(138)})())})(VE);const UE=Un(yu);class nt{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),er.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),er.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Go(this),o=new Go(e);for(let s=n,l=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new Go(this,e)}iterRange(e,n=this.length){return new G0(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Y0(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?nt.empty:e.length<=32?new Ct(e):er.from(Ct.split(e,[]))}}class Ct extends nt{constructor(e,n=zE(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],l=i+s.length;if((n?r:l)>=e)return new qE(i,l,r,s);i=l+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new Ct(dp(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),l=pl(o.text,s.text.slice(),0,o.length);if(l.length<=32)r.push(new Ct(l,s.length+o.length));else{let a=l.length>>1;r.push(new Ct(l.slice(0,a)),new Ct(l.slice(a)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof Ct))return super.replace(e,n,r);let i=pl(this.text,pl(r.text,dp(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new Ct(i,o):er.from(Ct.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let l=this.text[s],a=o+l.length;o>e&&s&&(i+=r),e<a&&n>o&&(i+=l.slice(Math.max(0,e-o),n-o)),o=a+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Ct(r,i)),r=[],i=-1);return i>-1&&n.push(new Ct(r,i)),n}}class er extends nt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],l=i+s.length,a=r+s.lines-1;if((n?a:l)>=e)return s.lineInner(e,n,r,i);i=l+1,r=a+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let l=this.children[o],a=s+l.length;if(e<=a&&n>=s){let c=i&((s<=e?1:0)|(a>=n?2:0));s>=e&&a<=n&&!c?r.push(l):l.decompose(e-s,n-s,r,c)}s=a+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],l=o+s.length;if(e>=o&&n<=l){let a=s.replace(e-o,n-o,r),c=this.lines-s.lines+a.lines;if(a.lines<c>>5-1&&a.lines>c>>5+1){let u=this.children.slice();return u[i]=a,new er(u,this.length-(n-e)+r.length)}return super.replace(o,l,a)}o=l+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let l=this.children[o],a=s+l.length;s>e&&o&&(i+=r),e<a&&n>s&&(i+=l.sliceString(e-s,n-s,r)),s=a+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof er))return 0;let r=0,[i,o,s,l]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==l)return r;let a=this.children[i],c=e.children[o];if(a!=c)return r+a.scanIdentical(c,n);r+=a.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new Ct(d,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,l=[],a=0,c=-1,u=[];function f(d){let p;if(d.lines>o&&d instanceof er)for(let b of d.children)f(b);else d.lines>s&&(a>s||!a)?(h(),l.push(d)):d instanceof Ct&&a&&(p=u[u.length-1])instanceof Ct&&d.lines+p.lines<=32?(a+=d.lines,c+=d.length+1,u[u.length-1]=new Ct(p.text.concat(d.text),p.length+1+d.length)):(a+d.lines>i&&h(),a+=d.lines,c+=d.length+1,u.push(d))}function h(){a!=0&&(l.push(u.length==1?u[0]:er.from(u,c)),c=-1,a=u.length=0)}for(let d of e)f(d);return h(),l.length==1?l[0]:new er(l,n)}}nt.empty=new Ct([""],0);function zE(t){let e=-1;for(let n of t)e+=n.length+1;return e}function pl(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let l=t[o],a=i+l.length;a>=n&&(a>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),s?(e[e.length-1]+=l,s=!1):e.push(l)),i=a+1}return e}function dp(t,e,n){return pl(t,[""],e,n)}class Go{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Ct?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,l=i instanceof Ct?i.text.length:i.children.length;if(s==(n>0?l:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Ct){let a=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,a.length>Math.max(0,e))return this.value=e==0?a:n>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=i.children[s+(n<0?-1:0)];e>a.length?(e-=a.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(a),this.offsets.push(n>0?1:(a instanceof Ct?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class G0{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Go(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Y0{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(nt.prototype[Symbol.iterator]=function(){return this.iter()},Go.prototype[Symbol.iterator]=G0.prototype[Symbol.iterator]=Y0.prototype[Symbol.iterator]=function(){return this});class qE{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}let Yi="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Yi.length;t++)Yi[t]+=Yi[t-1];function WE(t){for(let e=1;e<Yi.length;e+=2)if(Yi[e]>t)return Yi[e-1]<=t;return!1}function pp(t){return t>=127462&&t<=127487}const mp=8205;function mn(t,e,n=!0,r=!0){return(n?X0:KE)(t,e,r)}function X0(t,e,n){if(e==t.length)return e;e&&Q0(t.charCodeAt(e))&&Z0(t.charCodeAt(e-1))&&e--;let r=ml(t,e);for(e+=bu(r);e<t.length;){let i=ml(t,e);if(r==mp||i==mp||n&&WE(i))e+=bu(i),r=i;else if(pp(i)){let o=0,s=e-2;for(;s>=0&&pp(ml(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function KE(t,e,n){for(;e>0;){let r=X0(t,e-2,n);if(r<e)return r;e--}return 0}function Q0(t){return t>=56320&&t<57344}function Z0(t){return t>=55296&&t<56320}function ml(t,e){let n=t.charCodeAt(e);if(!Z0(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Q0(r)?(n-55296<<10)+(r-56320)+65536:n}function bu(t){return t<65536?1:2}const vu=/\r\n?|\n/;var dn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(dn||(dn={}));class or{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){wu(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new or(e)}composeDesc(e){return this.empty?e:e.empty?this:ey(this,e)}mapDesc(e,n=!1){return e.empty?this:xu(this,e,n)}mapPos(e,n=-1,r=dn.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let l=this.sections[s++],a=this.sections[s++],c=i+l;if(a<0){if(c>e)return o+(e-i);o+=l}else{if(r!=dn.Simple&&c>=e&&(r==dn.TrackDel&&i<e&&c>e||r==dn.TrackBefore&&i<e||r==dn.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!l)return e==i||n<0?o:o+a;o+=a}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],l=i+o;if(s>=0&&i<=n&&l>=e)return i<e&&l>n?"cover":!0;i=l}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new or(e)}static create(e){return new or(e)}}class Tt extends or{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return wu(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return xu(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=s;let a=i>>1;for(;r.length<a;)r.push(nt.empty);r.push(s?e.slice(o,o+s):nt.empty)}o+=s}return new Tt(n,r)}compose(e){return this.empty?e:e.empty?this:ey(this,e,!0)}map(e,n=!1){return e.empty?this:xu(this,e,n,!0)}iterChanges(e,n=!1){wu(this,e,n)}get desc(){return or.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new cs(this);e:for(let s=0,l=0;;){let a=s==e.length?1e9:e[s++];for(;l<a||l==a&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,a-l);Kt(i,u,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;Kt(n,u,f),f>0&&jr(r,n,o.text),o.forward(u),l+=u}let c=e[s++];for(;l<c;){if(o.done)break e;let u=Math.min(o.len,c-l);Kt(n,u,-1),Kt(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),l+=u}}return{changes:new Tt(n,r),filtered:or.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,l=null;function a(u=!1){if(!u&&!i.length)return;s<n&&Kt(i,n-s,-1);let f=new Tt(i,o);l=l?l.compose(f.map(l)):f,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof Tt){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);a(),l=l?l.compose(u.map(l)):u}else{let{from:f,to:h=f,insert:d}=u;if(f>h||f<0||h>n)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${n})`);let p=d?typeof d=="string"?nt.of(d.split(r||vu)):d:nt.empty,b=p.length;if(f==h&&b==0)return;f<s&&a(),f>s&&Kt(i,f-s,-1),Kt(i,h-f,b),jr(o,i,p),s=h}}return c(e),a(!l),l}static empty(e){return new Tt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,l)=>l&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(nt.empty);r[i]=nt.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new Tt(n,r)}static createSet(e,n){return new Tt(e,n)}}function Kt(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function jr(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(nt.empty);t.push(n)}}function wu(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let l=t.sections[s++],a=t.sections[s++];if(a<0)i+=l,o+=l;else{let c=i,u=o,f=nt.empty;for(;c+=l,u+=a,a&&r&&(f=f.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)l=t.sections[s++],a=t.sections[s++];e(i,c,o,u,f),i=c,o=u}}}function xu(t,e,n,r=!1){let i=[],o=r?[]:null,s=new cs(t),l=new cs(e);for(let a=-1;;)if(s.ins==-1&&l.ins==-1){let c=Math.min(s.len,l.len);Kt(i,c,-1),s.forward(c),l.forward(c)}else if(l.ins>=0&&(s.ins<0||a==s.i||s.off==0&&(l.len<s.len||l.len==s.len&&!n))){let c=l.len;for(Kt(i,l.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&a<s.i&&s.len<=u&&(Kt(i,0,s.ins),o&&jr(o,i,s.text),a=s.i),s.forward(u),c-=u}l.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(l.ins==-1){let f=Math.min(u,l.len);c+=f,u-=f,l.forward(f)}else if(l.ins==0&&l.len<u)u-=l.len,l.next();else break;Kt(i,c,a<s.i?s.ins:0),o&&a<s.i&&jr(o,i,s.text),a=s.i,s.forward(s.len-u)}else{if(s.done&&l.done)return o?Tt.createSet(i,o):or.create(i);throw new Error("Mismatched change set lengths")}}function ey(t,e,n=!1){let r=[],i=n?[]:null,o=new cs(t),s=new cs(e);for(let l=!1;;){if(o.done&&s.done)return i?Tt.createSet(r,i):or.create(r);if(o.ins==0)Kt(r,o.len,0,l),o.next();else if(s.len==0&&!s.done)Kt(r,0,s.ins,l),i&&jr(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let a=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;Kt(r,a,u,l),i&&u&&jr(i,r,s.text)}else s.ins==-1?(Kt(r,o.off?0:o.len,a,l),i&&jr(i,r,o.textBit(a))):(Kt(r,o.off?0:o.len,s.off?0:s.ins,l),i&&!s.off&&jr(i,r,s.text));l=(o.ins>a||s.ins>=0&&s.len>a)&&(l||r.length>c),o.forward2(a),s.forward(a)}}}}class cs{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?nt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?nt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class gi{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new gi(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return re.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return re.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return re.range(e.anchor,e.head)}static create(e,n,r){return new gi(e,n,r)}}class re{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:re.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new re([this.main],0)}addRange(e,n=!0){return re.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,re.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new re(e.ranges.map(n=>gi.fromJSON(n)),e.main)}static single(e,n=e){return new re([re.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return re.normalized(e.slice(),n);r=o.to}return new re(e,n)}static cursor(e,n=0,r,i){return gi.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,n,r,i){let o=(r??33554431)<<5|(i==null?3:Math.min(2,i));return n<e?gi.create(n,e,24|o):gi.create(e,n,(n>e?4:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let l=s.from,a=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?re.range(a,l):re.range(l,a))}}return new re(e,n)}}function ty(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let ih=0;class Te{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=ih++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}static define(e={}){return new Te(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:oh),!!e.static,e.enables)}of(e){return new gl([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new gl(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new gl(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function oh(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class gl{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=ih++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,l=this.type==2,a=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?a=!0:f=="selection"?c=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||u.push(e[f.id]);return{create(f){return f.values[s]=r(f),1},update(f,h){if(a&&h.docChanged||c&&(h.docChanged||h.selection)||_u(f,u)){let d=r(f);if(l?!gp(d,f.values[s],i):!i(d,f.values[s]))return f.values[s]=d,1}return 0},reconfigure:(f,h)=>{let d,p=h.config.address[o];if(p!=null){let b=Hl(h,p);if(this.dependencies.every(g=>g instanceof Te?h.facet(g)===f.facet(g):g instanceof Er?h.field(g,!1)==f.field(g,!1):!0)||(l?gp(d=r(f),b,i):i(d=r(f),b)))return f.values[s]=b,0}else d=r(f);return f.values[s]=d,1}}}}function gp(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function _u(t,e){let n=!1;for(let r of e)Yo(t,r)&1&&(n=!0);return n}function JE(t,e,n){let r=n.map(a=>t[a.id]),i=n.map(a=>a.type),o=r.filter(a=>!(a&1)),s=t[e.id]>>1;function l(a){let c=[];for(let u=0;u<r.length;u++){let f=Hl(a,r[u]);if(i[u]==2)for(let h of f)c.push(h);else c.push(f)}return e.combine(c)}return{create(a){for(let c of r)Yo(a,c);return a.values[s]=l(a),1},update(a,c){if(!_u(a,o))return 0;let u=l(a);return e.compare(u,a.values[s])?0:(a.values[s]=u,1)},reconfigure(a,c){let u=_u(a,r),f=c.config.facets[e.id],h=c.facet(e);if(f&&!u&&oh(n,f))return a.values[s]=h,0;let d=l(a);return e.compare(d,h)?(a.values[s]=h,0):(a.values[s]=d,1)}}}const yp=Te.define({static:!0});class Er{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new Er(ih++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(yp).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,yp.of({field:this,create:e})]}get extension(){return this}}const mi={lowest:4,low:3,default:2,high:1,highest:0};function Ro(t){return e=>new ny(e,t)}const sh={highest:Ro(mi.highest),high:Ro(mi.high),default:Ro(mi.default),low:Ro(mi.low),lowest:Ro(mi.lowest)};class ny{constructor(e,n){this.inner=e,this.prec=n}}class ka{of(e){return new ku(this,e)}reconfigure(e){return ka.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class ku{constructor(e,n){this.compartment=e,this.inner=n}}class Fl{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let h of GE(e,n,s))h instanceof Er?i.push(h):(o[h.facet.id]||(o[h.facet.id]=[])).push(h);let l=Object.create(null),a=[],c=[];for(let h of i)l[h.id]=c.length<<1,c.push(d=>h.slot(d));let u=r==null?void 0:r.config.facets;for(let h in o){let d=o[h],p=d[0].facet,b=u&&u[h]||[];if(d.every(g=>g.type==0))if(l[p.id]=a.length<<1|1,oh(b,d))a.push(r.facet(p));else{let g=p.combine(d.map(m=>m.value));a.push(r&&p.compare(g,r.facet(p))?r.facet(p):g)}else{for(let g of d)g.type==0?(l[g.id]=a.length<<1|1,a.push(g.value)):(l[g.id]=c.length<<1,c.push(m=>g.dynamicSlot(m)));l[p.id]=c.length<<1,c.push(g=>JE(g,p,d))}}let f=c.map(h=>h(l));return new Fl(e,s,f,l,a,o)}}function GE(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,l){let a=i.get(s);if(a!=null){if(a<=l)return;let c=r[a].indexOf(s);c>-1&&r[a].splice(c,1),s instanceof ku&&n.delete(s.compartment)}if(i.set(s,l),Array.isArray(s))for(let c of s)o(c,l);else if(s instanceof ku){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,l)}else if(s instanceof ny)o(s.inner,s.prec);else if(s instanceof Er)r[l].push(s),s.provides&&o(s.provides,l);else if(s instanceof gl)r[l].push(s),s.facet.extensions&&o(s.facet.extensions,mi.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,l)}}return o(t,mi.default),r.reduce((s,l)=>s.concat(l))}function Yo(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Hl(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const ry=Te.define(),iy=Te.define({combine:t=>t.some(e=>e),static:!0}),oy=Te.define({combine:t=>t.length?t[0]:void 0,static:!0}),sy=Te.define(),ly=Te.define(),ay=Te.define(),cy=Te.define({combine:t=>t.length?t[0]:!1});class ri{constructor(e,n){this.type=e,this.value=n}static define(){return new YE}}class YE{of(e){return new ri(this,e)}}class XE{constructor(e){this.map=e}of(e){return new Rt(this,e)}}class Rt{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Rt(this.type,n)}is(e){return this.type==e}static define(e={}){return new XE(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}Rt.reconfigure=Rt.define();Rt.appendConfig=Rt.define();class Mt{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&ty(r,n.newLength),o.some(l=>l.type==Mt.time)||(this.annotations=o.concat(Mt.time.of(Date.now())))}static create(e,n,r,i,o,s){return new Mt(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Mt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Mt.time=ri.define();Mt.userEvent=ri.define();Mt.addToHistory=ri.define();Mt.remote=ri.define();function QE(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function uy(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=Tt.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Rt.mapEffects(t.effects,i).concat(Rt.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Su(t,e,n){let r=e.selection,i=Xi(e.annotations);return e.userEvent&&(i=i.concat(Mt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Tt?e.changes:Tt.of(e.changes||[],n,t.facet(oy)),selection:r&&(r instanceof re?r:re.single(r.anchor,r.head)),effects:Xi(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function fy(t,e,n){let r=Su(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=uy(r,Su(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=Mt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return eA(n?ZE(i):i)}function ZE(t){let e=t.startState,n=!0;for(let i of e.facet(sy)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:QE(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Tt.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=Mt.create(e,i,t.selection&&t.selection.map(o),Rt.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(ly);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Mt?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Mt?t=o[0]:t=fy(e,Xi(o),!1)}return t}function eA(t){let e=t.startState,n=e.facet(ay),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=uy(r,Su(e,o,t.changes.newLength),!0))}return r==t?t:Mt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const tA=[];function Xi(t){return t==null?tA:Array.isArray(t)?t:[t]}var gr=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(gr||(gr={}));const nA=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Cu;try{Cu=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function rA(t){if(Cu)return Cu.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||nA.test(n)))return!0}return!1}function iA(t){return e=>{if(!/\S/.test(e))return gr.Space;if(rA(e))return gr.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return gr.Word;return gr.Other}}class tt{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Yo(this,l<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Yo(this,r),Hl(this,r)}update(...e){return fy(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(ka.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,a)=>i.set(a,l)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(Rt.reconfigure)?(n=null,r=s.value):s.is(Rt.appendConfig)&&(n=null,r=Xi(r).concat(s.value));let o;n?o=e.startState.values.slice():(n=Fl.resolve(r,i,this),o=new tt(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,a)=>a.reconfigure(l,this),null).values),new tt(n,e.newDoc,e.newSelection,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:re.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=Xi(r.effects);for(let l=1;l<n.ranges.length;l++){let a=e(n.ranges[l]),c=this.changes(a.changes),u=c.map(i);for(let h=0;h<l;h++)o[h]=o[h].map(u);let f=i.mapDesc(c,!0);o.push(a.range.map(f)),i=i.compose(u),s=Rt.mapEffects(s,u).concat(Rt.mapEffects(Xi(a.effects),f))}return{changes:i,selection:re.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof Tt?e:Tt.of(e,this.doc.length,this.facet(tt.lineSeparator))}toText(e){return nt.of(e.split(this.facet(tt.lineSeparator)||vu))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Yo(this,n),Hl(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Er&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],l=e[o];i.push(s.init(a=>s.spec.fromJSON(l,a)))}}return tt.create({doc:e.doc,selection:re.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Fl.resolve(e.extensions||[],new Map),r=e.doc instanceof nt?e.doc:nt.of((e.doc||"").split(n.staticFacet(tt.lineSeparator)||vu)),i=e.selection?e.selection instanceof re?e.selection:re.single(e.selection.anchor,e.selection.head):re.single(0);return ty(i,r.length),n.staticFacet(iy)||(i=i.asSingle()),new tt(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(tt.tabSize)}get lineBreak(){return this.facet(tt.lineSeparator)||`
`}get readOnly(){return this.facet(cy)}phrase(e,...n){for(let r of this.facet(tt.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(ry))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return iA(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,l=e-r;for(;s>0;){let a=mn(n,s,!1);if(o(n.slice(a,s))!=gr.Word)break;s=a}for(;l<i;){let a=mn(n,l);if(o(n.slice(l,a))!=gr.Word)break;l=a}return s==l?null:re.range(s+r,l+r)}}tt.allowMultipleSelections=iy;tt.tabSize=Te.define({combine:t=>t.length?t[0]:4});tt.lineSeparator=oy;tt.readOnly=cy;tt.phrases=Te.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});tt.languageData=ry;tt.changeFilter=sy;tt.transactionFilter=ly;tt.transactionExtender=ay;ka.reconfigure=Rt.define();function lh(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],l=r[o];if(l===void 0)r[o]=s;else if(!(l===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](l,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class uo{eq(e){return this==e}range(e,n=e){return Eu.create(e,n,this)}}uo.prototype.startSide=uo.prototype.endSide=0;uo.prototype.point=!1;uo.prototype.mapMode=dn.TrackDel;let Eu=class hy{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new hy(e,n,r)}};function Au(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class ah{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,l=o.length;;){if(s==l)return s;let a=s+l>>1,c=o[a]-e||(r?this.value[a].endSide:this.value[a].startSide)-n;if(a==s)return c>=0?s:l;c>=0?l=a:s=a+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,l=-1;for(let a=0;a<this.value.length;a++){let c=this.value[a],u=this.from[a]+e,f=this.to[a]+e,h,d;if(u==f){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(h=d=p,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide),d<h)))continue}else if(h=n.mapPos(u,c.startSide),d=n.mapPos(f,c.endSide),h>d||h==d&&c.startSide>0&&c.endSide<=0)continue;(d-h||c.endSide-c.startSide)<0||(s<0&&(s=h),c.point&&(l=Math.max(l,d-h)),r.push(c),i.push(h-s),o.push(d-s))}return{mapped:r.length?new ah(i,o,r,l):null,pos:s}}}class dt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new dt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(Au)),this.isEmpty)return n.length?dt.of(n):this;let l=new dy(this,null,-1).goto(0),a=0,c=[],u=new us;for(;l.value||a<n.length;)if(a<n.length&&(l.from-n[a].from||l.startSide-n[a].value.startSide)>=0){let f=n[a++];u.addInner(f.from,f.to,f.value)||c.push(f)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==n.length||this.chunkEnd(l.chunkIndex)<n[a].from)&&(!s||i>this.chunkEnd(l.chunkIndex)||o<this.chunkPos[l.chunkIndex])&&u.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!s||i>l.to||o<l.from||s(l.from,l.to,l.value))&&(u.addInner(l.from,l.to,l.value)||c.push(Eu.create(l.from,l.to,l.value))),l.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?dt.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let l=this.chunkPos[s],a=this.chunk[s],c=e.touchesRange(l,l+a.length);if(c===!1)i=Math.max(i,a.maxPoint),n.push(a),r.push(e.mapPos(l));else if(c===!0){let{mapped:u,pos:f}=a.map(l,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new dt(r,n,o||dt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return fs.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return fs.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),a=bp(s,l,r),c=new Mo(s,a,o),u=new Mo(l,a,o);r.iterGaps((f,h,d)=>vp(c,f,u,h,d,i)),r.empty&&r.length==0&&vp(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let o=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let l=bp(o,s),a=new Mo(o,l,0).goto(r),c=new Mo(s,l,0).goto(r);for(;;){if(a.to!=c.to||!Ou(a.active,c.active)||a.point&&(!c.point||!a.point.eq(c.point)))return!1;if(a.to>i)return!0;a.next(),c.next()}}static spans(e,n,r,i,o=-1){let s=new Mo(e,null,o).goto(n),l=n,a=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),f=s.pointFrom<n?u.length+1:Math.min(u.length,a);i.point(l,c,s.point,u,f,s.pointRank),a=Math.min(s.openEnd(c),u.length)}else c>l&&(i.span(l,c,s.active,a),a=s.openEnd(c));if(s.to>r)return a+(s.point&&s.to>r?1:0);l=s.to,s.next()}}static of(e,n=!1){let r=new us;for(let i of e instanceof Eu?[e]:n?oA(e):e)r.add(i.from,i.to,i.value);return r.finish()}}dt.empty=new dt([],[],null,-1);function oA(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Au(e,r)>0)return t.slice().sort(Au);e=r}return t}dt.empty.nextLayer=dt.empty;class us{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new ah(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new us)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(dt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=dt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function bp(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let l=r.get(o.chunk[s]);l!=null&&(n?n.mapPos(l):l)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(l,l+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class dy{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class fs{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new dy(s,n,r,o));return i.length==1?i[0]:new fs(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)mc(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)mc(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),mc(this.heap,0)}}}function mc(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Mo{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=fs.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Fs(this.active,e),Fs(this.activeTo,e),Fs(this.activeRank,e),this.minActive=wp(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=o;)n++;Hs(this.active,n,r),Hs(this.activeTo,n,i),Hs(this.activeRank,n,o),e&&Hs(e,n,this.cursor.from),this.minActive=wp(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Fs(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function vp(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,l=r,a=r-e;for(;;){let c=t.to+a-n.to||t.endSide-n.endSide,u=c<0?t.to+a:n.to,f=Math.min(u,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Ou(t.activeForPoint(t.to+a),n.activeForPoint(n.to))||o.comparePoint(l,f,t.point,n.point):f>l&&!Ou(t.active,n.active)&&o.compareRange(l,f,t.active,n.active),u>s)break;l=u,c<=0&&t.next(),c>=0&&n.next()}}function Ou(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Fs(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Hs(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function wp(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function ch(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=mn(t,i));return r}function sA(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=mn(t,i)}return r===!0?-1:t.length}const Tu="ͼ",xp=typeof Symbol>"u"?"__"+Tu:Symbol.for(Tu),Lu=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),_p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Jr{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,l,a,c){let u=[],f=/^@(\w+)\b/.exec(s[0]),h=f&&f[1]=="keyframes";if(f&&l==null)return a.push(s[0]+";");for(let d in l){let p=l[d];if(/&/.test(d))o(d.split(/,\s*/).map(b=>s.map(g=>b.replace(/&/,g))).reduce((b,g)=>b.concat(g)),p,a);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(i(d),p,u,h)}else p!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,b=>"-"+b.toLowerCase())+": "+p+";")}(u.length||h)&&a.push((r&&!f&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=_p[xp]||1;return _p[xp]=e+1,Tu+e.toString(36)}static mount(e,n){(e[Lu]||new lA(e)).mount(Array.isArray(n)?n:[n])}}let Vs=null;class lA{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet<"u"){if(Vs)return e.adoptedStyleSheets=[Vs.sheet,...e.adoptedStyleSheets],e[Lu]=Vs;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],Vs=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let n=e.head||e;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],e[Lu]=this}mount(e){let n=this.sheet,r=0,i=0;for(let o=0;o<e.length;o++){let s=e[o],l=this.modules.indexOf(s);if(l<i&&l>-1&&(this.modules.splice(l,1),i--,l=-1),l==-1){if(this.modules.splice(i++,0,s),n)for(let a=0;a<s.rules.length;a++)n.insertRule(s.rules[a],r++)}else{for(;i<l;)r+=this.modules[i++].rules.length;r+=s.rules.length,i++}}if(!n){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+`
`;this.styleTag.textContent=o}}}var Gr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},hs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},kp=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),aA=typeof navigator<"u"&&/Mac/.test(navigator.platform),cA=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),uA=aA||kp&&+kp[1]<57;for(var Vt=0;Vt<10;Vt++)Gr[48+Vt]=Gr[96+Vt]=String(Vt);for(var Vt=1;Vt<=24;Vt++)Gr[Vt+111]="F"+Vt;for(var Vt=65;Vt<=90;Vt++)Gr[Vt]=String.fromCharCode(Vt+32),hs[Vt]=String.fromCharCode(Vt);for(var gc in Gr)hs.hasOwnProperty(gc)||(hs[gc]=Gr[gc]);function fA(t){var e=uA&&(t.ctrlKey||t.altKey||t.metaKey)||cA&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?hs:Gr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Vl(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function fo(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function hA(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function yl(t,e){if(!e.anchorNode)return!1;try{return fo(t,e.anchorNode)}catch{return!1}}function ds(t){return t.nodeType==3?ho(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Ul(t,e,n,r){return n?Sp(t,e,n,r,-1)||Sp(t,e,n,r,1):!1}function zl(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Sp(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:ps(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=zl(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?ps(t):0}else return!1}}function ps(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}const py={left:0,right:0,top:0,bottom:0};function uh(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function dA(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function pA(t,e,n,r,i,o,s,l){let a=t.ownerDocument,c=a.defaultView||window;for(let u=t;u;)if(u.nodeType==1){let f,h=u==a.body;if(h)f=dA(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let b=u.getBoundingClientRect();f={left:b.left,right:b.left+u.clientWidth,top:b.top,bottom:b.top+u.clientHeight}}let d=0,p=0;if(i=="nearest")e.top<f.top?(p=-(f.top-e.top+s),n>0&&e.bottom>f.bottom+p&&(p=e.bottom-f.bottom+p+s)):e.bottom>f.bottom&&(p=e.bottom-f.bottom+s,n<0&&e.top-p<f.top&&(p=-(f.top+p-e.top+s)));else{let b=e.bottom-e.top,g=f.bottom-f.top;p=(i=="center"&&b<=g?e.top+b/2-g/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-g+s)-f.top}if(r=="nearest"?e.left<f.left?(d=-(f.left-e.left+o),n>0&&e.right>f.right+d&&(d=e.right-f.right+d+o)):e.right>f.right&&(d=e.right-f.right+o,n<0&&e.left<f.left+d&&(d=-(f.left+d-e.left+o))):d=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==l?e.left-o:e.right-(f.right-f.left)+o)-f.left,d||p)if(h)c.scrollBy(d,p);else{let b=0,g=0;if(p){let m=u.scrollTop;u.scrollTop+=p,g=u.scrollTop-m}if(d){let m=u.scrollLeft;u.scrollLeft+=d,b=u.scrollLeft-m}e={left:e.left-b,top:e.top-g,right:e.right-b,bottom:e.bottom-g},b&&Math.abs(b-d)<1&&(r="nearest"),g&&Math.abs(g-p)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function mA(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class gA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let ji=null;function my(t){if(t.setActive)return t.setActive();if(ji)return t.focus(ji);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(ji==null?{get preventScroll(){return ji={preventScroll:!0},!0}}:void 0),!ji){ji=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let Cp;function ho(t,e,n=e){let r=Cp||(Cp=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Qi(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function yA(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function gy(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function bA(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(;;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=ps(n))}else{if(n==t)return!0;r=zl(n),n=n.parentNode}}class Ut{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Ut(e.parentNode,zl(e),n)}static after(e,n){return new Ut(e.parentNode,zl(e)+1,n)}}const fh=[];class mt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,n){return null}sync(e,n){if(this.dirty&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.dirty){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let l=mt.get(o);(!l||!l.parent&&l.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.dirty=0}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=Ep(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=Ep(o)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,n),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=ps(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!mt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,l=-1;for(let a=0,c=r,u=r;a<this.children.length;a++){let f=this.children[a],h=c+f.length;if(c<e&&h>n)return f.domBoundsAround(e,n,c);if(h>=e&&i==-1&&(i=a,o=c),c>n&&f.dom.parentNode==this.dom){s=a,l=u;break}u=h,c=h+f.breakAfter}return{from:o,to:l<0?r+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=fh){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&o.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new yy(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}mt.prototype.breakAfter=0;function Ep(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class yy{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function by(t,e,n,r,i,o,s,l,a){let{children:c}=t,u=c.length?c[e]:null,f=o.length?o[o.length-1]:null,h=f?f.breakAfter:s;if(!(e==r&&u&&!s&&!h&&o.length<2&&u.merge(n,i,o.length?f:null,n==0,l,a))){if(r<c.length){let d=c[r];d&&i<d.length?(e==r&&(d=d.split(i),i=0),!h&&f&&d.merge(0,i,f,!0,0,a)?o[o.length-1]=d:(i&&d.merge(0,i,null,!1,0,a),o.push(d))):d!=null&&d.breakAfter&&(f?f.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,l,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,l,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),a=o.length?0:l;else if(c[e].become(o[0]))e++,o.shift(),l=o.length?0:a;else break;!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,l,a)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function vy(t,e,n,r,i,o){let s=t.childCursor(),{i:l,off:a}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),f=e-n;for(let h of r)f+=h.length;t.length+=f,by(t,c,u,l,a,r,0,i,o)}let pn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Ru=typeof document<"u"?document:{documentElement:{style:{}}};const Mu=/Edge\/(\d+)/.exec(pn.userAgent),wy=/MSIE \d/.test(pn.userAgent),Pu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pn.userAgent),Sa=!!(wy||Pu||Mu),Ap=!Sa&&/gecko\/(\d+)/i.test(pn.userAgent),yc=!Sa&&/Chrome\/(\d+)/.exec(pn.userAgent),Op="webkitFontSmoothing"in Ru.documentElement.style,xy=!Sa&&/Apple Computer/.test(pn.vendor),Tp=xy&&(/Mobile\/\w+/.test(pn.userAgent)||pn.maxTouchPoints>2);var be={mac:Tp||/Mac/.test(pn.platform),windows:/Win/.test(pn.platform),linux:/Linux|X11/.test(pn.platform),ie:Sa,ie_version:wy?Ru.documentMode||6:Pu?+Pu[1]:Mu?+Mu[1]:0,gecko:Ap,gecko_version:Ap?+(/Firefox\/(\d+)/.exec(pn.userAgent)||[0,0])[1]:0,chrome:!!yc,chrome_version:yc?+yc[1]:0,ios:Tp,android:/Android\b/.test(pn.userAgent),webkit:Op,safari:xy,webkit_version:Op?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Ru.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const vA=256;class Yr extends mt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return r&&(!(r instanceof Yr)||this.length-(n-e)+r.length>vA)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Yr(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Ut(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Du(this.dom,e,n)}}class cr extends mt{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(gy(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof cr&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(vy(this,e,n,r?r.children:[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let l of this.children){let a=r+l.length;a>e&&n.push(r<e?l.split(e-r):l),i<0&&r>=e&&(i=o),r=a,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new cr(this.mark,n,s)}domAtPos(e){return Sy(this,e)}coordsAt(e,n){return Ey(this,e,n)}}function Du(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?be.chrome||be.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let l=ho(t,i,o).getClientRects();if(!l.length)return py;let a=l[(s?s<0:n>=0)?0:l.length-1];return be.safari&&!s&&a.width==0&&(a=Array.prototype.find.call(l,c=>c.width)||a),s?uh(a,s<0):a||null}class Fr extends mt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}static create(e,n,r){return new(e.customView||Fr)(e,n,r)}split(e){let n=Fr.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof Fr)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e.length==this.length&&e instanceof Fr&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return nt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):nt.empty}domAtPos(e){return e==0?Ut.before(this.dom):Ut.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.dom.getClientRects(),i=null;if(!r.length)return py;for(let o=e>0?r.length-1:0;i=r[o],!(e>0?o==0:o==r.length-1||i.top<i.bottom);o+=e>0?-1:1);return this.length?i:uh(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class _y extends Fr{domAtPos(e){let{topView:n,text:r}=this.widget;return n?Iu(e,0,n,r,(i,o)=>i.domAtPos(o),i=>new Ut(r,Math.min(i,r.nodeValue.length))):new Ut(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:r,text:i}=this.widget;return r?ky(e,n,r,i):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:r,text:i}=this.widget;return r?Iu(e,n,r,i,(o,s,l)=>o.coordsAt(s,l),(o,s)=>Du(i,o,s)):Du(i,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Iu(t,e,n,r,i,o){if(n instanceof cr){for(let s=n.dom.firstChild;s;s=s.nextSibling){let l=mt.get(s);if(!l)return o(t,e);let a=fo(s,r),c=l.length+(a?r.nodeValue.length:0);if(t<c||t==c&&l.getSide()<=0)return a?Iu(t,e,l,r,i,o):i(l,t,e);t-=c}return i(n,n.length,-1)}else return n.dom==r?o(t,e):i(n,t,e)}function ky(t,e,n,r){if(n instanceof cr){let i=0;for(let o of n.children){let s=fo(o.dom,r);if(fo(o.dom,t))return i+(s?ky(t,e,o,r):o.localPosFromDOM(t,e));i+=s?r.nodeValue.length:o.length}}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}class po extends mt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof po&&e.side==this.side}split(){return new po(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Ut.before(this.dom):Ut.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let n=this.dom.getBoundingClientRect(),r=wA(this,this.side>0?-1:1);return r&&r.top<n.bottom&&r.bottom>n.top?{left:n.left,right:n.right,top:r.top,bottom:r.bottom}:n}get overrideDOMText(){return nt.empty}}Yr.prototype.children=Fr.prototype.children=po.prototype.children=fh;function wA(t,e){let n=t.parent,r=n?n.children.indexOf(t):-1;for(;n&&r>=0;)if(e<0?r>0:r<n.children.length){let i=n.children[r+e];if(i instanceof Yr){let o=i.coordsAt(e<0?i.length:0,e);if(o)return o}r+=e}else if(n instanceof cr&&n.parent)r=n.parent.children.indexOf(n)+(e<0?0:1),n=n.parent;else{let i=n.dom.lastChild;if(i&&i.nodeName=="BR")return i.getClientRects()[0];break}}function Sy(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],l=o+s.length;if(!(l==o&&s.getSide()<=0)){if(e>o&&e<l&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=l}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new Ut(n,0)}function Cy(t,e,n){let r,{children:i}=t;n>0&&e instanceof cr&&i.length&&(r=i[i.length-1])instanceof cr&&r.mark.eq(e.mark)?Cy(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Ey(t,e,n){let r=null,i=-1,o=null,s=-1;function l(c,u){for(let f=0,h=0;f<c.children.length&&h<=u;f++){let d=c.children[f],p=h+d.length;p>=u&&(d.children.length?l(d,u-h):!o&&(p>u||h==p&&d.getSide()>0)?(o=d,s=u-h):(h<u||h==p&&d.getSide()<0)&&(r=d,i=u-h)),h=p}}l(t,e);let a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):xA(t)}function xA(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=ds(e);return n[n.length-1]||null}function $u(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function hh(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(r.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function Bu(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}class Ca{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var St=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(St||(St={}));class pt extends uo{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Ea(e)}static widget(e){let n=e.side||0,r=!!e.block;return n+=r?n>0?3e8:-4e8:n>0?1e8:-1e8,new Oi(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=Ay(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Oi(e,r,i,n,e.widget||null,!0)}static line(e){return new Es(e)}static set(e,n=!1){return dt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}pt.none=dt.empty;class Ea extends pt{constructor(e){let{start:n,end:r}=Ay(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Ea&&this.tagName==e.tagName&&this.class==e.class&&hh(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Ea.prototype.point=!1;class Es extends pt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Es&&this.spec.class==e.spec.class&&hh(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Es.prototype.mapMode=dn.TrackBefore;Es.prototype.point=!0;class Oi extends pt{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?dn.TrackBefore:dn.TrackAfter:dn.TrackDel}get type(){return this.startSide<this.endSide?St.WidgetRange:this.startSide<=0?St.WidgetBefore:St.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Oi&&_A(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Oi.prototype.point=!0;function Ay(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function _A(t,e){return t==e||!!(t&&e&&t.compare(e))}function Nu(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Zt extends mt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof Zt))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),vy(this,e,n,r?r.children:[],o,s),!0}split(e){let n=new Zt;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){hh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){Cy(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=$u(n,this.attrs||{})),r&&(this.attrs=$u({class:r},this.attrs||{}))}domAtPos(e){return Sy(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var r;this.dom?this.dirty&4&&(gy(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Bu(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&mt.get(i)instanceof cr;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=mt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!be.ios||!this.children.some(o=>o instanceof Yr))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof Yr)||/[^ -~]/.test(r.text))return null;let i=ds(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=Ey(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return St.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof Zt)return o;if(s>n)break}i=s+o.breakAfter}return null}}class _i extends mt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof _i)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Ut.before(this.dom):Ut.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new _i(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return fh}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):nt.empty}domBoundsAround(){return null}become(e){return e instanceof _i&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class dh{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof _i&&e.type==St.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Zt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Us(new po(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Us(new Yr(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Oi){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=n-e;if(r instanceof Oi)if(r.block){let{type:a}=r;a==St.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new _i(r.widget||new Lp("div"),l,a))}else{let a=Fr.create(r.widget||new Lp("span"),l,l?0:r.startSide),c=this.atCursorPos&&!a.isEditable&&o<=i.length&&(e<n||r.startSide>0),u=!a.isEditable&&(e<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(f.append(Us(new po(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(Us(a,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new dh(e,n,r,o);return s.openEnd=dt.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Us(t,e){for(let n of e)t=new cr(n,[t],t.length);return t}class Lp extends Ca{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Oy=Te.define(),Ty=Te.define(),Ly=Te.define(),Ry=Te.define(),ju=Te.define(),My=Te.define(),Py=Te.define(),Dy=Te.define({combine:t=>t.some(e=>e)}),kA=Te.define({combine:t=>t.some(e=>e)});class ql{constructor(e,n="nearest",r="nearest",i=5,o=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}map(e){return e.empty?this:new ql(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Rp=Rt.define({map:(t,e)=>t.map(e)});function zr(t,e,n){let r=t.facet(Ry);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const Aa=Te.define({combine:t=>t.length?t[0]:!0});let SA=0;const jo=Te.define();class Xr{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:o}=n||{};return new Xr(SA++,e,r,s=>{let l=[jo.of(s)];return o&&l.push(ms.of(a=>{let c=a.plugin(s);return c?o(c):pt.none})),i&&l.push(i(s)),l})}static fromClass(e,n){return Xr.define(r=>new e(r),n)}}class bc{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(zr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){zr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){zr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Iy=Te.define(),ph=Te.define(),ms=Te.define(),$y=Te.define(),By=Te.define(),Fo=Te.define();class sr{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new sr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,l=0;;i++){let a=i==e.length?null:e[i],c=s-l,u=a?a.fromB:1e9;for(;o<n.length&&n[o]<u;){let f=n[o],h=n[o+1],d=Math.max(l,f),p=Math.min(u,h);if(d<=p&&new sr(d+c,p+c,d,p).addToSet(r),h>u)break;o+=2}if(!a)return r;new sr(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),s=a.toA,l=a.toB}}}class Wl{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Tt.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,l,a)=>i.push(new sr(o,s,l,a))),this.changedRanges=i}static create(e,n,r){return new Wl(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var zt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(zt||(zt={}));const Fu=zt.LTR,CA=zt.RTL;function Ny(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const EA=Ny("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),AA=Ny("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Hu=Object.create(null),Kn=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);Hu[e]=n,Hu[n]=-e}function OA(t){return t<=247?EA[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?AA[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const TA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Zi{constructor(e,n,r){this.from=e,this.to=n,this.level=r}get dir(){return this.level%2?CA:Fu}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let l=e[s];if(l.from<=n&&l.to>=n){if(l.level==r)return s;(o<0||(i!=0?i<0?l.from<n:l.to>n:e[o].level>l.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}const xt=[];function LA(t,e){let n=t.length,r=e==Fu?1:2,i=e==Fu?2:1;if(!t||r==1&&!TA.test(t))return jy(n);for(let s=0,l=r,a=r;s<n;s++){let c=OA(t.charCodeAt(s));c==512?c=l:c==8&&a==4&&(c=16),xt[s]=c==4?2:c,c&7&&(a=c),l=c}for(let s=0,l=r,a=r;s<n;s++){let c=xt[s];if(c==128)s<n-1&&l==xt[s+1]&&l&24?c=xt[s]=l:xt[s]=256;else if(c==64){let u=s+1;for(;u<n&&xt[u]==64;)u++;let f=s&&l==8||u<n&&xt[u]==8?a==1?1:8:256;for(let h=s;h<u;h++)xt[h]=f;s=u-1}else c==8&&a==1&&(xt[s]=1);l=c,c&7&&(a=c)}for(let s=0,l=0,a=0,c,u,f;s<n;s++)if(u=Hu[c=t.charCodeAt(s)])if(u<0){for(let h=l-3;h>=0;h-=3)if(Kn[h+1]==-u){let d=Kn[h+2],p=d&2?r:d&4?d&1?i:r:0;p&&(xt[s]=xt[Kn[h]]=p),l=h;break}}else{if(Kn.length==189)break;Kn[l++]=s,Kn[l++]=c,Kn[l++]=a}else if((f=xt[s])==2||f==1){let h=f==r;a=h?0:1;for(let d=l-3;d>=0;d-=3){let p=Kn[d+2];if(p&2)break;if(h)Kn[d+2]|=2;else{if(p&4)break;Kn[d+2]|=4}}}for(let s=0;s<n;s++)if(xt[s]==256){let l=s+1;for(;l<n&&xt[l]==256;)l++;let a=(s?xt[s-1]:r)==1,c=(l<n?xt[l]:r)==1,u=a==c?a?1:2:r;for(let f=s;f<l;f++)xt[f]=u;s=l-1}let o=[];if(r==1)for(let s=0;s<n;){let l=s,a=xt[s++]!=1;for(;s<n&&a==(xt[s]!=1);)s++;if(a)for(let c=s;c>l;){let u=c,f=xt[--c]!=2;for(;c>l&&f==(xt[c-1]!=2);)c--;o.push(new Zi(c,u,f?2:1))}else o.push(new Zi(l,s,0))}else for(let s=0;s<n;){let l=s,a=xt[s++]==2;for(;s<n&&a==(xt[s]==2);)s++;o.push(new Zi(l,s,a?1:2))}return o}function jy(t){return[new Zi(0,t,0)]}let Fy="";function RA(t,e,n,r,i){var o;let s=r.head-t.from,l=-1;if(s==0){if(!i||!t.length)return null;e[0].level!=n&&(s=e[0].side(!1,n),l=0)}else if(s==t.length){if(i)return null;let h=e[e.length-1];h.level!=n&&(s=h.side(!0,n),l=e.length-1)}l<0&&(l=Zi.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc));let a=e[l];s==a.side(i,n)&&(a=e[l+=i?1:-1],s=a.side(!i,n));let c=i==(a.dir==n),u=mn(t.text,s,c);if(Fy=t.text.slice(Math.min(s,u),Math.max(s,u)),u!=a.side(i,n))return re.cursor(u+t.from,c?-1:1,a.level);let f=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return!f&&a.level!=n?re.cursor(i?t.to:t.from,i?-1:1,n):f&&f.level<a.level?re.cursor(f.side(!i,n)+t.from,i?1:-1,f.level):re.cursor(u+t.from,i?-1:1,a.level)}const Hr="￿";class Hy{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(tt.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Hr}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i),this.readNode(i);let o=i.nextSibling;if(o==n)break;let s=mt.get(i),l=mt.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:Mp(i))||Mp(o)&&(i.nodeName!="BR"||i.cmIgnore))&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,l;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(l=i.exec(n))&&(o=l.index,s=l[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=mt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function Mp(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class Pp{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Dp extends mt{constructor(e){super(),this.view=e,this.compositionDeco=pt.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Zt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new sr(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=pt.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=PA(this.view,e.changes)),(be.ie||be.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,i=this.updateDeco(),o=BA(r,i,e.changes);return n=sr.extendWithRanges(n,o),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=be.chrome||be.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.dirty=0,o&&(o.written||r.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof _i&&o.widget instanceof Ip&&i.push(o.dom);r.updateGaps(i)}updateChildren(e,n){let r=this.childCursor(n);for(let i=e.length-1;;i--){let o=i>=0?e[i]:null;if(!o)break;let{fromA:s,toA:l,fromB:a,toB:c}=o,{content:u,breakAtStart:f,openStart:h,openEnd:d}=dh.build(this.view.state.doc,a,c,this.decorations,this.dynamicDecorationMap),{i:p,off:b}=r.findPos(l,1),{i:g,off:m}=r.findPos(s,-1);by(this,g,m,p,b,u,f,h,d)}}updateSelection(e=!1,n=!1){if((e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange(),!(n||this.mayControlSelection()))return;let r=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,o=this.domAtPos(i.anchor),s=i.empty?o:this.domAtPos(i.head);if(be.gecko&&i.empty&&MA(o)){let a=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(a,o.node.childNodes[o.offset]||null)),o=s=new Ut(a,0),r=!0}let l=this.view.observer.selectionRange;(r||!l.focusNode||!Ul(o.node,o.offset,l.anchorNode,l.anchorOffset)||!Ul(s.node,s.offset,l.focusNode,l.focusOffset))&&(this.view.observer.ignore(()=>{be.android&&be.chrome&&this.dom.contains(l.focusNode)&&NA(l.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let a=Vl(this.view.root);if(a)if(i.empty){if(be.gecko){let c=IA(o.node,o.offset);if(c&&c!=3){let u=Uy(o.node,o.offset,c==1?1:-1);u&&(o=new Ut(u,c==1?0:u.nodeValue.length))}}a.collapse(o.node,o.offset),i.bidiLevel!=null&&l.cursorBidiLevel!=null&&(l.cursorBidiLevel=i.bidiLevel)}else if(a.extend){a.collapse(o.node,o.offset);try{a.extend(s.node,s.offset)}catch{}}else{let c=document.createRange();i.anchor>i.head&&([o,s]=[s,o]),c.setEnd(s.node,s.offset),c.setStart(o.node,o.offset),a.removeAllRanges(),a.addRange(c)}}),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new Ut(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new Ut(l.focusNode,l.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,r=Vl(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=Zt.find(this,n.head);if(!s)return;let l=s.posAtStart;if(n.head==l||n.head==l+s.length)return;let a=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!a||!c||a.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||yl(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let n=e;n;){let r=mt.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Zt)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let o=this.children[i],s=r-o.breakAfter-o.length;if(e>s||e==s&&o.type!=St.WidgetBefore&&o.type!=St.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==St.WidgetBefore&&n>-2))return o.coordsAt(e-s,n);r=s}}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==zt.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],h=c+f.length;if(h>i)break;if(c>=r){let d=f.dom.getBoundingClientRect();if(n.push(d.height),s){let p=f.dom.lastChild,b=p?ds(p):[];if(b.length){let g=b[b.length-1],m=a?g.right-d.left:d.right-g.left;m>l&&(l=m,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=h)}}}c=h+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?zt.RTL:zt.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Zt){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=ds(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new yy(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let l=n.lineBlockAt(s).bottom-n.lineBlockAt(r).top;e.push(pt.replace({widget:new Ip(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return pt.set(e)}updateDeco(){let e=this.view.state.facet(ms).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=0,s=0,l=0,a=0;for(let u of this.view.state.facet(By).map(f=>f(this.view)))if(u){let{left:f,right:h,top:d,bottom:p}=u;f!=null&&(o=Math.max(o,f)),h!=null&&(s=Math.max(s,h)),d!=null&&(l=Math.max(l,d)),p!=null&&(a=Math.max(a,p))}let c={left:r.left-o,top:r.top-l,right:r.right+s,bottom:r.bottom+a};pA(this.view.scrollDOM,c,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==zt.LTR)}}function MA(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class Ip extends Ca{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Vy(t){let e=t.observer.selectionRange,n=e.focusNode&&Uy(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof Zt){let i=n;for(;i.parentNode!=r.dom;)i=i.parentNode;let o=i.previousSibling;for(;o&&!mt.get(o);)o=o.previousSibling;let s=o?mt.get(o).posAtEnd:r.posAtStart;return{from:s,to:s,node:i,text:n}}else{for(;;){let{parent:o}=r;if(!o)return null;if(o instanceof Zt)break;r=o}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:n}}}function PA(t,e){let n=Vy(t);if(!n)return pt.none;let{from:r,to:i,node:o,text:s}=n,l=e.mapPos(r,1),a=Math.max(l,e.mapPos(i,-1)),{state:c}=t,u=o.nodeType==3?o.nodeValue:new Hy([],c).readRange(o.firstChild,null).text;if(a-l<u.length)if(c.doc.sliceString(l,Math.min(c.doc.length,l+u.length),Hr)==u)a=l+u.length;else if(c.doc.sliceString(Math.max(0,a-u.length),a,Hr)==u)l=a-u.length;else return pt.none;else if(c.doc.sliceString(l,a,Hr)!=u)return pt.none;let f=mt.get(o);return f instanceof _y?f=f.widget.topView:f&&(f.parent=null),pt.set(pt.replace({widget:new DA(o,s,f),inclusive:!0}).range(l,a))}class DA extends Ca{constructor(e,n,r){super(),this.top=e,this.text=n,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return _y}}function Uy(t,e,n){if(n<=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=ps(r);else break}if(n>=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function IA(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class $A{constructor(){this.changes=[]}compareRange(e,n){Nu(e,n,this.changes)}comparePoint(e,n){Nu(e,n,this.changes)}}function BA(t,e,n){let r=new $A;return dt.compare(t,e,n,r),r.changes}function NA(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function jA(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return re.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,l=o;n<0?s=mn(i.text,o,!1):l=mn(i.text,o);let a=r(i.text.slice(s,l));for(;s>0;){let c=mn(i.text,s,!1);if(r(i.text.slice(c,s))!=a)break;s=c}for(;l<i.length;){let c=mn(i.text,l);if(r(i.text.slice(l,c))!=a)break;l=c}return re.range(s+i.from,l+i.from)}function FA(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function HA(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function vc(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function $p(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function Bp(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function Vu(t,e,n){let r,i,o,s,l=!1,a,c,u,f;for(let p=t.firstChild;p;p=p.nextSibling){let b=ds(p);for(let g=0;g<b.length;g++){let m=b[g];i&&vc(i,m)&&(m=$p(Bp(m,i.bottom),i.top));let x=FA(e,m),y=HA(n,m);if(x==0&&y==0)return p.nodeType==3?Np(p,e,n):Vu(p,e,n);if(!r||s>y||s==y&&o>x){r=p,i=m,o=x,s=y;let w=y?n<m.top?-1:1:x?e<m.left?-1:1:0;l=!w||(w>0?g<b.length-1:g>0)}x==0?n>m.bottom&&(!u||u.bottom<m.bottom)?(a=p,u=m):n<m.top&&(!f||f.top>m.top)&&(c=p,f=m):u&&vc(u,m)?u=Bp(u,m.bottom):f&&vc(f,m)&&(f=$p(f,m.top))}}if(u&&u.bottom>=n?(r=a,i=u):f&&f.top<=n&&(r=c,i=f),!r)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Np(r,h,n);if(l&&r.contentEditable!="false")return Vu(r,h,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function Np(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let l=0;l<r;l++){let a=ho(t,l,l+1).getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<o){let h=e>=(u.left+u.right)/2,d=h;if((be.chrome||be.gecko)&&ho(t,l).getBoundingClientRect().left==u.right&&(d=!h),f<=0)return{node:t,offset:l+(d?1:0)};i=l+(d?1:0),o=f}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function zy(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),l=s.top+t.viewState.paddingTop,a,{docHeight:c}=t.viewState,{x:u,y:f}=e,h=f-l;if(h<0)return 0;if(h>c)return t.state.doc.length;for(let w=t.defaultLineHeight/2,v=!1;a=t.elementAtHeight(h),a.type!=St.Text;)for(;h=r>0?a.bottom+w:a.top-w,!(h>=0&&h<=c);){if(v)return n?null:0;v=!0,r=-r}f=l+h;let d=a.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:jp(t,s,a,u,f);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:jp(t,s,a,u,f);let p=t.dom.ownerDocument,b=t.root.elementFromPoint?t.root:p,g=b.elementFromPoint(u,f);g&&!t.contentDOM.contains(g)&&(g=null),g||(u=Math.max(s.left+1,Math.min(s.right-1,u)),g=b.elementFromPoint(u,f),g&&!t.contentDOM.contains(g)&&(g=null));let m,x=-1;if(g&&((i=t.docView.nearest(g))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(u,f);w&&({offsetNode:m,offset:x}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(u,f);w&&({startContainer:m,startOffset:x}=w,(!t.contentDOM.contains(m)||be.safari&&VA(m,x,u)||be.chrome&&UA(m,x,u))&&(m=void 0))}}if(!m||!t.docView.dom.contains(m)){let w=Zt.find(t.docView,d);if(!w)return h>a.top+a.height/2?a.to:a.from;({node:m,offset:x}=Vu(w.dom,u,f))}let y=t.docView.nearest(m);if(!y)return null;if(y.isWidget&&((o=y.dom)===null||o===void 0?void 0:o.nodeType)==1){let w=y.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?y.posAtStart:y.posAtEnd}else return y.localPosFromDOM(m,x)+y.posAtStart}function jp(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let l=Math.floor((i-n.top)/t.defaultLineHeight);o+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+sA(s,o,t.state.tabSize)}function VA(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return ho(t,r-1,r).getBoundingClientRect().left>n}function UA(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():ho(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function zA(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=!r||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=t.dom.getBoundingClientRect(),c=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(c==zt.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(u!=null)return re.cursor(u,n?-1:1)}let s=Zt.find(t.docView,e.head),l=s?n?s.posAtEnd:s.posAtStart:n?i.to:i.from;return re.cursor(l,n?-1:1)}function Fp(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let l=e,a=null;;){let c=RA(i,o,s,l,n),u=Fy;if(!c){if(i.number==(n?t.state.doc.lines:1))return l;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),c=re.cursor(n?i.from:i.to)}if(a){if(!a(u))return l}else{if(!r)return c;a=r(u)}l=c}}function qA(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==gr.Space&&(i=s),i==s}}function WA(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return re.cursor(i,e.assoc);let s=e.goalColumn,l,a=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i),u=t.documentTop;if(c)s==null&&(s=c.left-a.left),l=o<0?c.top:c.bottom;else{let d=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(a.right-a.left,t.defaultCharacterWidth*(i-d.from))),l=(o<0?d.top:d.bottom)+u}let f=a.left+s,h=r??t.defaultLineHeight>>1;for(let d=0;;d+=10){let p=l+(h+d)*o,b=zy(t,{x:f,y:p},!1,o);if(p<a.top||p>a.bottom||(o<0?b<i:b>i))return re.cursor(b,e.assoc,void 0,s)}}function wc(t,e,n){let r=t.state.facet($y).map(i=>i(t));for(;;){let i=!1;for(let o of r)o.between(n.from-1,n.from+1,(s,l,a)=>{n.from>s&&n.from<l&&(n=e.head>n.from?re.cursor(s,1):re.cursor(l,-1),i=!0)});if(!i)return n}}class KA{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let n=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in Pt){let i=Pt[r];e.contentDOM.addEventListener(r,o=>{Hp(e,o)&&n(i,o)},Uu[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(n(Pt.mousedown,r),!r.defaultPrevented&&r.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),be.chrome&&be.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,be.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var r;let i;this.customHandlers=[];for(let o of n)if(i=(r=o.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:i});for(let s in i)this.registeredEvents.indexOf(s)<0&&s!="scroll"&&(this.registeredEvents.push(s),e.contentDOM.addEventListener(s,l=>{Hp(e,l)&&this.runCustomHandlers(s,e,l)&&l.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let o=i.handlers[e];if(o)try{if(o.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(s){zr(n.state,s)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(o){zr(e.state,o)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(be.android&&be.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return be.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((r=qy.find(i=>i.keyCode==n.keyCode))&&!n.ctrlKey||JA.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=r||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,Qi(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:be.safari&&!be.ios&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const qy=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],JA="dthko",Wy=[16,17,18,20,91,92,224,225];function zs(t){return t*.7+8}class GA{constructor(e,n,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=mA(e.contentDOM);let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(tt.allowMultipleSelections)&&YA(e,n),this.dragMove=XA(e,n),this.dragging=QA(e,n)&&Yy(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,i=0,o=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=o.left?r=-zs(o.left-e.clientX):e.clientX>=o.right&&(r=zs(e.clientX-o.right)),e.clientY<=o.top?i=-zs(o.top-e.clientY):e.clientY>=o.bottom&&(i=zs(e.clientY-o.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}select(e){let n=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!n.eq(this.view.state.selection)||n.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function YA(t,e){let n=t.state.facet(Oy);return n.length?n[0](e):be.mac?e.metaKey:e.ctrlKey}function XA(t,e){let n=t.state.facet(Ty);return n.length?n[0](e):be.mac?!e.altKey:!e.ctrlKey}function QA(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Vl(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function Hp(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=mt.get(n))&&r.ignoreEvent(e))return!1;return!0}const Pt=Object.create(null),Uu=Object.create(null),Ky=be.ie&&be.ie_version<15||be.ios&&be.webkit_version<604;function ZA(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),Jy(t,n.value)},50)}function Jy(t,e){let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(zu!=null&&n.selection.ranges.every(a=>a.empty)&&zu==o.toString()){let a=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==a)return{range:c};a=u.from;let f=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:f},range:re.cursor(c.from+f.length)}})}else s?r=n.changeByRange(a=>{let c=o.line(i++);return{changes:{from:a.from,to:a.to,insert:c.text},range:re.cursor(a.from+c.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Pt.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27?t.inputState.lastEscPress=Date.now():Wy.indexOf(e.keyCode)<0&&(t.inputState.lastEscPress=0)};Pt.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Pt.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};Uu.touchstart=Uu.touchmove={passive:!0};Pt.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of t.state.facet(Ly))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=nO(t,e)),n){let r=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new GA(t,e,n,r)),r&&t.observer.ignore(()=>my(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function Vp(t,e,n,r){if(r==1)return re.cursor(e,n);if(r==2)return jA(t.state,e,n);{let i=Zt.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,l=i?i.posAtEnd:o.to;return l<t.state.doc.length&&l==o.to&&l++,re.range(s,l)}}let Gy=(t,e)=>t>=e.top&&t<=e.bottom,Up=(t,e,n)=>Gy(e,n)&&t>=n.left&&t<=n.right;function eO(t,e,n,r){let i=Zt.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&Up(n,r,s))return-1;let l=i.coordsAt(o,1);return l&&Up(n,r,l)?1:s&&Gy(r,s)?-1:1}function zp(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:eO(t,n,e.clientX,e.clientY)}}const tO=be.ie&&be.ie_version<=11;let qp=null,Wp=0,Kp=0;function Yy(t){if(!tO)return t.detail;let e=qp,n=Kp;return qp=t,Kp=Date.now(),Wp=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(Wp+1)%3:1}function nO(t,e){let n=zp(t,e),r=Yy(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,l){let a=zp(t,o),c=Vp(t,a.pos,a.bias,r);if(n.pos!=a.pos&&!s){let u=Vp(t,n.pos,n.bias,r),f=Math.min(u.from,c.from),h=Math.max(u.to,c.to);c=f<c.from?re.range(f,h):re.range(h,f)}return s?i.replaceRange(i.main.extend(c.from,c.to)):l&&i.ranges.length>1&&i.ranges.some(u=>u.eq(c))?rO(i,c):l?i.addRange(c):re.create([c])}}}function rO(t,e){for(let n=0;;n++)if(t.ranges[n].eq(e))return re.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}Pt.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function Jp(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=t.inputState,s=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,l={from:i,insert:n},a=t.state.changes(s?[s,l]:l);t.focus(),t.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"})}Pt.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,o=()=>{++i==n.length&&Jp(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let l=new FileReader;l.onerror=o,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[s]=l.result),o()},l.readAsText(n[s])}}else Jp(t,e,e.dataTransfer.getData("Text"),!0)};Pt.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=Ky?null:e.clipboardData;n?(Jy(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):ZA(t)};function iO(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function oO(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let zu=null;Pt.copy=Pt.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=oO(t.state);if(!n&&!i)return;zu=i?n:null;let o=Ky?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",n)):iO(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const Xy=ri.define();function Qy(t,e){let n=[];for(let r of t.facet(Py)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:Xy.of(!0)}):null}function Zy(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=Qy(t.state,e);n?t.dispatch(n):t.update([])}},10)}Pt.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),Zy(t)};Pt.blur=t=>{t.observer.clearSelectionRange(),Zy(t)};Pt.compositionstart=Pt.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Pt.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionFirstChange=null,be.chrome&&be.android&&t.observer.flushSoon(),setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};Pt.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Pt.beforeinput=(t,e)=>{var n;let r;if(be.chrome&&be.android&&(r=qy.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const Gp=["pre-wrap","normal","pre-line","break-spaces"];class sO{constructor(e){this.lineWrapping=e,this.doc=nt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Gp.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let l=Gp.indexOf(e)>-1,a=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,a){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return a}}class lO{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class pr{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this.type=o}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new pr(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var ht=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(ht||(ht={}));const bl=.001;class en{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>bl&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return en.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:a,toA:c,fromB:u,toB:f}=i[l],h=o.lineAt(a,ht.ByPosNoHeight,r.setDoc(n),0,0),d=h.to>=c?h:o.lineAt(c,ht.ByPosNoHeight,r,0,0);for(f+=d.to-c,c=d.to;l>0&&h.from<=i[l-1].toA;)a=i[l-1].fromA,u=i[l-1].fromB,l--,a<h.from&&(h=o.lineAt(a,ht.ByPosNoHeight,r,0,0));u+=h.from-a,a=h.from;let p=mh.build(r.setDoc(s),e,u,f);o=o.replace(a,c,p)}return o.updateHeight(r,0)}static empty(){return new hn(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let l=e[n-1];l.break?e.splice(--n,1,l.left,null,l.right):e.splice(--n,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(o>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,o-=l.size}else break;else if(i<o){let l=e[n++];l&&(i+=l.size)}else{let l=e[--r];l&&(o+=l.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new aO(en.of(e.slice(0,n)),s,en.of(e.slice(r)))}}en.prototype.size=1;class eb extends en{constructor(e,n,r){super(e,n),this.type=r}blockAt(e,n,r,i){return new pr(i,this.length,r,this.height,this.type)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class hn extends eb{constructor(e,n){super(e,n,St.Text),this.collapsed=0,this.widgetHeight=0}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof hn||i instanceof Ht&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Ht?i=new hn(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):en.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Ht extends en{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*o);s=a/o,l=(this.height-a)/(this.length-o-1)}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:l}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:l,perChar:a}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),u=n.doc.lineAt(c),f=l+u.length*a,h=Math.max(r,e-f/2);return new pr(u.from,u.length,h,f,St.Text)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-r)/l))),{from:u,length:f}=n.doc.line(o+c);return new pr(u,f,r+l*c,l,St.Text)}}lineAt(e,n,r,i,o){if(n==ht.ByHeight)return this.blockAt(e,r,i,o);if(n==ht.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new pr(d,p-d,0,0,St.Text)}let{firstLine:s,perLine:l,perChar:a}=this.heightMetrics(r,o),c=r.doc.lineAt(e),u=l+c.length*a,f=c.number-s,h=i+l*f+a*(c.from-o-f);return new pr(c.from,c.length,Math.max(i,Math.min(h,i+this.height-u)),u,St.Text)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:l,perLine:a,perChar:c}=this.heightMetrics(r,o);for(let u=e,f=i;u<=n;){let h=r.doc.lineAt(u);if(u==e){let p=h.number-l;f+=a*p+c*(e-o-p)}let d=a+c*h.length;s(new pr(h.from,h.length,f,d,St.Text)),f+=d,u=h.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof Ht?r[r.length-1]=new Ht(o.length+i):r.push(null,new Ht(i-1))}if(e>0){let o=r[0];o instanceof Ht?r[0]=new Ht(e+o.length):r.unshift(new Ht(e-1),null)}return en.of(r)}decomposeLeft(e,n){n.push(new Ht(e-1),null)}decomposeRight(e,n){n.push(null,new Ht(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],l=Math.max(n,i.from),a=-1;for(i.from>n&&s.push(new Ht(i.from-n-1).updateHeight(e,n));l<=o&&i.more;){let u=e.doc.lineAt(l).length;s.length&&s.push(null);let f=i.heights[i.index++];a==-1?a=f:Math.abs(f-a)>=bl&&(a=-2);let h=new hn(u,f);h.outdated=!1,s.push(h),l+=u+1}l<=o&&s.push(null,new Ht(o-l).updateHeight(e,l));let c=en.of(s);return(a<0||Math.abs(c.height-this.height)>=bl||Math.abs(a-this.heightMetrics(e,n).perLine)>=bl)&&(e.heightChanged=!0),c}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class aO extends en{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,l=o+this.left.length+this.break,a=n==ht.ByHeight?e<s:e<l,c=a?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,l);if(this.break||(a?c.to<l:c.from>l))return c;let u=n==ht.ByPosNoHeight?ht.ByPosNoHeight:ht.ByPos;return a?c.join(this.right.lineAt(l,u,r,s,l)):this.left.lineAt(l,u,r,i,o).join(c)}forEachLine(e,n,r,i,o,s){let l=i+this.left.height,a=o+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,n,r,i,o,s),n>=a&&this.right.forEachLine(e,n,r,l,a,s);else{let c=this.lineAt(a,ht.ByPos,r,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,o,s),c.to>=e&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,l,a,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let l of r)o.push(l);if(e>0&&Yp(o,s-1),n<this.length){let l=o.length;this.decomposeRight(n,o),Yp(o,l)}return en.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?en.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,l=n+o.length+this.break,a=null;return i&&i.from<=n+o.length&&i.more?a=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=l+s.length&&i.more?a=s=s.updateHeight(e,l,r,i):s.updateHeight(e,l,r),a?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Yp(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Ht&&(r=t[e+1])instanceof Ht&&t.splice(e-1,3,new Ht(n.length+1+r.length))}const cO=5;class mh{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof hn?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new hn(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new eb(o,i,r.type)):(o||i>=cO)&&this.addLineDeco(i,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new hn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Ht(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof hn)return e;let n=new hn(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine(),e.type==St.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=St.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof hn)&&!this.isCovered?this.nodes.push(new hn(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof hn&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new mh(r,e);return dt.spans(n,r,i,o,0),o.finish(r)}}function uO(t,e,n){let r=new fO;return dt.compare(t,e,n,r,0),r.changes}class fO{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Nu(e,n,this.changes,5)}}function hO(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),a=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let h=u.getBoundingClientRect();o=Math.max(o,h.left),s=Math.min(s,h.right),l=Math.max(l,h.top),a=c==t.parentNode?h.bottom:Math.min(a,h.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:l-(n.top+e),bottom:Math.max(l,a)-(n.top+e)}}function dO(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class xc{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e){return pt.replace({widget:new pO(this.size,e)}).range(this.from,this.to)}}class pO extends Ca{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Xp{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=Qp,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=zt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(ph).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new sO(n),this.stateDeco=e.facet(ms).filter(r=>typeof r!="function"),this.heightMap=en.empty().applyChanges(this.stateDeco,nt.empty,this.heightOracle.setDoc(e.doc),[new sr(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=pt.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new qs(o,s))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?Qp:new yO(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Ho(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(ms).filter(c=>typeof c!="function");let i=e.changedRanges,o=sr.extendWithRanges(i,uO(r,this.stateDeco,e?e.changes:Tt.empty(this.state.doc.length))),s=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(e.flags|=2);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let a=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(kA)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?zt.RTL:zt.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),l=n.getBoundingClientRect(),a=s||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let c=0,u=0,f=parseInt(r.paddingTop)||0,h=parseInt(r.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=(this.printing?dO:hO)(n,this.paddingTop),p=d.top-this.pixelViewport.top,b=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let m=l.width;if((this.contentDOMWidth!=m||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),a){let y=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(y)&&(s=!0),s||i.lineWrapping&&Math.abs(m-this.contentDOMWidth)>i.charWidth){let{lineHeight:w,charWidth:v,textHeight:S}=e.docView.measureTextSize();s=w>0&&i.refresh(o,w,v,S,m/v,y),s&&(e.docView.minWidth=0,c|=8)}p>0&&b>0?u=Math.max(p,b):p<0&&b<0&&(u=Math.min(p,b)),i.heightChanged=!1;for(let w of this.viewports){let v=w.from==this.viewport.from?y:e.docView.measureVisibleLineHeights(w);this.heightMap=(s?en.empty().applyChanges(this.stateDeco,nt.empty,this.heightOracle,[new sr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new lO(w.from,v))}i.heightChanged&&(c|=2)}let x=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return x&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||x)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>2e3<<1)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:l}=this,a=new qs(i.lineAt(s-r*1e3,ht.ByHeight,o,0,0).from,i.lineAt(l+(1-r)*1e3,ht.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<a.from||c>a.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,ht.ByPos,o,0,0),h;n.y=="center"?h=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<a.from?h=f.top:h=f.bottom-u,a=new qs(i.lineAt(h-1e3/2,ht.ByHeight,o,0,0).from,i.lineAt(h+u+1e3/2,ht.ByHeight,o,0,0).to)}}return a}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new qs(this.heightMap.lineAt(r,ht.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ht.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ht.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,ht.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:l}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=l+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<l+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new xc(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=zt.LTR&&!r)return[];let l=[],a=(c,u,f,h)=>{if(u-c<o)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let g of p)if(g>c&&g<u){a(c,g-10,f,h),a(g+10,u,f,h);return}let b=gO(e,g=>g.from>=f.from&&g.to<=f.to&&Math.abs(g.from-c)<o&&Math.abs(g.to-u)<o&&!p.some(m=>g.from<m&&g.to>m));if(!b){if(u<f.to&&n&&r&&n.visibleRanges.some(g=>g.from<=u&&g.to>=u)){let g=n.moveToLineBoundary(re.cursor(u),!1,!0).head;g>c&&(u=g)}b=new xc(c,u,this.gapSize(f,c,u,h))}l.push(b)};for(let c of this.viewportLines){if(c.length<s)continue;let u=mO(c.from,c.to,this.stateDeco);if(u.total<s)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,d;if(r){let p=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,b,g;if(f!=null){let m=Ks(u,f),x=((this.visibleBottom-this.visibleTop)/2+p)/c.height;b=m-x,g=m+x}else b=(this.visibleTop-c.top-p)/c.height,g=(this.visibleBottom-c.top+p)/c.height;h=Ws(u,b),d=Ws(u,g)}else{let p=u.total*this.heightOracle.charWidth,b=i*this.heightOracle.charWidth,g,m;if(f!=null){let x=Ks(u,f),y=((this.pixelViewport.right-this.pixelViewport.left)/2+b)/p;g=x-y,m=x+y}else g=(this.pixelViewport.left-b)/p,m=(this.pixelViewport.right+b)/p;h=Ws(u,g),d=Ws(u,m)}h>c.from&&a(c.from,h,c,u),d<c.to&&a(d,c.to,c,u)}return l}gapSize(e,n,r,i){let o=Ks(i,r)-Ks(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){xc.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=pt.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];dt.spans(e,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Ho(this.heightMap.lineAt(e,ht.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Ho(this.heightMap.lineAt(this.scaler.fromDOM(e),ht.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Ho(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class qs{constructor(e,n){this.from=e,this.to=n}}function mO(t,e,n){let r=[],i=t,o=0;return dt.spans(n,t,e,{span(){},point(s,l){s>i&&(r.push({from:i,to:s}),o+=s-i),i=l}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Ws({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],l=s-o;if(r<=l)return o+r;r-=l}}function Ks(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function gO(t,e){for(let n of t)if(e(n))return n}const Qp={toDOM(t){return t},fromDOM(t){return t},scale:1};class yO{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:l,to:a})=>{let c=n.lineAt(l,ht.ByPos,e,0,0).top,u=n.lineAt(a,ht.ByPos,e,0,0).bottom;return i+=u-c,{from:l,to:a,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let l of this.viewports)l.domTop=s+(l.top-o)*this.scale,s=l.domBottom=l.domTop+(l.bottom-l.top),o=l.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}function Ho(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new pr(t.from,t.length,n,r-n,Array.isArray(t.type)?t.type.map(i=>Ho(i,e)):t.type)}const Js=Te.define({combine:t=>t.join(" ")}),qu=Te.define({combine:t=>t.indexOf(!0)>-1}),Wu=Jr.newName(),tb=Jr.newName(),nb=Jr.newName(),rb={"&light":"."+tb,"&dark":"."+nb};function Ku(t,e,n){return new Jr(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const bO=Ku("."+Wu,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},rb);class vO{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let l=o||s?[]:xO(e),a=new Hy(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=_O(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=o&&o.node==l.focusNode&&o.offset==l.focusOffset||!fo(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),c=s&&s.node==l.anchorNode&&s.offset==l.anchorOffset||!fo(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset);this.newSel=re.single(c,a)}}}function ib(t,e){let n,{newSel:r}=e,i=t.state.selection.main;if(e.bounds){let{from:o,to:s}=e.bounds,l=i.from,a=null;(t.inputState.lastKeyCode===8&&t.inputState.lastKeyTime>Date.now()-100||be.android&&e.text.length<s-o)&&(l=i.to,a="end");let c=wO(t.state.doc.sliceString(o,s,Hr),e.text,l-o,a);c&&(be.chrome&&t.inputState.lastKeyCode==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Hr+Hr&&c.toB--,n={from:o+c.from,to:o+c.toA,insert:nt.of(e.text.slice(c.from,c.toB).split(Hr))})}else r&&(!t.hasFocus&&t.state.facet(Aa)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(be.mac||be.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=re.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:nt.of([" "])}):be.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=re.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:nt.of([" "])}),n){let o=t.state;if(be.ios&&t.inputState.flushIOSKey(t)||be.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&Qi(t.contentDOM,"Enter",13)||n.from==i.from-1&&n.to==i.to&&n.insert.length==0&&Qi(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&Qi(t.contentDOM,"Delete",46)))return!0;let s=n.insert.toString();if(t.state.facet(My).some(c=>c(t,n.from,n.to,s)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let l;if(n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let c=i.from<n.from?o.sliceDoc(i.from,n.from):"",u=i.to>n.to?o.sliceDoc(n.to,i.to):"";l=o.replaceSelection(t.state.toText(c+n.insert.sliceString(0,void 0,t.state.lineBreak)+u))}else{let c=o.changes(n),u=r&&!o.selection.main.eq(r.main)&&r.main.to<=c.newLength?r.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let f=t.state.sliceDoc(n.from,n.to),h=Vy(t)||t.state.doc.lineAt(i.head),d=i.to-n.to,p=i.to-i.from;l=o.changeByRange(b=>{if(b.from==i.from&&b.to==i.to)return{changes:c,range:u||b.map(c)};let g=b.to-d,m=g-f.length;if(b.to-b.from!=p||t.state.sliceDoc(m,g)!=f||h&&b.to>=h.from&&b.from<=h.to)return{range:b};let x=o.changes({from:m,to:g,insert:n.insert}),y=b.to-i.to;return{changes:x,range:u?re.range(Math.max(0,u.anchor+y),Math.max(0,u.head+y)):b.map(x)}})}else l={changes:c,selection:u&&o.selection.replaceRange(u)}}let a="input.type";return t.composing&&(a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(l,{scrollIntoView:!0,userEvent:a}),!0}else if(r&&!r.main.eq(i)){let o=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),s=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:o,userEvent:s}),!0}else return!1}function wO(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,l=e.length;for(;s>0&&l>0&&t.charCodeAt(s-1)==e.charCodeAt(l-1);)s--,l--;if(r=="end"){let a=Math.max(0,o-Math.min(s,l));n-=s+a-o}if(s<o&&t.length<e.length){let a=n<=o&&n>=s?o-n:0;o-=a,l=o+(l-s),s=o}else if(l<o){let a=n<=o&&n>=l?o-n:0;o-=a,s=o+(s-l),l=o}return{from:o,toA:s,toB:l}}function xO(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new Pp(n,r)),(i!=n||o!=r)&&e.push(new Pp(i,o))),e}function _O(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?re.single(n+e,r+e):null}const kO={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},_c=be.ie&&be.ie_version<=11;class SO{constructor(e){this.view=e,this.active=!1,this.selectionRange=new gA,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(be.ie&&be.ie_version<=11||be.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),_c&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Aa)?r.root.activeElement!=this.dom:!yl(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(be.ie&&be.ie_version<=11||be.android&&be.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Ul(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=be.safari&&e.root.nodeType==11&&hA(this.dom.ownerDocument)==this.dom&&CO(this.view)||Vl(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=yl(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&bA(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,kO),_c&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),_c&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),!this.flush()&&o.force&&Qi(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let o of this.observer.takeRecords())e.push(o);e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&yl(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new vO(this.view,e,n,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let r=this.view.state,i=ib(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let r=Zp(n,e.previousSibling||e.target.previousSibling,-1),i=Zp(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function Zp(t,e,n){for(;e;){let r=mt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function CO(t){let e=null;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.docView.domAtPos(t.state.selection.main.anchor);return Ul(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}class Ve{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||yA(e.parent)||document,this.viewState=new Xp(e.state||tt.create(e)),this.plugins=this.state.facet(jo).map(n=>new bc(n));for(let n of this.plugins)n.update(this);this.observer=new SO(this),this.inputState=new KA(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Dp(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof Mt?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let h of e){if(h.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=h.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,l=0,a=null;e.some(h=>h.annotation(Xy))?(this.inputState.notifiedFocused=s,l=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,a=Qy(o,s),a||(l=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(tt.phrases)!=this.state.facet(tt.phrases))return this.setState(o);i=Wl.create(this,o,e),i.flags|=l;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;f=new ql(d.empty?d:re.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(Rp)&&(f=d.value)}this.viewState.update(i,f),this.bidiCache=Kl.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Fo)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Js)!=i.state.facet(Js)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let h of this.state.facet(ju))h(i);(a||u)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),u&&!ib(this,u)&&c.force&&Qi(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Xp(e),this.plugins=e.facet(jo).map(r=>new bc(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new Dp(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(jo),r=e.state.facet(jo);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new bc(o));else{let l=this.plugins[s];l.mustUpdate=e,i.push(l)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:r,scrollTop:i,clientHeight:o}=this.scrollDOM,s=i>r-o-4?r:i;try{for(let l=0;;l++){this.updateState=1;let a=this.viewport,c=this.viewState.lineBlockAtHeight(s),u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(g=>{try{return g.read(this)}catch(m){return zr(this.state,m),em}}),d=Wl.create(this,this.state,[]),p=!1,b=!1;d.flags|=u,n?n.flags|=u:n=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d));for(let g=0;g<f.length;g++)if(h[g]!=em)try{let m=f[g];m.write&&m.write(h[g],this)}catch(m){zr(this.state,m)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,b=!0;else{let g=this.viewState.lineBlockAt(c.from).top-c.top;(g>1||g<-1)&&(this.scrollDOM.scrollTop+=g,b=!0)}if(p&&this.docView.updateSelection(!0),this.viewport.from==a.from&&this.viewport.to==a.to&&!b&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(ju))l(n)}get themeClasses(){return Wu+" "+(this.state.facet(qu)?nb:tb)+" "+this.state.facet(Js)}updateAttrs(){let e=tm(this,Iy,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Aa)?"true":"false",class:"cm-content",style:`${be.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),tm(this,ph,n);let r=this.observer.ignore(()=>{let i=Bu(this.contentDOM,this.contentAttrs,n),o=Bu(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Ve.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Fo),Jr.mount(this.root,this.styleModules.concat(bO).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return wc(this,e,Fp(this,e,n,r))}moveByGroup(e,n){return wc(this,e,Fp(this,e,n,r=>qA(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return zA(this,e,n,r)}moveVertically(e,n,r){return wc(this,e,WA(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),zy(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Zi.find(o,e-i.from,-1,n)];return uh(r,s.dir==zt.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Dy)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>EO)return jy(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=LA(e.text,n);return this.bidiCache.push(new Kl(e.from,e.to,n,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||be.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{my(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Rp.of(new ql(typeof e=="number"?re.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return Xr.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=Jr.newName(),i=[Js.of(r),Fo.of(Ku(`.${r}`,e))];return n&&n.dark&&i.push(qu.of(!0)),i}static baseTheme(e){return sh.lowest(Fo.of(Ku("."+Wu,e,rb)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&mt.get(r)||mt.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}Ve.styleModule=Fo;Ve.inputHandler=My;Ve.focusChangeEffect=Py;Ve.perLineTextDirection=Dy;Ve.exceptionSink=Ry;Ve.updateListener=ju;Ve.editable=Aa;Ve.mouseSelectionStyle=Ly;Ve.dragMovesSelection=Ty;Ve.clickAddsSelectionRange=Oy;Ve.decorations=ms;Ve.atomicRanges=$y;Ve.scrollMargins=By;Ve.darkTheme=qu;Ve.contentAttributes=ph;Ve.editorAttributes=Iy;Ve.lineWrapping=Ve.contentAttributes.of({class:"cm-lineWrapping"});Ve.announce=Rt.define();const EO=4096,em={};class Kl{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:zt.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new Kl(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.order))}return r}}function tm(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&$u(s,n)}return n}const AO=be.mac?"mac":be.windows?"win":be.linux?"linux":"key";function OO(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,l;for(let a=0;a<n.length-1;++a){const c=n[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?l=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),l&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Gs(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const TO=sh.default(Ve.domEventHandlers({keydown(t,e){return PO(LO(e.state),t,e,"editor")}})),ob=Te.define({enables:TO}),nm=new WeakMap;function LO(t){let e=t.facet(ob),n=nm.get(e);return n||nm.set(e,n=MO(e.reduce((r,i)=>r.concat(i),[]))),n}let Nr=null;const RO=4e3;function MO(t,e=AO){let n=Object.create(null),r=Object.create(null),i=(s,l)=>{let a=r[s];if(a==null)r[s]=l;else if(a!=l)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,l,a,c)=>{var u,f;let h=n[s]||(n[s]=Object.create(null)),d=l.split(/ (?!$)/).map(g=>OO(g,e));for(let g=1;g<d.length;g++){let m=d.slice(0,g).join(" ");i(m,!0),h[m]||(h[m]={preventDefault:!0,run:[x=>{let y=Nr={view:x,prefix:m,scope:s};return setTimeout(()=>{Nr==y&&(Nr=null)},RO),!0}]})}let p=d.join(" ");i(p,!1);let b=h[p]||(h[p]={preventDefault:!1,run:((f=(u=h._any)===null||u===void 0?void 0:u.run)===null||f===void 0?void 0:f.slice())||[]});a&&b.run.push(a),c&&(b.preventDefault=!0)};for(let s of t){let l=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of l){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,run:[]});for(let f in u)u[f].run.push(s.any)}let a=s[e]||s.key;if(a)for(let c of l)o(c,a,s.run,s.preventDefault),s.shift&&o(c,"Shift-"+a,s.shift,s.preventDefault)}return n}function PO(t,e,n,r){let i=fA(e),o=ml(i,0),s=bu(o)==i.length&&i!=" ",l="",a=!1;Nr&&Nr.view==n&&Nr.scope==r&&(l=Nr.prefix+" ",(a=Wy.indexOf(e.keyCode)<0)&&(Nr=null));let c=new Set,u=p=>{if(p){for(let b of p.run)if(!c.has(b)&&(c.add(b),b(n,e)))return!0;p.preventDefault&&(a=!0)}return!1},f=t[r],h,d;if(f){if(u(f[l+Gs(i,e,!s)]))return!0;if(s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(be.windows&&e.ctrlKey&&e.altKey)&&(h=Gr[e.keyCode])&&h!=i){if(u(f[l+Gs(h,e,!0)]))return!0;if(e.shiftKey&&(d=hs[e.keyCode])!=i&&d!=h&&u(f[l+Gs(d,e,!1)]))return!0}else if(s&&e.shiftKey&&u(f[l+Gs(i,e,!0)]))return!0;if(u(f._any))return!0}return a}const DO=!be.ios,IO={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};DO&&(IO[".cm-line"].caretColor="transparent !important");function $O(){return NO}const BO=pt.line({class:"cm-activeLine"}),NO=Xr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(BO.range(i.from)),e=i.from)}return pt.set(n)}},{decorations:t=>t.decorations});class Qr extends uo{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Qr.prototype.elementClass="";Qr.prototype.toDOM=void 0;Qr.prototype.mapMode=dn.TrackBefore;Qr.prototype.startSide=Qr.prototype.endSide=-1;Qr.prototype.point=!0;const vl=Te.define(),wl=Te.define(),Ju=Te.define({combine:t=>t.some(e=>e)});function jO(t){let e=[FO];return t&&t.fixed===!1&&e.push(Ju.of(!0)),e}const FO=Xr.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(wl).map(e=>new im(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(Ju),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Ju)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=dt.iter(this.view.state.facet(vl),this.view.viewport.from),r=[],i=this.gutters.map(o=>new HO(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks){let s;if(Array.isArray(o.type)){for(let l of o.type)if(l.type==St.Text){s=l;break}}else s=o.type==St.Text?o:void 0;if(s){r.length&&(r=[]),sb(n,r,o.from);for(let l of i)l.line(this.view,s,r)}}for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(wl),n=t.state.facet(wl),r=t.docChanged||t.heightChanged||t.viewportChanged||!dt.eq(t.startState.facet(vl),t.state.facet(vl),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new im(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Ve.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==zt.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function rm(t){return Array.isArray(t)?t:[t]}function sb(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class HO{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=dt.iter(e.markers,n.from)}line(e,n,r){let i=[];sb(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;if(i.length==0&&!s.config.renderEmptyElements)return;let l=n.top-this.height;if(this.i==s.elements.length){let a=new lb(e,n.height,l,i);s.elements.push(a),s.dom.appendChild(a.dom)}else s.elements[this.i].update(e,n.height,l,i);this.height=n.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class im{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let a=o.getBoundingClientRect();s=(a.top+a.bottom)/2}else s=i.clientY;let l=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,l,i)&&i.preventDefault()});this.markers=rm(n.markers(e)),n.initialSpacer&&(this.spacer=new lb(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=rm(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!dt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class lb{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),VO(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let l=s,a=o<n.length?n[o++]:null,c=!1;if(a){let u=a.elementClass;u&&(r+=" "+u);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(a)){l=f,c=!0;break}}else l=this.markers.length;for(;s<l;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!a)break;a.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function VO(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const UO=Te.define(),zi=Te.define({combine(t){return lh(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(l,a,c)=>o(l,a,c)||s(l,a,c):s}return r}})}});class kc extends Qr{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Sc(t,e){return t.state.facet(zi).formatNumber(e,t.state)}const zO=wl.compute([zi],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(UO)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new kc(Sc(e,e.state.doc.lineAt(n.from).number))},lineMarkerChange:e=>e.startState.facet(zi)!=e.state.facet(zi),initialSpacer(e){return new kc(Sc(e,om(e.state.doc.lines)))},updateSpacer(e,n){let r=Sc(n.view,om(n.view.state.doc.lines));return r==e.number?e:new kc(r)},domEventHandlers:t.facet(zi).domEventHandlers}));function qO(t={}){return[zi.of(t),jO(),zO]}function om(t){let e=9;for(;e<t;)e=e*10+9;return e}const WO=new class extends Qr{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},KO=vl.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(WO.range(i)))}return dt.of(e)});function JO(){return KO}const GO=1024;let YO=0,wn=class{constructor(e,n){this.from=e,this.to=n}};class Ue{constructor(e={}){this.id=YO++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=nn.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ue.closedBy=new Ue({deserialize:t=>t.split(" ")});Ue.openedBy=new Ue({deserialize:t=>t.split(" ")});Ue.group=new Ue({deserialize:t=>t.split(" ")});Ue.contextHash=new Ue({perNode:!0});Ue.lookAhead=new Ue({perNode:!0});Ue.mounted=new Ue({perNode:!0});class XO{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}}const QO=Object.create(null);class nn{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):QO,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new nn(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ue.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Ue.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}nn.none=new nn("",Object.create(null),0,8);class gh{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new nn(r.name,i,r.id,r.flags):r)}return new gh(n)}}const Ys=new WeakMap,sm=new WeakMap;var kt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(kt||(kt={}));class ft{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,l]of o)this.props[typeof s=="number"?s:s.id]=l}}toString(){let e=this.prop(Ue.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new gs(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Ys.get(this)||this.topNode,o=new gs(i);return o.moveTo(e,n),Ys.set(this,o._tree),o}get topNode(){return new En(this,0,0,null)}resolve(e,n=0){let r=mo(Ys.get(this)||this.topNode,e,n,!1);return Ys.set(this,r),r}resolveInner(e,n=0){let r=mo(sm.get(this)||this.topNode,e,n,!0);return sm.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e;for(let s=this.cursor((e.mode||0)|kt.IncludeAnonymous);;){let l=!1;if(s.from<=o&&s.to>=i&&(s.type.isAnonymous||n(s)!==!1)){if(s.firstChild())continue;l=!0}for(;l&&r&&!s.type.isAnonymous&&r(s),!s.nextSibling();){if(!s.parent())return;l=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:vh(nn.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new ft(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new ft(nn.none,n,r,i)))}static build(e){return eT(e)}}ft.empty=new ft(nn.none,[],[],0);class yh{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new yh(this.buffer,this.index)}}class Pi{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return nn.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,l=-1;for(let a=e;a!=n&&!(ab(o,i,s[a+1],s[a+2])&&(l=a,r>0));a=s[a+3]);return l}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let l=e,a=0;l<n;){o[a++]=i[l++],o[a++]=i[l++]-r;let c=o[a++]=i[l++]-r;o[a++]=i[l++]-e,s=Math.max(s,c)}return new Pi(o,s,this.set)}}function ab(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function cb(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function mo(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof En&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:kt.IgnoreOverlays;if(r)for(let s=t,l=s.parent;l;s=l,l=s.parent)s instanceof En&&s.index<0&&((i=l.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=l);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class En{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:l,positions:a}=s._tree,c=n>0?l.length:-1;e!=c;e+=n){let u=l[e],f=a[e]+s.from;if(ab(i,r,f,f+u.length)){if(u instanceof Pi){if(o&kt.ExcludeBuffers)continue;let h=u.findChild(0,u.buffer.length,n,r-f,i);if(h>-1)return new nr(new ZO(s,u,e,f),null,h)}else if(o&kt.IncludeAnonymous||!u.type.isAnonymous||bh(u)){let h;if(!(o&kt.IgnoreMounts)&&u.props&&(h=u.prop(Ue.mounted))&&!h.overlay)return new En(h.tree,f,e,s);let d=new En(u,f,e,s);return o&kt.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&kt.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&kt.IgnoreOverlays)&&(i=this._tree.prop(Ue.mounted))&&i.overlay){let o=e-this.from;for(let{from:s,to:l}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?l>=o:l>o))return new En(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new gs(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return mo(this,e,n,!1)}resolveInner(e,n=0){return mo(this,e,n,!0)}enterUnfinishedNodesBefore(e){return cb(this,e)}getChild(e,n=null,r=null){let i=Jl(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Jl(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Gl(this,e)}}function Jl(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function Gl(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class ZO{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class nr{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new nr(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&kt.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new nr(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new nr(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new nr(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new gs(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new ft(this.type,e,n,this.to-this.from)}resolve(e,n=0){return mo(this,e,n,!1)}resolveInner(e,n=0){return mo(this,e,n,!0)}enterUnfinishedNodesBefore(e){return cb(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=Jl(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return Jl(this,e,n,r)}get node(){return this}matchContext(e){return Gl(this,e)}}class gs{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof En)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof En?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&kt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&kt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&kt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let l=r._tree.children[o];if(this.mode&kt.IncludeAnonymous||l instanceof Pi||!l.type.isAnonymous||bh(l))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new nr(this.buffer,n,this.stack[i]);return this.bufferNode=new nr(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Gl(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return Gl(this.node,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function bh(t){return t.children.some(e=>e instanceof Pi||!e.type.isAnonymous||bh(e))}function eT(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=GO,reused:o=[],minRepeatType:s=r.types.length}=t,l=Array.isArray(n)?new yh(n,n.length):n,a=r.types,c=0,u=0;function f(w,v,S,E,k){let{id:O,start:R,end:C,size:_}=l,L=u;for(;_<0;)if(l.next(),_==-1){let D=o[O];S.push(D),E.push(R-w);return}else if(_==-3){c=O;return}else if(_==-4){u=O;return}else throw new RangeError(`Unrecognized record size: ${_}`);let M=a[O],A,T,P=R-w;if(C-R<=i&&(T=b(l.pos-v,k))){let D=new Uint16Array(T.size-T.skip),$=l.pos-T.size,G=D.length;for(;l.pos>$;)G=g(T.start,D,G);A=new Pi(D,C-T.start,r),P=T.start-w}else{let D=l.pos-_;l.next();let $=[],G=[],ne=O>=s?O:-1,ae=0,Re=C;for(;l.pos>D;)ne>=0&&l.id==ne&&l.size>=0?(l.end<=Re-i&&(d($,G,R,ae,l.end,Re,ne,L),ae=$.length,Re=l.end),l.next()):f(R,D,$,G,ne);if(ne>=0&&ae>0&&ae<$.length&&d($,G,R,ae,R,Re,ne,L),$.reverse(),G.reverse(),ne>-1&&ae>0){let he=h(M);A=vh(M,$,G,0,$.length,0,C-R,he,he)}else A=p(M,$,G,C-R,L-C)}S.push(A),E.push(P)}function h(w){return(v,S,E)=>{let k=0,O=v.length-1,R,C;if(O>=0&&(R=v[O])instanceof ft){if(!O&&R.type==w&&R.length==E)return R;(C=R.prop(Ue.lookAhead))&&(k=S[O]+R.length+C)}return p(w,v,S,E,k)}}function d(w,v,S,E,k,O,R,C){let _=[],L=[];for(;w.length>E;)_.push(w.pop()),L.push(v.pop()+S-k);w.push(p(r.types[R],_,L,O-k,C-O)),v.push(k-S)}function p(w,v,S,E,k=0,O){if(c){let R=[Ue.contextHash,c];O=O?[R].concat(O):[R]}if(k>25){let R=[Ue.lookAhead,k];O=O?[R].concat(O):[R]}return new ft(w,v,S,E,O)}function b(w,v){let S=l.fork(),E=0,k=0,O=0,R=S.end-i,C={size:0,start:0,skip:0};e:for(let _=S.pos-w;S.pos>_;){let L=S.size;if(S.id==v&&L>=0){C.size=E,C.start=k,C.skip=O,O+=4,E+=4,S.next();continue}let M=S.pos-L;if(L<0||M<_||S.start<R)break;let A=S.id>=s?4:0,T=S.start;for(S.next();S.pos>M;){if(S.size<0)if(S.size==-3)A+=4;else break e;else S.id>=s&&(A+=4);S.next()}k=T,E+=L,O+=A}return(v<0||E==w)&&(C.size=E,C.start=k,C.skip=O),C.size>4?C:void 0}function g(w,v,S){let{id:E,start:k,end:O,size:R}=l;if(l.next(),R>=0&&E<s){let C=S;if(R>4){let _=l.pos-(R-4);for(;l.pos>_;)S=g(w,v,S)}v[--S]=C,v[--S]=O-w,v[--S]=k-w,v[--S]=E}else R==-3?c=E:R==-4&&(u=E);return S}let m=[],x=[];for(;l.pos>0;)f(t.start||0,t.bufferStart||0,m,x,-1);let y=(e=t.length)!==null&&e!==void 0?e:m.length?x[0]+m[0].length:0;return new ft(a[t.topID],m.reverse(),x.reverse(),y)}const lm=new WeakMap;function xl(t,e){if(!t.isAnonymous||e instanceof Pi||e.type!=t)return 1;let n=lm.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof ft)){n=1;break}n+=xl(t,r)}lm.set(e,n)}return n}function vh(t,e,n,r,i,o,s,l,a){let c=0;for(let p=r;p<i;p++)c+=xl(t,e[p]);let u=Math.ceil(c*1.5/8),f=[],h=[];function d(p,b,g,m,x){for(let y=g;y<m;){let w=y,v=b[y],S=xl(t,p[y]);for(y++;y<m;y++){let E=xl(t,p[y]);if(S+E>=u)break;S+=E}if(y==w+1){if(S>u){let E=p[w];d(E.children,E.positions,0,E.children.length,b[w]+x);continue}f.push(p[w])}else{let E=b[y-1]+p[y-1].length-v;f.push(vh(t,p,b,w,y,v,E,null,a))}h.push(v+x-o)}}return d(e,n,r,i,0),(l||a)(f,h,s)}class BM{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof nr?this.setBuffer(e.context.buffer,e.index,n):e instanceof En&&this.map.set(e.tree,n)}get(e){return e instanceof nr?this.getBuffer(e.context.buffer,e.index):e instanceof En?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class vr{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new vr(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let l=0,a=0,c=0;;l++){let u=l<n.length?n[l]:null,f=u?u.fromA:1e9;if(f-a>=r)for(;s&&s.from<f;){let h=s;if(a>=h.from||f<=h.to||c){let d=Math.max(h.from,a)-c,p=Math.min(h.to,f)-c;h=d>=p?null:new vr(d,p,h.tree,h.offset+c,l>0,!!u)}if(h&&i.push(h),s.to>f)break;s=o<e.length?e[o++]:null}if(!u)break;a=u.toA,c=u.toA-u.toB}return i}}class ub{startParse(e,n,r){return typeof e=="string"&&(e=new tT(e)),r=r?r.length?r.map(i=>new wn(i.from,i.to)):[new wn(0,0)]:[new wn(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class tT{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function NM(t){return(e,n,r,i)=>new rT(e,t,n,r,i)}class am{constructor(e,n,r,i,o){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.ranges=o}}class nT{constructor(e,n,r,i,o,s,l){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=l,this.depth=0,this.ranges=[]}}const Gu=new Ue({perNode:!0});class rT{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new ft(r.type,r.children,r.positions,r.length,r.propValues.concat([[Gu,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Ue.mounted.id]=new XO(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].ranges[0].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new sT(this.fragments),n=null,r=null,i=new gs(new En(this.baseTree,this.ranges[0].from,0,null),kt.IncludeAnonymous|kt.IgnoreMounts);e:for(let o,s;this.stoppedAt==null||i.from<this.stoppedAt;){let l=!0,a;if(e.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let f=u.from+c.pos,h=u.to+c.pos;f>=i.from&&h<=i.to&&!n.ranges.some(d=>d.from<h&&d.to>f)&&n.ranges.push({from:f,to:h})}}l=!1}else if(r&&(s=iT(r.ranges,i.from,i.to)))l=s!=2;else if(!i.type.isAnonymous&&i.from<i.to&&(o=this.nest(i,this.input))){i.tree||oT(i);let c=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new nT(o.parser,o.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=fm(this.ranges,o.overlay||[new wn(i.from,i.to)]);u.length&&this.inner.push(new am(o.parser,o.parser.startParse(this.input,hm(c,u),u),o.overlay?o.overlay.map(f=>new wn(f.from-i.from,f.to-i.from)):null,i.tree,u)),o.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):l=!1}}else n&&(a=n.predicate(i))&&(a===!0&&(a=new wn(i.from,i.to)),a.from<a.to&&n.ranges.push(a));if(l&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=fm(this.ranges,n.ranges);c.length&&this.inner.splice(n.index,0,new am(n.parser,n.parser.startParse(this.input,hm(n.mounts,c),c),n.ranges.map(u=>new wn(u.from-n.start,u.to-n.start)),n.target,c)),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function iT(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function cm(t,e,n,r,i,o){if(e<n){let s=t.buffer[e+1];r.push(t.slice(e,n,s)),i.push(s-o)}}function oT(t){let{node:e}=t,n=0;do t.parent(),n++;while(!t.tree);let r=0,i=t.tree,o=0;for(;o=i.positions[r]+t.from,!(o<=e.from&&o+i.children[r].length>=e.to);r++);let s=i.children[r],l=s.buffer;function a(c,u,f,h,d){let p=c;for(;l[p+2]+o<=e.from;)p=l[p+3];let b=[],g=[];cm(s,c,p,b,g,h);let m=l[p+1],x=l[p+2],y=m+o==e.from&&x+o==e.to&&l[p]==e.type.id;return b.push(y?e.toTree():a(p+4,l[p+3],s.set.types[l[p]],m,x-m)),g.push(m-h),cm(s,l[p+3],u,b,g,h),new ft(f,b,g,d)}i.children[r]=a(0,l.length,nn.none,0,s.length);for(let c=0;c<=n;c++)t.childAfter(e.from)}class um{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(kt.IncludeAnonymous|kt.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,kt.IgnoreOverlays|kt.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof ft)n=n.children[0];else break}return!1}}class sT{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(Gu))!==null&&n!==void 0?n:r.to,this.inner=new um(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(Gu))!==null&&e!==void 0?e:n.to,this.inner=new um(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(Ue.mounted);if(s&&s.parser==n)for(let l=this.fragI;l<this.fragments.length;l++){let a=this.fragments[l];if(a.from>=o.to)break;a.tree==this.curFrag.tree&&i.push({frag:a,pos:o.from-a.offset,mount:s})}}}return i}}function fm(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,l=t[i].from;for(;o<r.length;o++){let a=r[o];if(a.from>=l)break;a.to<=s||(n||(r=n=e.slice()),a.from<s?(n[o]=new wn(a.from,s),a.to>l&&n.splice(o+1,0,new wn(l,a.to))):a.to>l?n[o--]=new wn(l,a.to):n.splice(o--,1))}}return r}function lT(t,e,n,r){let i=0,o=0,s=!1,l=!1,a=-1e9,c=[];for(;;){let u=i==t.length?1e9:s?t[i].to:t[i].from,f=o==e.length?1e9:l?e[o].to:e[o].from;if(s!=l){let h=Math.max(a,n),d=Math.min(u,f,r);h<d&&c.push(new wn(h,d))}if(a=Math.min(u,f),a==1e9)break;u==a&&(s?(s=!1,i++):s=!0),f==a&&(l?(l=!1,o++):l=!0)}return c}function hm(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let s=r+(i.overlay?i.overlay[0].from:0),l=s+i.tree.length,a=Math.max(o.from,s),c=Math.min(o.to,l);if(i.overlay){let u=i.overlay.map(h=>new wn(h.from+r,h.to+r)),f=lT(e,u,a,c);for(let h=0,d=a;;h++){let p=h==f.length,b=p?c:f[h].from;if(b>d&&n.push(new vr(d,b,i.tree,-s,o.from>=d||o.openStart,o.to<=b||o.openEnd)),p)break;d=f[h].to}}else n.push(new vr(a,c,i.tree,-s,o.from>=s||o.openStart,o.to<=l||o.openEnd))}return n}let aT=0;class Qn{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=aT++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Qn([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new Yl;return n=>n.modified.indexOf(e)>-1?n:Yl.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let cT=0;class Yl{constructor(){this.instances=[],this.id=cT++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(l=>l.base==e&&uT(n,l.modified));if(r)return r;let i=[],o=new Qn(i,e,n);for(let l of n)l.instances.push(o);let s=fT(n);for(let l of e.set)if(!l.modified.length)for(let a of s)i.push(Yl.get(l,a));return o}}function uT(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function fT(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function hT(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,l=i;for(let f=0;;){if(l=="..."&&f>0&&f+3==i.length){s=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!h)throw new RangeError("Invalid path: "+i);if(o.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let d=i[f++];if(f==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);l=i.slice(f)}let a=o.length-1,c=o[a];if(!c)throw new RangeError("Invalid path: "+i);let u=new Xl(r,s,a>0?o.slice(0,a):null);e[c]=u.sort(e[c])}}return fb.add(e)}const fb=new Ue;class Xl{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Xl.empty=new Xl([],2,null);function hb(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let l of o)for(let a of l.set){let c=n[a.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function dT(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function pT(t,e,n,r=0,i=t.length){let o=new mT(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class mT{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:l,to:a}=e;if(l>=r||a<=n)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let c=i,u=gT(e)||Xl.empty,f=dT(o,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(e.from,c),u.opaque)return;let h=e.tree&&e.tree.prop(Ue.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+l,1),p=this.highlighters.filter(g=>!g.scope||g.scope(h.tree.type)),b=e.firstChild();for(let g=0,m=l;;g++){let x=g<h.overlay.length?h.overlay[g]:null,y=x?x.from+l:a,w=Math.max(n,m),v=Math.min(r,y);if(w<v&&b)for(;e.from<v&&(this.highlightRange(e,w,v,i,o),this.startSpan(Math.min(v,e.to),c),!(e.to>=y||!e.nextSibling())););if(!x||y>r)break;m=x.to+l,m>n&&(this.highlightRange(d.cursor(),Math.max(n,x.from+l),Math.min(r,m),i,p),this.startSpan(m,c))}b&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function gT(t){let e=t.type.prop(fb);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const se=Qn.define,Xs=se(),$r=se(),dm=se($r),pm=se($r),Br=se(),Qs=se(Br),Cc=se(Br),Yn=se(),ci=se(Yn),Jn=se(),Gn=se(),Yu=se(),Po=se(Yu),Zs=se(),q={comment:Xs,lineComment:se(Xs),blockComment:se(Xs),docComment:se(Xs),name:$r,variableName:se($r),typeName:dm,tagName:se(dm),propertyName:pm,attributeName:se(pm),className:se($r),labelName:se($r),namespace:se($r),macroName:se($r),literal:Br,string:Qs,docString:se(Qs),character:se(Qs),attributeValue:se(Qs),number:Cc,integer:se(Cc),float:se(Cc),bool:se(Br),regexp:se(Br),escape:se(Br),color:se(Br),url:se(Br),keyword:Jn,self:se(Jn),null:se(Jn),atom:se(Jn),unit:se(Jn),modifier:se(Jn),operatorKeyword:se(Jn),controlKeyword:se(Jn),definitionKeyword:se(Jn),moduleKeyword:se(Jn),operator:Gn,derefOperator:se(Gn),arithmeticOperator:se(Gn),logicOperator:se(Gn),bitwiseOperator:se(Gn),compareOperator:se(Gn),updateOperator:se(Gn),definitionOperator:se(Gn),typeOperator:se(Gn),controlOperator:se(Gn),punctuation:Yu,separator:se(Yu),bracket:Po,angleBracket:se(Po),squareBracket:se(Po),paren:se(Po),brace:se(Po),content:Yn,heading:ci,heading1:se(ci),heading2:se(ci),heading3:se(ci),heading4:se(ci),heading5:se(ci),heading6:se(ci),contentSeparator:se(Yn),list:se(Yn),quote:se(Yn),emphasis:se(Yn),strong:se(Yn),link:se(Yn),monospace:se(Yn),strikethrough:se(Yn),inserted:se(),deleted:se(),changed:se(),invalid:se(),meta:Zs,documentMeta:se(Zs),annotation:se(Zs),processingInstruction:se(Zs),definition:Qn.defineModifier(),constant:Qn.defineModifier(),function:Qn.defineModifier(),standard:Qn.defineModifier(),local:Qn.defineModifier(),special:Qn.defineModifier()};hb([{tag:q.link,class:"tok-link"},{tag:q.heading,class:"tok-heading"},{tag:q.emphasis,class:"tok-emphasis"},{tag:q.strong,class:"tok-strong"},{tag:q.keyword,class:"tok-keyword"},{tag:q.atom,class:"tok-atom"},{tag:q.bool,class:"tok-bool"},{tag:q.url,class:"tok-url"},{tag:q.labelName,class:"tok-labelName"},{tag:q.inserted,class:"tok-inserted"},{tag:q.deleted,class:"tok-deleted"},{tag:q.literal,class:"tok-literal"},{tag:q.string,class:"tok-string"},{tag:q.number,class:"tok-number"},{tag:[q.regexp,q.escape,q.special(q.string)],class:"tok-string2"},{tag:q.variableName,class:"tok-variableName"},{tag:q.local(q.variableName),class:"tok-variableName tok-local"},{tag:q.definition(q.variableName),class:"tok-variableName tok-definition"},{tag:q.special(q.variableName),class:"tok-variableName2"},{tag:q.definition(q.propertyName),class:"tok-propertyName tok-definition"},{tag:q.typeName,class:"tok-typeName"},{tag:q.namespace,class:"tok-namespace"},{tag:q.className,class:"tok-className"},{tag:q.macroName,class:"tok-macroName"},{tag:q.propertyName,class:"tok-propertyName"},{tag:q.operator,class:"tok-operator"},{tag:q.comment,class:"tok-comment"},{tag:q.meta,class:"tok-meta"},{tag:q.invalid,class:"tok-invalid"},{tag:q.punctuation,class:"tok-punctuation"}]);var Ec;const yi=new Ue;function db(t){return Te.define({combine:t?e=>e.concat(t):void 0})}const yT=new Ue;class xn{constructor(e,n,r=[],i=""){this.data=e,this.name=i,tt.prototype.hasOwnProperty("tree")||Object.defineProperty(tt.prototype,"tree",{get(){return Vn(this)}}),this.parser=n,this.extension=[bo.of(this),tt.languageData.of((o,s,l)=>{let a=mm(o,s,l),c=a.type.prop(yi);if(!c)return[];let u=o.facet(c),f=a.type.prop(yT);if(f){let h=a.resolve(s-a.from,l);for(let d of f)if(d.test(h,o)){let p=o.facet(d.facet);return d.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return mm(e,n,r).type.prop(yi)==this.data}findRegions(e){let n=e.facet(bo);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(yi)==this.data){r.push({from:s,to:s+o.length});return}let l=o.prop(Ue.mounted);if(l){if(l.tree.prop(yi)==this.data){if(l.overlay)for(let a of l.overlay)r.push({from:a.from+s,to:a.to+s});else r.push({from:s,to:s+o.length});return}else if(l.overlay){let a=r.length;if(i(l.tree,l.overlay[0].from+s),r.length>a)return}}for(let a=0;a<o.children.length;a++){let c=o.children[a];c instanceof ft&&i(c,o.positions[a]+s)}};return i(Vn(e),0),r}get allowsNesting(){return!0}}xn.setState=Rt.define();function mm(t,e,n){let r=t.facet(bo),i=Vn(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,kt.ExcludeBuffers))o.type.isTop&&(i=o);return i}class Xu extends xn{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=db(e.languageData);return new Xu(n,e.parser.configure({props:[yi.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Xu(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Vn(t){let e=t.field(xn.state,!1);return e?e.tree:ft.empty}class bT{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Do=null;class go{constructor(e,n,r=[],i,o,s,l,a){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new go(e,n,[],ft.empty,0,r,[],null)}startParse(){return this.parser.startParse(new bT(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=ft.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(vr.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(vr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Do;Do=this;try{return e()}finally{Do=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=gm(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((c,u,f,h)=>a.push({fromA:c,toA:u,fromB:f,toB:h})),r=vr.applyChanges(r,a),i=ft.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){l=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&l.push({from:u,to:f})}}}return new go(this.parser,n,r,i,o,s,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=gm(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends ub{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let a=Do;if(a){for(let c of i)a.tempSkipped.push(c);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=s,new ft(nn.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Do}}function gm(t,e,n){return vr.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class yo{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new yo(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=go.create(e.facet(bo).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new yo(r)}}xn.state=Er.define({create:yo.init,update(t,e){for(let n of e.effects)if(n.is(xn.setState))return n.value;return e.startState.facet(bo)!=e.state.facet(bo)?yo.init(e.state):t.apply(e)}});let pb=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(pb=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Ac=typeof navigator<"u"&&(!((Ec=navigator.scheduling)===null||Ec===void 0)&&Ec.isInputPending)?()=>navigator.scheduling.isInputPending():null,vT=Xr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(xn.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(xn.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=pb(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(xn.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!Ac?Math.max(25,e.timeRemaining()-5):1e9),l=o.context.treeLen<i&&r.doc.length>i+1e3,a=o.context.work(()=>Ac&&Ac()||Date.now()>s,i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(a||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:xn.setState.of(new yo(o.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>zr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),bo=Te.define({combine(t){return t.length?t[0]:null},enables:t=>[xn.state,vT,Ve.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class wT{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class j{constructor(e,n,r,i,o,s=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new j(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(o=>o==n))return i;if(r)for(let i of e)for(let o of i.alias){let s=n.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(n[s-1])&&!/\w/.test(n[s+o.length])))return i}return null}}const mb=Te.define(),Oa=Te.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Ti(t){let e=t.facet(Oa);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function ys(t,e){let n="",r=t.tabSize,i=t.facet(Oa)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function wh(t,e){t instanceof tt&&(t=new Ta(t));for(let r of t.state.facet(mb)){let i=r(t,e);if(i!==void 0)return i}let n=Vn(t.state);return n?_T(t,n,e):null}class Ta{constructor(e,n={}){this.state=e,this.options=n,this.unit=Ti(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return ch(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const xT=new Ue;function _T(t,e,n){return gb(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function kT(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function ST(t){let e=t.type.prop(xT);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ue.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>yb(s,!0,1,void 0,o&&!kT(s)?i.from:void 0)}return t.parent==null?CT:null}function gb(t,e,n){for(;t;t=t.parent){let r=ST(t);if(r)return r(xh.create(n,e,t))}return null}function CT(){return 0}class xh extends Ta{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}static create(e,n,r){return new xh(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(ET(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?gb(e,this.pos,this.base):0}}function ET(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function AT(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let l=n.to;;){let a=e.childAfter(l);if(!a||a==r)return null;if(!a.type.isSkipped)return a.from<s?n:null;l=a.to}}function FM({closing:t,align:e=!0,units:n=1}){return r=>yb(r,e,n,t)}function yb(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,l=r&&o.slice(s,s+r.length)==r||i==t.pos+s,a=e?AT(t):null;return a?l?t.column(a.from):t.column(a.to):t.baseIndent+(l?0:t.unit*n)}const HM=t=>t.baseIndent;function VM({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const OT=200;function TT(){return tt.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+OT)return t;let o=n.sliceString(i.from,r);if(!e.some(c=>c.test(o)))return t;let{state:s}=t,l=-1,a=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==l)continue;l=u.from;let f=wh(s,u.from);if(f==null)continue;let h=/^\s*/.exec(u.text)[0],d=ys(s,f);h!=d&&a.push({from:u.from,to:u.from+h.length,insert:d})}return a.length?[t,{changes:a,sequential:!0}]:t})}const UM=Te.define(),zM=new Ue;function qM(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class As{constructor(e,n){this.specs=e;let r;function i(l){let a=Jr.newName();return(r||(r=Object.create(null)))["."+a]=l,a}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof xn?l=>l.prop(yi)==s.data:s?l=>l==s:void 0,this.style=hb(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:o}).style,this.module=r?new Jr(r):null,this.themeType=n.themeType}static define(e,n){return new As(e,n||{})}}const Qu=Te.define(),bb=Te.define({combine(t){return t.length?[t[0]]:null}});function Oc(t){let e=t.facet(Qu);return e.length?e:t.facet(bb)}function vb(t,e){let n=[RT],r;return t instanceof As&&(t.module&&n.push(Ve.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(bb.of(t)):r?n.push(Qu.computeN([Ve.darkTheme],i=>i.facet(Ve.darkTheme)==(r=="dark")?[t]:[])):n.push(Qu.of(t)),n}class LT{constructor(e){this.markCache=Object.create(null),this.tree=Vn(e.state),this.decorations=this.buildDeco(e,Oc(e.state))}update(e){let n=Vn(e.state),r=Oc(e.state),i=r!=Oc(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return pt.none;let r=new us;for(let{from:i,to:o}of e.visibleRanges)pT(this.tree,n,(s,l,a)=>{r.add(s,l,this.markCache[a]||(this.markCache[a]=pt.mark({class:a})))},i,o);return r.finish()}}const RT=sh.high(Xr.fromClass(LT,{decorations:t=>t.decorations})),MT=As.define([{tag:q.meta,color:"#404740"},{tag:q.link,textDecoration:"underline"},{tag:q.heading,textDecoration:"underline",fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strong,fontWeight:"bold"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.keyword,color:"#708"},{tag:[q.atom,q.bool,q.url,q.contentSeparator,q.labelName],color:"#219"},{tag:[q.literal,q.inserted],color:"#164"},{tag:[q.string,q.deleted],color:"#a11"},{tag:[q.regexp,q.escape,q.special(q.string)],color:"#e40"},{tag:q.definition(q.variableName),color:"#00f"},{tag:q.local(q.variableName),color:"#30a"},{tag:[q.typeName,q.namespace],color:"#085"},{tag:q.className,color:"#167"},{tag:[q.special(q.variableName),q.macroName],color:"#256"},{tag:q.definition(q.propertyName),color:"#00c"},{tag:q.comment,color:"#940"},{tag:q.invalid,color:"#f00"}]),PT=Ve.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),wb=1e4,xb="()[]{}",_b=Te.define({combine(t){return lh(t,{afterCursor:!0,brackets:xb,maxScanDistance:wb,renderMatch:$T})}}),DT=pt.mark({class:"cm-matchingBracket"}),IT=pt.mark({class:"cm-nonmatchingBracket"});function $T(t){let e=[],n=t.matched?DT:IT;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const BT=Er.define({create(){return pt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(_b);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=rr(e.state,i.head,-1,r)||i.head>0&&rr(e.state,i.head-1,1,r)||r.afterCursor&&(rr(e.state,i.head,1,r)||i.head<e.state.doc.length&&rr(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return pt.set(n,!0)},provide:t=>Ve.decorations.from(t)}),NT=[BT,PT];function jT(t={}){return[_b.of(t),NT]}const FT=new Ue;function Zu(t,e,n){let r=t.prop(e<0?Ue.openedBy:Ue.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function ef(t){let e=t.type.prop(FT);return e?e(t.node):t}function rr(t,e,n,r={}){let i=r.maxScanDistance||wb,o=r.brackets||xb,s=Vn(t),l=s.resolveInner(e,n);for(let a=l;a;a=a.parent){let c=Zu(a.type,n,o);if(c&&a.from<a.to){let u=ef(a);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return HT(t,e,n,a,u,c,o)}}return VT(t,e,n,s,l.type,i,o)}function HT(t,e,n,r,i,o,s){let l=r.parent,a={from:i.from,to:i.to},c=0,u=l==null?void 0:l.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let f=ef(u);return{start:a,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(Zu(u.type,n,s))c++;else if(Zu(u.type,-n,s)){if(c==0){let f=ef(u);return{start:a,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:a,matched:!1}}function VT(t,e,n,r,i,o,s){let l=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),a=s.indexOf(l);if(a<0||a%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let h=0;!u.next().done&&h<=o;){let d=u.value;n<0&&(h+=d.length);let p=e+h*n;for(let b=n>0?0:d.length-1,g=n>0?d.length:-1;b!=g;b+=n){let m=s.indexOf(d[b]);if(!(m<0||r.resolveInner(p+b,1).type!=i))if(m%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:p+b,to:p+b+1},matched:m>>1==a>>1};f--}}n>0&&(h+=d.length)}return u.done?{start:c,matched:!1}:null}function ym(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let s=r;s<e;s++)t.charCodeAt(s)==9?o+=n-o%n:o++;return o}class kb{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ym(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:ym(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=s=>r?s.toLowerCase():s,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function UT(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||zT,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||kh}}function zT(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const bm=new WeakMap;class La extends xn{constructor(e){let n=db(e.languageData),r=UT(e),i,o=new class extends ub{createParse(s,l,a){return new WT(i,s,l,a)}};super(n,o,[mb.of((s,l)=>this.getIndent(s,l))],e.name),this.topNode=GT(n),i=this,this.streamParser=r,this.stateAfter=new Ue({perNode:!0}),this.tokenTable=e.tokenTable?new Ab(r.tokenTable):JT}static define(e){return new La(e)}getIndent(e,n){let r=Vn(e.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let o,{overrideIndentation:s}=e.options;s&&(o=bm.get(e.state),o!=null&&o<n-1e4&&(o=void 0));let l=_h(this,r,0,i.from,o??n),a,c;if(l?(c=l.state,a=l.pos+1):(c=this.streamParser.startState(e.unit),a=0),n-a>1e4)return null;for(;a<n;){let f=e.state.doc.lineAt(a),h=Math.min(n,f.to);if(f.length){let d=s?s(f.from):-1,p=new kb(f.text,e.state.tabSize,e.unit,d<0?void 0:d);for(;p.pos<h-f.from;)Cb(this.streamParser.token,p,c)}else this.streamParser.blankLine(c,e.unit);if(h==n)break;a=f.to+1}let u=e.lineAt(n);return s&&o==null&&bm.set(e.state,u.from),this.streamParser.indent(c,/^\s*(.*)/.exec(u.text)[1],e)}get allowsNesting(){return!1}}function _h(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let s=e.children.length-1;s>=0;s--){let l=e.children[s],a=n+e.positions[s],c=l instanceof ft&&a<i&&_h(t,l,a,r,i);if(c)return c}return null}function Sb(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let s=e.positions[o],l=e.children[o],a;if(s<r&&l instanceof ft){if(!(a=Sb(t,l,n-s,r-s,i)))break;return i?new ft(e.type,e.children.slice(0,o).concat(a),e.positions.slice(0,o+1),s+a.length):a}}return null}function qT(t,e,n,r){for(let i of e){let o=i.from+(i.openStart?25:0),s=i.to-(i.openEnd?25:0),l=o<=n&&s>n&&_h(t,i.tree,0-i.offset,n,s),a;if(l&&(a=Sb(t,i.tree,n+i.offset,l.pos+i.offset,!1)))return{state:l.state,tree:a}}return{state:t.streamParser.startState(r?Ti(r):4),tree:ft.empty}}class WT{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=go.get(),s=i[0].from,{state:l,tree:a}=qT(e,r,s,o==null?void 0:o.state);this.state=l,this.parsedPos=this.chunkStart=s+a.length;for(let c=0;c<a.children.length;c++)this.chunks.push(a.children[c]),this.chunkPos.push(a.positions[c]);o&&this.parsedPos<o.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Ti(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=go.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let s=this.ranges[i].from,l=this.lineAfter(s);n+=l,r=s+l.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let s=this.ranges[++this.rangeIndex].from;n+=s-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i,o){if(this.ranges.length>1){o=this.skipGapsTo(n,o,1),n+=o;let s=this.chunk.length;o=this.skipGapsTo(r,o,-1),r+=o,i+=this.chunk.length-s}return this.chunk.push(e,n,r,i),o}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,s=new kb(n,e?e.state.tabSize:4,e?Ti(e.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let l=Cb(o.token,s,this.state);if(l&&(i=this.emitToken(this.lang.tokenTable.resolve(l),this.parsedPos+s.start,this.parsedPos+s.pos,4,i)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=ft.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:KT,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new ft(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new ft(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function Cb(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const kh=Object.create(null),bs=[nn.none],KT=new gh(bs),vm=[],Eb=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Eb[t]=Ob(kh,e);class Ab{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),Eb)}resolve(e){return e?this.table[e]||(this.table[e]=Ob(this.extra,e)):0}}const JT=new Ab(kh);function Tc(t,e){vm.indexOf(t)>-1||(vm.push(t),console.warn(e))}function Ob(t,e){let n=null;for(let o of e.split(".")){let s=t[o]||q[o];s?typeof s=="function"?n?n=s(n):Tc(o,`Modifier ${o} used at start of tag`):n?Tc(o,`Tag ${o} used as modifier`):n=s:Tc(o,`Unknown highlighting tag ${o}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=nn.define({id:bs.length,name:r,props:[hT({[r]:n})]});return bs.push(i),i.id}function GT(t){let e=nn.define({id:bs.length,name:"Document",props:[yi.add(()=>t)]});return bs.push(e),e}const YT=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=Ch(t.state,n.from);return r.line?XT(t):r.block?ZT(t):!1};function Sh(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const XT=Sh(nL,0),QT=Sh(Tb,0),ZT=Sh((t,e)=>Tb(t,e,tL(e)),0);function Ch(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Io=50;function eL(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Io,r),s=t.sliceDoc(i,i+Io),l=/\s*$/.exec(o)[0].length,a=/^\s*/.exec(s)[0].length,c=o.length-l;if(o.slice(c-e.length,c)==e&&s.slice(a,a+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+a,margin:a&&1}};let u,f;i-r<=2*Io?u=f=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+Io),f=t.sliceDoc(i-Io,i));let h=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(f)[0].length,p=f.length-d-n.length;return u.slice(h,h+e.length)==e&&f.slice(p,p+n.length)==n?{open:{pos:r+h+e.length,margin:/\s/.test(u.charAt(h+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function tL(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from,to:i.to})}return e}function Tb(t,e,n=e.selection.ranges){let r=n.map(o=>Ch(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>eL(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,l;s<i.length;s++)if(l=i[s]){let a=r[s],{open:c,close:u}=l;o.push({from:c.pos-a.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+a.close.length})}return{changes:o}}return null}function nL(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let l=r.length,a=1e9,c=Ch(e,o).line;if(c){for(let u=o;u<=s;){let f=e.doc.lineAt(u);if(f.from>i&&(o==s||s>f.from)){i=f.from;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,p=f.text.slice(h,h+c.length)==c?h:-1;h<f.text.length&&h<a&&(a=h),r.push({line:f,comment:p,token:c,indent:h,empty:d,single:!1})}u=f.to+1}if(a<1e9)for(let u=l;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=a);r.length==l+1&&(r[l].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:l,token:a,indent:c,empty:u,single:f}of r)(f||!u)&&o.push({from:l.from+c,insert:a+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:l,token:a}of r)if(l>=0){let c=s.from+l,u=c+a.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const tf=ri.define(),rL=ri.define(),iL=Te.define(),Lb=Te.define({combine(t){return lh(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}});function oL(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const Rb=Er.define({create(){return ir.empty},update(t,e){let n=e.state.facet(Lb),r=e.annotation(tf);if(r){let a=e.docChanged?re.single(oL(e.changes)):void 0,c=ln.fromTransaction(e,a),u=r.side,f=u==0?t.undone:t.done;return c?f=Ql(f,f.length,n.minDepth,c):f=Db(f,e.startState.selection),new ir(u==0?r.rest:f,u==0?f:r.rest)}let i=e.annotation(rL);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Mt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=ln.fromTransaction(e),s=e.annotation(Mt.time),l=e.annotation(Mt.userEvent);return o?t=t.addChanges(o,s,l,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,l,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new ir(t.done.map(ln.fromJSON),t.undone.map(ln.fromJSON))}});function sL(t={}){return[Rb,Lb.of(t),Ve.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?Mb:e.inputType=="historyRedo"?nf:null;return r?(e.preventDefault(),r(n)):!1}})]}function Ra(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(Rb,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const Mb=Ra(0,!1),nf=Ra(1,!1),lL=Ra(0,!0),aL=Ra(1,!0);class ln{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new ln(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ln(e.changes&&Tt.fromJSON(e.changes),[],e.mapped&&or.fromJSON(e.mapped),e.startSelection&&re.fromJSON(e.startSelection),e.selectionsAfter.map(re.fromJSON))}static fromTransaction(e,n){let r=_n;for(let i of e.startState.facet(iL)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new ln(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,_n)}static selection(e){return new ln(void 0,_n,void 0,void 0,e)}}function Ql(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function cL(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,s,l)=>{for(let a=0;a<n.length;){let c=n[a++],u=n[a++];l>=c&&s<=u&&(r=!0)}}),r}function uL(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function Pb(t,e){return t.length?e.length?t.concat(e):t:e}const _n=[],fL=200;function Db(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-fL));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Ql(t,t.length-1,1e9,n.setSelAfter(r)))}else return[ln.selection([e])]}function hL(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Lc(t,e){if(!t.length)return t;let n=t.length,r=_n;for(;n;){let i=dL(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[ln.selection(r)]:_n}function dL(t,e,n){let r=Pb(t.selectionsAfter.length?t.selectionsAfter.map(l=>l.map(e)):_n,n);if(!t.changes)return ln.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new ln(i,Rt.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}const pL=/^(input\.type|delete)($|\.)/;class ir{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ir(this.done,this.undone):this}addChanges(e,n,r,i,o){let s=this.done,l=s[s.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!r||pL.test(r))&&(!l.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,cL(l.changes,e.changes))||r=="input.type.compose")?s=Ql(s,s.length-1,i.minDepth,new ln(e.changes.compose(l.changes),Pb(e.effects,l.effects),l.mapped,l.startSelection,_n)):s=Ql(s,s.length,i.minDepth,e),new ir(s,_n,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:_n;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&uL(o[o.length-1],e)?this:new ir(Db(this.done,e),this.undone,n,r)}addMapping(e){return new ir(Lc(this.done,e),Lc(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1];if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:tf.of({side:e,rest:hL(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=i.length==1?_n:i.slice(0,i.length-1);return o.mapped&&(s=Lc(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:tf.of({side:e,rest:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ir.empty=new ir(_n,_n);const mL=[{key:"Mod-z",run:Mb,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:nf,preventDefault:!0},{linux:"Ctrl-Shift-z",run:nf,preventDefault:!0},{key:"Mod-u",run:lL,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:aL,preventDefault:!0}];function So(t,e){return re.create(t.ranges.map(e),t.mainIndex)}function ur(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function zn({state:t,dispatch:e},n){let r=So(t.selection,n);return r.eq(t.selection)?!1:(e(ur(t,r)),!0)}function Ma(t,e){return re.cursor(e?t.to:t.from)}function Ib(t,e){return zn(t,n=>n.empty?t.moveByChar(n,e):Ma(n,e))}function Yt(t){return t.textDirectionAt(t.state.selection.main.head)==zt.LTR}const $b=t=>Ib(t,!Yt(t)),Bb=t=>Ib(t,Yt(t));function Nb(t,e){return zn(t,n=>n.empty?t.moveByGroup(n,e):Ma(n,e))}const gL=t=>Nb(t,!Yt(t)),yL=t=>Nb(t,Yt(t));function bL(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Pa(t,e,n){let r=Vn(t).resolveInner(e.head),i=n?Ue.closedBy:Ue.openedBy;for(let a=e.head;;){let c=n?r.childAfter(a):r.childBefore(a);if(!c)break;bL(t,c,i)?r=c:a=n?c.to:c.from}let o=r.type.prop(i),s,l;return o&&(s=n?rr(t,r.from,1):rr(t,r.to,-1))&&s.matched?l=n?s.end.to:s.end.from:l=n?r.to:r.from,re.cursor(l,n?-1:1)}const vL=t=>zn(t,e=>Pa(t.state,e,!Yt(t))),wL=t=>zn(t,e=>Pa(t.state,e,Yt(t)));function jb(t,e){return zn(t,n=>{if(!n.empty)return Ma(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const Fb=t=>jb(t,!1),Hb=t=>jb(t,!0);function Vb(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(Ve.scrollMargins)){let s=o(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function Ub(t,e){let n=Vb(t),{state:r}=t,i=So(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):Ma(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),l=t.scrollDOM.getBoundingClientRect(),a=l.top+n.marginTop,c=l.bottom-n.marginBottom;s&&s.top>a&&s.bottom<c&&(o=Ve.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-a}))}return t.dispatch(ur(r,i),{effects:o}),!0}const wm=t=>Ub(t,!1),rf=t=>Ub(t,!0);function ii(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=re.cursor(r.from+o))}return i}const xL=t=>zn(t,e=>ii(t,e,!0)),_L=t=>zn(t,e=>ii(t,e,!1)),kL=t=>zn(t,e=>ii(t,e,!Yt(t))),SL=t=>zn(t,e=>ii(t,e,Yt(t))),CL=t=>zn(t,e=>re.cursor(t.lineBlockAt(e.head).from,1)),EL=t=>zn(t,e=>re.cursor(t.lineBlockAt(e.head).to,-1));function AL(t,e,n){let r=!1,i=So(t.selection,o=>{let s=rr(t,o.head,-1)||rr(t,o.head,1)||o.head>0&&rr(t,o.head-1,1)||o.head<t.doc.length&&rr(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let l=s.start.from==o.head?s.end.to:s.end.from;return n?re.range(o.anchor,l):re.cursor(l)});return r?(e(ur(t,i)),!0):!1}const OL=({state:t,dispatch:e})=>AL(t,e,!1);function An(t,e){let n=So(t.state.selection,r=>{let i=e(r);return re.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ur(t.state,n)),!0)}function zb(t,e){return An(t,n=>t.moveByChar(n,e))}const qb=t=>zb(t,!Yt(t)),Wb=t=>zb(t,Yt(t));function Kb(t,e){return An(t,n=>t.moveByGroup(n,e))}const TL=t=>Kb(t,!Yt(t)),LL=t=>Kb(t,Yt(t)),RL=t=>An(t,e=>Pa(t.state,e,!Yt(t))),ML=t=>An(t,e=>Pa(t.state,e,Yt(t)));function Jb(t,e){return An(t,n=>t.moveVertically(n,e))}const Gb=t=>Jb(t,!1),Yb=t=>Jb(t,!0);function Xb(t,e){return An(t,n=>t.moveVertically(n,e,Vb(t).height))}const xm=t=>Xb(t,!1),_m=t=>Xb(t,!0),PL=t=>An(t,e=>ii(t,e,!0)),DL=t=>An(t,e=>ii(t,e,!1)),IL=t=>An(t,e=>ii(t,e,!Yt(t))),$L=t=>An(t,e=>ii(t,e,Yt(t))),BL=t=>An(t,e=>re.cursor(t.lineBlockAt(e.head).from)),NL=t=>An(t,e=>re.cursor(t.lineBlockAt(e.head).to)),km=({state:t,dispatch:e})=>(e(ur(t,{anchor:0})),!0),Sm=({state:t,dispatch:e})=>(e(ur(t,{anchor:t.doc.length})),!0),Cm=({state:t,dispatch:e})=>(e(ur(t,{anchor:t.selection.main.anchor,head:0})),!0),Em=({state:t,dispatch:e})=>(e(ur(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),jL=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),FL=({state:t,dispatch:e})=>{let n=Ia(t).map(({from:r,to:i})=>re.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:re.create(n),userEvent:"select"})),!0},HL=({state:t,dispatch:e})=>{let n=So(t.selection,r=>{var i;let o=Vn(t).resolveInner(r.head,1);for(;!(o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from||!(!((i=o.parent)===null||i===void 0)&&i.parent));)o=o.parent;return re.range(o.to,o.from)});return e(ur(t,n)),!0},VL=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=re.create([n.main]):n.main.empty||(r=re.create([re.cursor(n.main.head)])),r?(e(ur(t,r)),!0):!1};function Da(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:l}=o;if(s==l){let a=e(s);a<s?(n="delete.backward",a=el(t,a,!1)):a>s&&(n="delete.forward",a=el(t,a,!0)),s=Math.min(s,a),l=Math.max(l,a)}else s=el(t,s,!1),l=el(t,l,!0);return s==l?{range:o}:{changes:{from:s,to:l},range:re.cursor(s)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Ve.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function el(t,e,n){if(t instanceof Ve)for(let r of t.state.facet(Ve.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const Qb=(t,e)=>Da(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),o,s;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(o=i.text.slice(0,n-i.from))){if(o[o.length-1]=="	")return n-1;let l=ch(o,r.tabSize),a=l%Ti(r)||Ti(r);for(let c=0;c<a&&o[o.length-1-c]==" ";c++)n--;s=n}else s=mn(i.text,n-i.from,e,e)+i.from,s==n&&i.number!=(e?r.doc.lines:1)&&(s+=e?1:-1);return s}),of=t=>Qb(t,!1),Zb=t=>Qb(t,!0),ev=(t,e)=>Da(t,n=>{let r=n,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let l=null;;){if(r==(e?o.to:o.from)){r==n&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=mn(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,a)-o.from,Math.max(r,a)-o.from),u=s(c);if(l!=null&&u!=l)break;(c!=" "||r!=n)&&(l=u),r=a}return r}),tv=t=>ev(t,!1),UL=t=>ev(t,!0),nv=t=>Da(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),zL=t=>Da(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),qL=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:nt.of(["",""])},range:re.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},WL=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:mn(o.text,i-o.from,!1)+o.from,l=i==o.to?i+1:mn(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:l,insert:t.doc.slice(i,l).append(t.doc.slice(s,i))},range:re.cursor(l)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Ia(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function rv(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of Ia(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),l=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let a of o.ranges)i.push(re.range(Math.min(t.doc.length,a.anchor+l),Math.min(t.doc.length,a.head+l)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let a of o.ranges)i.push(re.range(a.anchor-l,a.head-l))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:re.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const KL=({state:t,dispatch:e})=>rv(t,e,!1),JL=({state:t,dispatch:e})=>rv(t,e,!0);function iv(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Ia(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const GL=({state:t,dispatch:e})=>iv(t,e,!1),YL=({state:t,dispatch:e})=>iv(t,e,!0),XL=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Ia(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=So(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function QL(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Vn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Ue.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const ZL=ov(!1),eR=ov(!0);function ov(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,l=e.doc.lineAt(o),a=!t&&o==s&&QL(e,o);t&&(o=s=(s<=l.to?l:e.doc.lineAt(s)).to);let c=new Ta(e,{simulateBreak:o,simulateDoubleBreak:!!a}),u=wh(c,o);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(o).text)[0].length);s<l.to&&/\s/.test(l.text[s-l.from]);)s++;a?{from:o,to:s}=a:o>l.from&&o<l.from+100&&!/\S/.test(l.text.slice(0,o))&&(o=l.from);let f=["",ys(e,u)];return a&&f.push(ys(e,c.lineIndent(l.from,-1))),{changes:{from:o,to:s,insert:nt.of(f)},range:re.cursor(o+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function Eh(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let l=t.doc.lineAt(s);l.number>n&&(r.empty||r.to>l.from)&&(e(l,i,r),n=l.number),s=l.to+1}let o=t.changes(i);return{changes:i,range:re.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const tR=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Ta(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=Eh(t,(o,s,l)=>{let a=wh(r,o.from);if(a==null)return;/\S/.test(o.text)||(a=0);let c=/^\s*/.exec(o.text)[0],u=ys(t,a);(c!=u||l.from<o.from+c.length)&&(n[o.from]=a,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},sv=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Eh(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Oa)})}),{userEvent:"input.indent"})),!0),lv=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(Eh(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=ch(i,t.tabSize),s=0,l=ys(t,Math.max(0,o-Ti(t)));for(;s<i.length&&s<l.length&&i.charCodeAt(s)==l.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:l.slice(s)})}),{userEvent:"delete.dedent"})),!0),nR=[{key:"Ctrl-b",run:$b,shift:qb,preventDefault:!0},{key:"Ctrl-f",run:Bb,shift:Wb},{key:"Ctrl-p",run:Fb,shift:Gb},{key:"Ctrl-n",run:Hb,shift:Yb},{key:"Ctrl-a",run:CL,shift:BL},{key:"Ctrl-e",run:EL,shift:NL},{key:"Ctrl-d",run:Zb},{key:"Ctrl-h",run:of},{key:"Ctrl-k",run:nv},{key:"Ctrl-Alt-h",run:tv},{key:"Ctrl-o",run:qL},{key:"Ctrl-t",run:WL},{key:"Ctrl-v",run:rf}],rR=[{key:"ArrowLeft",run:$b,shift:qb,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:gL,shift:TL,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:kL,shift:IL,preventDefault:!0},{key:"ArrowRight",run:Bb,shift:Wb,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:yL,shift:LL,preventDefault:!0},{mac:"Cmd-ArrowRight",run:SL,shift:$L,preventDefault:!0},{key:"ArrowUp",run:Fb,shift:Gb,preventDefault:!0},{mac:"Cmd-ArrowUp",run:km,shift:Cm},{mac:"Ctrl-ArrowUp",run:wm,shift:xm},{key:"ArrowDown",run:Hb,shift:Yb,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Sm,shift:Em},{mac:"Ctrl-ArrowDown",run:rf,shift:_m},{key:"PageUp",run:wm,shift:xm},{key:"PageDown",run:rf,shift:_m},{key:"Home",run:_L,shift:DL,preventDefault:!0},{key:"Mod-Home",run:km,shift:Cm},{key:"End",run:xL,shift:PL,preventDefault:!0},{key:"Mod-End",run:Sm,shift:Em},{key:"Enter",run:ZL},{key:"Mod-a",run:jL},{key:"Backspace",run:of,shift:of},{key:"Delete",run:Zb},{key:"Mod-Backspace",mac:"Alt-Backspace",run:tv},{key:"Mod-Delete",mac:"Alt-Delete",run:UL},{mac:"Mod-Backspace",run:zL},{mac:"Mod-Delete",run:nv}].concat(nR.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),iR=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:vL,shift:RL},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:wL,shift:ML},{key:"Alt-ArrowUp",run:KL},{key:"Shift-Alt-ArrowUp",run:GL},{key:"Alt-ArrowDown",run:JL},{key:"Shift-Alt-ArrowDown",run:YL},{key:"Escape",run:VL},{key:"Mod-Enter",run:eR},{key:"Alt-l",mac:"Ctrl-l",run:FL},{key:"Mod-i",run:HL,preventDefault:!0},{key:"Mod-[",run:lv},{key:"Mod-]",run:sv},{key:"Mod-Alt-\\",run:tR},{key:"Shift-Mod-k",run:XL},{key:"Shift-Mod-\\",run:OL},{key:"Mod-/",run:YT},{key:"Alt-A",run:QT}].concat(rR),oR={key:"Tab",run:sv,shift:lv},sR="modulepreload",lR=function(t){return"/"+t},Am={},F=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=lR(o),o in Am)return;Am[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===o&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":sR,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function J(t){return new wT(La.define(t))}function Rr(t){return F(()=>import("./index-148f30f6.js"),["admin/assets/index-148f30f6.js","admin/assets/index-0aa3769c.js","admin/assets/index-2ba3a209.js"]).then(e=>e.sql({dialect:e[t]}))}const ui=[j.of({name:"C",extensions:["c","h","ino"],load(){return F(()=>import("./index-66230acc.js"),["admin/assets/index-66230acc.js","admin/assets/index-0aa3769c.js"]).then(t=>t.cpp())}}),j.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return F(()=>import("./index-66230acc.js"),["admin/assets/index-66230acc.js","admin/assets/index-0aa3769c.js"]).then(t=>t.cpp())}}),j.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Rr("Cassandra")}}),j.of({name:"CSS",extensions:["css"],load(){return F(()=>import("./index-c311beef.js"),["admin/assets/index-c311beef.js","admin/assets/index-0aa3769c.js"]).then(t=>t.css())}}),j.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return F(()=>import("./index-710e7885.js"),["admin/assets/index-710e7885.js","admin/assets/index-0aa3769c.js","admin/assets/index-c311beef.js","admin/assets/index-648a4439.js","admin/assets/index-2ba3a209.js"]).then(t=>t.html())}}),j.of({name:"Java",extensions:["java"],load(){return F(()=>import("./index-94170461.js"),["admin/assets/index-94170461.js","admin/assets/index-0aa3769c.js"]).then(t=>t.java())}}),j.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return F(()=>import("./index-648a4439.js"),["admin/assets/index-648a4439.js","admin/assets/index-0aa3769c.js","admin/assets/index-2ba3a209.js"]).then(t=>t.javascript())}}),j.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return F(()=>import("./index-48029ca7.js"),["admin/assets/index-48029ca7.js","admin/assets/index-0aa3769c.js"]).then(t=>t.json())}}),j.of({name:"JSX",extensions:["jsx"],load(){return F(()=>import("./index-648a4439.js"),["admin/assets/index-648a4439.js","admin/assets/index-0aa3769c.js","admin/assets/index-2ba3a209.js"]).then(t=>t.javascript({jsx:!0}))}}),j.of({name:"MariaDB SQL",load(){return Rr("MariaSQL")}}),j.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return F(()=>import("./index-ffba287f.js"),["admin/assets/index-ffba287f.js","admin/assets/index-710e7885.js","admin/assets/index-0aa3769c.js","admin/assets/index-c311beef.js","admin/assets/index-648a4439.js","admin/assets/index-2ba3a209.js"]).then(t=>t.markdown())}}),j.of({name:"MS SQL",load(){return Rr("MSSQL")}}),j.of({name:"MySQL",load(){return Rr("MySQL")}}),j.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return F(()=>import("./index-99fa5c4a.js"),["admin/assets/index-99fa5c4a.js","admin/assets/index-0aa3769c.js","admin/assets/index-710e7885.js","admin/assets/index-c311beef.js","admin/assets/index-648a4439.js","admin/assets/index-2ba3a209.js"]).then(t=>t.php())}}),j.of({name:"PLSQL",extensions:["pls"],load(){return Rr("PLSQL")}}),j.of({name:"PostgreSQL",load(){return Rr("PostgreSQL")}}),j.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return F(()=>import("./index-62ec80d3.js"),["admin/assets/index-62ec80d3.js","admin/assets/index-0aa3769c.js","admin/assets/index-2ba3a209.js"]).then(t=>t.python())}}),j.of({name:"Rust",extensions:["rs"],load(){return F(()=>import("./index-ef8ee69a.js"),["admin/assets/index-ef8ee69a.js","admin/assets/index-0aa3769c.js"]).then(t=>t.rust())}}),j.of({name:"SQL",extensions:["sql"],load(){return Rr("StandardSQL")}}),j.of({name:"SQLite",load(){return Rr("SQLite")}}),j.of({name:"TSX",extensions:["tsx"],load(){return F(()=>import("./index-648a4439.js"),["admin/assets/index-648a4439.js","admin/assets/index-0aa3769c.js","admin/assets/index-2ba3a209.js"]).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),j.of({name:"TypeScript",alias:["ts"],extensions:["ts"],load(){return F(()=>import("./index-648a4439.js"),["admin/assets/index-648a4439.js","admin/assets/index-0aa3769c.js","admin/assets/index-2ba3a209.js"]).then(t=>t.javascript({typescript:!0}))}}),j.of({name:"WebAssembly",extensions:["wat","wast"],load(){return F(()=>import("./index-027903ff.js"),["admin/assets/index-027903ff.js","admin/assets/index-0aa3769c.js"]).then(t=>t.wast())}}),j.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return F(()=>import("./index-817aba2e.js"),["admin/assets/index-817aba2e.js","admin/assets/index-0aa3769c.js"]).then(t=>t.xml())}}),j.of({name:"APL",extensions:["dyalog","apl"],load(){return F(()=>import("./apl-f73da2d7.js"),[]).then(t=>J(t.apl))}}),j.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return F(()=>import("./asciiarmor-e7973ceb.js"),[]).then(t=>J(t.asciiArmor))}}),j.of({name:"ASN.1",extensions:["asn","asn1"],load(){return F(()=>import("./asn1-f9c290f0.js"),[]).then(t=>J(t.asn1({})))}}),j.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return F(()=>import("./asterisk-9c249b4c.js"),[]).then(t=>J(t.asterisk))}}),j.of({name:"Brainfuck",extensions:["b","bf"],load(){return F(()=>import("./brainfuck-637b9bf0.js"),[]).then(t=>J(t.brainfuck))}}),j.of({name:"Cobol",extensions:["cob","cpy"],load(){return F(()=>import("./cobol-3c0e8dcf.js"),[]).then(t=>J(t.cobol))}}),j.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.csharp))}}),j.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return F(()=>import("./clojure-46c215dd.js"),[]).then(t=>J(t.clojure))}}),j.of({name:"ClojureScript",extensions:["cljs"],load(){return F(()=>import("./clojure-46c215dd.js"),[]).then(t=>J(t.clojure))}}),j.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return F(()=>import("./css-ae0ae1d0.js"),[]).then(t=>J(t.gss))}}),j.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return F(()=>import("./cmake-f314e514.js"),[]).then(t=>J(t.cmake))}}),j.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return F(()=>import("./coffeescript-cf6fb77c.js"),[]).then(t=>J(t.coffeeScript))}}),j.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return F(()=>import("./commonlisp-0ea12945.js"),[]).then(t=>J(t.commonLisp))}}),j.of({name:"Cypher",extensions:["cyp","cypher"],load(){return F(()=>import("./cypher-236a65ad.js"),[]).then(t=>J(t.cypher))}}),j.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return F(()=>import("./python-37bee3fe.js"),[]).then(t=>J(t.cython))}}),j.of({name:"Crystal",extensions:["cr"],load(){return F(()=>import("./crystal-594a913c.js"),[]).then(t=>J(t.crystal))}}),j.of({name:"D",extensions:["d"],load(){return F(()=>import("./d-76ab4361.js"),[]).then(t=>J(t.d))}}),j.of({name:"Dart",extensions:["dart"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.dart))}}),j.of({name:"diff",extensions:["diff","patch"],load(){return F(()=>import("./diff-1bf42f34.js"),[]).then(t=>J(t.diff))}}),j.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return F(()=>import("./dockerfile-c8a8b9da.js"),["admin/assets/dockerfile-c8a8b9da.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>J(t.dockerFile))}}),j.of({name:"DTD",extensions:["dtd"],load(){return F(()=>import("./dtd-8d673f3f.js"),[]).then(t=>J(t.dtd))}}),j.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return F(()=>import("./dylan-94e68d48.js"),[]).then(t=>J(t.dylan))}}),j.of({name:"EBNF",load(){return F(()=>import("./ebnf-9a58f677.js"),[]).then(t=>J(t.ebnf))}}),j.of({name:"ECL",extensions:["ecl"],load(){return F(()=>import("./ecl-8c848bde.js"),[]).then(t=>J(t.ecl))}}),j.of({name:"edn",extensions:["edn"],load(){return F(()=>import("./clojure-46c215dd.js"),[]).then(t=>J(t.clojure))}}),j.of({name:"Eiffel",extensions:["e"],load(){return F(()=>import("./eiffel-c812667a.js"),[]).then(t=>J(t.eiffel))}}),j.of({name:"Elm",extensions:["elm"],load(){return F(()=>import("./elm-389625db.js"),[]).then(t=>J(t.elm))}}),j.of({name:"Erlang",extensions:["erl"],load(){return F(()=>import("./erlang-72724d5c.js"),[]).then(t=>J(t.erlang))}}),j.of({name:"Esper",load(){return F(()=>import("./sql-62feda9f.js"),[]).then(t=>J(t.esper))}}),j.of({name:"Factor",extensions:["factor"],load(){return F(()=>import("./factor-7bfcb4fc.js"),["admin/assets/factor-7bfcb4fc.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>J(t.factor))}}),j.of({name:"FCL",load(){return F(()=>import("./fcl-d5e95185.js"),[]).then(t=>J(t.fcl))}}),j.of({name:"Forth",extensions:["forth","fth","4th"],load(){return F(()=>import("./forth-a6c07be1.js"),[]).then(t=>J(t.forth))}}),j.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return F(()=>import("./fortran-b746f455.js"),[]).then(t=>J(t.fortran))}}),j.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return F(()=>import("./mllike-1f866598.js"),[]).then(t=>J(t.fSharp))}}),j.of({name:"Gas",extensions:["s"],load(){return F(()=>import("./gas-a519128b.js"),[]).then(t=>J(t.gas))}}),j.of({name:"Gherkin",extensions:["feature"],load(){return F(()=>import("./gherkin-0efe02ac.js"),[]).then(t=>J(t.gherkin))}}),j.of({name:"Go",extensions:["go"],load(){return F(()=>import("./go-8a088acb.js"),[]).then(t=>J(t.go))}}),j.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return F(()=>import("./groovy-4592a472.js"),[]).then(t=>J(t.groovy))}}),j.of({name:"Haskell",extensions:["hs"],load(){return F(()=>import("./haskell-b620645c.js"),[]).then(t=>J(t.haskell))}}),j.of({name:"Haxe",extensions:["hx"],load(){return F(()=>import("./haxe-7215664e.js"),[]).then(t=>J(t.haxe))}}),j.of({name:"HXML",extensions:["hxml"],load(){return F(()=>import("./haxe-7215664e.js"),[]).then(t=>J(t.hxml))}}),j.of({name:"HTTP",load(){return F(()=>import("./http-e091c18d.js"),[]).then(t=>J(t.http))}}),j.of({name:"IDL",extensions:["pro"],load(){return F(()=>import("./idl-91cb7788.js"),[]).then(t=>J(t.idl))}}),j.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return F(()=>import("./javascript-987cbb73.js"),[]).then(t=>J(t.jsonld))}}),j.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return F(()=>import("./jinja2-580c43a7.js"),[]).then(t=>J(t.jinja2))}}),j.of({name:"Julia",extensions:["jl"],load(){return F(()=>import("./julia-2f39a740.js"),[]).then(t=>J(t.julia))}}),j.of({name:"Kotlin",extensions:["kt"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.kotlin))}}),j.of({name:"LESS",extensions:["less"],load(){return F(()=>import("./css-ae0ae1d0.js"),[]).then(t=>J(t.less))}}),j.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return F(()=>import("./livescript-a3318e59.js"),[]).then(t=>J(t.liveScript))}}),j.of({name:"Lua",extensions:["lua"],load(){return F(()=>import("./lua-ee237842.js"),[]).then(t=>J(t.lua))}}),j.of({name:"mIRC",extensions:["mrc"],load(){return F(()=>import("./mirc-c043bc0a.js"),[]).then(t=>J(t.mirc))}}),j.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return F(()=>import("./mathematica-4db1ec63.js"),[]).then(t=>J(t.mathematica))}}),j.of({name:"Modelica",extensions:["mo"],load(){return F(()=>import("./modelica-c19c47b8.js"),[]).then(t=>J(t.modelica))}}),j.of({name:"MUMPS",extensions:["mps"],load(){return F(()=>import("./mumps-82310ef4.js"),[]).then(t=>J(t.mumps))}}),j.of({name:"Mbox",extensions:["mbox"],load(){return F(()=>import("./mbox-b40e52ca.js"),[]).then(t=>J(t.mbox))}}),j.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return F(()=>import("./nginx-0992a7c8.js"),[]).then(t=>J(t.nginx))}}),j.of({name:"NSIS",extensions:["nsh","nsi"],load(){return F(()=>import("./nsis-8fd66a07.js"),["admin/assets/nsis-8fd66a07.js","admin/assets/simple-mode-851e42ff.js"]).then(t=>J(t.nsis))}}),j.of({name:"NTriples",extensions:["nt","nq"],load(){return F(()=>import("./ntriples-8490b09b.js"),[]).then(t=>J(t.ntriples))}}),j.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.objectiveC))}}),j.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.objectiveCpp))}}),j.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return F(()=>import("./mllike-1f866598.js"),[]).then(t=>J(t.oCaml))}}),j.of({name:"Octave",extensions:["m"],load(){return F(()=>import("./octave-3f516c2f.js"),[]).then(t=>J(t.octave))}}),j.of({name:"Oz",extensions:["oz"],load(){return F(()=>import("./oz-a640e05c.js"),[]).then(t=>J(t.oz))}}),j.of({name:"Pascal",extensions:["p","pas"],load(){return F(()=>import("./pascal-bcac1c04.js"),[]).then(t=>J(t.pascal))}}),j.of({name:"Perl",extensions:["pl","pm"],load(){return F(()=>import("./perl-a9455719.js"),[]).then(t=>J(t.perl))}}),j.of({name:"Pig",extensions:["pig"],load(){return F(()=>import("./pig-3510ca5f.js"),[]).then(t=>J(t.pig))}}),j.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return F(()=>import("./powershell-c2c54630.js"),[]).then(t=>J(t.powerShell))}}),j.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return F(()=>import("./properties-aba123c1.js"),[]).then(t=>J(t.properties))}}),j.of({name:"ProtoBuf",extensions:["proto"],load(){return F(()=>import("./protobuf-1713bf80.js"),[]).then(t=>J(t.protobuf))}}),j.of({name:"Puppet",extensions:["pp"],load(){return F(()=>import("./puppet-3229bfe4.js"),[]).then(t=>J(t.puppet))}}),j.of({name:"Q",extensions:["q"],load(){return F(()=>import("./q-887a0cfa.js"),[]).then(t=>J(t.q))}}),j.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return F(()=>import("./r-3ca97919.js"),[]).then(t=>J(t.r))}}),j.of({name:"RPM Changes",load(){return F(()=>import("./rpm-aa81b362.js"),[]).then(t=>J(t.rpmChanges))}}),j.of({name:"RPM Spec",extensions:["spec"],load(){return F(()=>import("./rpm-aa81b362.js"),[]).then(t=>J(t.rpmSpec))}}),j.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],load(){return F(()=>import("./ruby-e88f1f8d.js"),[]).then(t=>J(t.ruby))}}),j.of({name:"SAS",extensions:["sas"],load(){return F(()=>import("./sas-4096b960.js"),[]).then(t=>J(t.sas))}}),j.of({name:"Sass",extensions:["sass"],load(){return F(()=>import("./sass-fe9762d1.js"),["admin/assets/sass-fe9762d1.js","admin/assets/css-ae0ae1d0.js"]).then(t=>J(t.sass))}}),j.of({name:"Scala",extensions:["scala"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.scala))}}),j.of({name:"Scheme",extensions:["scm","ss"],load(){return F(()=>import("./scheme-ca3e6863.js"),[]).then(t=>J(t.scheme))}}),j.of({name:"SCSS",extensions:["scss"],load(){return F(()=>import("./css-ae0ae1d0.js"),[]).then(t=>J(t.sCSS))}}),j.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return F(()=>import("./shell-86dd1d99.js"),[]).then(t=>J(t.shell))}}),j.of({name:"Sieve",extensions:["siv","sieve"],load(){return F(()=>import("./sieve-4b1eb6fb.js"),[]).then(t=>J(t.sieve))}}),j.of({name:"Smalltalk",extensions:["st"],load(){return F(()=>import("./smalltalk-b41561ee.js"),[]).then(t=>J(t.smalltalk))}}),j.of({name:"Solr",load(){return F(()=>import("./solr-7928d730.js"),[]).then(t=>J(t.solr))}}),j.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return F(()=>import("./mllike-1f866598.js"),[]).then(t=>J(t.sml))}}),j.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return F(()=>import("./sparql-71156930.js"),[]).then(t=>J(t.sparql))}}),j.of({name:"Spreadsheet",alias:["excel","formula"],load(){return F(()=>import("./spreadsheet-9f4dc4c6.js"),[]).then(t=>J(t.spreadsheet))}}),j.of({name:"Squirrel",extensions:["nut"],load(){return F(()=>import("./clike-3f6f5c72.js"),[]).then(t=>J(t.squirrel))}}),j.of({name:"Stylus",extensions:["styl"],load(){return F(()=>import("./stylus-2d29a832.js"),[]).then(t=>J(t.stylus))}}),j.of({name:"Swift",extensions:["swift"],load(){return F(()=>import("./swift-b6dd686e.js"),[]).then(t=>J(t.swift))}}),j.of({name:"sTeX",load(){return F(()=>import("./stex-611747c4.js"),[]).then(t=>J(t.stex))}}),j.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return F(()=>import("./stex-611747c4.js"),[]).then(t=>J(t.stex))}}),j.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return F(()=>import("./verilog-701759f4.js"),[]).then(t=>J(t.verilog))}}),j.of({name:"Tcl",extensions:["tcl"],load(){return F(()=>import("./tcl-9a9d281f.js"),[]).then(t=>J(t.tcl))}}),j.of({name:"Textile",extensions:["textile"],load(){return F(()=>import("./textile-27197230.js"),[]).then(t=>J(t.textile))}}),j.of({name:"TiddlyWiki",load(){return F(()=>import("./tiddlywiki-053c4b39.js"),[]).then(t=>J(t.tiddlyWiki))}}),j.of({name:"Tiki wiki",load(){return F(()=>import("./tiki-f8970e14.js"),[]).then(t=>J(t.tiki))}}),j.of({name:"TOML",extensions:["toml"],load(){return F(()=>import("./toml-fed73c05.js"),[]).then(t=>J(t.toml))}}),j.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return F(()=>import("./troff-1c50c70f.js"),[]).then(t=>J(t.troff))}}),j.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return F(()=>import("./ttcn-a4846d83.js"),[]).then(t=>J(t.ttcn))}}),j.of({name:"TTCN_CFG",extensions:["cfg"],load(){return F(()=>import("./ttcn-cfg-0c96bcc1.js"),[]).then(t=>J(t.ttcnCfg))}}),j.of({name:"Turtle",extensions:["ttl"],load(){return F(()=>import("./turtle-b550492d.js"),[]).then(t=>J(t.turtle))}}),j.of({name:"Web IDL",extensions:["webidl"],load(){return F(()=>import("./webidl-beade871.js"),[]).then(t=>J(t.webIDL))}}),j.of({name:"VB.NET",extensions:["vb"],load(){return F(()=>import("./vb-e9655ff4.js"),[]).then(t=>J(t.vb))}}),j.of({name:"VBScript",extensions:["vbs"],load(){return F(()=>import("./vbscript-e62417ba.js"),[]).then(t=>J(t.vbScript))}}),j.of({name:"Velocity",extensions:["vtl"],load(){return F(()=>import("./velocity-5bdd1b6a.js"),[]).then(t=>J(t.velocity))}}),j.of({name:"Verilog",extensions:["v"],load(){return F(()=>import("./verilog-701759f4.js"),[]).then(t=>J(t.verilog))}}),j.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return F(()=>import("./vhdl-288f0dde.js"),[]).then(t=>J(t.vhdl))}}),j.of({name:"XQuery",extensions:["xy","xquery"],load(){return F(()=>import("./xquery-f004ff15.js"),[]).then(t=>J(t.xQuery))}}),j.of({name:"Yacas",extensions:["ys"],load(){return F(()=>import("./yacas-d031e2ab.js"),[]).then(t=>J(t.yacas))}}),j.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return F(()=>import("./yaml-95012b83.js"),[]).then(t=>J(t.yaml))}}),j.of({name:"Z80",extensions:["z80"],load(){return F(()=>import("./z80-bb7f2654.js"),[]).then(t=>J(t.z80))}}),j.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return F(()=>import("./mscgen-96577242.js"),[]).then(t=>J(t.mscgen))}}),j.of({name:"Xù",extensions:["xu"],load(){return F(()=>import("./mscgen-96577242.js"),[]).then(t=>J(t.xu))}}),j.of({name:"MsGenny",extensions:["msgenny"],load(){return F(()=>import("./mscgen-96577242.js"),[]).then(t=>J(t.msgenny))}}),j.of({name:"Vue",extensions:["vue"],load(){return F(()=>import("./index-ed74c2ff.js"),["admin/assets/index-ed74c2ff.js","admin/assets/index-710e7885.js","admin/assets/index-0aa3769c.js","admin/assets/index-c311beef.js","admin/assets/index-648a4439.js","admin/assets/index-2ba3a209.js"]).then(t=>t.vue())}}),j.of({name:"Angular Template",load(){return F(()=>import("./index-3803f34c.js"),["admin/assets/index-3803f34c.js","admin/assets/index-710e7885.js","admin/assets/index-0aa3769c.js","admin/assets/index-c311beef.js","admin/assets/index-648a4439.js","admin/assets/index-2ba3a209.js"]).then(t=>t.angular())}})],av=["params","noinit","required","skip","assert_continues","unsafe","manualfree","heap","nonnull","primary","inline","direct_array_access","live","flag","noinline","noreturn","typedef","console","sql","table","deprecated","deprecated_after","export","callconv"],sf="[\\w_]+",aR=new RegExp(`^(${av.join("|")})]$`),cv=`(${sf}: ${sf})`,cR=new RegExp(`^${cv}]$`),uR=new RegExp(`^(${av.join("|")}(; ?)?){2,}]$`),fR=new RegExp(`^((${cv})(; )?){2,}]$`),hR=new RegExp(`^if ${sf} \\??]`);class Om{constructor(e,n,r,i,o){bn(this,"insideString",!1);bn(this,"stringQuote",null);bn(this,"expectedImportName",!1);bn(this,"knownImports",new Set);this.indentation=e,this.column=n,this.type=r,this.align=i,this.prev=o}}const Tm=new Set(["as","asm","assert","atomic","break","const","continue","defer","else","enum","fn","for","go","goto","if","import","in","interface","is","isreftype","lock","match","module","mut","none","or","pub","return","rlock","select","shared","sizeof","static","struct","spawn","type","typeof","union","unsafe","volatile","__offsetof"]),dR=new Set(["sql","chan","thread"]),pR=new Set(["true","false","nil","print","println","exit","panic","error","dump"]),mR=new Set(["bool","string","i8","i16","int","i64","i128","u8","u16","u32","u64","u128","rune","f32","f64","isize","usize","voidptr","any"]);function gR(){const e=/[+\-*&^%:=<>!?|\/]/;let n=null;function r(h){return h.eatWhile(/[\w$_\xa1-\uffff]/),h.current()}function i(h,d){const p=h.next();if(p===null)return null;if(d.context.insideString&&p==="}")return h.eat("}"),d.tokenize=a(d.context.stringQuote),"end-interpolation";if(p==='"'||p==="'"||p==="`")return d.tokenize=a(p),d.tokenize(h,d);if(p==="."&&!h.match(/^[0-9]+([eE][\-+]?[0-9]+)?/))return"operator";if(p==="["&&(h.match(aR)||h.match(cR)||h.match(uR)||h.match(fR)||h.match(hR)))return"attribute";if(/[\d.]/.test(p))return p==="0"?h.match(/^[xX][0-9a-fA-F_]+/)||h.match(/^o[0-7_]+/)||h.match(/^b[0-1_]+/):h.match(/^[0-9_]*\.?[0-9_]*([eE][\-+]?[0-9_]+)?/),"number";if(/[\[\]{}(),;:.]/.test(p))return n=p,null;if(p==="/"){if(h.eat("*"))return d.tokenize=c,c(h,d);if(h.eat("/"))return h.skipToEnd(),"comment"}if(e.test(p))return h.eatWhile(e),"operator";if(p==="@")return r(h),"at-identifier";if(p==="$"){const x=r(h).slice(1);return Tm.has(x)?"keyword":"compile-time-identifier"}h.backUp(2);const b=h.next()===".";h.next();const g=r(h);if(g==="import"&&(d.context.expectedImportName=!0),Tm.has(g)||dR.has(g))return"keyword";if(pR.has(g))return"atom";if(mR.has(g))return"builtin";if(g.length>0&&g[0].toUpperCase()===g[0])return"type";const m=h.peek();if(m==="("||m==="<")return"function";if(m==="["){h.next();const x=h.next();if(h.backUp(2),x!=null&&x.match(/[A-Z]/i))return"function"}return b?"property":d.context.expectedImportName&&h.peek()!="."?(d.context.expectedImportName=!1,d.context.knownImports===void 0&&(d.context.knownImports=new Set),d.context.knownImports.add(g),"import-name"):d.context.knownImports.has(g)&&h.peek()=="."?"import-name":"variable"}function o(h,d){return h.match("}")?(d.tokenize=a(d.context.stringQuote),"end-interpolation"):(d.tokenize=i,d.tokenize(h,d))}function s(h,d){const p=h.next();if(p===" ")return d.tokenize=a(d.context.stringQuote),d.tokenize(h,d);if(p===".")return"operator";const b=r(h);if(b[0].toLowerCase()===b[0].toUpperCase())return d.tokenize=a(d.context.stringQuote),d.tokenize(h,d);const g=h.next();return h.backUp(1),g==="."?d.tokenize=s:d.tokenize=a(d.context.stringQuote),"variable"}function l(h,d){let p=h.next();return p==="$"&&h.eat("{")?(d.tokenize=o,"start-interpolation"):p==="$"?(d.tokenize=s,"start-interpolation"):"string"}function a(h){return function(d,p){p.context.insideString=!0,p.context.stringQuote=h;let b="",g=!1,m=!1;for(;(b=d.next())!=null;){if(b===h&&!g){m=!0;break}if(b==="$"&&!g&&d.eat("{"))return p.tokenize=l,d.backUp(2),"string";if(b==="$"&&!g)return p.tokenize=l,d.backUp(1),"string";g=!g&&b==="\\"}return(m||g)&&(p.tokenize=i),p.context.insideString=!1,p.context.stringQuote=null,"string"}}function c(h,d){let p=!1,b;for(;b=h.next();){if(b==="/"&&p){d.tokenize=i;break}p=b==="*"}return"comment"}function u(h,d,p){return h.context=new Om(h.indention,d,p,null,h.context)}function f(h){if(!h.context.prev)return;const d=h.context.type;return(d===")"||d==="]"||d==="}")&&(h.indention=h.context.indentation),h.context=h.context.prev,h.context}return{startState:function(){return{tokenize:null,context:new Om(0,0,"top",!1),indention:0,startOfLine:!0}},token:function(h,d){const p=d.context;if(h.sol()&&(p.align==null&&(p.align=!1),d.indention=h.indentation(),d.startOfLine=!0),h.eatSpace())return null;n=null;const b=(d.tokenize||i)(h,d);return b==="comment"||(p.align==null&&(p.align=!0),n==="{"?u(d,h.column(),"}"):n==="["?u(d,h.column(),"]"):n==="("?u(d,h.column(),")"):(n==="}"&&p.type==="}"||n===p.type)&&f(d),d.startOfLine=!1),b},indent:function(h,d){if(h.tokenize!==i&&h.tokenize!=null||h.context.type=="top")return 0;const p=h.context,g=d.charAt(0)===p.type;return p.align?p.column+(g?0:1):p.indentation+(g?0:4)},electricChars:"{}):",closeBrackets:"()[]{}''\"\"``",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}const yR="#e5c07b",Lm="#e06c75",bR="#56b6c2",vR="#ffffff",_l="#abb2bf",lf="#7d8799",wR="#61afef",xR="#98c379",Rm="#d19a66",_R="#c678dd",kR="#21252b",Mm="#2c313a",Pm="#282c34",Rc="#353a42",SR="#3E4451",Dm="#528bff",CR=Ve.theme({"&":{color:_l,backgroundColor:Pm},".cm-content":{caretColor:Dm},".cm-cursor, .cm-dropCursor":{borderLeftColor:Dm},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:SR},".cm-panels":{backgroundColor:kR,color:_l},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:Pm,color:lf,border:"none"},".cm-activeLineGutter":{backgroundColor:Mm},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Rc},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Rc,borderBottomColor:Rc},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:Mm,color:_l}}},{dark:!0}),ER=As.define([{tag:q.keyword,color:_R},{tag:[q.name,q.deleted,q.character,q.propertyName,q.macroName],color:Lm},{tag:[q.function(q.variableName),q.labelName],color:wR},{tag:[q.color,q.constant(q.name),q.standard(q.name)],color:Rm},{tag:[q.definition(q.name),q.separator],color:_l},{tag:[q.typeName,q.className,q.number,q.changed,q.annotation,q.modifier,q.self,q.namespace],color:yR},{tag:[q.operator,q.operatorKeyword,q.url,q.escape,q.regexp,q.link,q.special(q.string)],color:bR},{tag:[q.meta,q.comment],color:lf},{tag:q.strong,fontWeight:"bold"},{tag:q.emphasis,fontStyle:"italic"},{tag:q.strikethrough,textDecoration:"line-through"},{tag:q.link,color:lf,textDecoration:"underline"},{tag:q.heading,fontWeight:"bold",color:Lm},{tag:[q.atom,q.bool,q.special(q.variableName)],color:Rm},{tag:[q.processingInstruction,q.string,q.inserted],color:xR},{tag:q.invalid,color:vR}]),AR=[CR,vb(ER)];var af={},OR={get exports(){return af},set exports(t){af=t}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={d:(m,x)=>{for(var y in x)n.o(x,y)&&!n.o(m,y)&&Object.defineProperty(m,y,{enumerable:!0,get:x[y]})},o:(m,x)=>Object.prototype.hasOwnProperty.call(m,x),r:m=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})}},r={};function i(m){var x=document.createEvent("MouseEvents");x.initEvent("click",!0,!1),m.dispatchEvent(x)}function o(m){var x=document.createEvent("HTMLEvents");x.initEvent("change",!0,!1),m.dispatchEvent(x)}function s(m){var x=document.createEvent("FocusEvent");x.initEvent("focusin",!0,!1),m.dispatchEvent(x)}function l(m){var x=document.createEvent("FocusEvent");x.initEvent("focusout",!0,!1),m.dispatchEvent(x)}function a(m){var x=document.createEvent("UIEvent");x.initEvent("modalclose",!0,!1),m.dispatchEvent(x)}function c(m,x){x=="invalid"?(h(this.dropdown,"invalid"),d(this.dropdown,"valid")):(h(this.dropdown,"valid"),d(this.dropdown,"invalid"))}function u(m,x){return m[x]!=null?m[x]:m.getAttribute(x)}function f(m,x){return!!m&&m.classList.contains(x)}function h(m,x){if(m)return m.classList.add(x)}function d(m,x){if(m)return m.classList.remove(x)}n.r(r),n.d(r,{bind:()=>g,default:()=>b});var p={data:null,searchable:!1,showSelectedItems:!1};function b(m,x){this.el=m,this.config=Object.assign({},p,x||{}),this.data=this.config.data,this.selectedOptions=[],this.placeholder=u(this.el,"placeholder")||this.config.placeholder||"Select an option",this.searchtext=u(this.el,"searchtext")||this.config.searchtext||"Search",this.selectedtext=u(this.el,"selectedtext")||this.config.selectedtext||"selected",this.dropdown=null,this.multiple=u(this.el,"multiple"),this.disabled=u(this.el,"disabled"),this.create()}function g(m,x){return new b(m,x)}return b.prototype.create=function(){this.el.style.opacity="0",this.el.style.width="0",this.el.style.padding="0",this.el.style.height="0",this.data?this.processData(this.data):this.extractData(),this.renderDropdown(),this.bindEvent()},b.prototype.processData=function(m){var x=[];m.forEach(y=>{x.push({data:y,attributes:{selected:!!y.selected,disabled:!!y.disabled,optgroup:y.value=="optgroup"}})}),this.options=x},b.prototype.extractData=function(){var m=this.el.querySelectorAll("option,optgroup"),x=[],y=[],w=[];m.forEach(v=>{if(v.tagName=="OPTGROUP")var S={text:v.label,value:"optgroup"};else S={text:v.innerText,value:v.value,selected:v.getAttribute("selected")!=null||this.el.value==v.value,disabled:v.getAttribute("disabled")!=null};var E={selected:v.selected,disabled:v.disabled,optgroup:v.tagName=="OPTGROUP"};x.push(S),y.push({data:S,attributes:E})}),this.data=x,this.options=y,this.options.forEach(v=>{v.attributes.selected&&w.push(v)}),this.selectedOptions=w},b.prototype.renderDropdown=function(){var m=["nice-select",u(this.el,"class")||"",this.disabled?"disabled":"",this.multiple?"has-multiple":""];let x='<div class="nice-select-search-box">';x+=`<input type="text" class="nice-select-search" placeholder="${this.searchtext}..." title="search"/>`,x+="</div>";var y=`<div class="${m.join(" ")}" tabindex="${this.disabled?null:0}">`;y+=`<span class="${this.multiple?"multiple-options":"current"}"></span>`,y+='<div class="nice-select-dropdown">',y+=`${this.config.searchable?x:""}`,y+='<ul class="list"></ul>',y+="</div>",y+="</div>",this.el.insertAdjacentHTML("afterend",y),this.dropdown=this.el.nextElementSibling,this._renderSelectedItems(),this._renderItems()},b.prototype._renderSelectedItems=function(){if(this.multiple){var m="";this.config.showSelectedItems||this.config.showSelectedItems||window.getComputedStyle(this.dropdown).width=="auto"||this.selectedOptions.length<2?(this.selectedOptions.forEach(function(y){m+=`<span class="current">${y.data.text}</span>`}),m=m==""?this.placeholder:m):m=this.selectedOptions.length+" "+this.selectedtext,this.dropdown.querySelector(".multiple-options").innerHTML=m}else{var x=this.selectedOptions.length>0?this.selectedOptions[0].data.text:this.placeholder;this.dropdown.querySelector(".current").innerHTML=x}},b.prototype._renderItems=function(){var m=this.dropdown.querySelector("ul");this.options.forEach(x=>{m.appendChild(this._renderItem(x))})},b.prototype._renderItem=function(m){var x=document.createElement("li");if(x.innerHTML=m.data.text,m.attributes.optgroup)h(x,"optgroup");else{x.setAttribute("data-value",m.data.value);var y=["option",m.attributes.selected?"selected":null,m.attributes.disabled?"disabled":null];x.addEventListener("click",this._onItemClicked.bind(this,m)),x.classList.add(...y)}return m.element=x,x},b.prototype.update=function(){if(this.extractData(),this.dropdown){var m=f(this.dropdown,"open");this.dropdown.parentNode.removeChild(this.dropdown),this.create(),m&&i(this.dropdown)}u(this.el,"disabled")?this.disable():this.enable()},b.prototype.disable=function(){this.disabled||(this.disabled=!0,h(this.dropdown,"disabled"))},b.prototype.enable=function(){this.disabled&&(this.disabled=!1,d(this.dropdown,"disabled"))},b.prototype.clear=function(){this.resetSelectValue(),this.selectedOptions=[],this._renderSelectedItems(),this.update(),o(this.el)},b.prototype.destroy=function(){this.dropdown&&(this.dropdown.parentNode.removeChild(this.dropdown),this.el.style.display="")},b.prototype.bindEvent=function(){this.dropdown.addEventListener("click",this._onClicked.bind(this)),this.dropdown.addEventListener("keydown",this._onKeyPressed.bind(this)),this.dropdown.addEventListener("focusin",s.bind(this,this.el)),this.dropdown.addEventListener("focusout",l.bind(this,this.el)),this.el.addEventListener("invalid",c.bind(this,this.el,"invalid")),window.addEventListener("click",this._onClickedOutside.bind(this)),this.config.searchable&&this._bindSearchEvent()},b.prototype._bindSearchEvent=function(){var m=this.dropdown.querySelector(".nice-select-search");m&&m.addEventListener("click",function(x){return x.stopPropagation(),!1}),m.addEventListener("input",this._onSearchChanged.bind(this))},b.prototype._onClicked=function(m){var x,y;if(m.preventDefault(),f(this.dropdown,"open")?this.multiple||(d(this.dropdown,"open"),a(this.el)):(h(this.dropdown,"open"),x=this.el,(y=document.createEvent("UIEvent")).initEvent("modalopen",!0,!1),x.dispatchEvent(y)),f(this.dropdown,"open")){var w=this.dropdown.querySelector(".nice-select-search");w&&(w.value="",w.focus());var v=this.dropdown.querySelector(".focus");d(v,"focus"),h(v=this.dropdown.querySelector(".selected"),"focus"),this.dropdown.querySelectorAll("ul li").forEach(function(S){S.style.display=""})}else this.dropdown.focus()},b.prototype._onItemClicked=function(m,x){var y=x.target;f(y,"disabled")||(this.multiple?f(y,"selected")?(d(y,"selected"),this.selectedOptions.splice(this.selectedOptions.indexOf(m),1),this.el.querySelector(`option[value="${y.dataset.value}"]`).removeAttribute("selected")):(h(y,"selected"),this.selectedOptions.push(m)):(this.selectedOptions.forEach(function(w){d(w.element,"selected")}),h(y,"selected"),this.selectedOptions=[m]),this._renderSelectedItems(),this.updateSelectValue())},b.prototype.updateSelectValue=function(){if(this.multiple){var m=this.el;this.selectedOptions.forEach(function(x){var y=m.querySelector(`option[value="${x.data.value}"]`);y&&y.setAttribute("selected",!0)})}else this.selectedOptions.length>0&&(this.el.value=this.selectedOptions[0].data.value);o(this.el)},b.prototype.resetSelectValue=function(){if(this.multiple){var m=this.el;this.selectedOptions.forEach(function(x){var y=m.querySelector(`option[value="${x.data.value}"]`);y&&y.removeAttribute("selected")})}else this.selectedOptions.length>0&&(this.el.selectedIndex=-1);o(this.el)},b.prototype._onClickedOutside=function(m){this.dropdown.contains(m.target)||(d(this.dropdown,"open"),a(this.el))},b.prototype._onKeyPressed=function(m){var x=this.dropdown.querySelector(".focus"),y=f(this.dropdown,"open");if(m.keyCode==13)i(y?x:this.dropdown);else if(m.keyCode==40){if(y){var w=this._findNext(x);w&&(d(this.dropdown.querySelector(".focus"),"focus"),h(w,"focus"))}else i(this.dropdown);m.preventDefault()}else if(m.keyCode==38){if(y){var v=this._findPrev(x);v&&(d(this.dropdown.querySelector(".focus"),"focus"),h(v,"focus"))}else i(this.dropdown);m.preventDefault()}else if(m.keyCode==27&&y)i(this.dropdown);else if(m.keyCode===32&&y)return!1;return!1},b.prototype._findNext=function(m){for(m=m?m.nextElementSibling:this.dropdown.querySelector(".list .option");m;){if(!f(m,"disabled")&&m.style.display!="none")return m;m=m.nextElementSibling}return null},b.prototype._findPrev=function(m){for(m=m?m.previousElementSibling:this.dropdown.querySelector(".list .option:last-child");m;){if(!f(m,"disabled")&&m.style.display!="none")return m;m=m.previousElementSibling}return null},b.prototype._onSearchChanged=function(m){var x=f(this.dropdown,"open"),y=m.target.value;if((y=y.toLowerCase())=="")this.options.forEach(function(v){v.element.style.display=""});else if(x){var w=new RegExp(y);this.options.forEach(function(v){var S=v.data.text.toLowerCase(),E=w.test(S);v.element.style.display=E?"":"none"})}this.dropdown.querySelectorAll(".focus").forEach(function(v){d(v,"focus")}),h(this._findNext(null),"focus")},r})())})(OR);const TR=Un(af);const LR="// put your code here"+`
`.repeat(4),RR=La.define(gR());class MR{constructor({data:e,api:n}){bn(this,"data");bn(this,"api");bn(this,"codemirrorState");bn(this,"codemirrorView");bn(this,"_wrapper");this.data=e,this.api=n,this.data.code==null&&(this.data.code=LR),this.data.language==null&&(this.data.language="BASH")}static get toolbox(){return{title:"Code",icon:'<svg fill="#000000" width="800px" height="800px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M1.293,11.293l4-4A1,1,0,1,1,6.707,8.707L3.414,12l3.293,3.293a1,1,0,1,1-1.414,1.414l-4-4A1,1,0,0,1,1.293,11.293Zm17.414-4a1,1,0,1,0-1.414,1.414L20.586,12l-3.293,3.293a1,1,0,1,0,1.414,1.414l4-4a1,1,0,0,0,0-1.414ZM13.039,4.726l-4,14a1,1,0,0,0,.686,1.236A1.053,1.053,0,0,0,10,20a1,1,0,0,0,.961-.726l4-14a1,1,0,1,0-1.922-.548Z"/></svg>'}}onPaste(){}render(){const e=document.createElement("div");return e.classList.add("code-editor"),e.addEventListener("keydown",n=>n.stopPropagation()),e.addEventListener("paste",n=>n.stopPropagation()),this._wrapper=e,this._createCodemirror(),e}save(){return{language:this.data.language,code:this.codemirrorView.state.doc.sliceString(0)}}renderSettings(){const e=document.createElement("div");let n=document.createElement("select");n.classList.add("small");var r=document.createElement("option");r.value="BASH",r.text="BASH",r.selected=!0,n.appendChild(r);let i=!1;for(var o=0;o<ui.length;o++){if(ui[o].name.startsWith("V")&&i==!1){var r=document.createElement("option");r.value="V",r.text="V",n.appendChild(r),i=!0}var r=document.createElement("option");r.value=ui[o].name,r.text=ui[o].name,ui[o].name==this.data.language&&(r.selected=!0),n.appendChild(r)}return n.addEventListener("change",async s=>{const l=s.target.value;ui.find(c=>c.name==l)?(this.data.code=this.codemirrorView.state.doc.sliceString(0),this.data.language=l,this.codemirrorView.destroy(),this._createCodemirror()):l=="V"&&(this.data.code=this.codemirrorView.state.doc.sliceString(0),this.data.language="V",this.codemirrorView.destroy(),this._createCodemirror())}),e.appendChild(n),new TR(n,{searchable:!0,placeholder:"Language..."}),e}async _createCodemirror(){let e=ui.find(i=>i.name==this.data.language);e?e=await e.load():e={extension:RR};const n=tt.create({doc:this.data.code,extensions:[ob.of([...iR,...mL,oR]),qO(),JO(),sL(),TT(),vb(MT,{fallback:!0}),$O(),jT(),e.extension,AR,Ve.lineWrapping,Oa.of("    "),tt.tabSize.of(4)]}),r=new Ve({state:n,parent:this._wrapper});this.codemirrorState=n,this.codemirrorView=r}}var cf={},PR={get exports(){return cf},set exports(t){cf=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,l){i.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,s){if(1&s&&(o=i(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var a in o)i.d(l,a,function(c){return o[c]}.bind(null,a));return l},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="/",i(i.s=5)}([function(n,r,i){var o=i(1);typeof o=="string"&&(o=[[n.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(3)(o,s),o.locals&&(n.exports=o.locals)},function(n,r,i){(n.exports=i(2)(!1)).push([n.i,`.inline-code {
  background: rgba(250, 239, 240, 0.78);
  color: #b44437;
  padding: 3px 4px;
  border-radius: 5px;
  margin: 0 1px;
  font-family: inherit;
  font-size: 0.86em;
  font-weight: 500;
  letter-spacing: 0.3px;
}
`,""])},function(n,r){n.exports=function(i){var o=[];return o.toString=function(){return this.map(function(s){var l=function(a,c){var u=a[1]||"",f=a[3];if(!f)return u;if(c&&typeof btoa=="function"){var h=(p=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(p))))+" */"),d=f.sources.map(function(b){return"/*# sourceURL="+f.sourceRoot+b+" */"});return[u].concat(d).concat([h]).join(`
`)}var p;return[u].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+l+"}":l}).join("")},o.i=function(s,l){typeof s=="string"&&(s=[[null,s,""]]);for(var a={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(a[u]=!0)}for(c=0;c<s.length;c++){var f=s[c];typeof f[0]=="number"&&a[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(n,r,i){var o,s,l={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=o.apply(this,arguments)),s}),c=function(k){var O={};return function(R){if(typeof R=="function")return R();if(O[R]===void 0){var C=function(_){return document.querySelector(_)}.call(this,R);if(window.HTMLIFrameElement&&C instanceof window.HTMLIFrameElement)try{C=C.contentDocument.head}catch{C=null}O[R]=C}return O[R]}}(),u=null,f=0,h=[],d=i(4);function p(k,O){for(var R=0;R<k.length;R++){var C=k[R],_=l[C.id];if(_){_.refs++;for(var L=0;L<_.parts.length;L++)_.parts[L](C.parts[L]);for(;L<C.parts.length;L++)_.parts.push(w(C.parts[L],O))}else{var M=[];for(L=0;L<C.parts.length;L++)M.push(w(C.parts[L],O));l[C.id]={id:C.id,refs:1,parts:M}}}}function b(k,O){for(var R=[],C={},_=0;_<k.length;_++){var L=k[_],M=O.base?L[0]+O.base:L[0],A={css:L[1],media:L[2],sourceMap:L[3]};C[M]?C[M].parts.push(A):R.push(C[M]={id:M,parts:[A]})}return R}function g(k,O){var R=c(k.insertInto);if(!R)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var C=h[h.length-1];if(k.insertAt==="top")C?C.nextSibling?R.insertBefore(O,C.nextSibling):R.appendChild(O):R.insertBefore(O,R.firstChild),h.push(O);else if(k.insertAt==="bottom")R.appendChild(O);else{if(typeof k.insertAt!="object"||!k.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var _=c(k.insertInto+" "+k.insertAt.before);R.insertBefore(O,_)}}function m(k){if(k.parentNode===null)return!1;k.parentNode.removeChild(k);var O=h.indexOf(k);O>=0&&h.splice(O,1)}function x(k){var O=document.createElement("style");return k.attrs.type===void 0&&(k.attrs.type="text/css"),y(O,k.attrs),g(k,O),O}function y(k,O){Object.keys(O).forEach(function(R){k.setAttribute(R,O[R])})}function w(k,O){var R,C,_,L;if(O.transform&&k.css){if(!(L=O.transform(k.css)))return function(){};k.css=L}if(O.singleton){var M=f++;R=u||(u=x(O)),C=E.bind(null,R,M,!1),_=E.bind(null,R,M,!0)}else k.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(R=function(A){var T=document.createElement("link");return A.attrs.type===void 0&&(A.attrs.type="text/css"),A.attrs.rel="stylesheet",y(T,A.attrs),g(A,T),T}(O),C=function(A,T,P){var D=P.css,$=P.sourceMap,G=T.convertToAbsoluteUrls===void 0&&$;(T.convertToAbsoluteUrls||G)&&(D=d(D)),$&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify($))))+" */");var ne=new Blob([D],{type:"text/css"}),ae=A.href;A.href=URL.createObjectURL(ne),ae&&URL.revokeObjectURL(ae)}.bind(null,R,O),_=function(){m(R),R.href&&URL.revokeObjectURL(R.href)}):(R=x(O),C=function(A,T){var P=T.css,D=T.media;if(D&&A.setAttribute("media",D),A.styleSheet)A.styleSheet.cssText=P;else{for(;A.firstChild;)A.removeChild(A.firstChild);A.appendChild(document.createTextNode(P))}}.bind(null,R),_=function(){m(R)});return C(k),function(A){if(A){if(A.css===k.css&&A.media===k.media&&A.sourceMap===k.sourceMap)return;C(k=A)}else _()}}n.exports=function(k,O){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(O=O||{}).attrs=typeof O.attrs=="object"?O.attrs:{},O.singleton||typeof O.singleton=="boolean"||(O.singleton=a()),O.insertInto||(O.insertInto="head"),O.insertAt||(O.insertAt="bottom");var R=b(k,O);return p(R,O),function(C){for(var _=[],L=0;L<R.length;L++){var M=R[L];(A=l[M.id]).refs--,_.push(A)}for(C&&p(b(C,O),O),L=0;L<_.length;L++){var A;if((A=_[L]).refs===0){for(var T=0;T<A.parts.length;T++)A.parts[T]();delete l[A.id]}}}};var v,S=(v=[],function(k,O){return v[k]=O,v.filter(Boolean).join(`
`)});function E(k,O,R,C){var _=R?"":C.css;if(k.styleSheet)k.styleSheet.cssText=S(O,_);else{var L=document.createTextNode(_),M=k.childNodes;M[O]&&k.removeChild(M[O]),M.length?k.insertBefore(L,M[O]):k.appendChild(L)}}},function(n,r){n.exports=function(i){var o=typeof window<"u"&&window.location;if(!o)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=o.protocol+"//"+o.host,l=s+o.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,c){var u,f=c.trim().replace(/^"(.*)"$/,function(h,d){return d}).replace(/^'(.*)'$/,function(h,d){return d});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?a:(u=f.indexOf("//")===0?f:f.indexOf("/")===0?s+f:l+f.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,i){i.r(r),i(0);function o(a,c){for(var u=0;u<c.length;u++){var f=c[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}function s(a,c,u){return c&&o(a.prototype,c),u&&o(a,u),a}i.d(r,"default",function(){return l});var l=function(){function a(c){var u=c.api;(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a),this.api=u,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(a,null,[{key:"CSS",get:function(){return"inline-code"}}]),s(a,[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(c){if(c){var u=this.api.selection.findParentTag(this.tag,a.CSS);u?this.unwrap(u):this.wrap(c)}}},{key:"wrap",value:function(c){var u=document.createElement(this.tag);u.classList.add(a.CSS),u.appendChild(c.extractContents()),c.insertNode(u),this.api.selection.expandToTag(u)}},{key:"unwrap",value:function(c){this.api.selection.expandToTag(c);var u=window.getSelection(),f=u.getRangeAt(0),h=f.extractContents();c.parentNode.removeChild(c),f.insertNode(h),u.removeAllRanges(),u.addRange(f)}},{key:"checkState",value:function(){var c=this.api.selection.findParentTag(this.tag,a.CSS);this.button.classList.toggle(this.iconClasses.active,!!c)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}}],[{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{code:{class:a.CSS}}}}]),a}()}]).default})})(PR);const DR=Un(cf);function IR(t,e,n,r){const i=new EditorJS({data:{blocks:e},holder:t,tools:{colors:{class:UE,config:{type:"text",customPicker:!0}},heading:{class:BE,config:{defaultLevel:2,levels:[1,2,3]}},paragraph:{class:RE,inlineToolbar:!0},linkTool:{class:TE,config:{endpoint:n.linkEndpoint}},image:{class:IE,config:{uploader:{async uploadByFile(o){const s=new FormData;s.append("image",o),s.append("article",window.location.pathname.split("/").pop());const l=await Ot.post(n.uploadFile,s);return l.data.success&&(l.data.file.url="http://127.0.0.1:8080/"+l.data.file.url),l.data},async uploadByUrl(o){return{success:1,file:{url:o}}}}}},code:{class:MR},inlineCode:{class:DR},quote:{class:PE,inlineToolbar:!0,config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}},table:{class:jE,inlineToolbar:!0,config:{withHeadings:!0}},embed:{class:AE}},logLevel:"ERROR",onReady:()=>{new HE(i)},autofocus:!0,onChange:r});return i}const $R={class:"document"},BR={id:"editor"},NR=$t({__name:"BlocksPreview",setup(t){const e=Cs(),n=A0(),r=Ze(),i=async(o,s)=>{var l;if(s.type=="block-removed"){const c=s.detail.target.holder.querySelector("img");c&&c.src.startsWith("http://127.0.0.1:8080/")&&await e.removeImage(c.src)}if(s.type=="block-added"||s.type=="block-removed"||s.type=="block-changed"){const a=await((l=r.value)==null?void 0:l.save());a&&(a.blocks.splice(0,0,e.blocks[0]),e.blocks=a.blocks,await e.save(n.params.id))}};return ua(()=>{const o="http://127.0.0.1:8080/api/";r.value=IR("editor",e.blocks.slice(1),{linkEndpoint:o+"fetch-link",uploadFile:o+"upload-image",uploadUrl:o+"upload-image-url"},i)}),(o,s)=>{var l;return Ke(),at("div",$R,[Le("div",BR,[Le("h1",null,kn((l=Be(e).blocks[0])==null?void 0:l.data.text),1)])])}}});const jR=un(NR,[["__scopeId","data-v-5a3836c5"]]),$a=t=>(Zr("data-v-aa9b4571"),t=t(),ei(),t),FR={class:"article-editor"},HR=$a(()=>Le("h1",null,"Change Article",-1)),VR=$a(()=>Le("label",{class:"formkit-label"},"Your current thumbnail",-1)),UR=["src"],zR={key:0,class:"error"},qR=$a(()=>Le("hr",null,null,-1)),WR=$a(()=>Le("h1",null,"Visibility",-1)),KR=$t({__name:"ArticleEditor",setup(t){const e=xi(),n=mr(),r=A0(),i=Ze(!1),o=Ze(""),s=rt(()=>e.get(r.params.id)),l=Ze(s.value.category_id),a=Ze(s.value.show?"Hide Article":"Show Article");async function c(p){o.value="";try{let b=await e.update(s.value.id,p),g=e.get(s.value.id);if(g.image_src&&(h.value="http://127.0.0.1:8080/"+g.image_src),b){const m=Cs();m.blocks[0].data.text=p.name,await m.save(s.value.id)}}catch(b){o.value=b.response.data}finally{i.value=!1}}async function u(){try{await e.publish(s.value.id),a.value="Hide Article"}catch{}finally{i.value=!0}}async function f(){try{await e.changeVisibility(s.value.id),a.value=a.value=="Show Article"?"Hide Article":"Show Article"}catch{}finally{i.value=!0}}const h=Ze("http://127.0.0.1:8080/"+s.value.image_src),d=rt(()=>{let p=[{label:"[No Category]",value:0}];return n.categories.forEach(b=>{p.push({label:b.name,value:b.id})}),p});return(p,b)=>{const g=ar("FormKit");return Ke(),at("div",FR,[HR,ke(g,{type:"form",onSubmit:c,"submit-label":"Update"},{default:_t(()=>[ke(g,{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Article Name",value:Be(s).name},null,8,["value"]),ke(g,{type:"select",label:"Article Category",name:"category_id",placeholder:"Select a category (not required)",modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=m=>l.value=m),options:Be(d)},null,8,["modelValue","options"]),ke(g,{type:"textarea",rows:"10",name:"description",id:"description",validation:"required",label:"Description",value:Be(s).description},null,8,["value"]),Be(s).thumbnail?(Ke(),at(Lt,{key:0},[VR,Le("img",{alt:"your thumbnail",src:h.value},null,8,UR)],64)):ns("",!0),ke(g,{type:"file",accept:".png, .jpg, .jpeg","file-item-icon":"fileImage","no-files-icon":"fileImage",label:"New thumbnail",name:"thumbnail",help:"Add a thumnbnail image"})]),_:1}),o.value?(Ke(),at("p",zR,kn(o.value),1)):ns("",!0),qR,WR,ke(g,{type:"form",onSubmit:f,"submit-label":a.value},null,8,["submit-label"]),ke(g,{type:"form",onSubmit:u,"submit-label":"Publish"})])}}});const JR=un(KR,[["__scopeId","data-v-aa9b4571"]]),GR=t=>(Zr("data-v-792fd972"),t=t(),ei(),t),YR={class:"editor-container"},XR={class:"block-sidebar"},QR=GR(()=>Le("p",{class:"content"},"CONTENT",-1)),ZR={class:"document-container"},eM=$t({__name:"Edit",setup(t){return(e,n)=>(Ke(),at("div",YR,[Le("div",XR,[QR,ke(CE)]),Le("div",ZR,[ke(jR)]),ke(JR)]))}});const tM=un(eM,[["__scopeId","data-v-792fd972"]]);var uf={},nM={get exports(){return uf},set exports(t){uf=t}};(function(t,e){(function(n,r){t.exports=r()})(self,function(){return function(){var n={d:function(N,V){for(var ie in V)n.o(V,ie)&&!n.o(N,ie)&&Object.defineProperty(N,ie,{enumerable:!0,get:V[ie]})},o:function(N,V){return Object.prototype.hasOwnProperty.call(N,V)}},r={};n.d(r,{default:function(){return Co}});const i="alwan",o="alwan__container",s="alwan__swatch",l="alwan__preset-button",a="alwan--collapse",c=document,u=c.documentElement,f="button",h="open",d="close",p="color",b="click",g="pointerdown",m="keydown",x="input",y="change",w="focusin",v="hex",S="rgb",E="hsl",k="hsv",O="--lw-color",R=[v,S,E],C="afterbegin",_=N=>typeof N=="string",L=N=>N.trim(),M=()=>{let N=[],V=(ie,ue,Ae,Pe=!0)=>{ue.forEach(Fe=>{ie[(Pe?"add":"remove")+"EventListener"](Fe,Ae)})};return{t(ie,ue,Ae){_(ue)&&(ue=[ue]),N.push([ie,ue,Ae]),V(ie,ue,Ae)},i(){N.forEach(([ie,ue,Ae])=>{V(ie,ue,Ae,!1)}),N=[]}}},{parseFloat:A,parseInt:T,isFinite:P}=Number,{min:D,max:$,abs:G,round:ne,PI:ae}=Math,Re=(N,V=100,ie=0)=>D($(N,ie),V),he=N=>(ne(N)%360+360)%360,{keys:U,assign:X,setPrototypeOf:Q,prototype:ce}=Object,we=(N,V)=>{let ie=U(N);for(const ue of ie)V(N[ue],ue)},Ee=(N,V)=>!(!N||!V)&&U(N).every(ie=>N[ie]===V[ie]),de=N=>N!=null,I=()=>c.body,B=(N,V=c,ie=!1)=>_(N)&&L(N)?V["querySelector"+(ie?"All":"")](N):N instanceof Element?N:null,H=(N,V,ie)=>{if(N&&V)return V.insertAdjacentElement(ie||"beforeend",N)},z=(N,V)=>{N.innerHTML=V},W=(N,V,ie,ue,Ae)=>{const Pe=c.createElement(N||"div");return V&&(Pe.className=V),we(ue||{},(Fe,He)=>{He==="html"?z(Pe,Fe):Fe&&Pe.setAttribute(He,Fe)}),ie&&H(Pe,ie,Ae),Pe},ee=N=>N===c?{x:0,y:0,top:0,left:0,right:u.clientWidth,bottom:u.clientHeight}:N.getBoundingClientRect(),le=N=>N.parentElement,te=(N,V)=>(le(V).replaceChild(N,V),N),Z=N=>{N&&N.remove()},Y=(N,V=[c])=>(N=le(N))&&N!==c.body?(/auto|scroll/.test(getComputedStyle(N).overflow)&&V.push(N),Y(N,V)):V,ge=(N,V,ie)=>{N&&de(ie)&&N.style.setProperty(V,ie)},me=(N,V=!0)=>{N.style.display=V?"":"none"},ye=(N,V,ie)=>{_(V)&&(V=[V]),V.forEach(ue=>{ue&&N.classList.toggle(ue,ie)})},Se=(N,V,ie,ue)=>W(f,"alwan__button "+N,V,X({type:f},ie),ue),$e=(N,V,ie)=>{N.style.transform=`translate(${ne(V)}px,${ne(ie)}px)`},it=(N,V,ie,ue)=>W(x,"alwan__slider "+N,V,{type:"range",max:ie,step:ue}),We="top",ot="bottom",Bt="right",yn="left",Ar="start",On="center",oi="end",Nt={x:"width",y:"height"},rn={x:Bt,y:ot},Os=(N,V,ie)=>{let ue,Ae,Pe,Fe=M(),He=!1;const De=(fe,oe=V)=>{V=oe;let{theme:xe,popover:ve,target:_e,position:Oe,margin:ze,id:vt,toggle:Je,shared:st}=fe,jt=B(_e);_(vt)&&!st&&(N.id=vt),we(V.u,({p:At})=>{At&&At(fe,V)}),ue=V.m._,_e=jt||ue,N.dataset.theme=xe,Je||st||pe(V,!0,!0),me(ue,ve||Je||st),ye(N,"alwan--popup",ve),Fe.i(),Ae=null,ve?(Ae=((At,ct,{A:wt,L:Eo})=>{let fr,Ih={[We]:[We,ot,Bt,yn],[ot]:[ot,We,Bt,yn],[Bt]:[Bt,yn,We,ot],[yn]:[yn,Bt,We,ot]},$h={start:[Ar,On,oi],center:[On,Ar,oi],end:[oi,On,Ar]},za=5,[qa,Ao]=_(Eo)?Eo.split("-"):[];return Ih[qa]||(qa=ot),Ao?$h[Ao]||(Ao=Ar):Ao=On,wt=A(wt),P(wt)&&(za=wt),{m:At,H(){let Wa=ee(c),Ka=ee(At),Ja=ee(ct);fr={x:null,y:null},Ih[qa].some(Ii=>{let Wt=Ii===We||Ii===ot?"y":"x",Bh=Wa[Ii],Nh=Ka[Ii],jh=za+Ja[Nt[Wt]];if(jh<=G(Bh-Nh))return fr[Wt]=Nh+(Bh?za:-jh),Wt=Wt==="x"?"y":"x",$h[Ao].some(Ga=>{let Ls=Ja[Nt[Wt]],{[Wt]:Fh,[rn[Wt]]:Rs}=Ka,Hh=Wa[rn[Wt]]-Fh,Ya=(Ls+Ka[Nt[Wt]])/2;return Ga===Ar&&Ls<=Hh?(fr[Wt]=Fh,!0):Ga===On&&Ya<=Rs&&Ya<=Hh?(fr[Wt]=Rs-Ya,!0):Ga===oi&&Ls<=Rs?(fr[Wt]=Rs-Ls,!0):void 0}),!0}),we(fr,(Ii,Wt)=>{Ii===null&&(fr[Wt]=(Wa[rn[Wt]]-Ja[Nt[Wt]])/2)}),$e(ct,fr.x,fr.y)}}})(_e,N,{A:ze,L:Oe}),Ae.H(),Pe=Y(_e),Fe.t(window,"resize",Ye),Pe.forEach(At=>{Fe.t(At,"scroll",Ye)}),Fe.t(c,[m,g],Ce)):(N.style="",H(N,_e,!jt&&"afterend"))},Ye=fe=>{var oe;He&&(Ae.H(),oe=Ae.m,Pe.every(xe=>{let{x:ve,y:_e,bottom:Oe,right:ze}=ee(oe),{x:vt,y:Je,bottom:st,right:jt}=ee(xe);return _e<st&&Oe>Je&&ve<jt&&ze>vt})||pe(V,!1))},Ce=fe=>{if(He){let oe,xe,{target:ve,key:_e,shiftKey:Oe}=fe,ze=V.u.V._;_e==="Escape"||ve!==ue&&!N.contains(ve)&&![...ue.labels||[]].some(vt=>vt.contains(ve))?pe(V,!1):_e==="Tab"&&(xe=[...B("button,input",N,!0)].pop(),ve!==ue||Oe?(Oe&&ve===ze||!Oe&&ve===xe)&&(oe=ue):oe=ze,oe&&(fe.preventDefault(),oe.focus()))}},pe=(fe,oe,xe)=>{fe=fe||V;let{shared:ve,toggle:_e,disabled:Oe}=fe.config;Oe&&!xe||(de(oe)||(He&&fe!==V&&pe(V,!1),oe=!He),oe!==He&&(ve||_e||xe)&&(oe&&(fe!==V&&De(fe.config,fe),V.M.$(),Ie()),fe===V&&(He=oe,ye(N,"alwan--open",oe),V.S.O(oe?h:d,N))))},Ie=()=>{Ae&&Ae.H()};return{j:N,k:De,B:Ie,C:pe,I:()=>He,F:()=>{ie.i(),Fe.i(),N=Z(N),V={}}}},Oh='<svg width="18" height="18" viewBox="0 0 24 24" aria-role="none"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg>',si=(N,V,ie)=>{let ue="",Ae="",Pe=N.a;return V===E&&(ue="%"),Pe<1&&!ie&&(V+="a",Ae=", "+Pe),`${V}(${N[V[0]]}, ${N[V[1]]+ue}, ${N[V[2]]+ue+Ae})`},Ba=(N,V,ie)=>255*(ie-ie*V*$(0,D(N,4-N,1))),Th=({h:N,s:V,v:ie,a:ue})=>({r:ne(Ba((5+(N/=60))%6,V,ie)),g:ne(Ba((3+N)%6,V,ie)),b:ne(Ba((1+N)%6,V,ie)),a:ue}),Ts=N=>(N<16?"0":"")+N.toString(16),Lh=({r:N,g:V,b:ie,a:ue})=>"#"+Ts(N)+Ts(V)+Ts(ie)+(ue<1?Ts(ne(255*ue)):""),Na=({h:N,s:V,v:ie,a:ue})=>({h:N,s:ne(100*((V=ie*(1-V/2))&&V!==1?(ie-V)/D(V,1-V):0)),l:ne(100*V),a:ne(100*ue)/100}),ja=W("canvas").getContext("2d"),dv=/^hsla?\(\s*([+-]?\d*\.?\d+)(\w*)?\s*[\s,]\s*([+-]?\d*\.?\d+)%?\s*,?\s*([+-]?\d*\.?\d+)%?(?:\s*[\/,]\s*([+-]?\d*\.?\d+)(%)?)?\s*\)?$/,pv=/^#[0-9a-f]{6}$/i,Rh={deg:1,turn:360,rad:180/ae,grad:.9},Fa=(N="",V)=>{let ie,ue,Ae="";_(N)?Ae=L(N):(ue=[S,E,k].find(fe=>fe.split("").every(oe=>P(A(N[oe])))),ue&&(de(N.a)||(N.a=1),ue===k&&(ue=S,N=Th({h:he(N.h),s:Re(N.s)/100,v:Re(N.v)/100,a:N.a})),Ae=si(N,ue)));let[Pe,Fe,He,De,Ye,Ce,pe]=dv.exec(Ae)||[];if(Pe)ie={h:he(Fe*(Rh[He]?Rh[He]:1)),s:Re(De),l:Re(Ye),a:de(Ce)?Re(pe?Ce/100:Ce,1):1},ue=E;else if(ue=S,ja.fillStyle="#000",ja.fillStyle=Ae,Ae=ja.fillStyle,pv.test(Ae))ie={r:T((Ie=Ae).slice(1,3),16),g:T(Ie.slice(3,5),16),b:T(Ie.slice(5,7),16),a:1};else{let[fe,oe,xe,ve]=/\((.+)\)/.exec(Ae)[1].split(",").map(_e=>A(_e));ie={r:fe,g:oe,b:xe,a:ve}}var Ie;return V?si(ie,ue):{D:ue,M:ie}};let Di=null,Ha=0;const Mh=N=>{const V=M(),ie=W("",i,I()),ue=Os(ie,N,V),Ae=((Ce,pe,Ie)=>{let fe,oe,xe,ve,_e=!1;const Oe=W("","alwan__palette",Ce,{tabindex:"0"}),ze=W("","alwan__marker",Oe),{width:vt,height:Je}=ee(Oe),st={ArrowRight:1,ArrowLeft:-1},jt={ArrowDown:1,ArrowUp:-1},At=(ct,wt,Eo)=>{ct=Re(ct,vt),wt=Re(wt,Je),ct===fe&&wt===oe||(fe=ct,oe=wt,$e(ze,fe,oe),pe.M.H({s:fe/vt,v:1-oe/Je}),pe.S.O(p,Oe),Eo&&Eo())};return Ie.t(Oe,g,ct=>{ve||(ve=W("","alwan__overlay",Ce)),pe.M.P(),xe=ee(Oe),_e=!0,At(ct.clientX-xe.x,ct.clientY-xe.y),Oe.focus()}),Ie.t(c,"pointermove",ct=>{_e&&At(ct.clientX-xe.x,ct.clientY-xe.y)}),Ie.t(c,"pointerup",ct=>{_e&&(pe.M.Z(Oe),ve=Z(ve),_e=!1)}),Ie.t(Oe,m,ct=>{let wt=ct.key;(st[wt]||jt[wt])&&(ct.preventDefault(),At(fe+(st[wt]||0)*vt/100,oe+(jt[wt]||0)*Je/100,()=>{pe.S.O(y,Oe)}))}),{_:Oe,p(ct,wt){pe=wt||pe},H({s:ct,v:wt}){$e(ze,ct*vt,(1-wt)*Je)}}})(ie,N,V),Pe=W("",o,ie),Fe=((Ce,pe,Ie)=>{let fe,oe,xe;const ve={p({preview:_e,copy:Oe},ze){pe=ze,Oe!==!!oe&&(oe=Oe?Se("alwan__copy-button",fe||Ce,{html:Oh},C):Z(oe)),_e!==!!fe&&(fe=_e?W("","alwan__preview",Ce,!1,C):Z(fe),H(oe,fe||Ce,C))}};return Ie.t(Ce,b,({target:_e})=>{if(_e===oe&&!xe&&!pe.config.disabled){let Oe,ze=navigator.clipboard,vt=pe.M.q(!0);ze?ze.writeText(vt):(Oe=W(x,"",u,{value:vt}),Oe.select(),c.execCommand("copy"),Oe=Z(Oe)),xe=!0,z(oe,'<svg width="18" height="18" viewBox="0 0 24 24" aria-role="none"><path d="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z"></path></svg>')}}),Ie.t(Ce,["mouseout","focusout"],_e=>{_e.target===oe&&(xe&&(xe=!1,z(oe,Oh)),oe.blur())}),ve})(Pe,N,V),He=((Ce,pe,Ie)=>{let fe;const oe=W("","alwan__sliders",Ce),xe=it("alwan__slider--hue",oe,360);return Ie.t(oe,[x,y],({target:ve,type:_e,target:{value:Oe}})=>{pe.M.H(ve===xe?{h:360-Oe}:{a:1*Oe}),pe.S.O(_e===y?y:p,ve)}),{p({opacity:ve},_e){pe=_e||pe,ve!==!!fe&&(ve?fe=it("alwan__slider--alpha",oe,1,.01):(fe=Z(fe),pe.M.H({a:1})))},K({h:ve,a:_e}){xe.value=360-ve,fe&&(fe.value=_e)}}})(Pe,N,V),De=((Ce,pe,Ie)=>{let fe,oe,xe,ve,_e=[],Oe=!1;const ze={p({inputs:Je,format:st},jt){pe=jt||pe,Je=de(Je)?Je:{},ve={},_e=R.filter(ct=>Je[ct]);let At=_e.length;At?(fe||(fe=W("","alwan__inputs",Ce)),At===1?oe=Z(oe):oe||(oe=Se("",Ce,{html:'<svg width="15" height="15" viewBox="0 0 20 20" aria-role="none"><path d="M10 1L5 8h10l-5-7zm0 18l5-7H5l5 7z"></path></svg>'})),xe=$(_e.indexOf(st),0),st=_e[xe],vt(st)):(fe=Z(fe),oe=Z(oe),st=R.includes(st)?st:R[0]),pe.config.format=st,me(Ce,At)},K(Je){we(ve,(st,jt)=>{st.value=_(Je)?Je:Je[jt]})}},vt=Je=>{let st,{singleInput:jt,opacity:At}=pe.config;st=jt||Je===v?[Je]:(Je+(At?"a":"")).split(""),z(fe,""),st.forEach(ct=>{const wt=W("label","",fe);ve[ct]=W(x,"alwan__input",wt,{type:"text"}),W("span","",wt,{html:ct})})};return Ie.t(Ce,b,Je=>{Je.target===oe&&(xe=(xe+1)%_e.length,pe.config.format=_e[xe],vt(_e[xe]),pe.M.H())}),Ie.t(Ce,x,({target:{value:Je}})=>{Oe||(pe.M.P(),Oe=!0);let st="",jt={},At=_e[xe];pe.config.singleInput||At===v?st=Je:(we(ve,(ct,wt)=>{jt[wt]=L(ct.value)}),st=si(jt,At)),pe.M.N(st,!0)&&pe.S.O(p,ve)}),Ie.t(Ce,y,Je=>{Oe&&(pe.M.Z(ve),Oe=!1)}),Ie.t(Ce,[m,w],({target:Je,key:st,type:jt})=>{Je!==oe&&(jt===w?Je.select():st==="Enter"&&pe.close())}),ze})(W("",o,ie),N,V),Ye=((Ce,pe,Ie)=>{let fe,oe,xe,ve,_e;const Oe={p(ze={},vt){pe=vt||pe,oe=ze.swatches||oe,_e=ze.toggleSwatches,_e=!!de(_e)&&_e,Array.isArray(oe)&&(ve=oe.length,ve?(fe?z(fe,""):fe=W("","alwan__swatches",Ce),oe.forEach(Je=>{ge(Se(s,fe),O,Fa(Je,!0))}),_e?xe||(xe=Se("alwan__collapse-button",Ce,{html:'<svg width="20" height="20" viewBox="0 0 24 24" aria-role="none"><path d="M6.984 14.016l5.016-5.016 5.016 5.016h-10.031z"></path></svg>'})):xe=Z(xe),ye(fe,a,_e)):(fe=Z(fe),xe=Z(xe)))},R(ze){ve=oe.push(ze),ve>1?ge(Se(s,fe),O,Fa(ze,!0)):Oe.p()},T(ze){let vt=oe.findIndex((Je,st)=>ze===Je||T(ze)===st);vt>-1&&(ve--,Z(fe.children[vt]),oe.splice(vt,1),ve||Oe.p())}};return Ie.t(Ce,b,({target:ze})=>{ze===xe?ye(fe,a):le(ze)===fe&&(pe.M.N(ze.style.getPropertyValue(O)),pe.S.O(p,ze),pe.S.O(y,ze))}),Oe})(ie,N,V);return{U:ue,V:Ae,G:Fe,J:He,W:De,X:Ye}},Va=N=>!!Di&&N===Di,Ph=N=>{if(Va(N)){if(Ha--,Ha>0)return;Di=null}N.U.F(),N={}},mv=N=>{let V,ie,ue,Ae={h:0,s:0,v:0,a:1},Pe=N.config,Fe=(De,Ye,Ce,pe)=>X((Ye+(Pe.opacity?"a":"")).split("").reduce((Ie,fe,oe)=>(Ie[Ce?oe:fe]=De[fe],Ie),Ce?[]:{}),Ye!==k?{toString:()=>pe||si(De,Ye)}:{}),He={H(De,Ye,Ce){let{U:{j:pe},W:Ie}=N.u;Pe.disabled||(X(Ae,De=De||Ae),V=Ye||Th(Ae),ie=si(V,S),ge(N.m._,O,ie),ge(pe,"--h",De.h),ge(pe,"--rgb",si(V,S,!0)),ge(pe,O,ie),Ce||Ie.K(He.q(Pe.singleInput)))},$(De,Ye,Ce){let{V:pe,J:Ie}=N.u;He.H(De,Ye,Ce),pe.H(Ae),Ie.K(Ae)},q:(De,Ye=Pe.format)=>Ye===S?De?ie:V:Ye===E?De?si(Na(Ae),E):Na(Ae):Ye===v?Lh(V):"",P(){ue=He.q()},Z(De){Ee(ue,He.q())||N.S.O(y,De)},N(De,Ye=!1){let{D:Ce,M:pe}=Fa(De),Ie=!Ee(pe,He.q(!1,Ce)),fe=Ce===S;return Ie&&He.$(fe?(({r:oe,g:xe,b:ve,a:_e})=>{let Oe=$(oe/=255,xe/=255,ve/=255),ze=Oe-D(oe,xe,ve);return{h:he(60*(ze===0?0:Oe===oe?(xe-ve)/ze%6:Oe===xe?(ve-oe)/ze+2:Oe===ve?(oe-xe)/ze+4:0)),s:Oe?ze/Oe:0,v:Oe,a:ne(100*_e)/100}})(pe):(({h:oe,s:xe,l:ve,a:_e})=>({h:oe,s:(xe=(ve/=100)+xe*D(ve,1-ve)/100)?2*(1-ve/xe):0,v:xe,a:_e}))(pe),!!fe&&pe,Ye),Ie},Y:()=>({value:He.q(!0),hsv:De=>Fe(Ae,k,De),rgb:De=>Fe(V,S,De,ie),hsl:De=>Fe(Na(Ae),E,De),hex:()=>Lh(V)})};return He},Dh=(N,V)=>{V=V||{};let ie,ue=X(N.config,V),{color:Ae,disabled:Pe}=V,{N:Fe,H:He}=N.M;N.u=(De=>{let{u:Ye,config:{shared:Ce}}=De;if(Ye){if(Va(Ye)===Ce)return Ye;Ye.U.C(De,!1,!0),Ph(Ye)}return Ce?(Di||(Di=Mh(De)),Ha++,Di):Mh(De)})(N),N.m.p(ue),ie=N.u.U,Va(N.u)&&ie.C(null,!1),ie.k(ue,N),N.m.tt(Pe),de(Ae)&&Fe(Ae),He()},gv={id:"",classname:"",theme:"light",toggle:!0,popover:!0,position:"bottom-start",margin:8,preset:!0,color:"#000",default:"#000",target:"",disabled:!1,format:"rgb",singleInput:!1,inputs:{rgb:!0,hex:!0,hsl:!0},opacity:!0,preview:!0,copy:!0,swatches:[],shared:!1,toggleSwatches:!1},Ua=class{constructor(V,ie){let ue=this;ue.config=X({},Ua.defaults),ue.S=(Ae=>{const Pe={[h]:[],[d]:[],[y]:[],[p]:[]};return{O(Fe,He){Ae.config.disabled||(Pe[Fe]||[]).forEach(De=>{De(X({type:Fe,source:He},Ae.M.Y()))})},et(Fe,He){Pe[Fe]&&!Pe[Fe].includes(He)&&Pe[Fe].push(He)},rt(Fe,He){let De=Fe&&Pe[Fe];de(Fe)?De&&(de(He)?Pe[Fe]=De.filter(Ye=>Ye!==He):Pe[Fe]=[]):we(Pe,(Ye,Ce)=>{Pe[Ce]=[]})}}})(ue),ue.M=mv(ue),ue.m=((Ae,Pe)=>{let Fe=[];const He=M(),De=I(),Ye=B(Ae),Ce=De.contains(Ye)&&Ye!==De?Ye:null,pe={_:Ce||Se(l,De),p({preset:Ie,classname:fe}){let oe=pe._;Ce&&Ie!==(Ce!==oe)&&(He.i(),oe=Ie?te(Se(l,null,{id:Ce.id}),Ce):te(Ce,oe),He.t(oe,b,xe=>{Pe.u.U.C(Pe)})),(!Ce||Ie&&_(fe))&&(ye(oe,Fe,!1),Fe=fe.split(/\s+/),ye(oe,Fe,!0)),pe._=oe},tt(Ie){if(de(Ie)){let{config:fe,u:oe}=Pe,{shared:xe,toggle:ve}=fe,_e=oe.U.C;fe.disabled=pe._.disabled=!!Ie,Ie?_e(Pe,!1,!0):xe||ve||_e(Pe,!0,!0)}},F(){Ce?pe.p({preset:!1}):pe._=Z(pe._),He.i()}};return pe})(V,ue),Dh(ue,ie)}setOptions(V){Dh(this,V)}isOpen(){return this.u.U.I()}open(){this.u.U.C(this,!0)}close(){this.u.U.C(this,!1)}toggle(){this.u.U.C(this)}on(V,ie){this.S.et(V,ie)}off(V,ie){this.S.rt(V,ie)}setColor(V){return this.M.N(V),this}getColor(){return this.M.Y()}addSwatch(V){this.u.X.R(V)}removeSwatch(V){this.u.X.T(V)}enable(){this.m.tt(!1)}disable(){this.m.tt(!0)}reset(){this.M.N(this.config.default)}reposition(){this.u.U.B()}trigger(V){this.S.O(V)}destroy(){let V=this;V.m.F(),Ph(V.u),we(V,(ie,ue)=>{delete V[ue]}),Q(V,ce)}};let Co=Ua;return bn(Co,"version","1.1.1"),bn(Co,"defaults",gv),r=r.default}()})})(nM);const rM=uf,Ah=pa("theme",{state:()=>({colors:{},classLists:{},swatches:[]}),actions:{async fetchData(){try{let t=this.fetchColors(),e=this.fetchClasslists();await Promise.all([t,e])}catch{}},async fetchColors(){try{let t=await Ot.get("/theme/color");this.colors=t.data,this.swatches=Object.values(this.colors),this.swatches.length=10}catch{}},async fetchClasslists(){try{let t=await Ot.get("/theme/classlist");this.classLists=t.data}catch{}},addSwatch(t){this.swatches.splice(0,0,t),this.swatches.length>14&&this.swatches.pop()}}}),iM={class:"color-picker"},oM=["id"],sM=$t({__name:"ColorPicker",props:{color_name:null,label:null,modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=Ah(),i=Ze();return Gt(r.swatches,()=>{var o;(o=i.value)==null||o.setOptions({swatches:r.swatches})}),Gt(()=>n.modelValue,()=>{var o;(o=i.value)==null||o.setColor(n.modelValue)}),ua(()=>{i.value=new rM(`#${n.color_name}`,{color:n.modelValue,opacity:!1,swatches:r.swatches,classname:"picker-item",margin:12}),i.value.on("change",o=>{e("update:modelValue",o.hex()),r.addSwatch(o.hex())})}),(o,s)=>(Ke(),at("div",iM,[Le("p",null,kn(t.label),1),Le("div",{id:t.color_name},null,8,oM)]))}});const lM=un(sM,[["__scopeId","data-v-4f50ce87"]]);const uv=t=>(Zr("data-v-3a41bb2f"),t=t(),ei(),t),aM={class:"theme-panel"},cM={class:"colors"},uM=uv(()=>Le("h1",null,"Colors",-1)),fM={class:"classlists"},hM=uv(()=>Le("h1",null,"Style Configuration",-1)),dM=$t({__name:"Theme",setup(t){const e=Ah(),n=Ze(!1);async function r(l){try{await Ot.post("/theme/color",e.colors)}catch(a){console.log(a)}finally{n.value=!1}}async function i(l){Object.keys(l).forEach(a=>{e.classLists[a].selected=l[a]});try{await Ot.post("/theme/classlist",e.classLists)}catch(a){console.log(a)}finally{n.value=!1}}function o(l){return l.replaceAll("_"," ")}const s=Ze(Object.keys(e.classLists).map(l=>e.classLists[l].selected));return Gt(()=>e.classLists,()=>{s.value=Object.keys(e.classLists).map(l=>e.classLists[l].selected)}),(l,a)=>{const c=ar("FormKit");return Ke(),at("div",aM,[Le("div",cM,[uM,ke(c,{type:"form",onSubmit:r,"submit-label":"Save"},{default:_t(()=>[(Ke(!0),at(Lt,null,vi(Object.keys(Be(e).colors),u=>(Ke(),to(lM,{color_name:u,modelValue:Be(e).colors[u],"onUpdate:modelValue":f=>Be(e).colors[u]=f,label:o(u)},null,8,["color_name","modelValue","onUpdate:modelValue","label"]))),256)),ke(c,{"outer-class":"reset-button",type:"button",onClick:Be(e).fetchColors},{default:_t(()=>[an("Reset")]),_:1},8,["onClick"])]),_:1})]),Le("div",fM,[hM,ke(c,{type:"form",onSubmit:i,"submit-label":"Save"},{default:_t(()=>[(Ke(!0),at(Lt,null,vi(Object.keys(Be(e).classLists),(u,f)=>(Ke(),to(c,{type:"radio",name:u,label:Be(e).classLists[u].name,modelValue:s.value[f],"onUpdate:modelValue":h=>s.value[f]=h,options:Be(e).classLists[u].options},null,8,["name","label","modelValue","onUpdate:modelValue","options"]))),256)),ke(c,{"outer-class":"reset-button",type:"button",onClick:Be(e).fetchClasslists},{default:_t(()=>[an("Reset")]),_:1},8,["onClick"])]),_:1})])])}}});const pM=un(dM,[["__scopeId","data-v-3a41bb2f"]]),mM=t=>(Zr("data-v-ca85235f"),t=t(),ei(),t),gM={class:"creator"},yM=mM(()=>Le("h1",null,"Create Category",-1)),bM={key:0,class:"error"},vM=$t({__name:"CreateCategory",setup(t){const e=mr(),n=Gf(),r=Ze(""),i=Ze(!1),o=async s=>{r.value="";try{await e.create(s),n.push("/admin/")}catch(l){r.value=l.response.data}finally{i.value=!0}};return(s,l)=>(Ke(),at("div",gM,[yM,ke(Be(Rn),{type:"form",style:{width:"25em"},onSubmit:o},{default:_t(()=>[ke(Be(Rn),{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Category Name"}),r.value?(Ke(),at("p",bM,kn(r.value),1)):ns("",!0)]),_:1})]))}});const wM=un(vM,[["__scopeId","data-v-ca85235f"]]),fv=t=>(Zr("data-v-35dc0038"),t=t(),ei(),t),xM={class:"settings-container"},_M=fv(()=>Le("h1",null,"Settings",-1)),kM={class:"categories"},SM=fv(()=>Le("h2",null,"Manage Categories",-1)),CM={class:"update-category"},EM={key:0,class:"error"},AM=$t({__name:"Settings",setup(t){const e=mr(),n=Ze(!1),r=Ze(new Array(e.categories.length).fill("")),i=async function(s,l){let a=e.categories.findIndex(c=>c.id==l);r.value[a]="";try{await e.update(l,s)}catch(c){r.value[a]=c.response.data}finally{n.value=!0}};async function o(s){var l;if(window.confirm(`Are you sure you want to delete category "${(l=e.get(s))==null?void 0:l.name}"?`))try{await e.remove(s)}catch{}finally{n.value=!0}}return Gt(()=>e.categories,()=>{r.value=new Array(e.categories.length).fill("")}),(s,l)=>{const a=ar("FormKit"),c=ar("router-link");return Ke(),at("div",xM,[_M,Le("div",kM,[SM,(Ke(!0),at(Lt,null,vi(Be(e).categories,(u,f)=>(Ke(),at("div",CM,[Le("h3",null,kn(u.name),1),ke(a,{type:"form",onSubmit:h=>i(h,u.id),"submit-label":"Change name"},{default:_t(()=>[ke(a,{type:"text",name:"name",id:"name",validation:"required",label:"Name",placeholder:"Category Name",value:u.name},null,8,["value"])]),_:2},1032,["onSubmit"]),ke(a,{"outer-class":"delete-btn",type:"button",onClick:()=>o(u.id)},{default:_t(()=>[an("Delete")]),_:2},1032,["onClick"]),r.value[f]?(Ke(),at("p",EM,kn(r.value[f]),1)):ns("",!0)]))),256)),ke(c,{to:"/admin/create-category",class:"add-category-btn"},{default:_t(()=>[ke(a,{type:"button","prefix-icon":"add"},{default:_t(()=>[an("Add Category")]),_:1})]),_:1})])])}}});const OM=un(AM,[["__scopeId","data-v-35dc0038"]]),TM=AC({history:US("/"),routes:[{path:"/admin/",name:"home",component:aE,async beforeEnter(t,e,n){await xi().fetchData(),await mr().fetchData(),n()}},{path:"/admin/create",name:"create",component:pE,async beforeEnter(t,e,n){await mr().fetchData(),n()}},{path:"/admin/edit/:id",name:"edit",component:tM,async beforeEnter(t,e,n){const r=xi();await r.fetchData();const i=r.get(t.params.id);if(i==null){n("/");return}await mr().fetchData(),await Cs().fetchData(i.id),n()}},{path:"/admin/create-category",name:"createCategory",component:wM},{path:"/admin/theme",name:"theme",component:pM,async beforeEnter(t,e,n){await Ah().fetchData(),n()}},{path:"/admin/settings",name:"settings",component:OM,async beforeEnter(t,e,n){await xi().fetchData(),await mr().fetchData(),n()}},{path:"/:pathMatch(.*)*",name:"NotFound",component:yE}]});function Zl(t){return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function kl(t,e){if(!t.vueAxiosInstalled){var n=hv(e)?MM(e):e;if(PM(n)){var r=DM(t);if(r){var i=r<3?LM:RM;Object.keys(n).forEach(function(o){i(t,o,n[o])}),t.vueAxiosInstalled=!0}else console.error("[vue-axios] unknown Vue version")}else console.error("[vue-axios] configuration is invalid, expected options are either <axios_instance> or { <registration_key>: <axios_instance> }")}}function LM(t,e,n){Object.defineProperty(t.prototype,e,{get:function(){return n}}),t[e]=n}function RM(t,e,n){t.config.globalProperties[e]=n,t[e]=n}function hv(t){return t&&typeof t.get=="function"&&typeof t.post=="function"}function MM(t){return{axios:t,$http:t}}function PM(t){return Zl(t)==="object"&&Object.keys(t).every(function(e){return hv(t[e])})}function DM(t){return t&&t.version&&Number(t.version.split(".")[0])}(typeof exports>"u"?"undefined":Zl(exports))=="object"?module.exports=kl:typeof define=="function"&&define.amd?define([],function(){return kl}):window.Vue&&window.axios&&window.Vue.use&&Vue.use(kl,window.axios);const Li=jw(CS);Li.use(cS,vS({theme:"genesis"}));Li.use(Vw());Li.use(TM);rh.defaults.baseURL="http://127.0.0.1:8080/api/";Li.use(kl,rh);Li.provide("axios",Li.config.globalProperties.axios);Li.mount("#app");export{ri as A,Oa as B,pt as C,GO as D,re as E,Er as F,Te as G,yT as H,kt as I,Xu as L,dn as M,nn as N,ub as P,uo as R,Rt as S,Qn as T,Ca as W,wT as a,Vn as b,VM as c,HM as d,FM as e,zM as f,qM as g,Ue as h,xT as i,gh as j,ft as k,sh as l,ob as m,xn as n,db as o,NM as p,yi as q,UM as r,hT as s,q as t,j as u,go as v,BM as w,FT as x,nt as y,Ve as z};
